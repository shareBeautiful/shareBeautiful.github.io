<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>正则表达教程</title>
      <link href="/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E6%95%99%E7%A8%8B/"/>
      <url>/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E6%95%99%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[<h2 id="第一章-正则表达式字符匹配攻略"><a href="#第一章-正则表达式字符匹配攻略" class="headerlink" title="第一章 正则表达式字符匹配攻略"></a>第一章 正则表达式字符匹配攻略</h2><p>正则表达式是匹配模式，要么匹配字符，要么匹配位置。请记住这句话。<br>然而关于正则如何匹配字符的学习，大部分人都觉得这块比较杂乱。<br>毕竟元字符太多了，看起来没有系统性，不好记。本章就解决这个问题。  </p><p>内容包括：</p><ol><li>两种模糊匹配</li><li>字符组</li><li>量词</li><li>分支结构</li><li>案例分析</li></ol><h3 id="1-两种模糊匹配"><a href="#1-两种模糊匹配" class="headerlink" title="1.两种模糊匹配"></a>1.两种模糊匹配</h3><p>如果正则只有精确匹配是没多大意义的，比如/hello/，也只能匹配字符串中的<code>/hello/</code>这个子串。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> regex = <span class="regexp">/hello/</span>;</span><br><span class="line"><span class="built_in">console</span>.log( regex.test(<span class="string">"hello"</span>) ); </span><br><span class="line"><span class="comment">// =&gt; true</span></span><br></pre></td></tr></table></figure><p>正则表达式之所以强大，是因为其能实现模糊匹配。<br>而模糊匹配，有两个方向上的“模糊”：横向模糊和纵向模糊。</p><h4 id="1-1-横向模糊匹配"><a href="#1-1-横向模糊匹配" class="headerlink" title="1.1 横向模糊匹配"></a>1.1 横向模糊匹配</h4><p>横向模糊指的是，一个正则可匹配的字符串的长度不是固定的，可以是多种情况的。<br>其实现的方式是使用量词。譬如<code>{m,n}</code>，表示连续出现最少m次，最多n次。<br>比如<code>/ab{2,5}c/</code>表示匹配这样一个字符串：第一个字符是“a”，接下来是2到5个字符“b”，最后是字符“c”。测试如下：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> regex = <span class="regexp">/ab&#123;2,5&#125;c/g</span>;</span><br><span class="line"><span class="keyword">var</span> string = <span class="string">"abc abbc abbbc abbbbc abbbbbc abbbbbbc"</span>;</span><br><span class="line"><span class="built_in">console</span>.log( string.match(regex) ); </span><br><span class="line"><span class="comment">// =&gt; ["abbc", "abbbc", "abbbbc", "abbbbbc"]</span></span><br></pre></td></tr></table></figure><blockquote><p>注意：案例中用的正则是/ab{2,5}c/g，后面多了g，它是正则的一个修饰符。表示全局匹配，即在目标字符串中按顺序找到满足匹配模式的所有子串，强调的是“所有”，而不只是“第一个”。g是单词global的首字母。</p></blockquote><h4 id="1-2-纵向模糊匹配"><a href="#1-2-纵向模糊匹配" class="headerlink" title="1.2 纵向模糊匹配"></a>1.2 纵向模糊匹配</h4><p>纵向模糊指的是，一个正则匹配的字符串，具体到某一位字符时，它可以不是某个确定的字符，可以有多种可能。<br>其实现的方式是使用字符组。譬如<code>[abc]</code>，表示该字符是可以字符“a”、“b”、“c”中的任何一个。<br>比如<code>/a[123]b/</code>可以匹配如下三种字符串：”a1b”、”a2b”、”a3b”。测试如下：  </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> regex = <span class="regexp">/a[123]b/g</span>;</span><br><span class="line"><span class="keyword">var</span> string = <span class="string">"a0b a1b a2b a3b a4b"</span>;</span><br><span class="line"><span class="built_in">console</span>.log( string.match(regex) ); </span><br><span class="line"><span class="comment">// =&gt; ["a1b", "a2b", "a3b"]</span></span><br></pre></td></tr></table></figure><p>以上就是本章讲的主体内容，只要掌握横向和纵向模糊匹配，就能解决很大部分正则匹配问题。<br>接下来的内容就是展开说了，如果对此都比较熟悉的话，可以跳过，直接看本章案例那节。</p><h3 id="2-字符组"><a href="#2-字符组" class="headerlink" title="2.字符组"></a>2.字符组</h3><blockquote><p>需要强调的是，虽叫字符组（字符类），但只是其中一个字符。例如<code>[abc]</code>，表示匹配一个字符，它可以是“a”、“b”、“c”之一。</p></blockquote><h4 id="2-1-范围表示法"><a href="#2-1-范围表示法" class="headerlink" title="2.1 范围表示法"></a>2.1 范围表示法</h4><p>如果字符组里的字符特别多的话，怎么办？可以使用范围表示法。<br>比如<code>[123456abcdefGHIJKLM]</code>，可以写成<code>[1-6a-fG-M]</code>。用连字符-来省略和简写。<br>因为连字符有特殊用途，那么要匹配“a”、“-”、“z”这三者中任意一个字符，该怎么做呢？<br>不能写成<code>[a-z]</code>，因为其表示小写字符中的任何一个字符。可以写成如下的方式：<code>[-az]</code>或<code>[az-]</code>或<code>[a\-z]</code>。即要么放在开头，要么放在结尾，要么转义。总之不会让引擎认为是范围表示法就行了。</p><h4 id="2-2-排除字符组"><a href="#2-2-排除字符组" class="headerlink" title="2.2 排除字符组"></a>2.2 排除字符组</h4><p>纵向模糊匹配，还有一种情形就是，某位字符可以是任何东西，但就不能是”a”、”b”、”c”。</p><p>此时就是排除字符组（反义字符组）的概念。例如<code>[^abc]</code>，表示是一个除”a”、”b”、”c”之外的任意一个字符。字符组的第一位放^（脱字符），表示求反的概念。  </p><p>当然，也有相应的范围表示法。</p><h4 id="2-3-常见的简写形式"><a href="#2-3-常见的简写形式" class="headerlink" title="2.3 常见的简写形式"></a>2.3 常见的简写形式</h4><p>有了字符组的概念后，一些常见的符号我们也就理解了。因为它们都是系统自带的简写形式。</p><blockquote><p><code>\d</code>就是<code>[0-9]</code>。表示是一位数字。记忆方式：其英文是digit（数字）。<br><code>\D</code>就是<code>[^0-9]</code>。表示除数字外的任意字符。<br><code>\w</code>就是<code>[0-9a-zA-Z_]</code>。表示数字、大小写字母和下划线。记忆方式：w是word的简写，也称单词字符。<br><code>\W</code>是<code>[^0-9a-zA-Z_]</code>。非单词字符。<br><code>\s</code>是<code>[ \t\v\n\r\f]</code>。表示空白符，包括空格、水平制表符、垂直制表符、换行符、回车符、换页符。记忆方式：s是space character的首字母。<br><code>\S</code>是<code>[^ \t\v\n\r\f]</code>。 非空白符。<br><code>.</code>就是<code>[^\n\r\u2028\u2029]</code>。通配符，表示几乎任意字符。换行符、回车符、行分隔符和段分隔符除外。记忆方式：想想省略号…中的每个点，都可以理解成占位符，表示任何类似的东西。</p></blockquote><p>如果要匹配任意字符怎么办？可以使用<code>[\d\D]</code>、<code>[\w\W]</code>、<code>[\s\S]</code>和<code>[^]</code>中任何的一个。</p><h3 id="3-量词"><a href="#3-量词" class="headerlink" title="3.量词"></a>3.量词</h3><p>量词也称重复。掌握<code>{m,n}</code>的准确含义后，只需要记住一些简写形式。</p><h4 id="3-1-简写形式"><a href="#3-1-简写形式" class="headerlink" title="3.1 简写形式"></a>3.1 简写形式</h4><blockquote><p><code>{m,}</code> 表示至少出现m次。<br><code>{m}</code> 等价于<code>{m,m}</code>，表示出现m次。<br><code>?</code> 等价于<code>{0,1}</code>，表示出现或者不出现。记忆方式：问号的意思表示，有吗？<br><code>+</code> 等价于<code>{1,}</code>，表示出现至少一次。记忆方式：加号是追加的意思，得先有一个，然后才考虑追加。<br><code>*</code> 等价于<code>{0,}</code>，表示出现任意次，有可能不出现。记忆方式：看看天上的星星，可能一颗没有，可能零散有几颗，可能数也数不过来。</p></blockquote><h4 id="3-2-贪婪匹配和惰性匹配"><a href="#3-2-贪婪匹配和惰性匹配" class="headerlink" title="3.2 贪婪匹配和惰性匹配"></a>3.2 贪婪匹配和惰性匹配</h4><p>看如下的例子：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> regex = <span class="regexp">/\d&#123;2,5&#125;/g</span>;</span><br><span class="line"><span class="keyword">var</span> string = <span class="string">"123 1234 12345 123456"</span>;</span><br><span class="line"><span class="built_in">console</span>.log( string.match(regex) ); </span><br><span class="line"><span class="comment">// =&gt; ["123", "1234", "12345", "12345"]</span></span><br></pre></td></tr></table></figure><p>其中正则<code>/\d{2,5}/</code>，表示数字连续出现2到5次。会匹配2位、3位、4位、5位连续数字。</p><p>但是其是贪婪的，它会尽可能多的匹配。你能给我6个，我就要5个。你能给我3个，我就3要个。反正只要在能力范围内，越多越好。  </p><p>我们知道有时贪婪不是一件好事（请看文章最后一个例子）。而惰性匹配，就是尽可能少的匹配：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> regex = <span class="regexp">/\d&#123;2,5&#125;?/g</span>;</span><br><span class="line"><span class="keyword">var</span> string = <span class="string">"123 1234 12345 123456"</span>;</span><br><span class="line"><span class="built_in">console</span>.log( string.match(regex) ); </span><br><span class="line"><span class="comment">// =&gt; ["12", "12", "34", "12", "34", "12", "34", "56"]</span></span><br></pre></td></tr></table></figure><p>其中<code>/\d{2,5}?/</code>表示，虽然2到5次都行，当2个就够的时候，就不在往下尝试了。<br>通过在量词后面加个问号就能实现惰性匹配，因此所有惰性匹配情形如下：  </p><blockquote></blockquote><p><code>{m,n}?</code><br><code>{m,}?</code><br><code>??</code><br><code>+?</code><br><code>*?</code>  </p><p>对惰性匹配的记忆方式是：量词后面加个问号，问一问你知足了吗，你很贪婪吗？</p><h3 id="4-多选分支"><a href="#4-多选分支" class="headerlink" title="4.多选分支"></a>4.多选分支</h3>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
            <tag> 正则表达 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JavaScript思维导图</title>
      <link href="/JavaScript%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE/"/>
      <url>/JavaScript%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE/</url>
      
        <content type="html"><![CDATA[<h2 id="01-数据类型"><a href="#01-数据类型" class="headerlink" title="01-数据类型"></a>01-数据类型</h2><p><img src="/uploads/JavaScript%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE/01-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.gif" alt="01-数据类型"></p><h2 id="02-变量"><a href="#02-变量" class="headerlink" title="02-变量"></a>02-变量</h2><p><img src="/uploads/JavaScript%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE/02-%E5%8F%98%E9%87%8F.gif" alt="02-变量"></p><h2 id="03-运算符"><a href="#03-运算符" class="headerlink" title="03-运算符"></a>03-运算符</h2><p><img src="/uploads/JavaScript%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE/03-%E8%BF%90%E7%AE%97%E7%AC%A6.gif" alt="03-运算符"></p><h2 id="04-流程语句"><a href="#04-流程语句" class="headerlink" title="04-流程语句"></a>04-流程语句</h2><p><img src="/uploads/JavaScript%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE/04-%E6%B5%81%E7%A8%8B%E8%AF%AD%E5%8F%A5.gif" alt="04-流程语句"></p><h2 id="05-数组"><a href="#05-数组" class="headerlink" title="05-数组"></a>05-数组</h2><p><img src="/uploads/JavaScript%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE/05-%E6%95%B0%E7%BB%84.gif" alt="05-数组"></p><h2 id="06-函数基础"><a href="#06-函数基础" class="headerlink" title="06-函数基础"></a>06-函数基础</h2><p><img src="/uploads/JavaScript%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE/06-%E5%87%BD%E6%95%B0%E5%9F%BA%E7%A1%80.gif" alt="06-函数基础"></p><h2 id="07-字符串函数"><a href="#07-字符串函数" class="headerlink" title="07-字符串函数"></a>07-字符串函数</h2><p><img src="/uploads/JavaScript%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE/07-%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%87%BD%E6%95%B0.gif" alt="07-字符串函数"></p><h2 id="08-DOM操作量"><a href="#08-DOM操作量" class="headerlink" title="08-DOM操作量"></a>08-DOM操作量</h2><p><img src="/uploads/JavaScript%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE/08-DOM%E6%93%8D%E4%BD%9C.gif" alt="08-DOM操作"></p><h2 id="09-文档对象模型DOM"><a href="#09-文档对象模型DOM" class="headerlink" title="09-文档对象模型DOM"></a>09-文档对象模型DOM</h2><p><img src="/uploads/JavaScript%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE/09-%E6%96%87%E6%A1%A3%E5%AF%B9%E8%B1%A1%E6%A8%A1%E5%9E%8BDOM.jpg" alt="09-文档对象模型DOM"></p><h2 id="10-BOM浏览器对象量"><a href="#10-BOM浏览器对象量" class="headerlink" title="10-BOM浏览器对象量"></a>10-BOM浏览器对象量</h2><p><img src="/uploads/JavaScript%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE/10-BOM%E6%B5%8F%E8%A7%88%E5%99%A8%E5%AF%B9%E8%B1%A1.jpg" alt="10-BOM浏览器对象"></p><h2 id="11-Window对象"><a href="#11-Window对象" class="headerlink" title="11-Window对象"></a>11-Window对象</h2><p><img src="/uploads/JavaScript%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE/11-Window%E5%AF%B9%E8%B1%A1.gif" alt="11-Window对象"></p><h2 id="12-正则表达式"><a href="#12-正则表达式" class="headerlink" title="12-正则表达式"></a>12-正则表达式</h2><p><img src="/uploads/JavaScript%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE/12-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F.gif" alt="12-正则表达式"></p><p>===</p><h2 id="13-Vue思维导图"><a href="#13-Vue思维导图" class="headerlink" title="13-Vue思维导图"></a>13-Vue思维导图</h2><p><img src="/uploads/JavaScript%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE/13-Vue%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE.png" alt="13-Vue思维导图"></p>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>函数节流与函数防抖</title>
      <link href="/%E5%87%BD%E6%95%B0%E8%8A%82%E6%B5%81%E4%B8%8E%E5%87%BD%E6%95%B0%E9%98%B2%E6%8A%96/"/>
      <url>/%E5%87%BD%E6%95%B0%E8%8A%82%E6%B5%81%E4%B8%8E%E5%87%BD%E6%95%B0%E9%98%B2%E6%8A%96/</url>
      
        <content type="html"><![CDATA[<h2 id="什么是函数节流与函数防抖"><a href="#什么是函数节流与函数防抖" class="headerlink" title="什么是函数节流与函数防抖"></a>什么是函数节流与函数防抖</h2><ul><li><strong>函数节流: 指定时间间隔内只会执行一次任务；</strong></li><li><strong>函数防抖: 任务频繁触发的情况下，只有任务触发的间隔超过指定间隔的时候，任务才会执行。</strong></li></ul><h2 id="函数节流-throttle"><a href="#函数节流-throttle" class="headerlink" title="函数节流(throttle)"></a>函数节流(throttle)</h2><blockquote><p>这里以判断页面是否滚动到底部为例，普通的做法就是监听 window 对象的 scroll 事件，然后再函数体中写入判断是否滚动到底部的逻辑：</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="built_in">window</span>).on(<span class="string">'scroll'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 判断是否滚动到底部的逻辑</span></span><br><span class="line">    <span class="keyword">let</span> pageHeight = $(<span class="string">'body'</span>).height(),</span><br><span class="line">        scrollTop = $(<span class="built_in">window</span>).scrollTop(),</span><br><span class="line">        winHeight = $(<span class="built_in">window</span>).height(),</span><br><span class="line">        thresold = pageHeight - scrollTop - winHeight;</span><br><span class="line">    <span class="keyword">if</span> (thresold &gt; <span class="number">-100</span> &amp;&amp; thresold &lt;= <span class="number">20</span>) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'end'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>这样做的一个缺点就是比较消耗性能，因为当在滚动的时候，浏览器会无时不刻地在计算判断是否滚动到底部的逻辑，而在实际的场景中是不需要这么做的，在实际场景中可能是这样的：在滚动过程中，每隔一段时间在去计算这个判断逻辑。而函数节流所做的工作就是每隔一段时间去执行一次原本需要无时不刻地在执行的函数，所以在滚动事件中引入函数的节流是一个非常好的实践：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="built_in">window</span>).on(<span class="string">'scroll'</span>, throttle(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 判断是否滚动到底部的逻辑</span></span><br><span class="line">    <span class="keyword">let</span> pageHeight = $(<span class="string">'body'</span>).height(),</span><br><span class="line">        scrollTop = $(<span class="built_in">window</span>).scrollTop(),</span><br><span class="line">        winHeight = $(<span class="built_in">window</span>).height(),</span><br><span class="line">        thresold = pageHeight - scrollTop - winHeight;</span><br><span class="line">    <span class="keyword">if</span> (thresold &gt; <span class="number">-100</span> &amp;&amp; thresold &lt;= <span class="number">20</span>) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'end'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;));</span><br></pre></td></tr></table></figure><p>加上函数节流之后，当页面再滚动的时候，每隔 300ms 才会去执行一次判断逻辑。<br>简单来说，函数的节流就是通过闭包保存一个标记（canRun = true），在函数的开头判断这个标记是否为 true，如果为 true 的话就继续执行函数，否则则 return 掉，判断完标记后立即把这个标记设为 false，然后把外部传入的函数的执行包在一个 setTimeout 中，最后在 setTimeout 执行完毕后再把标记设置为 true（这里很关键），表示可以执行下一次的循环了。当 setTimeout 还未执行的时候，canRun 这个标记始终为 false，在开头的判断中被 return 掉</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">throttle</span>(<span class="params">fn, interval = <span class="number">300</span></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> canRun = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!canRun) <span class="keyword">return</span>;</span><br><span class="line">        canRun = <span class="literal">false</span>;</span><br><span class="line">        setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">            fn.apply(<span class="keyword">this</span>, <span class="built_in">arguments</span>);</span><br><span class="line">            canRun = <span class="literal">true</span>;</span><br><span class="line">        &#125;, interval);</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="函数防抖-debounce"><a href="#函数防抖-debounce" class="headerlink" title="函数防抖(debounce)"></a>函数防抖(debounce)</h2><blockquote><p>这里以用户注册时验证用户名是否被占用为例，如今很多网站为了提高用户体验，不会再输入框失去焦点的时候再去判断用户名是否被占用，而是在输入的时候就在判断这个用户名是否已被注册：</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'input.user-name'</span>).on(<span class="string">'input'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    $.ajax(&#123;</span><br><span class="line">        url: <span class="string">`https://just.com/check`</span>,</span><br><span class="line">        method: <span class="string">'post'</span>,</span><br><span class="line">        data: &#123;</span><br><span class="line">            username: $(<span class="keyword">this</span>).val(),</span><br><span class="line">        &#125;,</span><br><span class="line">        success(data) &#123;</span><br><span class="line">            <span class="keyword">if</span> (data.isRegistered) &#123;</span><br><span class="line">                $(<span class="string">'.tips'</span>).text(<span class="string">'该用户名已被注册！'</span>);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                $(<span class="string">'.tips'</span>).text(<span class="string">'恭喜！该用户名还未被注册！'</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        error(error) &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(error);</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>很明显，这样的做法不好的是当用户输入第一个字符的时候，就开始请求判断了，不仅对服务器的压力增大了，对用户体验也未必比原来的好。而理想的做法应该是这样的，当用户输入第一个字符后的一段时间内如果还有字符输入的话，那就暂时不去请求判断用户名是否被占用。在这里引入函数防抖就能很好地解决这个问题：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'input.user-name'</span>).on(<span class="string">'input'</span>, debounce(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    $.ajax(&#123;</span><br><span class="line">        url: <span class="string">`https://just.com/check`</span>,</span><br><span class="line">        method: <span class="string">'post'</span>,</span><br><span class="line">        data: &#123;</span><br><span class="line">            username: $(<span class="keyword">this</span>).val(),</span><br><span class="line">        &#125;,</span><br><span class="line">        success(data) &#123;</span><br><span class="line">            <span class="keyword">if</span> (data.isRegistered) &#123;</span><br><span class="line">                $(<span class="string">'.tips'</span>).text(<span class="string">'该用户名已被注册！'</span>);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                $(<span class="string">'.tips'</span>).text(<span class="string">'恭喜！该用户名还未被注册！'</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        error(error) &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(error);</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;));</span><br></pre></td></tr></table></figure><p>其实函数防抖的原理也非常地简单，通过闭包保存一个标记来保存 setTimeout 返回的值，每当用户输入的时候把前一个 setTimeout clear 掉，然后又创建一个新的 setTimeout，这样就能保证输入字符后的 interval 间隔内如果还有字符输入的话，就不会执行 fn 函数了。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">debounce</span>(<span class="params">fn, interval = <span class="number">300</span></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> timeout = <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        clearTimeout(timeout);</span><br><span class="line">        timeout = setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">            fn.apply(<span class="keyword">this</span>, <span class="built_in">arguments</span>);</span><br><span class="line">        &#125;, interval);</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>其实函数节流与函数防抖的原理非常简单，巧妙地使用 setTimeout 来存放待执行的函数，<br>这样可以很方便的利用 clearTimeout 在合适的时机来清除待执行的函数。</p><p>使用函数节流与函数防抖的目的，在开头的栗子中应该也能看得出来，就是为了节约计算机资源。  </p><p><a href="https://juejin.im/entry/58c0379e44d9040068dc952f" target="_blank" rel="noopener">原文出处</a></p>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>懒加载和预加载</title>
      <link href="/%E6%87%92%E5%8A%A0%E8%BD%BD%E5%92%8C%E9%A2%84%E5%8A%A0%E8%BD%BD/"/>
      <url>/%E6%87%92%E5%8A%A0%E8%BD%BD%E5%92%8C%E9%A2%84%E5%8A%A0%E8%BD%BD/</url>
      
        <content type="html"><![CDATA[<h2 id="懒加载"><a href="#懒加载" class="headerlink" title="懒加载"></a>懒加载</h2><h3 id="1-什么是懒加载？"><a href="#1-什么是懒加载？" class="headerlink" title="1. 什么是懒加载？"></a>1. 什么是懒加载？</h3><blockquote><p>懒加载也叫延迟加载，指的是在长网页中延迟加载图像，是一种很好优化网页性能的方式。用户滚动到它们之前，可视区域外的图像不会加载。这与图像预加载相反，在长网页上使用延迟加载将使网页加载更快。在某些情况下，它还可以帮助减少服务器负载。常适用图片很多，页面很长的电商网站场景中。</p></blockquote><h3 id="2-为什么要使用懒加载？"><a href="#2-为什么要使用懒加载？" class="headerlink" title="2. 为什么要使用懒加载？"></a>2. 为什么要使用懒加载？</h3><blockquote><p>很多页面，内容很丰富，页面很长，图片较多。比如说各种商城页面。这些页面图片数量多，而且比较大，少说百来K，多则上兆。要是页面载入就一次性加载完毕。 影响页面打开速度，用户体验也不好。</p></blockquote><ol><li>能提升用户的体验</li><li>减少无效资源的加载</li><li>防止并发加载的资源过多会阻塞js的加载 </li></ol><h3 id="3-懒加载的原理是什么？"><a href="#3-懒加载的原理是什么？" class="headerlink" title="3. 懒加载的原理是什么？"></a>3. 懒加载的原理是什么？</h3><blockquote><p>页面中的img元素，如果没有src属性，浏览器就不会发出请求去下载图片，只有通过javascript设置了图片路径，浏览器才会发送请求。 懒加载的原理就是先在页面中把所有的图片统一使用一张占位图进行占位，把正真的路径存在元素的“data-url”（这个名字起个自己认识好记的就行）属性里，要用的时候就取出来，再设置为图片的真实src；</p></blockquote><h3 id="4-懒加载的实现步骤？"><a href="#4-懒加载的实现步骤？" class="headerlink" title="4. 懒加载的实现步骤？"></a>4. 懒加载的实现步骤？</h3><ol><li>首先，不要将图片地址放到src属性中，而是放到其它属性(data-original)中。</li><li>页面加载完成后，根据scrollTop判断图片是否在用户的视野内，如果在，则将data-original属性中的值取出存放到src属性中。</li><li>在滚动事件中重复判断图片是否进入视野，如果进入，则将data-original属性中的值取出存放到src属性中。</li></ol><h3 id="5-实现步骤"><a href="#5-实现步骤" class="headerlink" title="5. 实现步骤"></a>5. 实现步骤</h3><ol><li>第一种是纯粹的延迟加载，使用setTimeOut或setInterval进行加载延迟.</li><li>第二种是条件加载，符合某些条件，或触发了某些事件才开始异步下载。</li><li>第三种是可视区加载，即仅加载用户可以看到的区域，这个主要由监控滚动条来实现，一般会在距用户看到某图片前一定距离遍开始加载，这样能保证用户拉下时正好能看到图片。</li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Lazyload<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">      <span class="selector-class">.image-item</span> &#123;</span></span><br><span class="line">        display: block;</span><br><span class="line">        margin-bottom: 50px;</span><br><span class="line">        height: 200px;//一定记得设置图片高度</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">""</span> <span class="attr">class</span>=<span class="string">"image-item"</span> <span class="attr">lazyload</span>=<span class="string">"true"</span>  <span class="attr">data-original</span>=<span class="string">"images/1.png"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">""</span> <span class="attr">class</span>=<span class="string">"image-item"</span> <span class="attr">lazyload</span>=<span class="string">"true"</span>  <span class="attr">data-original</span>=<span class="string">"images/2.png"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">""</span> <span class="attr">class</span>=<span class="string">"image-item"</span> <span class="attr">lazyload</span>=<span class="string">"true"</span>  <span class="attr">data-original</span>=<span class="string">"images/3.png"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">""</span> <span class="attr">class</span>=<span class="string">"image-item"</span> <span class="attr">lazyload</span>=<span class="string">"true"</span>  <span class="attr">data-original</span>=<span class="string">"images/4.png"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">""</span> <span class="attr">class</span>=<span class="string">"image-item"</span> <span class="attr">lazyload</span>=<span class="string">"true"</span>  <span class="attr">data-original</span>=<span class="string">"images/5.png"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">""</span> <span class="attr">class</span>=<span class="string">"image-item"</span> <span class="attr">lazyload</span>=<span class="string">"true"</span>  <span class="attr">data-original</span>=<span class="string">"images/6.png"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">""</span> <span class="attr">class</span>=<span class="string">"image-item"</span> <span class="attr">lazyload</span>=<span class="string">"true"</span>  <span class="attr">data-original</span>=<span class="string">"images/7.png"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">""</span> <span class="attr">class</span>=<span class="string">"image-item"</span> <span class="attr">lazyload</span>=<span class="string">"true"</span>  <span class="attr">data-original</span>=<span class="string">"images/8.png"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">""</span> <span class="attr">class</span>=<span class="string">"image-item"</span> <span class="attr">lazyload</span>=<span class="string">"true"</span>  <span class="attr">data-original</span>=<span class="string">"images/9.png"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">""</span> <span class="attr">class</span>=<span class="string">"image-item"</span> <span class="attr">lazyload</span>=<span class="string">"true"</span>  <span class="attr">data-original</span>=<span class="string">"images/10.png"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">""</span> <span class="attr">class</span>=<span class="string">"image-item"</span> <span class="attr">lazyload</span>=<span class="string">"true"</span>  <span class="attr">data-original</span>=<span class="string">"images/11.png"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">""</span> <span class="attr">class</span>=<span class="string">"image-item"</span> <span class="attr">lazyload</span>=<span class="string">"true"</span>  <span class="attr">data-original</span>=<span class="string">"images/12.png"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> viewHeight =<span class="built_in">document</span>.documentElement.clientHeight<span class="comment">//获取可视区高度</span></span></span><br><span class="line"><span class="actionscript"><span class="function"><span class="keyword">function</span> <span class="title">lazyload</span><span class="params">()</span></span>&#123;</span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> eles=<span class="built_in">document</span>.querySelectorAll（<span class="string">'img[data-original][lazyload]'</span>）</span></span><br><span class="line"><span class="javascript"><span class="built_in">Array</span>.prototype.forEach.call(eles,<span class="function"><span class="keyword">function</span>(<span class="params">item,index</span>)</span>&#123;</span></span><br><span class="line"><span class="actionscript"><span class="keyword">var</span> rect</span></span><br><span class="line"><span class="actionscript"><span class="keyword">if</span>(item.dataset.original===<span class="string">""</span>)</span></span><br><span class="line"><span class="actionscript">   <span class="keyword">return</span></span></span><br><span class="line"><span class="actionscript">rect=item.getBoundingClientRect()<span class="comment">// 用于获得页面中某个元素的左，上，右和下分别相对浏览器视窗的位置</span></span></span><br><span class="line">if(rect.bottom&gt;=0 &amp;&amp; rect.top &lt; viewHeight)&#123;</span><br><span class="line"><span class="actionscript">!<span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</span></span><br><span class="line"><span class="actionscript">  <span class="keyword">var</span> img=<span class="keyword">new</span> Image()</span></span><br><span class="line">  img.src=item.dataset.original</span><br><span class="line"><span class="actionscript">  img.onload=<span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</span></span><br><span class="line">    item.src=img.src</span><br><span class="line">    &#125;</span><br><span class="line"><span class="actionscript">item.removeAttribute（<span class="string">"data-original"</span>）<span class="comment">//移除属性，下次不再遍历</span></span></span><br><span class="line"><span class="actionscript">item.removeAttribute（<span class="string">"lazyload"</span>）</span></span><br><span class="line">   &#125;()</span><br><span class="line">  &#125;</span><br><span class="line"> &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="actionscript">lazyload()<span class="comment">//刚开始还没滚动屏幕时，要先触发一次函数，初始化首页的页面图片</span></span></span><br><span class="line"><span class="javascript"><span class="built_in">document</span>.addEventListener（<span class="string">"scroll"</span>，lazyload)</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="预加载"><a href="#预加载" class="headerlink" title="预加载"></a>预加载</h2><h3 id="1-什么是预加载？"><a href="#1-什么是预加载？" class="headerlink" title="1. 什么是预加载？"></a>1. 什么是预加载？</h3><blockquote><p>资源预加载是另一个性能优化技术，我们可以使用该技术来预先告知浏览器某些资源可能在将来会被使用到。预加载简单来说就是将所有所需的资源提前请求加载到本地，这样后面在需要用到时就直接从缓存取资源。</p></blockquote><h3 id="2-为什么使用预加载？"><a href="#2-为什么使用预加载？" class="headerlink" title="2. 为什么使用预加载？"></a>2. 为什么使用预加载？</h3><blockquote><p>在网页全部加载之前，对一些主要内容进行加载，以提供给用户更好的体验，减少等待的时间。否则，如果一个页面的内容过于庞大，没有使用预加载技术的页面就会长时间的展现为一片空白，直到所有内容加载完毕。</p></blockquote><h3 id="3-实现预加载的几种办法"><a href="#3-实现预加载的几种办法" class="headerlink" title="3.实现预加载的几种办法"></a>3.实现预加载的几种办法</h3><p><strong>1. 使用html</strong>  </p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"http://pic26.nipic.com/20121213/6168183 0044449030002.jpg"</span> <span class="attr">style</span>=<span class="string">"display:none"</span>/&gt;</span></span><br></pre></td></tr></table></figure><p><strong>2. 使用Image对象</strong>  </p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./myPreload.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="actionscript">    <span class="comment">//myPreload.js文件</span></span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> image= <span class="keyword">new</span> Image()</span></span><br><span class="line"><span class="actionscript">    image.src=<span class="string">"http://pic26.nipic.com/20121213/6168183 004444903000 2.jpg"</span></span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>3. 使用PreloadJS库</strong><br>PreloadJS提供了一种预加载内容的一致方式，以便在HTML应用程序中使用。预加载可以使用HTML标签以及XHR来完成。默认情况下，PreloadJS会尝试使用XHR加载内容，因为它提供了对进度和完成事件的更好支持，但是由于跨域问题，使用基于标记的加载可能更好。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//使用preload.js</span></span><br><span class="line"><span class="keyword">var</span> queue=<span class="keyword">new</span> createjs.LoadQueue()；<span class="comment">//默认是xhr对象，如果是new createjs.LoadQueue(false)是指使用HTML标签，可以跨域</span></span><br><span class="line">queue.on(<span class="string">"complete"</span>,handleComplete,<span class="keyword">this</span>);</span><br><span class="line">queue.loadManifest([</span><br><span class="line">&#123;<span class="attr">id</span>:<span class="string">"myImage"</span>,<span class="attr">src</span>:<span class="string">"http://pic26.nipic.com/20121213/6168183  0044449030002.jpg"</span>&#125;,</span><br><span class="line">&#123;id：<span class="string">"myImage2"</span>，src:<span class="string">"http://pic9.nipic.com/20100814/2839526  1931471581702.jpg"</span>&#125;</span><br><span class="line">])；</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">handleComplete</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> image=queue.getResuLt(<span class="string">"myImage"</span>);</span><br><span class="line">  <span class="built_in">document</span>.body.appendChild(image);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="区别"><a href="#区别" class="headerlink" title="区别"></a>区别</h2><p>两者都是提高页面性能有效的办法，两者主要区别是一个是提前加载，一个是迟缓甚至不加载。懒加载对服务器前端有一定的缓解压力作用，预加载则会增加服务器前端压力</p>]]></content>
      
      
      <categories>
          
          <category> html </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
            <tag> html </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>小程序文档笔记</title>
      <link href="/%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%96%87%E6%A1%A3%E7%AC%94%E8%AE%B0/"/>
      <url>/%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%96%87%E6%A1%A3%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<h2 id="准备"><a href="#准备" class="headerlink" title="准备:"></a>准备:</h2><ol><li>注册和申请appid</li><li>下载开发工具并完成启动</li></ol><p><a href="https://mp.weixin.qq.com/wxopen/waregister?action=step1" target="_blank" rel="noopener">连接</a></p><h2 id="基础："><a href="#基础：" class="headerlink" title="基础："></a>基础：</h2><p><a href="https://mp.weixin.qq.com/debug/wxadoc/dev/framework/MINA.html" target="_blank" rel="noopener">文档</a></p><ol><li>小程序文件结构(app.json, app.wxss, app.js);</li><li>小程序文件介绍(index.json, index.wxml, index.wxss, index.js);</li><li>小程序的App,page,窗口,tarBar的配置</li><li>小程序语法和生命周期(数据绑定，列表渲染，条件渲染，模版，事件，引用)</li><li>常用组件的使用(view,scroll-view,map,swiper…)</li><li>常用api的使用(wx.request({}),…)</li></ol><blockquote></blockquote><p>小程序包含一个描述整体程序的 app 和多个描述各自页面的 page。<br>app.json文件用来对微信小程序进行全局配置，<br>决定页面文件的路径、窗口表现、设置网络超时时间、设置多 tab 等。</p><h2 id="要点："><a href="#要点：" class="headerlink" title="要点："></a>要点：</h2><blockquote></blockquote><p>Page 是一个页面构造器，这个构造器就生成了一个页面。在生成页面的时候，<br>小程序框架会把 data 数据和 index.wxml 一起渲染出最终的结构，<br>于是就得到了你看到的小程序的样子。</p><p>一个小程序主体部分由三个文件组成，必须放在项目的根目录<br>Page()函数用来注册一个页面。<br>接受一个 object 参数，其指定页面的</p><ol><li>初始数据</li><li>生命周期函数</li><li>事件处理函数等。</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">Page(&#123;</span><br><span class="line">  data: &#123;</span><br><span class="line">    text: <span class="string">"This is page data."</span></span><br><span class="line">  &#125;,</span><br><span class="line">  onLoad: <span class="function"><span class="keyword">function</span>(<span class="params">options</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 生命周期函数--监听页面加载</span></span><br><span class="line">  &#125;,</span><br><span class="line">  onReady: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 生命周期函数--监听页面初次渲染完成</span></span><br><span class="line">  &#125;,</span><br><span class="line">  onShow: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 生命周期函数--监听页面显示</span></span><br><span class="line">  &#125;,</span><br><span class="line">  onHide: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 生命周期函数--监听页面隐藏</span></span><br><span class="line">  &#125;,</span><br><span class="line">  onUnload: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 生命周期函数--监听页面卸载</span></span><br><span class="line">  &#125;,</span><br><span class="line">  onPullDownRefresh: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 页面相关事件处理函数--监听用户下拉动作</span></span><br><span class="line">  &#125;,</span><br><span class="line">  onReachBottom: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 页面上拉触底事件的处理函数</span></span><br><span class="line">  &#125;,</span><br><span class="line">  onShareAppMessage: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">   <span class="comment">// 用户点击右上角转发和分享</span></span><br><span class="line">  &#125;,</span><br><span class="line">  onPageScroll: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 页面滚动触发事件的处理函数</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// Event handler.</span></span><br><span class="line">  viewTap: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.setData(&#123;</span><br><span class="line">      text: <span class="string">'Set some data for updating view.'</span></span><br><span class="line">    &#125;, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="comment">// this is setData callback</span></span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  customData: &#123;</span><br><span class="line">    <span class="comment">// 自定义是数据对象</span></span><br><span class="line">    hi: <span class="string">'MINA'</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p><strong>wxs：</strong><br>wxs 不依赖于运行时的基础库版本，可以在所有版本的小程序中运行。<br>wxs 与 javascript 是不同的语言，有自己的语法，并不和 javascript 一致。<br>wxs 的运行环境和其他 javascript 代码是隔离的，wxs 中不能调用其他 javascript 文件中定义的函数，也不能调用小程序提供的API。<br>wxs 函数不能作为组件的事件回调。<br>由于运行环境的差异，在 iOS 设备上小程序内的 wxs 会比 javascript 代码快 2 ~ 20 倍。在 android 设备上二者运行效率无差异。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--wxml--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">wxs</span> <span class="attr">module</span>=<span class="string">"m1"</span>&gt;</span></span><br><span class="line">var msg = "hello world";</span><br><span class="line"></span><br><span class="line">module.exports.message = msg;</span><br><span class="line"><span class="tag">&lt;/<span class="name">wxs</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span>&gt;</span> &#123;&#123;m1.message&#125;&#125; <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure><p>bind事件绑定不会阻止冒泡事件向上冒泡，catch事件绑定可以阻止冒泡事件向上冒泡。<br>采用capture-bind、capture-catch关键字，后者将中断捕获阶段和取消冒泡阶段。</p><p>include 可以将目标文件除了 <template> <wxs> 外的整个代码引入，<br>相当于是拷贝到include 位置。</wxs></template></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- index.wxml --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">include</span> <span class="attr">src</span>=<span class="string">"header.wxml"</span>/&gt;</span></span><br></pre></td></tr></table></figure><p>require 引入js文件 module.export 的对象 或wxs文件中引入其它wxs文件。<br>import 可以在该文件中使用目标文件定义的template。<br>import 有作用域的概念，即只会 import 目标文件中定义的 template，而不会 import 目标文件 import 的 template</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">import</span> <span class="attr">src</span>=<span class="string">"item.wxml"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">is</span>=<span class="string">"item"</span> <span class="attr">data</span>=<span class="string">"&#123;&#123;text: 'forbar'&#125;&#125;"</span>/&gt;</span></span><br></pre></td></tr></table></figure><p>模版使用<br>使用 name 属性，作为模板的名字。然后在<template>内定义代码片段。<br>使用 is 属性，声明需要的使用的模板，然后将模板所需要的 data 传入，</template></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">name</span>=<span class="string">"msgItem"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">text</span>&gt;</span> &#123;&#123;index&#125;&#125;: &#123;&#123;msg&#125;&#125; <span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">text</span>&gt;</span> Time: &#123;&#123;time&#125;&#125; <span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">is</span>=<span class="string">"msgItem"</span> <span class="attr">data</span>=<span class="string">"&#123;&#123;...item&#125;&#125;"</span> /&gt;</span></span><br></pre></td></tr></table></figure><h2 id="修改数据"><a href="#修改数据" class="headerlink" title="修改数据"></a>修改数据</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">this.data.inx</span><br><span class="line">this.setData(&#123;</span><br><span class="line">    </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="添加自定义属性"><a href="#添加自定义属性" class="headerlink" title="添加自定义属性"></a>添加自定义属性</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;view data-idx=&quot;&#123;&#123;msg&#125;&#125;&quot;&gt;&lt;/view&gt;</span><br></pre></td></tr></table></figure><h2 id="事件"><a href="#事件" class="headerlink" title="事件"></a>事件</h2><ul><li><p>currentTarget 指的是事件绑定的当前组件对象，即被冒泡的事件对象。</p></li><li><p>Target 指的是触发事件的源组件对象,即点击的事件对象。</p></li><li><p>dataset 给添加事件的对象绑定的数据 分别在 currentTarget和Target中</p></li><li><p>wx.navigateTo() 保留当前页面，跳转到应用内的某个页面,跳转过程中，首先会<br>触发onHide()，然后返回页面会触发onShow();相当于切换后台和前台。</p></li><li><p>wx.redirectTo() 关闭当前页面，跳转到应用内的某个页面。跳转过程中，首先会<br>触发onUnload(),不能再返回。</p></li><li><p>wx.navigateTo 和 wx.redirectTo 不允许跳转到 tabbar 页面，只能用 wx.switchTab 跳转到 tabbar 页面</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> 小程序 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 小程序 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>jQuery插件开发</title>
      <link href="/jQuery%E6%8F%92%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
      <url>/jQuery%E6%8F%92%E4%BB%B6%E5%BC%80%E5%8F%91/</url>
      
        <content type="html"><![CDATA[<p><strong>译自 <a href="http://docs.jquery.com/Plugins/Authoring" target="_blank" rel="noopener">jQuery Plugins / Authoring</a></strong> </p><p>看来 jQuery 你已经用得很爽了，插件和方法来扩展 jQuery 非常强大，把最聪明的功能封装到插件中可以为你及团队节省大量开发时间。</p><h2 id="开始"><a href="#开始" class="headerlink" title="开始"></a>开始</h2><p>要编写一个 jQuery 插件，需要为 jQuery.fn 对象增加一个新的函数属性，属性名就是插件的名字</p><pre><code>jQuery.fn.myPlugin = function() {    // 插件的具体内容放在这里};</code></pre><p>等一下！ 我熟悉并钟爱的 $ 哪儿去了？ 它还在，只是为了确保你的插件不与其它使用 $ 的库发生冲突，有一个最佳实践： 把 jQuery 传递给 IIFE（立即调用函数），并通过它映射成 $ ，这样就避免了在执行的作用域里被其它库所覆盖。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"> $ </span>) </span>&#123;</span><br><span class="line">    $.fn.myPlugin = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    </span><br><span class="line">        <span class="comment">// 插件的具体内容放在这里</span></span><br><span class="line">    </span><br><span class="line">    &#125;;</span><br><span class="line">&#125;)( jQuery );</span><br></pre></td></tr></table></figure><p>恩，这样好一些。 现在，在此闭包内我们可以随意用 $ 替换 jQuery。</p><h2 id="上下文"><a href="#上下文" class="headerlink" title="上下文"></a>上下文</h2><p>现在，已经有了外壳，可以开始编写真正的插件代码了。但在这之前，关于上下文我有话要说。在插件函数的立即作用域中，关键字 this 指向调用插件的 jQuery 对象。这是个经常出错的地方，因为有些情况下 jQuery 接受一个回调函数，此时 this 指向原生的 DOM 元素。这常常导致开发者在 jQuery 函数中对 this 关键字多作一次无必要的包装。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"> $ </span>)</span>&#123;</span><br><span class="line">    $.fn.myPlugin = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    </span><br><span class="line">        <span class="comment">// 没有必要再作 $(this) ，因为"this"已经是 jQuery 对象了</span></span><br><span class="line">        <span class="comment">// $(this) 与 $($('#element')) 是相同的</span></span><br><span class="line">           </span><br><span class="line">        <span class="keyword">this</span>.fadeIn(<span class="string">'normal'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="comment">// 在这里 this 关键字指向 DOM 元素</span></span><br><span class="line">        &#125;);                     </span><br><span class="line">    &#125;;          </span><br><span class="line">&#125;)( jQuery );</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">$(<span class="string">'#element'</span>).myPlugin();</span><br></pre></td></tr></table></figure><h2 id="基础"><a href="#基础" class="headerlink" title="基础"></a>基础</h2><p>现在理解了 jQuery 插件的上下文以后， 我们来写一个真正能做点儿事儿的插件。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"> $ </span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">  $.fn.maxHeight = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> max = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">this</span>.each(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      max = <span class="built_in">Math</span>.max( max, $(<span class="keyword">this</span>).height() );</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> max;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;)( jQuery );</span><br><span class="line"></span><br><span class="line">--</span><br><span class="line"><span class="keyword">var</span> tallest = $(<span class="string">'div'</span>).maxHeight(); <span class="comment">// 返回最高 div 的高度</span></span><br></pre></td></tr></table></figure><p>这个简单的插件利用 <a href="http://docs.jquery.com/action/edit/Manipulation/height" title="Manipulation/height" target="_blank" rel="noopener">.height()</a> 来返回页面中最高 div 的高度</p><h2 id="保持-chainability"><a href="#保持-chainability" class="headerlink" title="保持 chainability"></a>保持 chainability</h2><p>前面的例子返回了页面上最高 div 的一个整数值，但很多时候插件只是以某种方式修改元素集合，并把它们传给调用链的下一个方法。 这正是 jQuery 设计的漂亮之处，也是它如此流行的原因之一。为保持插件的 chainability ，必须确保插件返回 this 关键字。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"> $ </span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">  $.fn.lockDimensions = <span class="function"><span class="keyword">function</span>(<span class="params"> type </span>) </span>&#123;  </span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.each(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">var</span> $<span class="keyword">this</span> = $(<span class="keyword">this</span>);</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> ( !type || type == <span class="string">'width'</span> ) &#123;</span><br><span class="line">        $<span class="keyword">this</span>.width( $<span class="keyword">this</span>.width() );</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> ( !type || type == <span class="string">'height'</span> ) &#123;</span><br><span class="line">        $<span class="keyword">this</span>.height( $<span class="keyword">this</span>.height() );</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">  &#125;;</span><br><span class="line">&#125;)( jQuery );</span><br><span class="line"></span><br><span class="line">--</span><br><span class="line">$(<span class="string">'div'</span>).lockDimensions(<span class="string">'width'</span>).css(<span class="string">'color'</span>, <span class="string">'red'</span>);</span><br></pre></td></tr></table></figure><p>插件在立即作用域中返回了 this 关键字，保持了 chainability ，所以 jQuery 集合可以被其它方法操作，例如 <a href="http://docs.jquery.com/CSS/css" title="CSS/css " target="_blank" rel="noopener">.css()</a>。因此，若插件无需真正的返回值，你应该一直在插件函数的立即作用域中返回 this 关键字。同样，如你所想，调用插件时的参数会被传递到插件函数的立即作用域中。在上例中，字符串 “width” 成了插件函数的  type 参数。</p><h2 id="默认设置和选项"><a href="#默认设置和选项" class="headerlink" title="默认设置和选项"></a>默认设置和选项</h2><p>对于那些提供许多选项、更复杂、更可配置的插件，最佳实践是提供一个默认设置，它可在插件调用时（通过 <a href="http://docs.jquery.com/Utilities/jQuery.extend" title="Utilities/jQuery.extend" target="_blank" rel="noopener">$.extend</a>）被扩展。这样调用插件时无需大量参数， 只要一个对象参数，内容为你希望不同于默认值的那部分设置。做法如下：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"> $ </span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">  $.fn.tooltip = <span class="function"><span class="keyword">function</span>(<span class="params"> options </span>) </span>&#123;  </span><br><span class="line"></span><br><span class="line">    <span class="comment">// Create some defaults, extending them with any options that were provided</span></span><br><span class="line">    <span class="keyword">var</span> settings = $.extend( &#123;</span><br><span class="line">      <span class="string">'location'</span>         : <span class="string">'top'</span>,</span><br><span class="line">      <span class="string">'background-color'</span> : <span class="string">'blue'</span></span><br><span class="line">    &#125;, options);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.each(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;        </span><br><span class="line"></span><br><span class="line">      <span class="comment">// Tooltip plugin code here</span></span><br><span class="line"></span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">  &#125;;</span><br><span class="line">&#125;)( jQuery );</span><br><span class="line"></span><br><span class="line">--</span><br><span class="line">$(<span class="string">'div'</span>).tooltip(&#123;</span><br><span class="line">  <span class="string">'location'</span> : <span class="string">'left'</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>在本例中，用给定选项调用 tooltip 插件后， 默认的 location 设置被覆盖为 “left”， 但 bacground-color 设置仍为默认值 “blue”。最终的设置对象看起来这样的：</p><pre><code>{  &apos;location&apos;         : &apos;left&apos;,  &apos;background-color&apos; : &apos;blue&apos;}</code></pre><p>这是一个非常好的方式， 可以提供一个高度可配置的插件，又不必强制开发者定义所有选项。</p><h2 id="名称空间"><a href="#名称空间" class="headerlink" title="名称空间"></a>名称空间</h2><p>合理地为插件定义名称空间是插件开发中很重要的一部分。 正确的定义名称空间可以确保你的插件很难被其它插件或同一页面中的其它代码所覆盖。名称空间也可以让插件开发者的日子好过一些，因为它能帮你跟踪你的方法、事件和数据。</p><h2 id="插件方法"><a href="#插件方法" class="headerlink" title="插件方法"></a>插件方法</h2><p>单个插件<strong>永远不要</strong>在 jQuery.fn 对象中声明一个以上的名称空间</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"> $ </span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">  $.fn.tooltip = <span class="function"><span class="keyword">function</span>(<span class="params"> options </span>) </span>&#123; </span><br><span class="line">    <span class="comment">// 这</span></span><br><span class="line">  &#125;;</span><br><span class="line">  $.fn.tooltipShow = <span class="function"><span class="keyword">function</span>(<span class="params"> </span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 不</span></span><br><span class="line">  &#125;;</span><br><span class="line">  $.fn.tooltipHide = <span class="function"><span class="keyword">function</span>(<span class="params"> </span>) </span>&#123; </span><br><span class="line">    <span class="comment">// 好</span></span><br><span class="line">  &#125;;</span><br><span class="line">  $.fn.tooltipUpdate = <span class="function"><span class="keyword">function</span>(<span class="params"> content </span>) </span>&#123; </span><br><span class="line">    <span class="comment">// !!!  </span></span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">&#125;)( jQuery );</span><br></pre></td></tr></table></figure><p>这非常不好，因为它搞乱了 $.fn 名称空间。 要修正这个问题，你应该把所有插件方法收集到一个对象定义当中，并通过传递方法名称字符串调用。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"> $ </span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> methods = &#123;</span><br><span class="line">    init : <span class="function"><span class="keyword">function</span>(<span class="params"> options </span>) </span>&#123; </span><br><span class="line">      <span class="comment">// 这 </span></span><br><span class="line">    &#125;,</span><br><span class="line">    show : <span class="function"><span class="keyword">function</span>(<span class="params"> </span>) </span>&#123;</span><br><span class="line">      <span class="comment">// 很</span></span><br><span class="line">    &#125;,</span><br><span class="line">    hide : <span class="function"><span class="keyword">function</span>(<span class="params"> </span>) </span>&#123; </span><br><span class="line">      <span class="comment">// 好</span></span><br><span class="line">    &#125;,</span><br><span class="line">    update : <span class="function"><span class="keyword">function</span>(<span class="params"> content </span>) </span>&#123; </span><br><span class="line">      <span class="comment">// !!! </span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  $.fn.tooltip = <span class="function"><span class="keyword">function</span>(<span class="params"> method </span>) </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// Method calling logic</span></span><br><span class="line">    <span class="keyword">if</span> ( methods[method] ) &#123;</span><br><span class="line">      <span class="keyword">return</span> methods[ method ].apply( <span class="keyword">this</span>, <span class="built_in">Array</span>.prototype.slice.call( <span class="built_in">arguments</span>, <span class="number">1</span> ));</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> ( <span class="keyword">typeof</span> method === <span class="string">'object'</span> || ! method ) &#123;</span><br><span class="line">      <span class="keyword">return</span> methods.init.apply( <span class="keyword">this</span>, <span class="built_in">arguments</span> );</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      $.error( <span class="string">'Method '</span> +  method + <span class="string">' does not exist on jQuery.tooltip'</span> );</span><br><span class="line">    &#125;    </span><br><span class="line">  </span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">&#125;)( jQuery );</span><br><span class="line"></span><br><span class="line"><span class="comment">// 调用  init 方法</span></span><br><span class="line">$(<span class="string">'div'</span>).tooltip(); </span><br><span class="line"></span><br><span class="line"><span class="comment">// 调用  init 方法</span></span><br><span class="line">$(<span class="string">'div'</span>).tooltip(&#123;</span><br><span class="line">  foo : <span class="string">'bar'</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">--</span><br><span class="line"><span class="comment">// 调用 hide 方法</span></span><br><span class="line">$(<span class="string">'div'</span>).tooltip(<span class="string">'hide'</span>); </span><br><span class="line"></span><br><span class="line">--</span><br><span class="line"><span class="comment">// 调用 update 方法</span></span><br><span class="line">$(<span class="string">'div'</span>).tooltip(<span class="string">'update'</span>, <span class="string">'This is the new tooltip content!'</span>);</span><br></pre></td></tr></table></figure><p>这种插件架构使你可以在插件的父闭包中封装所有方法，调用时先传方法名称字符串，接下来再把你需要的其它参数传给该方法。这种封装和架构是 jQuery 插件社区的一个标准，已经被无数插件所使用，包括 <a href="http://jqueryui.com/" target="_blank" rel="noopener">jQueryUI</a> 中的插件和小部件。</p><h2 id="事件"><a href="#事件" class="headerlink" title="事件"></a>事件</h2><p><a href="http://docs.jquery.com/Events/bind" title="Events/bind" target="_blank" rel="noopener">bind</a> 方法有个鲜为人知的特性：它支持为绑定事件定义名称空间。如果你的插件要绑定事件，最好为其定义名称空间。这样，回头想 <a href="http://docs.jquery.com/Events/unbind" title="Events/unbind" target="_blank" rel="noopener">unbind</a> 的时候就不会影响到相同事件类型上的其它已绑定事件。要为事件定义名称空间，把 “.&lt;namespace&gt;“ 附到要绑定的事件类型后面即可。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br></pre></td><td class="code"><pre><span class="line">    (<span class="function"><span class="keyword">function</span>(<span class="params"> $ </span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">var</span> methods = &#123;</span><br><span class="line">         init : <span class="function"><span class="keyword">function</span>(<span class="params"> options </span>) </span>&#123;</span><br><span class="line">    </span><br><span class="line">           <span class="keyword">return</span> <span class="keyword">this</span>.each(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">             $(<span class="built_in">window</span>).bind(<span class="string">'resize.tooltip'</span>, methods.reposition);</span><br><span class="line">           &#125;);</span><br><span class="line">    </span><br><span class="line">         &#125;,</span><br><span class="line">         destroy : <span class="function"><span class="keyword">function</span>(<span class="params"> </span>) </span>&#123;</span><br><span class="line">    </span><br><span class="line">           <span class="keyword">return</span> <span class="keyword">this</span>.each(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">             $(<span class="built_in">window</span>).unbind(<span class="string">'.tooltip'</span>);</span><br><span class="line">           &#125;)</span><br><span class="line">    </span><br><span class="line">         &#125;,</span><br><span class="line">         reposition : <span class="function"><span class="keyword">function</span>(<span class="params"> </span>) </span>&#123; </span><br><span class="line">           <span class="comment">// ... </span></span><br><span class="line">         &#125;,</span><br><span class="line">         show : <span class="function"><span class="keyword">function</span>(<span class="params"> </span>) </span>&#123; </span><br><span class="line">           <span class="comment">// ... </span></span><br><span class="line">         &#125;,</span><br><span class="line">         hide : <span class="function"><span class="keyword">function</span>(<span class="params"> </span>) </span>&#123;</span><br><span class="line">           <span class="comment">// ... </span></span><br><span class="line">         &#125;,</span><br><span class="line">         update : <span class="function"><span class="keyword">function</span>(<span class="params"> content </span>) </span>&#123; </span><br><span class="line">           <span class="comment">// ...</span></span><br><span class="line">         &#125;</span><br><span class="line">      &#125;;</span><br><span class="line">    </span><br><span class="line">      $.fn.tooltip = <span class="function"><span class="keyword">function</span>(<span class="params"> method </span>) </span>&#123;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> ( methods[method] ) &#123;</span><br><span class="line">          <span class="keyword">return</span> methods[method].apply( <span class="keyword">this</span>, <span class="built_in">Array</span>.prototype.slice.call( <span class="built_in">arguments</span>, <span class="number">1</span> ));</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> ( <span class="keyword">typeof</span> method === <span class="string">'object'</span> || ! method ) &#123;</span><br><span class="line">          <span class="keyword">return</span> methods.init.apply( <span class="keyword">this</span>, <span class="built_in">arguments</span> );</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          $.error( <span class="string">'Method '</span> +  method + <span class="string">' does not exist on jQuery.tooltip'</span> );</span><br><span class="line">        &#125;    </span><br><span class="line">      </span><br><span class="line">      &#125;;</span><br><span class="line">    </span><br><span class="line">    &#125;)( jQuery );</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    --</span><br><span class="line">    $(<span class="string">'#fun'</span>).tooltip();</span><br><span class="line">    <span class="comment">// Some time later...</span></span><br><span class="line">    $(<span class="string">'#fun'</span>).tooltip(<span class="string">'destroy'</span>);</span><br><span class="line"><span class="string">``</span><span class="string">`js</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">在本例中，当 tooltip 被 init 方法初始化的时候，它把 reposition 方法绑定到 window 对象的 resize 事件上，名称空间为 "tooltip"。 之后，如果开发者想要销毁对象，可以把插件的名称空间（即 "tooltip"）传给 unbind 方法，以便解除本插件对所有事件的绑定。这使得我们可以安全的地解除本插件的事件绑定，避免意外影响插件之外绑定的事件。</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">## 数据</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">插件开发中，你可能经常需要维护状态，或检查你的插件是否已在给定元素上做过初始化。jQuery [data][] 方法是针对每个元素跟踪变量的好办法。不过最好能用单一对象容纳所有变量并用单一名称空间访问此对象，而不是分别跟踪一堆不同名字的数据。</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">[data]: http://docs.jquery.com/action/edit/Utilities/data "Utilities/data"</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>js</span><br><span class="line">    (<span class="function"><span class="keyword">function</span>(<span class="params"> $ </span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">var</span> methods = &#123;</span><br><span class="line">         init : <span class="function"><span class="keyword">function</span>(<span class="params"> options </span>) </span>&#123;</span><br><span class="line">    </span><br><span class="line">           <span class="keyword">return</span> <span class="keyword">this</span>.each(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">             </span><br><span class="line">             <span class="keyword">var</span> $<span class="keyword">this</span> = $(<span class="keyword">this</span>),</span><br><span class="line">                 data = $<span class="keyword">this</span>.data(<span class="string">'tooltip'</span>),</span><br><span class="line">                 tooltip = $(<span class="string">'&lt;div /&gt;'</span>, &#123;</span><br><span class="line">                   text : $<span class="keyword">this</span>.attr(<span class="string">'title'</span>)</span><br><span class="line">                 &#125;);</span><br><span class="line">             </span><br><span class="line">             <span class="comment">// If the plugin hasn't been initialized yet</span></span><br><span class="line">             <span class="keyword">if</span> ( ! data ) &#123;</span><br><span class="line">             </span><br><span class="line">               <span class="comment">/*</span></span><br><span class="line"><span class="comment">                 Do more setup stuff here</span></span><br><span class="line"><span class="comment">               */</span></span><br><span class="line">    </span><br><span class="line">               $(<span class="keyword">this</span>).data(<span class="string">'tooltip'</span>, &#123;</span><br><span class="line">                   target : $<span class="keyword">this</span>,</span><br><span class="line">                   tooltip : tooltip</span><br><span class="line">               &#125;);</span><br><span class="line">    </span><br><span class="line">             &#125;</span><br><span class="line">           &#125;);</span><br><span class="line">         &#125;,</span><br><span class="line">         destroy : <span class="function"><span class="keyword">function</span>(<span class="params"> </span>) </span>&#123;</span><br><span class="line">    </span><br><span class="line">           <span class="keyword">return</span> <span class="keyword">this</span>.each(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    </span><br><span class="line">             <span class="keyword">var</span> $<span class="keyword">this</span> = $(<span class="keyword">this</span>),</span><br><span class="line">                 data = $<span class="keyword">this</span>.data(<span class="string">'tooltip'</span>);</span><br><span class="line">    </span><br><span class="line">             <span class="comment">// Namespacing FTW</span></span><br><span class="line">             $(<span class="built_in">window</span>).unbind(<span class="string">'.tooltip'</span>);</span><br><span class="line">             data.tooltip.remove();</span><br><span class="line">             $<span class="keyword">this</span>.removeData(<span class="string">'tooltip'</span>);</span><br><span class="line">    </span><br><span class="line">           &#125;)</span><br><span class="line">    </span><br><span class="line">         &#125;,</span><br><span class="line">         reposition : <span class="function"><span class="keyword">function</span>(<span class="params"> </span>) </span>&#123; <span class="comment">// ... &#125;,</span></span><br><span class="line">         show : <span class="function"><span class="keyword">function</span>(<span class="params"> </span>) </span>&#123; <span class="comment">// ... &#125;,</span></span><br><span class="line">         hide : <span class="function"><span class="keyword">function</span>(<span class="params"> </span>) </span>&#123; <span class="comment">// ... &#125;,</span></span><br><span class="line">         update : <span class="function"><span class="keyword">function</span>(<span class="params"> content </span>) </span>&#123; <span class="comment">// ...&#125;</span></span><br><span class="line">      &#125;;</span><br><span class="line">    </span><br><span class="line">      $.fn.tooltip = <span class="function"><span class="keyword">function</span>(<span class="params"> method </span>) </span>&#123;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> ( methods[method] ) &#123;</span><br><span class="line">          <span class="keyword">return</span> methods[method].apply( <span class="keyword">this</span>, <span class="built_in">Array</span>.prototype.slice.call( <span class="built_in">arguments</span>, <span class="number">1</span> ));</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> ( <span class="keyword">typeof</span> method === <span class="string">'object'</span> || ! method ) &#123;</span><br><span class="line">          <span class="keyword">return</span> methods.init.apply( <span class="keyword">this</span>, <span class="built_in">arguments</span> );</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          $.error( <span class="string">'Method '</span> +  method + <span class="string">' does not exist on jQuery.tooltip'</span> );</span><br><span class="line">        &#125;    </span><br><span class="line">      </span><br><span class="line">      &#125;;</span><br><span class="line">    </span><br><span class="line">    &#125;)( jQuery );</span><br></pre></td></tr></table></figure><p>data 方法可以帮你在插件的多次方法调用之间跟踪变量和状态。 把数据置于单一对象中，并为其定义名称空间有利于集中访问插件的所有属性，同时也减少了名称空间以便需要时删除。</p><h2 id="总结及最佳实践"><a href="#总结及最佳实践" class="headerlink" title="总结及最佳实践"></a>总结及最佳实践</h2><p>编写  jQuery 插件使库更加高效。把你最聪明、最有用的功能抽象成可重用代码，这将节省你的时间，进一步提高开发效率。下面是本文档的简要总结以及你开发下一个 jQuery 插件时的注意事项：</p><ul><li>总是把插件包装在闭包中 <code>{ /* plugin goes here */ })( jQuery );</code></li><li>不在插件函数的立即作用域中额外包装 this 关键字</li><li>总是让插件函数返回 this 关键字以保持 chainability ，除非插件有真正的返回值。</li><li>不要传给插件大量参数，应该传一个可以覆盖插件默认选项的设置对象。</li><li>在单个插件中，不要让一个以上的名称空间搞乱了 jQuery.fn 对象。</li><li>总是为方法、事件和数据定义名称空间。</li></ul><p>推荐：<br><a href="http://www.cnblogs.com/Wayou/p/jquery_plugin_tutorial.html" target="_blank" rel="noopener">jQuery插件开发精品教程</a>  </p>]]></content>
      
      
      <categories>
          
          <category> Jquery </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
            <tag> Jquery </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>浏览器多进程和JS单线程</title>
      <link href="/%E6%B5%8F%E8%A7%88%E5%99%A8%E5%A4%9A%E8%BF%9B%E7%A8%8B%E5%92%8CJS%E5%8D%95%E7%BA%BF%E7%A8%8B/"/>
      <url>/%E6%B5%8F%E8%A7%88%E5%99%A8%E5%A4%9A%E8%BF%9B%E7%A8%8B%E5%92%8CJS%E5%8D%95%E7%BA%BF%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[<h2 id="进程和线程"><a href="#进程和线程" class="headerlink" title="进程和线程"></a>进程和线程</h2><p>进程是cpu资源分配的最小单位,系统会给它分配内存,是能拥有资源和独立运行的最小单位。<br>线程是cpu调度的最小单位，线程是建立在进程的基础上的一次程序运行单位，一个进程中可以有多个线程。<br>单线程与多线程，都是指在一个进程内的单和多。所以核心还是得属于一个进程才行。</p><p><strong>浏览器是多进程的</strong><br>浏览器之所以能够运行，是因为系统给它的进程分配了资源（cpu、内存）<br>每打开一个Tab页，就相当于创建了一个独立的浏览器进程。</p><a id="more"></a> <p><strong>浏览器都包含哪些进程</strong>  </p><ol><li>Browser进程</li><li>第三方插件进程</li><li>GPU进程</li><li>浏览器渲染进程</li></ol><h2 id="浏览器内核（渲染进程）"><a href="#浏览器内核（渲染进程）" class="headerlink" title="浏览器内核（渲染进程）"></a>浏览器内核（渲染进程）</h2><p>浏览器的渲染进程是多线程的，页面的渲染，JS的执行，事件的循环，都在这个进程内进行。</p><h3 id="GUI进程中有哪些线程？"><a href="#GUI进程中有哪些线程？" class="headerlink" title="GUI进程中有哪些线程？"></a>GUI进程中有哪些线程？</h3><ol><li>GUI渲染线程</li><li>JS引擎线程</li><li>事件触发线程</li><li>定时触发器线程</li><li>异步http请求线程</li></ol><h3 id="浏览器内核中线程之间的关系"><a href="#浏览器内核中线程之间的关系" class="headerlink" title="浏览器内核中线程之间的关系"></a>浏览器内核中线程之间的关系</h3><p><strong>GUI渲染线程与JS引擎线程互斥</strong>  </p><ul><li>由于JavaScript是可操纵DOM的，如果在修改这些元素属性同时渲染界面（即JS线程和UI线程同时运行），那么渲染线程前后获得的元素数据就可能不一致了。<br>因此为了防止渲染出现不可预期的结果，浏览器设置GUI渲染线程与JS引擎为互斥的关系，当JS引擎执行时GUI线程会被挂起，</li><li>GUI更新则会被保存在一个队列中等到JS引擎线程空闲时立即被执行。</li><li><em>JS阻塞页面加载*</em>  </li></ul><p>从上述的互斥关系，可以推导出，JS如果执行时间过长就会阻塞页面。<br><strong>WebWorker，JS的多线程？</strong>  </p><ul><li>创建Worker时，JS引擎向浏览器申请开一个子线程（子线程是浏览器开的，完全受主线程控制，而且不能操作DOM）</li><li>JS引擎线程与worker线程间通过特定的方式通信（postMessage API，需要通过序列化对象来与线程交互特定的数据）</li></ul><blockquote><p>JS引擎是单线程的，这一点的本质仍然未改变，Worker可以理解是浏览器给JS引擎开的外挂，专门用来解决那些大量计算问题。</p></blockquote><p><strong>WebWorker与SharedWorker</strong>  </p><ul><li><p>WebWorker只属于某个页面，不会和其他页面的Render进程（浏览器内核进程）共享</p><ul><li>所以Chrome在Render进程中（每一个Tab页就是一个render进程）创建一个新的线程来运行Worker中的JavaScript程序。</li></ul></li><li><p>SharedWorker是浏览器所有页面共享的，不能采用与Worker同样的方式实现，因为它不隶属于某个Render进程，可以为多个Render进程共享使用</p><ul><li>所以Chrome浏览器为SharedWorker单独创建一个进程来运行JavaScript程序，在浏览器中每个相同的JavaScript只存在一个SharedWorker进程，不管它被创建多少次。</li></ul></li></ul><blockquote><p>本质上就是进程和线程的区别。SharedWorker由独立的进程管理，WebWorker只是属于render进程下的一个线程</p></blockquote><h2 id="浏览器渲染流程"><a href="#浏览器渲染流程" class="headerlink" title="浏览器渲染流程"></a>浏览器渲染流程</h2><h2 id="从Event-Loop谈JS的运行机制"><a href="#从Event-Loop谈JS的运行机制" class="headerlink" title="从Event Loop谈JS的运行机制"></a>从Event Loop谈JS的运行机制</h2><ul><li>主线程之外，事件触发线程管理着一个任务队列，只要异步任务有了运行结果，就在任务队列之中放置一个事件。</li><li>一旦执行栈中的所有同步任务执行完毕（此时JS引擎空闲），系统就会读取任务队列，将可运行的异步任务添加到可执行栈中，开始执行。</li></ul><p><strong>macrotask与microtask</strong><br>JS中分为两种任务类型：macrotask和microtask，在ECMAScript中，microtask称为jobs，macrotask可称为task</p><p><strong>区别</strong>  </p><ul><li><p>macrotask（又称之为宏任务），可以理解是每次执行栈执行的代码就是一个宏任务（包括每次从事件队列中获取一个事件回调并放到执行栈中执行）</p><ul><li>每一个task会从头到尾将这个任务执行完毕，不会执行其它</li><li>浏览器为了能够使得JS内部task与DOM任务能够有序的执行，会在一个task执行结束后，在下一个 task 执行开始前，对页面进行重新渲染 （task-&gt;渲染-&gt;task-&gt;…）</li></ul></li><li><p>microtask（又称为微任务），可以理解是在当前 task 执行结束后立即执行的任务</p><ul><li>也就是说，在当前task任务后，下一个task之前，在渲染之前</li><li>所以它的响应速度相比setTimeout（setTimeout是task）会更快，因为无需等渲染</li><li>也就是说，在某一个macrotask执行完后，就会将在它执行期间产生的所有microtask都执行完毕（在渲染前）</li></ul></li></ul><p>转载：<br><a href="https://juejin.im/post/5a6547d0f265da3e283a1df7" target="_blank" rel="noopener">从浏览器多进程到JS单线程，JS运行机制最全面的一次梳理</a><br>推荐：<br><a href="https://wangdoc.com/javascript/bom/engine.html" target="_blank" rel="noopener">浏览器模型</a></p>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Ubuntu18安装后要做的事</title>
      <link href="/Ubuntu18%E5%AE%89%E8%A3%85%E5%90%8E%E8%A6%81%E5%81%9A%E7%9A%84%E4%BA%8B/"/>
      <url>/Ubuntu18%E5%AE%89%E8%A3%85%E5%90%8E%E8%A6%81%E5%81%9A%E7%9A%84%E4%BA%8B/</url>
      
        <content type="html"><![CDATA[<h2 id="安装Ubuntu"><a href="#安装Ubuntu" class="headerlink" title="安装Ubuntu"></a>安装Ubuntu</h2><p><strong>工具</strong>  </p><ul><li>U盘一个</li><li><a href="http://rufus.akeo.ie/" target="_blank" rel="noopener">refus</a> 软件一个</li><li>PC一台</li><li><a href="https://www.ubuntu.com" target="_blank" rel="noopener">Ubuntu镜像</a></li></ul><p><strong>写入U盘</strong>  </p><p><img src="http://p09g3b06f.bkt.clouddn.com/refus%E4%BD%BF%E7%94%A8.png" alt="refus使用"></p><ol><li><strong><code>boot</code></strong> 引导分区: 300~500M <strong>/boot</strong> </li><li><strong><code>/</code></strong> 根目录分区:  大于20g</li><li><strong><code>/home</code></strong> 用户目录分区: 剩余空间</li><li><strong><code>swap</code></strong> 交换分区: 可以不用分，如果内存低于4g设置为内存的2倍大小</li></ol><blockquote><p> <strong>注意</strong> <code>boot</code>和<code>/</code>分区是必须要有的，其它分区可无。</p></blockquote><a id="more"></a> <h2 id="Ubuntu安装后要做的事"><a href="#Ubuntu安装后要做的事" class="headerlink" title="Ubuntu安装后要做的事"></a>Ubuntu安装后要做的事</h2><h3 id="1-更新源"><a href="#1-更新源" class="headerlink" title="1. 更新源"></a>1. 更新源</h3><ul><li>备份源<code>sudo cp /etc/apt/sources.list ./sources.list.back</code></li><li>找到Software &amp; Updates，将源更新为阿里云的源 </li><li>在Other Software里将Canonical Partners勾上。</li></ul><p>更新：  </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 更新源配置</span></span><br><span class="line">sudo apt update</span><br><span class="line"><span class="comment"># 更新软件</span></span><br><span class="line">sudo apt upgrade</span><br></pre></td></tr></table></figure><h3 id="2-安装压缩工具"><a href="#2-安装压缩工具" class="headerlink" title="2. 安装压缩工具"></a>2. 安装压缩工具</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install p7zip-full p7zip-rar rar unzip</span><br></pre></td></tr></table></figure><h3 id="3-重新安装vim"><a href="#3-重新安装vim" class="headerlink" title="3. 重新安装vim"></a>3. 重新安装vim</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get --purge remove vi</span><br><span class="line">sudo apt-get install vim</span><br></pre></td></tr></table></figure><h3 id="4-清理apt包"><a href="#4-清理apt包" class="headerlink" title="4. 清理apt包"></a>4. 清理apt包</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 此命令会将 /var/cache/apt/archives/ 下的 所有 deb 删掉，相当于清理下载的软件安装包。</span></span><br><span class="line">apt-get clean </span><br><span class="line"><span class="comment"># 删除为了满足某些依赖安装的，但现在不再需要的软件包。</span></span><br><span class="line">apt-get autoclean</span><br></pre></td></tr></table></figure><h3 id="5-支持exfat"><a href="#5-支持exfat" class="headerlink" title="5. 支持exfat"></a>5. 支持exfat</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install exfat-fuse exfat-utils</span><br></pre></td></tr></table></figure><h3 id="6-安装pdf阅读器"><a href="#6-安装pdf阅读器" class="headerlink" title="6. 安装pdf阅读器"></a>6. 安装pdf阅读器</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install okular</span><br></pre></td></tr></table></figure><h3 id="7-安装Chrome"><a href="#7-安装Chrome" class="headerlink" title="7. 安装Chrome"></a>7. 安装Chrome</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1. 将下载源加入到系统的源列表（添加依赖）</span></span><br><span class="line">sudo wget https://repo.fdzh.org/chrome/google-chrome.list -P /etc/apt/sources.list.d/</span><br><span class="line"><span class="comment"># 2. 导入谷歌软件的公钥，用于对下载软件进行验证。</span></span><br><span class="line">wget -q -O - https://dl.google.com/linux/linux_signing_key.pub  | sudo apt-key add -</span><br><span class="line"><span class="comment"># 3. 更新依赖</span></span><br><span class="line">sudo apt-get update</span><br><span class="line"><span class="comment"># 4. 安装谷歌稳定版</span></span><br><span class="line">sudo apt-get install google-chrome-stable</span><br></pre></td></tr></table></figure><h3 id="8-配置vim"><a href="#8-配置vim" class="headerlink" title="8. 配置vim"></a>8. 配置vim</h3><p><a href="https://github.com/wklken/k-vim" target="_blank" rel="noopener">k-vim</a></p><h3 id="9-安装视频"><a href="#9-安装视频" class="headerlink" title="9. 安装视频"></a>9. 安装视频</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 安装解码器</span></span><br><span class="line">sudo apt-get install ubuntu-restricted-extras </span><br><span class="line"><span class="comment"># 安装VLC视频播放器</span></span><br><span class="line">sudo apt-get install vlc browser-plugin-vlc</span><br></pre></td></tr></table></figure><h3 id="10-安装网易云"><a href="#10-安装网易云" class="headerlink" title="10. 安装网易云"></a>10. 安装网易云</h3><p>下载<a href="http://music.163.com/#/download" target="_blank" rel="noopener">网易云</a>  </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 安装网易云deb包</span></span><br><span class="line">sudo dpkg -i netease-cloud-music*.deb</span><br><span class="line"><span class="comment"># 启动网易云</span></span><br><span class="line">sudo netease-cloud-music</span><br></pre></td></tr></table></figure><h3 id="11-点击图标小化"><a href="#11-点击图标小化" class="headerlink" title="11. 点击图标小化"></a>11. 点击图标小化</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gsettings <span class="built_in">set</span> org.gnome.shell.extensions.dash-to-dock click-action <span class="string">'minimize'</span></span><br></pre></td></tr></table></figure><h3 id="12-截图软件"><a href="#12-截图软件" class="headerlink" title="12. 截图软件"></a>12. 截图软件</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#安装shutter</span></span><br><span class="line">sudo apt-get install shutter</span><br></pre></td></tr></table></figure><h3 id="13-安装WPS"><a href="#13-安装WPS" class="headerlink" title="13. 安装WPS"></a>13. 安装WPS</h3><p>下载<a href="http://www.wps.cn/product/wpslinux/" target="_blank" rel="noopener">WPS Linux</a><br>安装依赖<a href="http://kr.archive.ubuntu.com/ubuntu/pool/main/libp/libpng" target="_blank" rel="noopener">libpng</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">sudo dpkg -i libpng.deb</span><br><span class="line">sudo dpkg -i wps*.deb</span><br><span class="line"><span class="comment"># 如果出错 运行</span></span><br><span class="line">sudo apt-get install -f</span><br><span class="line"><span class="comment"># 重新安装</span></span><br><span class="line">sudo dpkg -i wps*.deb</span><br></pre></td></tr></table></figure><p>WPS缺少字体:<br>下载<a href="https://pan.baidu.com/s/1QJbyRDP7yu7F3pryKgdrYQ" target="_blank" rel="noopener">WPS字体</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">sudo mkdir /usr/share/fonts/WPS-Fonts       <span class="comment">#新建wps字体存储文件夹</span></span><br><span class="line"><span class="built_in">cd</span> ~/Downloads     <span class="comment">#进入下载好的字体目录</span></span><br><span class="line">sudo apt-get install unzip  <span class="comment">#安装zip解压软件</span></span><br><span class="line">sudo unzip wps_symbol_fonts.zip -d /usr/share/fonts/WPS-Fonts/  <span class="comment">#解压字体到指定文件夹</span></span><br><span class="line">sudo mkfontscale    <span class="comment">#生成字体索引</span></span><br><span class="line">sudo mkfontdir      <span class="comment">#生成字体索引</span></span><br><span class="line">sudo <span class="built_in">fc</span>-cache       <span class="comment">#更新字体缓存</span></span><br></pre></td></tr></table></figure><h3 id="14-安装搜狗输入法"><a href="#14-安装搜狗输入法" class="headerlink" title="14. 安装搜狗输入法"></a>14. 安装搜狗输入法</h3><p>下载: <a href="https://pinyin.sogou.com/linux/" target="_blank" rel="noopener">搜狗输入法linux版</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install fcitx-bin      <span class="comment">#安装fcitx-bin</span></span><br><span class="line">sudo apt-get update --fix-missing   <span class="comment">#修复fcitx-bin安装失败的情况</span></span><br><span class="line">sudo apt-get install fcitx-bin      <span class="comment">#重新安装fcitx-bin</span></span><br><span class="line">sudo apt-get install fcitx-table    <span class="comment">#安装fcitx-table</span></span><br><span class="line"></span><br><span class="line">sudo dpkg -i sogoupinyin*.deb       <span class="comment">#安装搜狗拼音</span></span><br><span class="line">sudo apt-get install -f             <span class="comment">#修复搜狗拼音安装的错误</span></span><br><span class="line">sudo dpkg -i sogoupinyin*.deb       <span class="comment">#重新安装搜狗拼音</span></span><br></pre></td></tr></table></figure><h3 id="15-使用Tweaks"><a href="#15-使用Tweaks" class="headerlink" title="15. 使用Tweaks"></a>15. 使用Tweaks</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install gnome-tweak-tool   <span class="comment">#安装tweak</span></span><br><span class="line">sudo apt-get install gnome-shell-extensions -y  <span class="comment">#安装shell扩展</span></span><br><span class="line">sudo apt install chrome-gnome-shell     <span class="comment">#为了能在浏览器内安装gnome插件，火狐和谷歌都能用</span></span><br><span class="line">sudo apt-get install gtk2-engines-pixbuf    <span class="comment">#防止GTK2错误</span></span><br><span class="line">sudo apt install libxml2-utils</span><br></pre></td></tr></table></figure><h3 id="16-安装最新nodejs"><a href="#16-安装最新nodejs" class="headerlink" title="16. 安装最新nodejs"></a>16. 安装最新nodejs</h3><p><a href="https://github.com/nodesource/distributions" target="_blank" rel="noopener">nodejs</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">curl -sL https://deb.nodesource.com/setup_10.x | sudo -E bash -</span><br><span class="line">sudo apt-get install -y nodejs</span><br></pre></td></tr></table></figure><h3 id="17-安装typora"><a href="#17-安装typora" class="headerlink" title="17. 安装typora"></a>17. 安装typora</h3><p><a href="https://www.typora.io/#linux" target="_blank" rel="noopener">官网</a>  </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">wget -qO - https://typora.io/linux/public-key.asc | sudo apt-key add -</span><br><span class="line">sudo add-apt-repository <span class="string">'deb https://typora.io/linux ./'</span></span><br><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install typora</span><br></pre></td></tr></table></figure><h3 id="18-安装sublime-text3"><a href="#18-安装sublime-text3" class="headerlink" title="18. 安装sublime text3"></a>18. 安装sublime text3</h3><p><a href="https://www.sublimetext.com/docs/3/linux_repositories.html#apt" target="_blank" rel="noopener">官网</a>  </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 下载key并添加key</span></span><br><span class="line">wget -qO - https://download.sublimetext.com/sublimehq-pub.gpg | sudo apt-key add -</span><br><span class="line"><span class="comment"># 确保APT设置为与HTTPS源一起工作</span></span><br><span class="line">sudo apt-get install apt-transport-https</span><br><span class="line"><span class="built_in">echo</span> <span class="string">"deb https://download.sublimetext.com/ apt/stable/"</span> | sudo tee /etc/apt/sources.list.d/sublime-text.list</span><br><span class="line"><span class="comment"># 更新</span></span><br><span class="line">sudo apt-get update</span><br><span class="line"><span class="comment"># 安装</span></span><br><span class="line">sudo apt-get install sublime-text</span><br></pre></td></tr></table></figure><h3 id="19-安装Git"><a href="#19-安装Git" class="headerlink" title="19. 安装Git"></a>19. 安装Git</h3><p><a href="https://www.git-scm.com/download/linux" target="_blank" rel="noopener">官网</a>  </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo add-apt-repository ppa:git-core/ppa </span><br><span class="line">sudo apt update; apt install git</span><br></pre></td></tr></table></figure><h3 id="20-安装tree"><a href="#20-安装tree" class="headerlink" title="20. 安装tree"></a>20. 安装tree</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install tree</span><br></pre></td></tr></table></figure><h3 id="21-安装golang"><a href="#21-安装golang" class="headerlink" title="21. 安装golang"></a>21. 安装golang</h3><p>下载： <a href="https://studygolang.com/dl" target="_blank" rel="noopener">golang</a>  </p><p>将安装文件解压至指定目录:  </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo tar -zxvf go1.4.2.linux-amd64.tar.gz -C /usr/<span class="built_in">local</span>/</span><br></pre></td></tr></table></figure><p><code>编辑 /etc/profile 文件添加环境变量</code>   </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">export GOROOT=/usr/local/go</span><br><span class="line">export GOBIN=$GOROOT/bin</span><br><span class="line">export PATH=$PATH:$GOBIN</span><br><span class="line">export GOPATH=$HOME/goproj</span><br></pre></td></tr></table></figure><h3 id="22-安装yarn"><a href="#22-安装yarn" class="headerlink" title="22. 安装yarn"></a>22. 安装yarn</h3><p><a href="https://yarn.bootcss.com/docs/install/#debian-stable" target="_blank" rel="noopener">官网</a>   </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">curl -sS https://dl.yarnpkg.com/debian/pubkey.gpg | sudo apt-key add -</span><br><span class="line"><span class="built_in">echo</span> <span class="string">"deb https://dl.yarnpkg.com/debian/ stable main"</span> | sudo tee /etc/apt/sources.list.d/yarn.list</span><br><span class="line">sudo apt-get update &amp;&amp; sudo apt-get install yarn</span><br></pre></td></tr></table></figure><h3 id="23-安装shadowscoks-qt5"><a href="#23-安装shadowscoks-qt5" class="headerlink" title="23. 安装shadowscoks-qt5"></a>23. 安装shadowscoks-qt5</h3><p><strong>1. 安装ss客户端</strong><br><a href="https://code.launchpad.net/~hzwhuang/+archive/ubuntu/ss-qt5" target="_blank" rel="noopener">ss-qt5源</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo add-apt-repository ppa:hzwhuang/ss-qt5</span><br><span class="line"><span class="comment"># 将源中的bionic改成artful</span></span><br><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install shadowsocks-qt5</span><br></pre></td></tr></table></figure><p><strong>2. 下载genpac:</strong>  </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pip install -i https://pypi.douban.com/simple genpac</span><br></pre></td></tr></table></figure><p>生成pac文件(默认生成的文件位于home/用户名下):</p><p><strong>3. 打开ubuntu系统的:设置-网络-网络代理,设置为”自动”,将上面生成的pac文件的路径复制到”配置URL”中</strong>  </p><blockquote><p>这里需要说明的是，路径复制到URL时，格式为：file:/+你的路径，例如我的是：<code>file:///home/abc/snap/Shadows/autoproxy.pac</code></p></blockquote><h3 id="24-安装SimpleScreenRecorder视频录制"><a href="#24-安装SimpleScreenRecorder视频录制" class="headerlink" title="24. 安装SimpleScreenRecorder视频录制"></a>24. 安装SimpleScreenRecorder视频录制</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo add-apt-repository ppa:maarten-baert/simplescreenrecorder</span><br><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install simplescreenrecorder</span><br></pre></td></tr></table></figure><p>如果你需要在 64 位 Ubuntu 上录制 32位 OpenGL 应用程序，请安装 simplescreenrecorder-lib:i386  </p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install simplescreenrecorder-lib:i386</span><br></pre></td></tr></table></figure><h3 id="25-安装-lrzsz文件传送"><a href="#25-安装-lrzsz文件传送" class="headerlink" title="25. 安装 lrzsz文件传送"></a>25. 安装 lrzsz文件传送</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install lrzsz</span><br></pre></td></tr></table></figure><h3 id="安装显卡驱动"><a href="#安装显卡驱动" class="headerlink" title="安装显卡驱动"></a>安装显卡驱动</h3><p><a href="https://blog.csdn.net/tjuyanming/article/details/80862290" target="_blank" rel="noopener">教程</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ubuntu-drivers devices</span><br><span class="line">sudo ubuntu-drivers autoinstall</span><br></pre></td></tr></table></figure><h3 id="修复引导"><a href="#修复引导" class="headerlink" title="修复引导"></a>修复引导</h3><p><a href="https://blog.csdn.net/zero_hzz/article/details/79205422" target="_blank" rel="noopener">修复引导</a><br><a href="https://blog.csdn.net/qq_34562959/article/details/81095716" target="_blank" rel="noopener">修复引导之后出现多余的选项</a></p>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> Ubuntu </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSS3属性总结</title>
      <link href="/CSS3%E5%B1%9E%E6%80%A7%E6%80%BB%E7%BB%93/"/>
      <url>/CSS3%E5%B1%9E%E6%80%A7%E6%80%BB%E7%BB%93/</url>
      
        <content type="html"><![CDATA[<p>css属性简写总结：<br><code>background,font,transition,animation,margin,padding,border,transform,linear-gradient</code></p><h2 id="background背景"><a href="#background背景" class="headerlink" title="background背景"></a>background背景</h2><p><strong>简写语法： background:bg-color bg-image pos/bg-size bg-repeat bg-origin bg-clip bg-attachment initial|inherit;</strong>  </p><p>| 属性 | 值 | 说明 |<br>| —— | —— |<br>| 1. background-color| color或transparent | 设置背景颜色 |<br>| 2. background-image | url(path) | 设置背景图片 |<br>| 3. background-position | 10% 50% | 设置背景位置 |<br>| 4. background-size | cover，100% | 设置背景图片大小 |<br>| 5. background-repeat | no-reapeat，reapeat | 设置图片是否重复 |<br>| 6. background-origin | content-box，padding-box，border-box | 指定了背景图像的位置区域。 |<br>| 7. background-clip | content-box，padding-box，border-box | 背景剪裁属性是从指定位置开始绘制。 |<br>| 8. background-attachment | scroll，fixed | 属性设置背景图像是否固定或者随着页面的其余部分滚动 | </p><a id="more"></a><h2 id="margin和padding"><a href="#margin和padding" class="headerlink" title="margin和padding"></a>margin和padding</h2><p><strong>简写语法： margin: top right bottom left;</strong><br><strong>简写语法： padding: top right bottom left;</strong> </p><h2 id="border边框"><a href="#border边框" class="headerlink" title="border边框"></a>border边框</h2><p><strong>简写语法： border: width style color</strong><br><strong>简写语法： outline: width style color</strong><br>border-width 边框宽度<br>border-style 边框样式 solid、dashed、dotted、double…<br>border-color 边框颜色</p><h3 id="border-radius圆角"><a href="#border-radius圆角" class="headerlink" title="border-radius圆角"></a>border-radius圆角</h3><p><strong>简写语法： border-radius: 1-4 length|% / 1-4 length|%</strong>  </p><blockquote><p>每个半径的四个值的顺序是：左上角，右上角，右下角，左下角。如果省略左下角，右上角是相同的。如果省略右下角，左上角是相同的。如果省略右上角，左上角是相同的。</p></blockquote><p><strong>简写语法： border-top-left-radius: length|% [length|%];</strong><br>border-top-left<br>border-top-right<br>border-bottom-left<br>border-bottom-right</p><blockquote><p> border-top-left–radius属性的两个长度或百分比值定义了椭圆的四分之一外边框的边缘角落的形状。第一个值是水平半径，第二个是垂直半径。如果省略第二个值，它是从第一个复制。如果任一长度为零，角落里是方的，不圆润。水平半径的百分比是指边界框的宽度，而垂直半径的百分比是指边界框的高度。</p></blockquote><h3 id="border-image"><a href="#border-image" class="headerlink" title="border-image"></a>border-image</h3><p><strong>简写语法： border-image: source slice width outset repeat|initial|inherit;</strong><br>border-image:url(border.png) 30 30 round;设置边框图片</p><table><thead><tr><th>属性</th><th>说明</th></tr></thead><tbody><tr><td>1. border-image-source</td><td>用于指定要用于绘制边框的图像的路径</td></tr><tr><td>2. border-image-slice</td><td>图像边界向内偏移</td></tr><tr><td>3. border-image-width</td><td>图像边界的宽度</td></tr><tr><td>4. border-image-outset</td><td>用于指定在边框外部绘制 border-image-area 的量</td></tr><tr><td>5. border-image-repeat</td><td>用于设置图像边界是否应重复（repeat）、拉伸（stretch）或铺满（round）</td></tr></tbody></table><h3 id="box-shadow"><a href="#box-shadow" class="headerlink" title="box-shadow"></a>box-shadow</h3><p><strong>简写语法： box-shadow: h-shadow v-shadow blur spread color inset;</strong>  </p><table><thead><tr><th>属性</th><th>说明</th></tr></thead><tbody><tr><td>h-shadow</td><td>必需的。水平阴影的位置。允许负值</td></tr><tr><td>v-shadow</td><td>必需的。垂直阴影的位置。允许负值</td></tr><tr><td>blur</td><td>可选。模糊距离</td></tr><tr><td>spread</td><td>可选。阴影的大小</td></tr><tr><td>color</td><td>可选。阴影的颜色。在CSS颜色值寻找颜色值的完整列表</td></tr><tr><td>inset</td><td>可选。从外层的阴影（开始时）改变阴影内侧阴影</td></tr></tbody></table><h3 id="box-sizing"><a href="#box-sizing" class="headerlink" title="box-sizing"></a>box-sizing</h3><p><strong>语法： box-sizing: content-box|border-box|inherit:</strong><br>content-box 指定元素的宽度和高度为元素的内容<br>border-box 指定元素的宽度和高度为元素的内容+填充+边框</p><h2 id="font字体"><a href="#font字体" class="headerlink" title="font字体"></a>font字体</h2><p><strong>简写语法： font: font-style font-variant font-weight font-size/line-height font-family</strong>  </p><table><thead><tr><th>属性</th><th>说明</th></tr></thead><tbody><tr><td>1. font-style</td><td>规定字体样式</td></tr><tr><td>2. font-variant</td><td>规定字体异体</td></tr><tr><td>3. font-weight</td><td>规定字体粗细</td></tr><tr><td>4. font-size/line-height</td><td>规定字体尺寸和行高</td></tr><tr><td>5. font-family</td><td>规定字体类型系列。</td></tr></tbody></table><h3 id="font-style"><a href="#font-style" class="headerlink" title="font-style:"></a>font-style:</h3><p>normal  默认值。浏览器显示一个标准的字体样式。<br>italic  浏览器会显示一个斜体的字体样式。<br>oblique 浏览器会显示一个倾斜的字体样式。<br>inherit 规定应该从父元素继承字体样式。</p><h3 id="font-variant"><a href="#font-variant" class="headerlink" title="font-variant:"></a>font-variant:</h3><p>normal  默认值。浏览器会显示一个标准的字体。<br>small-caps  浏览器会显示小型大写字母的字体。<br>inherit 规定应该从父元素继承 font-variant 属性的值。 </p><h3 id="font-weight"><a href="#font-weight" class="headerlink" title="font-weight:"></a>font-weight:</h3><p>normal  默认值。定义标准的字符。<br>bold    定义粗体字符。<br>bolder  定义更粗的字符。<br>lighter 定义更细的字符。<br>100-900 定义由粗到细的字符。400 等同于 normal，而 700 等同于 bold。</p><h2 id="list-style"><a href="#list-style" class="headerlink" title="list-style"></a>list-style</h2><p><strong>简写语法： list-style: list-style-type list-style-position list-style-image</strong><br><code>list-style: square inside url(&quot;sqpurple.gif&quot;)</code><br>list-style-type  设置列表项标记的类型。inside,outside<br>list-style-position 设置在何处放置列表项标记。<br>list-style-image    使用图像来替换列表项的标记。</p><h2 id="text属性"><a href="#text属性" class="headerlink" title="text属性"></a>text属性</h2><table><thead><tr><th>属性</th><th>值</th><th>说明</th></tr></thead><tbody><tr><td>text-align</td><td>center或left或right或justify</td><td>属性规定文本块中首行文本的缩进</td></tr><tr><td>text-align-last</td><td>center或left或right或justify</td><td>设置如何对齐最后一行或紧挨着强制换行符之前的行。</td></tr><tr><td>text-indent</td><td>2em</td><td>——</td></tr><tr><td>text-decoration</td><td>underline或overline或line-through或blink</td><td>定义文本线</td></tr><tr><td>text-overflow</td><td>clip或ellipsis或string</td><td>修剪文本/显示省略符号来代表被修剪的文本。</td></tr><tr><td>text-shadow</td><td>x y blur color</td><td>属性向文本添加一个或多个阴影</td></tr><tr><td>text-transform</td><td>none或capitalize或uppercase或lowercase或inherit</td><td>修改字体大小写</td></tr><tr><td>word-wrap</td><td>normal或break-word</td><td>默认在长单词或 URL 地址内部进行换行</td></tr><tr><td>word-break</td><td>normal或break-all或keep-all</td><td>默认或允许在单词内换行或只能在半角空格或连字符处换行</td></tr><tr><td>white-space</td><td>normal或nowrap或pre或pre-line或pre-wrap或inherit</td><td>元素内的空白符的处理方式。</td></tr><tr><td>word-spacing</td><td>normal或length或inherit</td><td>增加或减少单词间的间距。</td></tr><tr><td>litter-space</td><td>normal或nowrap或pre或pre-line或pre-wrap或inherit</td><td>属性增加或减少字符间的空白（字符间距）</td></tr></tbody></table><p><strong>word-wrap和word-break的区别：</strong><br><a href="http://imweb.io/topic/59fe82991f0e50753869bf8c" target="_blank" rel="noopener">word-break 和 word-wrap 的区别</a><br><a href="https://bobscript.com/archives/236/" target="_blank" rel="noopener">white-space和word-spacing</a>  </p><blockquote><p>word-wrap 强调的是是否允许单词内断句，而word-break强调的则是怎么样来进行单词内的断句。  </p></blockquote><h2 id="伪元素和伪类"><a href="#伪元素和伪类" class="headerlink" title="伪元素和伪类"></a>伪元素和伪类</h2><p>CSS3规范中的要求使用双冒号(::)表示伪元素，使用单冒号(:)以此来区分伪元素和伪类<br><a href="https://developer.mozilla.org/zh-CN/docs/Learn/CSS/Introduction_to_CSS/Pseudo-classes_and_pseudo-elements" target="_blank" rel="noopener">mdn伪类</a><br><a href="http://www.alloyteam.com/2016/05/summary-of-pseudo-classes-and-pseudo-elements/" target="_blank" rel="noopener">伪类和伪元素</a></p><h2 id="transition过度"><a href="#transition过度" class="headerlink" title="transition过度"></a>transition过度</h2><p><strong>简写语法： transition: property duration timing-function delay;</strong><br>transition: width 2s ease, height 2s, transform 2s;</p><table><thead><tr><th>属性</th><th>说明</th></tr></thead><tbody><tr><td>transition-property</td><td>指定CSS属性的name，transition效果</td></tr><tr><td>transition-duration</td><td>transition效果需要指定多少秒或毫秒才能完成</td></tr><tr><td>transition-timing-function</td><td>指定transition效果的转速曲线,</td></tr><tr><td>transition-delay</td><td>定义transition效果开始的时候</td></tr></tbody></table><p><code>transition-timing-function: linearease|ease-in|ease-out|ease-in-out</code><br>linear  线性，速度不变，规定以相同速度开始至结束的过渡效果<br>ease    减速，与 ease-in-out 基本相同，规定慢速开始，然后变快，然后慢速结束的过渡效果<br>ease-in 加速，低速 ~ 正常，规定以慢速开始的过渡效果<br>ease-out   减速，正常 ~ 低速，规定以慢速结束的过渡效果（<br>ease-in-out 先加速后减速，低速 ~ 正常 ~ 低速，规定以慢速开始和结束的过渡效果</p><h2 id="transform变换属性"><a href="#transform变换属性" class="headerlink" title="transform变换属性"></a>transform变换属性</h2><h3 id="2d"><a href="#2d" class="headerlink" title="2d:"></a>2d:</h3><table><thead><tr><th>属性</th><th>说明</th></tr></thead><tbody><tr><td>origin(x-axis y-axis z-axis)</td><td>更改转换元素的位置 默认值50% 50% 0</td></tr><tr><td>matrix(n,n,n,n,n,n)</td><td>定义 2D 转换，使用六个值的矩阵。</td></tr><tr><td>translate(x,y)</td><td>定义 2D 转换，沿着 X 和 Y 轴移动元素。</td></tr><tr><td>translateX(n)</td><td>定义 2D 转换，沿着 X 轴移动元素。</td></tr><tr><td>translateY(n)</td><td>定义 2D 转换，沿着 Y 轴移动元素。</td></tr><tr><td>scale(x,y)</td><td>定义 2D 缩放转换，改变元素的宽度和高度。</td></tr><tr><td>scaleX(n)</td><td>定义 2D 缩放转换，改变元素的宽度。</td></tr><tr><td>scaleY(n)</td><td>定义 2D 缩放转换，改变元素的高度。</td></tr><tr><td>rotate(angle)</td><td>定义 2D 旋转，在参数中规定角度。</td></tr><tr><td>skew(x-angle,y-angle)</td><td>定义 2D 倾斜转换，沿着 X 和 Y 轴。</td></tr><tr><td>skewX(angle)</td><td>定义 2D 倾斜转换，沿着 X 轴。</td></tr><tr><td>skewY(angle)</td><td>定义 2D 倾斜转换，沿着 Y 轴。</td></tr></tbody></table><h3 id="3d"><a href="#3d" class="headerlink" title="3d:"></a>3d:</h3><table><thead><tr><th>属性</th><th>说明</th></tr></thead><tbody><tr><td>matrix3d(n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n)</td><td>定义 3D 转换，使用 16 个值的 4x4 矩阵。</td></tr><tr><td>translate3d(x,y,z)</td><td>定义 3D 转化。</td></tr><tr><td>translateX(x)</td><td>定义 3D 转化，仅使用用于 X 轴的值。</td></tr><tr><td>translateY(y)</td><td>定义 3D 转化，仅使用用于 Y 轴的值。</td></tr><tr><td>translateZ(z)</td><td>定义 3D 转化，仅使用用于 Z 轴的值。</td></tr><tr><td>scale3d(x,y,z)</td><td>定义 3D 缩放转换。</td></tr><tr><td>scaleX(x)</td><td>定义 3D 缩放转换，通过给定一个 X 轴的值。</td></tr><tr><td>scaleY(y)</td><td>定义 3D 缩放转换，通过给定一个 Y 轴的值。</td></tr><tr><td>scaleZ(z)</td><td>定义 3D 缩放转换，通过给定一个 Z 轴的值。</td></tr><tr><td>rotate3d(x,y,z,angle)</td><td>定义 3D 旋转。</td></tr><tr><td>rotateX(angle)</td><td>定义沿 X 轴的 3D 旋转。</td></tr><tr><td>rotateY(angle)</td><td>定义沿 Y 轴的 3D 旋转。</td></tr><tr><td>rotateZ(angle)</td><td>定义沿 Z 轴的 3D 旋转。</td></tr><tr><td>perspective(n)</td><td>定义 3D 转换元素的透视视图。</td></tr></tbody></table><h2 id="animation动画"><a href="#animation动画" class="headerlink" title="animation动画"></a>animation动画</h2><p><strong>简写语法 animation: name duration timing-function delay  iteration-count direction fill-mode play-state steps(60);</strong>  </p><blockquote><p>除了名字，动画时间，延时有严格顺序要求其它随意。</p></blockquote><table><thead><tr><th>属性</th><th>说明</th></tr></thead><tbody><tr><td>animation-name</td><td>指定要绑定到选择器的关键帧的名称</td></tr><tr><td>animation-duration</td><td>动画指定需要多少秒或毫秒完成</td></tr><tr><td>animation-delay</td><td>设置动画在启动前的延迟间隔。</td></tr><tr><td>animation-timing-function</td><td>设置动画将如何完成一个周期</td></tr><tr><td>animation-iteration-count</td><td>定义动画的播放次数;默认1，infinite无限</td></tr><tr><td>animation-direction</td><td>指定是否应该轮流反向播放动画 normal,reverse,alternate</td></tr><tr><td>animation-fill-mode</td><td>规定当动画不播放时（当动画完成时，或当动画有一个延迟未开始播放时），要应用到元素的样式。</td></tr><tr><td>animation-play-state</td><td>指定动画是否正在运行或已暂停。running,paused</td></tr><tr><td>steps(60)</td><td>表示动画分成60步完成。</td></tr><tr><td>initial</td><td>设置属性为其默认值。 阅读关于 initial的介绍。</td></tr><tr><td>inherit</td><td>从父元素继承属性。 阅读关于 initinherital的介绍。</td></tr></tbody></table><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@keyframes</span> changecolor&#123;</span><br><span class="line">  0%&#123;</span><br><span class="line">   <span class="attribute">background</span>: red;</span><br><span class="line">  &#125;</span><br><span class="line">  100%&#123;</span><br><span class="line">    <span class="attribute">background</span>: green;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">animation</span>: changecolor <span class="number">5s</span> ease-out .<span class="number">2s</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="gradient渐变"><a href="#gradient渐变" class="headerlink" title="gradient渐变"></a>gradient渐变</h2><p>IE9及之前的版本都不支持渐变<br><a href="https://www.jianshu.com/p/58b340a037ea" target="_blank" rel="noopener">【CSS】渐变背景（background-image）</a></p><h3 id="CSS3-线性渐变"><a href="#CSS3-线性渐变" class="headerlink" title="CSS3 线性渐变"></a>CSS3 线性渐变</h3><p>background: linear-gradient(direction, color-stop1, color-stop2, …);<br>background: linear-gradient(to bottom right, red , blue); </p><p>background: linear-gradient(angle, color-stop1, color-stop2);<br>background: linear-gradient(180deg, red, blue); </p><p>例：<br><code>background-image: linear-gradient(to right, #E94E65, #15A892 20%, #A89215 80%, #1574A8);</code><br>背景色从左到右开始渐变，最左边是玫红，在元素宽度20%的位置变成青色，80%的位置变成黄色，最后是蓝色。<br><code>background-image: linear-gradient(to right, #E94E65 20%, #15A892 40%, #A89215 60%, #1574A8 80%);}</code><br>元素横向前20%宽度的背景色是纯粉红色。从20%的位置开始才由粉红色变成青色。直到40%的位置完全结束粉红色。</p><h3 id="CSS3-径向渐变"><a href="#CSS3-径向渐变" class="headerlink" title="CSS3 径向渐变"></a>CSS3 径向渐变</h3><p>background: radial-gradient(center, shape size, start-color, …, last-color)</p><h3 id="重复的线性渐变"><a href="#重复的线性渐变" class="headerlink" title="重复的线性渐变"></a>重复的线性渐变</h3><p>background: repeating-linear-gradient(red, yellow 10%, green 20%);</p><h3 id="设置形状"><a href="#设置形状" class="headerlink" title="设置形状"></a>设置形状</h3><p>background: radial-gradient(circle, red, yellow, green); /* 标准的语法 */</p>]]></content>
      
      
      <categories>
          
          <category> CSS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CSS </tag>
            
            <tag> CSS3 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python基础语法(下)</title>
      <link href="/Python%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95-02/"/>
      <url>/Python%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95-02/</url>
      
        <content type="html"><![CDATA[<h2 id="一-高级特效"><a href="#一-高级特效" class="headerlink" title="一 高级特效"></a>一 高级特效</h2><h3 id="1-切片"><a href="#1-切片" class="headerlink" title="1.切片"></a>1.切片</h3><p>这种经常取指定索引范围的操作，<br>用循环十分繁琐，因此，Python提供了切片（Slice）操作符</p><a id="more"></a> <p>获取前3个元素方法：</p><p><strong>1&gt; 笨方法:</strong>  </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">L = [<span class="string">'Michael'</span>, <span class="string">'Sarah'</span>, <span class="string">'Tracy'</span>, <span class="string">'Bob'</span>, <span class="string">'Jack'</span></span><br><span class="line">[L[<span class="number">0</span>], L[<span class="number">1</span>], L[<span class="number">2</span>]]</span><br></pre></td></tr></table></figure><p><strong>2&gt; for循环:</strong>  </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">r = []</span><br><span class="line">n = <span class="number">3</span></span><br><span class="line">i = <span class="number">1</span></span><br><span class="line"><span class="keyword">for</span> v <span class="keyword">in</span> L:</span><br><span class="line">    <span class="keyword">if</span> i &lt;= n:</span><br><span class="line">        r.append(v);</span><br><span class="line">        i=i+<span class="number">1</span></span><br></pre></td></tr></table></figure><p><strong>3&gt; 切片:</strong>  </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">r = L[<span class="number">0</span>:<span class="number">3</span>] <span class="comment"># 索引从0开始，到3结束，不包括3   前闭后开</span></span><br><span class="line">r = L[<span class="number">-2</span>:]</span><br><span class="line">L = list(range(<span class="number">100</span>))</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">- 前10个数:L[:10]</span><br><span class="line">- 后10个数:L[-10:]</span><br><span class="line">- 前11到22个数:L[11:22]</span><br><span class="line">- 前10个数，每两个取一个:L[:10:2]  [0,2,4,6,8]</span><br><span class="line">- 所有数，每5个取一个:L[::5] [0,5,10,...]</span><br><span class="line">- 原样复制一个list:L[:]</span><br></pre></td></tr></table></figure><p>tuple也是一种list也可以用切片操作，只是操作的结果仍是tuple</p><p><strong>4&gt; 字符串 切片操作如同list和tuple一样</strong>  </p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">str = <span class="string">'ABCDEFG'</span></span><br><span class="line">str[<span class="number">0</span>:<span class="number">3</span>] //<span class="string">"ABC"</span></span><br></pre></td></tr></table></figure><h3 id="2-迭代-for…in"><a href="#2-迭代-for…in" class="headerlink" title="2.迭代 for…in.."></a>2.迭代 for…in..</h3><p><strong>1&gt; 迭代 list或tuple:</strong>  </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">l = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> l:</span><br><span class="line">    print(i)</span><br></pre></td></tr></table></figure><p><strong>2&gt; 迭代 dict</strong>  </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 键：</span></span><br><span class="line">d = &#123;<span class="string">'a'</span>:<span class="number">1</span>,<span class="string">'b'</span>:<span class="number">2</span>,<span class="string">'c'</span>:<span class="number">3</span>&#125;</span><br><span class="line"><span class="keyword">for</span> key <span class="keyword">in</span> d:</span><br><span class="line">    print(key)</span><br><span class="line"><span class="comment"># 值：</span></span><br><span class="line"><span class="keyword">for</span> val <span class="keyword">in</span> d.values():</span><br><span class="line">    print(val)</span><br><span class="line"><span class="comment"># 键和值:</span></span><br><span class="line"><span class="keyword">for</span> k,v <span class="keyword">in</span> d.items():</span><br><span class="line">    print(<span class="string">'%s : %s'</span> % (k, v))</span><br></pre></td></tr></table></figure><p><strong>3&gt; 迭代 字符串</strong>  </p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> ch <span class="keyword">in</span> <span class="string">'ABC'</span>:</span><br><span class="line">    print(ch)//A,B,C</span><br></pre></td></tr></table></figure><p><strong>4&gt; collections模块的Iterable类型 判断一个对象是可迭代对象</strong>  </p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">form collections <span class="keyword">import</span> Iterable</span><br><span class="line">isinstance(<span class="string">'abc'</span>, Iterable)     <span class="comment"># True</span></span><br><span class="line">isinstance(<span class="number">123</span>, Iterable)       <span class="comment"># False</span></span><br></pre></td></tr></table></figure><p><strong>5&gt; enumerate函数</strong>  </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">可以把一个list变成索引-元素对</span><br><span class="line"><span class="keyword">for</span> i,v <span class="keyword">in</span> enumerate([<span class="string">'A'</span>, <span class="string">'B'</span>, <span class="string">'C'</span>]):</span><br><span class="line">    print(i,v)</span><br><span class="line"><span class="comment"># 0 A, 1 B, 2 C</span></span><br><span class="line"><span class="comment"># 5&gt; </span></span><br><span class="line"><span class="keyword">for</span> x, y <span class="keyword">in</span> [(<span class="string">'a'</span>, <span class="number">1</span>), (<span class="string">'b'</span>, <span class="number">2</span>), (<span class="string">'c'</span>, <span class="number">3</span>)]:</span><br><span class="line">    print(x,y)</span><br><span class="line">    <span class="comment">#a 1</span></span><br><span class="line">    <span class="comment">#b 2...</span></span><br><span class="line">```      </span><br><span class="line"><span class="comment">### 4.列表生成式</span></span><br><span class="line">```python</span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">1&gt; list(range(1,11)) # 1,2,3...10 </span></span><br><span class="line"><span class="string">2&gt; [x * x for x in range(1,11)] # [1,4,9,16,25,...]</span></span><br><span class="line"><span class="string">3&gt; [x * x for x in range(1.11) if x%2 == 0]  # [4,16,36,64,100]</span></span><br><span class="line"><span class="string">4&gt; [m+n for m in 'ABC' for n in 'XYZ']  # ['AX', 'AY', 'AZ','BX',...,'CZ']</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="comment"># 5&gt;</span></span><br><span class="line"><span class="keyword">import</span> os <span class="comment"># 导入os模块，模块的概念后面讲到</span></span><br><span class="line">[d <span class="keyword">for</span> d <span class="keyword">in</span> os.listdir(<span class="string">'.'</span>)] <span class="comment"># os.listdir可以列出文件和目录</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 6&gt; d = &#123;'x' : 'A', 'y' : 'B', 'z' : 'C'&#125;</span></span><br><span class="line"><span class="keyword">for</span> k, v <span class="keyword">in</span> d.items():</span><br><span class="line">    print(k,v)</span><br><span class="line">使用列表生成式</span><br><span class="line">[k+<span class="string">'='</span>+v <span class="keyword">for</span> k,v <span class="keyword">in</span> d.items()]</span><br><span class="line"><span class="comment"># ['y=B', 'x=A', 'z=C']</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 7&gt; list中所有的字符串变成大小写</span></span><br><span class="line">L = [<span class="string">'Hello'</span>, <span class="string">'World'</span>, <span class="string">'IBM'</span>, <span class="string">'Apple'</span>]</span><br><span class="line"><span class="comment"># 转换成小写</span></span><br><span class="line">[s.lower() <span class="keyword">for</span> s <span class="keyword">in</span> L]</span><br><span class="line"><span class="comment"># 转换成大写</span></span><br><span class="line">[s.swapcase() <span class="keyword">for</span> x <span class="keyword">in</span> L]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 8&gt; 内置的isinstance函数可以判断一个变量是不是字符串</span></span><br><span class="line">isinstance(<span class="string">'ABC'</span>,str) <span class="comment"># True</span></span><br><span class="line">L1 = [<span class="string">'Hello'</span>, <span class="string">'World'</span>, <span class="number">18</span>, <span class="string">'Apple'</span>, <span class="literal">None</span>]</span><br><span class="line">L2 = [x.swapcase() <span class="keyword">for</span> x <span class="keyword">in</span> L1 <span class="keyword">if</span> isinstance(x,str)]</span><br><span class="line">print(L2) <span class="comment"># ['HELLO','WORLD','APPLE']</span></span><br></pre></td></tr></table></figure><h3 id="5-生成器"><a href="#5-生成器" class="headerlink" title="5.生成器"></a>5.生成器</h3><p>在Python中，这种一边循环一边计算的机制，称为生成器：generator。<br><strong>1&gt; 创建一个generator</strong>  </p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">L = [x * x <span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">100</span>)]</span><br><span class="line">g = (x * x <span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">100</span>))</span><br></pre></td></tr></table></figure><p>创建L和g的区别仅在于最外层的[]和()，L是一个list，而g是一个generator。  </p><p><strong>2&gt; next() 函数获得generator的下一个返回值</strong>  </p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> n <span class="keyword">in</span> g:</span><br><span class="line">    <span class="keyword">print</span></span><br></pre></td></tr></table></figure><p>3&gt; 返回done循环完毕</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fib</span><span class="params">(max)</span>:</span></span><br><span class="line">    n,a,b = <span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> n &lt; max:</span><br><span class="line">        <span class="keyword">yield</span> b</span><br><span class="line">        a,b = b, a+b</span><br><span class="line">        n = n+<span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">'done'</span></span><br></pre></td></tr></table></figure><h3 id="6-迭代器-Iterator"><a href="#6-迭代器-Iterator" class="headerlink" title="6.迭代器 Iterator"></a>6.迭代器 Iterator</h3><blockquote><p>我们已经知道，可以直接作用于for循环的数据类型有以下几种：<br>一类是集合数据类型，如list、tuple、dict、set、str等；<br> 一类是generator，包括生成器和带yield的generator function。<br>这些可以直接作用于for循环的对象统称为可迭代对象：Iterable。</p></blockquote><p>可以使用isinstance()判断一个对象是否是Iterable对象:</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">form collections <span class="keyword">import</span> Iterable</span><br><span class="line">isinstance([],Iterable)     <span class="comment"># True</span></span><br><span class="line">isinstance(&#123;&#125;,Iterable)     <span class="comment"># True</span></span><br><span class="line">isinstance(<span class="string">'abc'</span>,Iterable)  <span class="comment"># True</span></span><br><span class="line">isinstance(<span class="string">'123'</span>,Iterable)  <span class="comment"># False</span></span><br></pre></td></tr></table></figure><p><strong>1&gt; iter()</strong> </p><blockquote><p>生成器都是Iterator对象，但list、dict、str虽然是Iterable，却不是Iterator。<br>把list、dict、str等Iterable变成Iterator可以使用iter()函数<br>你可能会问，为什么list、dict、str等数据类型不是Iterator？<br>这是因为Python的Iterator对象表示的是一个数据流，<br>Iterator对象可以被next()函数调用并不断返回下一个数据，<br>直到没有数据时抛出StopIteration错误。可以把这个数据流看做是一个有序序列，<br>但我们却不能提前知道序列的长度，只能不断通过next()函数实现按需计算下一个数据，<br>所以Iterator的计算是惰性的，只有在需要返回下一个数据时它才会计算。<br>Iterator甚至可以表示一个无限大的数据流，例如全体自然数。<br>而使用list是永远不可能存储全体自然数的。</p></blockquote><p><strong>Python的for循环本质上就是通过不断调用next()函数实现的，</strong> </p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]:</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"><span class="comment"># -------------- 等价于： --------------</span></span><br><span class="line">it = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</span><br><span class="line"><span class="keyword">while</span> true:</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="comment">#获得下一个值</span></span><br><span class="line">        x = next(it)</span><br><span class="line">    <span class="keyword">except</span> StopIteration:</span><br><span class="line">        <span class="comment"># 遇到StopIteration就退出循环</span></span><br><span class="line">        <span class="keyword">break</span>;</span><br></pre></td></tr></table></figure><p>生成式<br>生成器 generator<br>迭代器 iterator<br>可迭代的 iterable</p><blockquote><p>迭代器是惰性的,用多少生产多少;可迭代对象是一下全部返回,不管用到用不到.</p></blockquote><h2 id="二-函数式编程"><a href="#二-函数式编程" class="headerlink" title="二 函数式编程"></a>二 函数式编程</h2><blockquote><p>函数式编程的一个特点就是，允许把函数本身作为参数传入另一个函数，还允许返回一个函数！</p></blockquote><h3 id="1-高阶函数"><a href="#1-高阶函数" class="headerlink" title="1.高阶函数"></a>1.高阶函数</h3><blockquote><p>既然变量可以指向函数，函数的参数能接收变量，那么一个函数就可以接收另一个函数作为参数，这种函数就称之为高阶函数。</p></blockquote><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add</span><span class="params">(x,y,f)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> f(x) + f(y)</span><br><span class="line">add(<span class="number">-2</span>,<span class="number">5</span>,abs);</span><br></pre></td></tr></table></figure><p><strong>1&gt; map()</strong><br>函数接收两个参数，一个是函数，一个是Iterable，<br>map将传入的函数依次作用到序列的每个元素，<br>并把结果作为新的Iterator返回。</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f</span><span class="params">(x)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> x*x</span><br><span class="line">r = map(f,[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>])</span><br><span class="line">list(r) <span class="comment"># [1,4,9,16,25]</span></span><br></pre></td></tr></table></figure><p><strong>2&gt; reduce()</strong>  </p><p>reduce把一个函数作用在一个序列[x1, x2, x3, …]<br>上，这个函数必须接收两个参数，reduce把结果继续和序列的下一个元素做累积计算<br>reduce(f,[1,2,3]) == f(f(f(1,2),3),4)</p><p><strong>将数字字符串转换成int类型</strong>  </p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> reduce</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">str2int</span><span class="params">(s)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">fn</span><span class="params">(x, y)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> x * <span class="number">10</span> + y</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">char2num</span><span class="params">(s)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> &#123;<span class="string">'0'</span>: <span class="number">0</span>, <span class="string">'1'</span>: <span class="number">1</span>, <span class="string">'2'</span>: <span class="number">2</span>, <span class="string">'3'</span>: <span class="number">3</span>, <span class="string">'4'</span>: <span class="number">4</span>, <span class="string">'5'</span>: <span class="number">5</span>, <span class="string">'6'</span>: <span class="number">6</span>, <span class="string">'7'</span>: <span class="number">7</span>, <span class="string">'8'</span>: <span class="number">8</span>, <span class="string">'9'</span>: <span class="number">9</span>&#125;[s]</span><br><span class="line">    <span class="keyword">return</span> reduce(fn, map(char2num, s))</span><br></pre></td></tr></table></figure><p><strong>3&gt; filter() 过滤</strong><br>filter()把传入的函数依次作用于每个元素，<br>然后根据返回值是True还是False决定保留还是丢弃该元素</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">is_odd</span><span class="params">(n)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> n%<span class="number">2</span> == <span class="number">0</span></span><br><span class="line">list(filter(is_odd,[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>])) <span class="comment">#[2,4]</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">is_empty</span><span class="params">(n)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> n <span class="keyword">and</span> n.strip()</span><br></pre></td></tr></table></figure><p><strong>4&gt; sorted() 排序算法</strong>  </p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sorted([<span class="number">1</span>,<span class="number">-2</span>,<span class="number">-4</span>,<span class="number">5</span>,<span class="number">3</span>],key=abs) <span class="comment"># [1,-2,3,-4,5]</span></span><br><span class="line">sorted([<span class="string">'bob'</span>, <span class="string">'about'</span>, <span class="string">'Zoo'</span>, <span class="string">'Credit'</span>], key=str.lower, reverse=<span class="literal">True</span>)</span><br><span class="line"><span class="comment"># ['Zoo', 'Credit', 'bob', 'about']</span></span><br></pre></td></tr></table></figure><h3 id="2-返回函数"><a href="#2-返回函数" class="headerlink" title="2.返回函数"></a>2.返回函数</h3><p><strong>1&gt; 闭包</strong>  </p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">lazy_sum</span><span class="params">(*args)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">sum</span><span class="params">()</span>:</span></span><br><span class="line">        ax = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> args:</span><br><span class="line">            ax = ax + i</span><br><span class="line">        <span class="keyword">return</span> ax</span><br><span class="line">    <span class="keyword">return</span> sum</span><br></pre></td></tr></table></figure><p><strong>2&gt; 闭包</strong></p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">count</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">f</span><span class="params">(j)</span>:</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">g</span><span class="params">()</span>:</span></span><br><span class="line">            <span class="keyword">return</span> j*j</span><br><span class="line">        <span class="keyword">return</span> g</span><br><span class="line">    fs = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, <span class="number">4</span>):</span><br><span class="line">        fs.append(f(i)) <span class="comment"># f(i)立刻被执行，因此i的当前值被传入f()</span></span><br><span class="line">    <span class="keyword">return</span> fs</span><br><span class="line">```        </span><br><span class="line"><span class="comment">### 3.匿名函数</span></span><br><span class="line">        </span><br><span class="line"></span><br><span class="line"><span class="comment">## 三 模块</span></span><br><span class="line">&gt; </span><br><span class="line">一个.py文件就称之为一个模块</span><br><span class="line">使用模块还可以避免函数名和变量名冲突。</span><br><span class="line">相同名字的函数和变量完全可以分别存在不同的模块中，</span><br><span class="line">因此，我们自己在编写模块时，不必考虑名字会与其他模块冲突。</span><br><span class="line">但是也要注意，尽量不要与内置函数名字冲突。</span><br><span class="line"></span><br><span class="line">&gt; </span><br><span class="line">Python又引入了按目录来组织模块的方法，称为包（Package）。</span><br><span class="line">请注意，每一个包目录下面都会有一个__init__.py的文件，这个文件是必须存在的</span><br><span class="line">自己创建模块时要注意命名，不能和Python自带的模块名称冲突</span><br><span class="line"></span><br><span class="line"><span class="comment">### 1.使用模块</span></span><br><span class="line">**<span class="number">1</span>&gt; sys模块**  </span><br><span class="line">```python</span><br><span class="line"><span class="comment">#!/usr/bin/python</span></span><br><span class="line"><span class="comment"># -*- coding:utf-8 -*-</span></span><br><span class="line"><span class="string">'a test module'</span></span><br><span class="line">__author_ : <span class="string">'zhou'</span></span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">test</span><span class="params">()</span>:</span></span><br><span class="line">    args = sys.argv</span><br><span class="line">    <span class="keyword">if</span> len(args) == <span class="number">1</span>:</span><br><span class="line">        print(<span class="string">'hello world'</span>)</span><br><span class="line">    <span class="keyword">elif</span> len(args) == <span class="number">2</span>:</span><br><span class="line">        print(<span class="string">'hello $s'</span> $ (args))</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        print(<span class="string">'too many arguments'</span>)</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span></span><br><span class="line">    test()</span><br></pre></td></tr></table></figure><blockquote></blockquote><p>当我们在命令行运行hello模块文件时，Python解释器把一个特殊变量<strong>name</strong>置为<strong>main</strong>，<br>而如果在其他地方导入该hello模块时，if判断将失败，因此，<br>这种if测试可以让一个模块通过命令行运行时执行一些额外的代码，最常见的就是运行测试</p><p><strong>2&gt; 作用域</strong>  </p><blockquote></blockquote><p>在一个模块中，我们可能会定义很多函数和变量，但有的函数和变量我们希望给别人使用，<br>有的函数和变量我们希望仅仅在模块内部使用。在Python中，是通过_前缀来实现的。</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">_private_1</span><span class="params">(name)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">'Hello %s'</span> % name</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">__private_2</span><span class="params">(name)</span></span></span><br><span class="line"><span class="function">    <span class="title">return</span> '<span class="title">Hello</span> %<span class="title">s</span>' % <span class="title">name</span></span></span><br><span class="line"><span class="function"><span class="title">def</span> <span class="title">greeting</span><span class="params">(name)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> leg(name) &gt; <span class="number">3</span>:</span><br><span class="line">        <span class="keyword">return</span> _private_1(name)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> __private_2(name</span><br></pre></td></tr></table></figure><h3 id="2-安装第三方模块"><a href="#2-安装第三方模块" class="headerlink" title="2 安装第三方模块"></a>2 安装第三方模块</h3><p>在Python中，安装第三方模块，是通过包管理工具pip完成的。</p><h3 id="3-name-‘main‘含义："><a href="#3-name-‘main‘含义：" class="headerlink" title="3 name == ‘main‘含义："></a>3 <strong>name</strong> == ‘<strong>main</strong>‘含义：</h3><p>如果是命令行直接运行一个py文件时候，这个文件中的 <strong>name</strong> == ‘<strong>main</strong>‘<br>如果是另一个文件导入 这个py文件，调用另一个文件时候，这个py文件中的<br><strong>name</strong> == “这个py文件的文件名”</p><h3 id="4-自定义系统包"><a href="#4-自定义系统包" class="headerlink" title="4 自定义系统包"></a>4 自定义系统包</h3><ul><li>创建包文件夹，创建<strong>init</strong>.py和setup.py文件，</li><li>在setup.py文件中写入<br>  from distutils.core import setup<br>  setup(name = ‘meal’, version = ‘1.0’, py_modules = [‘test’,’test2’])</li><li>python setup.py build, python setup.py sdist</li><li>最后生成disc文件夹里 压缩包 ，进入解压zxvf，</li><li>然后进入解压完的文件夹 运行 python setup.py install</li></ul><h2 id="正则表达"><a href="#正则表达" class="headerlink" title="正则表达"></a>正则表达</h2><h3 id="修饰符"><a href="#修饰符" class="headerlink" title="修饰符"></a>修饰符</h3><ul><li>re.I使匹配对大小写不敏感</li><li>re.L做本地化识别（locale-aware）匹配</li><li>re.M多行匹配，影响 ^ 和 $</li><li>re.S使 . 匹配包括换行在内的所有字符</li><li>re.U根据Unicode字符集解析字符。这个标志影响 \w, \W, \b, \B.</li><li>re.X该标志通过给予你更灵活的格式以便你将正则表达式写得更易于理解。</li></ul><h3 id="compile方法"><a href="#compile方法" class="headerlink" title="compile方法"></a>compile方法</h3><p>compile(reg, re.S)可以将正则字符串编译成正则表达式对象，以便于在后面的匹配中复用。</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pattern = re.compile(<span class="string">'\d&#123;2&#125;:\d&#123;2&#125;'</span>, re.S)</span><br><span class="line">res = re.findall(pattern, str)</span><br></pre></td></tr></table></figure><p>如果使用分组<code>()</code>可以用group(1)获取单个值<br>使用groups()获取值组成的元祖</p><h3 id="1-match方法"><a href="#1-match方法" class="headerlink" title="1. match方法"></a>1. match方法</h3><blockquote><p>如果使用分组()可以用group(1)获取第一个匹配<code>()</code>的值,使用groups()获取值组成的元祖,group(0)或group()返回所有匹配的字符串</p></blockquote><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">str = <span class="string">'hello world123'</span></span><br><span class="line">res = re.match(<span class="string">'(h).*?(w)'</span>, str, re.S)</span><br><span class="line">res.group() <span class="comment"># 'hello w'</span></span><br><span class="line">res.group(<span class="number">0</span>) <span class="comment"># 'hello w'</span></span><br><span class="line">res.group(<span class="number">1</span>) <span class="comment"># 'h'</span></span><br><span class="line">res.group(<span class="number">2</span>) <span class="comment"># 'w'</span></span><br><span class="line">res.groups() <span class="comment"># ('h', 'w')</span></span><br></pre></td></tr></table></figure><h3 id="2-search方法"><a href="#2-search方法" class="headerlink" title="2. search方法"></a>2. search方法</h3><p>它在匹配时会扫描整个字符串，然后返回第一个成功匹配的结果</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">re.search(reg, str, re.S)</span><br></pre></td></tr></table></figure><h3 id="3-findall方法"><a href="#3-findall方法" class="headerlink" title="3. findall方法"></a>3. findall方法</h3><p>findall()方法会搜索整个字符串然后返回匹配正则表达式的所有内容。</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">re.findall(reg, str, re.S)</span><br></pre></td></tr></table></figure><h3 id="4-sub方法"><a href="#4-sub方法" class="headerlink" title="4. sub方法"></a>4. sub方法</h3><p>re.sub(pattern, repl, string, count=0)方法用来修改文本<br>count 模式匹配后替换的最大次数，默认 0 表示替换所有的匹配。<br>repl 参数是一个函数</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">re.sub(<span class="string">'\d+'</span>, <span class="string">''</span>, str, count=<span class="number">0</span>)</span><br></pre></td></tr></table></figure><h3 id="5-finditer方法"><a href="#5-finditer方法" class="headerlink" title="5. finditer方法"></a>5. finditer方法</h3><p>和 findall 类似，在字符串中找到正则表达式所匹配的所有子串，并把它们作为一个迭代器返回</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">re.finditer(pattern, string, flags=<span class="number">0</span>)</span><br></pre></td></tr></table></figure><h3 id="6-split方法"><a href="#6-split方法" class="headerlink" title="6 split方法"></a>6 split方法</h3><p>split 方法按照能够匹配的子串将字符串分割后返回列表</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">re.split(pattern, string[, maxsplit=<span class="number">0</span>, flags=<span class="number">0</span>])</span><br></pre></td></tr></table></figure><p>maxsplit: 分隔次数，maxsplit=1 分隔一次，默认为 0，不限制次数</p><h3 id="group和groups"><a href="#group和groups" class="headerlink" title="group和groups"></a>group和groups</h3><blockquote><p>[注意意:只有<code>match(),serach()</code>返回值，才能用group()和groups()，findall()返回的要么<code>[(),()]</code>（正常捕获时），要么就返回<code>[,,,]</code>(无捕获组),所以<code>findall()</code>返回值并没有<code>group()</code>和<code>groups</code>方法]</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">str = <span class="string">'hello world123hello world456'</span></span><br><span class="line">res = re.search(<span class="string">'\w(\d+).*?(\d+)'</span>,str, re.S)</span><br><span class="line">res.group() <span class="comment"># 'd123hello world456'</span></span><br><span class="line">res.group(<span class="number">0</span>) <span class="comment"># 'd123hello world456'</span></span><br><span class="line">res.group(<span class="number">1</span>) <span class="comment"># '123'</span></span><br><span class="line">res.group(<span class="number">2</span>) <span class="comment"># '456'</span></span><br><span class="line">res.groups() <span class="comment"># ('123', '456')</span></span><br><span class="line">res.groups()[<span class="number">1</span>] <span class="comment"># '456'</span></span><br><span class="line">res = re.findall(<span class="string">'\w(?P&lt;num1&gt;\d+).*?(?P&lt;num2&gt;\d+)'</span>,str, re.S)</span><br><span class="line">print(res) <span class="comment"># ('123', '456')</span></span><br></pre></td></tr></table></figure><h3 id="命名捕获"><a href="#命名捕获" class="headerlink" title="命名捕获"></a>命名捕获</h3><blockquote><p>命令组的语法是 Python 专用扩展之一： <code>(?P&lt;name&gt;...)</code>。名字很明显是组的名字。除了该组有个名字之外，命名组也同捕获组是相同的。<code>MatchObject</code> 的方法处理捕获组时接受的要么是表示组号的整数，要么是包含组名的字符串。命名组也可以是数字，<code>(?P=word)</code>获取反向引用，所以你可以通过两种方式来得到一个组的信息：</p></blockquote><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">p = re.compile(<span class="string">r'(?P&lt;word&gt;\b\w+\b)'</span>)</span><br><span class="line">m = p.search( <span class="string">'(((( Lots of punctuation )))'</span> )</span><br><span class="line">m.group(<span class="string">'word'</span>) <span class="comment"># 'Lots'</span></span><br><span class="line">m.group(<span class="number">1</span>) <span class="comment"># 'Lots'</span></span><br></pre></td></tr></table></figure><h2 id="pdb调试"><a href="#pdb调试" class="headerlink" title="pdb调试"></a>pdb调试</h2><p><code>pdb调试</code><br><strong>命令行调试</strong><br><code>python -m pdb xxx.py</code>  </p><blockquote><p>h ———–&gt; help 查看帮助<br>l ————&gt; list 显示当前的代码<br>n ————&gt; next 向下执行一行代码<br>c ————&gt; continue 继续执行代码<br>b ————&gt; break 添加断点  b 12在12行添加断电，b查看所有断点<br>s ————&gt; setp 进入到一个函数<br>p ————&gt; print 打印一个变量的值<br>a ————&gt; args 打印所有形参变量数据<br>q ————&gt; quit 退出调试<br>r ————&gt; return 快速执行到函数的最后一行</p></blockquote><p>** 代码中使用pdb库**  </p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pdb</span><br><span class="line">pdb.run(<span class="string">"func(11,22)"</span>)</span><br><span class="line">pdb.set_trace() <span class="comment"># 程序运行到这里就会停止</span></span><br></pre></td></tr></table></figure><h2 id="爬虫"><a href="#爬虫" class="headerlink" title="爬虫"></a>爬虫</h2><p>1.明确目标 url<br>2.爬去<br>3.分析<br>4.储存<br>scrapy<br>新建项目<br>明确目标<br>制作爬虫<br>储存内容</p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python基础语法(上)</title>
      <link href="/Python%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95-01/"/>
      <url>/Python%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95-01/</url>
      
        <content type="html"><![CDATA[<p><strong>Python 是一个高层次的结合了解释性、编译性、互动性和面向对象的脚本语言。</strong><br>Python 是由 Guido van Rossum 在八十年代末和九十年代初，在荷兰国家数学和计算机科学研究所设计出来的。<br>Python 本身也是由诸多其他语言发展而来的,这包括 ABC、Modula-3、C、C++、Algol-68、SmallTalk、Unix shell 和其他的脚本语言等等。<br>像 Perl 语言一样，Python 源代码同样遵循 GPL(GNU General Public License)协议。<br>现在 Python 是由一个核心开发团队在维护，Guido van Rossum 仍然占据着至关重要的作用，指导其进展。</p><a id="more"></a><h2 id="一-变量"><a href="#一-变量" class="headerlink" title="一.变量"></a>一.变量</h2><h3 id="1-变量命名及规范"><a href="#1-变量命名及规范" class="headerlink" title="1.变量命名及规范"></a>1.变量命名及规范</h3><ul><li>一个变量包括两方面：变量名和变量值。</li><li>变量名开头必须 字母 或 下划线。</li><li>python命名区分大小写。</li><li>这种变量本身类型不固定的语言称之为动态语言，与之对应的是静态语言。静态语言在定义变量时必须指定变量类型，如果赋值的时候类型不匹配，就会报错。例如Java是静态语言</li></ul><h3 id="2-创建变量"><a href="#2-创建变量" class="headerlink" title="2.创建变量"></a>2.创建变量</h3><p>在python中创建变量就是变量的声明,当创建两个相同的简单变量，其实是创建了同一个变量。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="string">'ABC'</span></span><br><span class="line">b = a</span><br><span class="line">c = <span class="string">'ABC'</span></span><br><span class="line">id(a) == id(b) <span class="comment"># True</span></span><br></pre></td></tr></table></figure><ol><li>在内存中创建了一个’ABC’的字符串；</li><li>在内存中创建了一个名为a的变量，并把它指向’ABC’。</li><li>也可以把一个变量a赋值给另一个变量b，这个操作实际上是把变量b指向变量a所指向的数据</li><li>创建变量c和a的值一样，python会优化为同一个变量</li></ol><h3 id="3-常量-全部大写的变量名表示常量"><a href="#3-常量-全部大写的变量名表示常量" class="headerlink" title="3.常量  全部大写的变量名表示常量"></a>3.常量  全部大写的变量名表示常量</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">PI = <span class="number">3.1415</span></span><br></pre></td></tr></table></figure><h3 id="4-python多重赋值-其实就是分装成元组tuple"><a href="#4-python多重赋值-其实就是分装成元组tuple" class="headerlink" title="4.python多重赋值 其实就是分装成元组tuple"></a>4.python多重赋值 其实就是分装成元组tuple</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a,b=<span class="number">1</span>,<span class="number">3</span> <span class="comment"># a=1,b=3</span></span><br><span class="line">[a,b,c]=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>] </span><br><span class="line">(d,e,f) = [<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]</span><br><span class="line">(j,h,k) = (<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>);</span><br></pre></td></tr></table></figure><h2 id="二-数据类型"><a href="#二-数据类型" class="headerlink" title="二.数据类型"></a>二.数据类型</h2><h3 id="0-基本数据类型"><a href="#0-基本数据类型" class="headerlink" title="0.基本数据类型"></a>0.基本数据类型</h3><ul><li><p>Number（数字）</p></li><li><p>String (字符串)</p></li><li><p>List (列表)</p></li><li><p>Tuple (元组)</p></li><li><p>Set (集合)</p></li><li><p>Dictionary (字典)</p></li><li><p>不可变数据类型：Number(数字)、String(字符串)、Tuple(元组)</p></li><li><p>可变数据类型：List(列表)、Dictionary(字典)、Set(集合)</p></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">1&gt; 整型</span><br><span class="line">2&gt; 浮点型</span><br><span class="line">3&gt; 字符串 &apos; &apos;, &quot; &quot;, &apos;&apos;&apos; &apos;&apos;&apos;,r&apos;&apos;不转义, 单双三引号 (三引号可以将里面的单双引号转义输出) &apos;hello&apos;*5 # &apos;hellohello...&apos;</span><br><span class="line">4&gt; 布尔型 True,False （请注意大小写）布尔值可以用and、or和not运算,布尔值其实是转换为0和1可以数字相计算(+,-,*,/)</span><br><span class="line">5&gt; 空值 None</span><br><span class="line">     空值是Python里一个特殊的值，用None表示。None不能理解为0，因为0是有意义的，而None是一个特殊的空值</span><br><span class="line">6&gt; 列表 list   list = [&apos;a&apos;,&apos;b&apos;,&apos;c&apos;,1,2,3]</span><br><span class="line">7&gt; 字典 dict   dict = &#123;&apos;name&apos;:&apos;job&apos;&#125;</span><br></pre></td></tr></table></figure><h3 id="1-数字类型"><a href="#1-数字类型" class="headerlink" title="1. 数字类型"></a>1. 数字类型</h3><p>Python3支持的数字类型有，int、float、bool、complex(复数)。  </p><p>bool为布尔类型，为int型的子类。在Python3中，bool类型有两个值，<br>True和False。其中，True == 1， False == 0。</p><h3 id="2-字符串和编码"><a href="#2-字符串和编码" class="headerlink" title="2.字符串和编码"></a>2.字符串和编码</h3><ol><li>反斜杠可以用来转义，使用r可以让反斜杠不发生转义</li><li>字符串可以用 <code>+</code> 运算符连接在一起，用 <code>*</code> 运算符重复</li><li>Python中的字符串有两种索引方式，从左往右以0开始，从右往左以-1开始</li><li>Python中的字符串，是一个不可变数据类型，所以不能改变</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">1&gt; ord() 获取字符的整数表示 ord(&apos;A&apos;) #65</span><br><span class="line">2&gt; chr() 函数把编码转换为对应的字符chr(66) #b</span><br><span class="line">3&gt; encode() 和 decode() 通过encode()方法可以编码为指定的bytes &apos;ABC&apos;.encode(&apos;utf-8&apos;)</span><br><span class="line">4&gt; len() 计算的是 str 的字符数 如果换成bytes，len()函数就计算字节数</span><br><span class="line">5&gt; %    格式化的字符串 $d,$s,$f,$x   使用%%转义%</span><br><span class="line">    %s表示用字符串替换，%d表示用整数替换，有几个%?占位符，后面就跟几个变量或者值，顺序要对应好。如果只有一个%?，括号可以省略。</span><br><span class="line">     &apos;Hi, %s, you have $%d.&apos; % (&apos;Michael&apos;, 1000000)  # &apos;Hi, Michael, you have $1000000&apos;</span><br><span class="line">strs = &quot;helloworld&quot;</span><br><span class="line">f&apos;hello&#123;name&#125;&apos;可以字符串模版输出</span><br><span class="line">6&gt; .upper() 转换大写，.lower()转换小写，.capitalize()，.title()每个单词首字母大写</span><br><span class="line">7&gt; .find(x,star,end) 返回x开始的索引，没找到返回-1,str.find(&quot;h&quot;,4,-1) # 8  rfind() 反向查找</span><br><span class="line">8&gt; .index(x) 返回x开始的索引，没找到会报错 rindex()</span><br><span class="line">9&gt; .count(str,star,end) 返回str在star和end之间出现的个数</span><br><span class="line">10&gt; .replace(str1,str2,3)查找所有str1字符并替换为str2,指定只替换3个</span><br><span class="line">11&gt; .split(&quot;,&quot;,max) 把strs字符串按指定的&apos;,&apos;分割为列表，分割的元素数量为max,默认为全部</span><br><span class="line">12&gt; .endswitch(&quot;.txt&quot;)检查文件是否以 .txt结束如果是返回True否则返回False...startswitch()</span><br><span class="line">13&gt; .strip(),.lstrip(),rstrip() 去除空格</span><br><span class="line">14&gt; .join(list) &apos;-&apos;.join([&apos;1&apos;,&apos;2&apos;])把列表用指定的字符连接成字符串,注意列表元素不能为数字 # &apos;1-2&apos;</span><br><span class="line">15&gt; .center(40),.ljust(40,&apos;-&apos;),.rjust(40,&apos;-&apos;) 居中、左对齐、右对齐,第一个参数必填</span><br></pre></td></tr></table></figure><h3 id="3-list列表"><a href="#3-list列表" class="headerlink" title="3.list列表"></a>3.list列表</h3><ol><li>List的元素写在方括号中间，以逗号隔开</li><li>和字符串一样，List可以被索引（index）和切片</li><li>List可以使用+操作符进行拼接</li><li>List中的元素是可以改变的</li></ol><p><strong>列表内置的方法</strong>  </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"># 增删改查：</span><br><span class="line">ls = [1,2,3]</span><br><span class="line">1&gt; len(ls) 获取列表的长度 len(ls)  # 3</span><br><span class="line">2&gt; [-1] 获取列表最后一个元素 ls[-1]  # 3</span><br><span class="line">3&gt; .append(ele) 追加元素到末尾 ls.append(&apos;A&apos;)</span><br><span class="line">4&gt; .insert(index, ele) 把ele元素插入到指定index的位置之前 ls.insert(2, &apos;a&apos;) # [1,2,&apos;a&apos;,3]</span><br><span class="line">5&gt; .pop(index) 删除列表最后一个元素 或指定的元素 index 索引 并返回被删除的元素</span><br><span class="line">6&gt; .extend() ls.extend(ls2) 将一个列表和另一个列表合并或ls+ls2</span><br><span class="line">7&gt; in , not in , index(&quot;str&quot;,1,4) in判断元素是否在列表中， index 从开始到结束索引查找str</span><br><span class="line">8&gt; del .pop(index) .remove(ele)  del删除指定元素，pop(i)删除指定下标元素，remove(ele)删除指定值的元素</span><br><span class="line">9&gt; .count(ele)  ls.count(&quot;str&quot;)  查找元素在ls中出现的次数</span><br><span class="line">10&gt; enumerate(ls) 列出索引和值</span><br><span class="line">11&gt; zip(ls,ls2)</span><br><span class="line">12&gt; .sort(key=None, reverse=False) 排序key=int,key=str,key=len</span><br><span class="line">13&gt; .reverse()  反转排序</span><br><span class="line">14&gt; copy()拷贝，引用copy库中的copy.deepcopy(ls)可以进行深拷贝</span><br></pre></td></tr></table></figure><h3 id="4-元组tuple"><a href="#4-元组tuple" class="headerlink" title="4.元组tuple"></a>4.元组tuple</h3><p>tuple和list非常类似，但是tuple一旦初始化就不能修改,List中的增、删、改函数，在Tuple中，全部不可用。<br>tuple = (‘a’,’b’,’c’) 它也没有append()，insert()这样的方法。其他获取元素的方法和list是一样的<br>tuple所谓的“不变”是说，tuple的每个元素，指向永远不变。<br><code>index(),count()</code></p><h3 id="5-字典dict-map"><a href="#5-字典dict-map" class="headerlink" title="5.字典dict(map)"></a>5.字典dict(map)</h3><p>ictionary(字典)是Python中另一个非常有用的内置数据类型。<br>列表是有序对象集合，字典是无序对象集合。<br>两者之前的区别在于，字典是用通过键来存取的，而不是通过偏移（索引）存取的</p><ol><li>字典是一种映射类型，它的元素是键值对</li><li>字典的关键字必须为不可变类型，且不能重复</li><li>创建空字典使用{}</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">必须牢记：key必须是 不可变对象</span><br><span class="line">Python内置了字典：dict的支持，dict全称dictionary，在其他语言中也称为map，使用键-值（key-value）存储，具有极快的查找速度。这个通过key计算位置的算法称为哈希算法（Hash）。</span><br><span class="line">dict内部存放的顺序和key放入的顺序是没有关系的。</span><br><span class="line">创建字典：</span><br><span class="line">d = &#123;&apos;Micheel&apos;: 95, &apos;Bob&apos;: 75, &apos;Tracy&apos;: 85&#125;</span><br><span class="line">d = dict(name = &apos;drink&apos;, age = 22)</span><br><span class="line">d = dict([(&apos;name&apos;,&apos;drink&apos;),(&apos;age&apos;,22)])</span><br><span class="line"></span><br><span class="line">1&gt; in,not in,   Bob in d  === True  # in 判断key是否存在</span><br><span class="line">2&gt; .get() 通过dict提供的get方法，如果key不存在，可以返回None，或者自己指定的返回value：</span><br><span class="line">    d.get(&apos;Thomas&apos;) # None</span><br><span class="line">    d.get(&apos;Thomas&apos;,-1) #-1</span><br><span class="line">3&gt; .pop(key) d.pop(&apos;Bob&apos;) 删除key 并 返回被删除的元素</span><br><span class="line">4&gt; del d[key],.clear() del删除元素，.clear()清除整个字典</span><br><span class="line">5&gt; len(d) 返回字典的长度</span><br><span class="line">6&gt; .keys() , .values() , .items() //keys返回的是键 values返回的是值 items返回k-v的 组成的list列表</span><br><span class="line">7&gt; d.copy()  回一个字典的浅复制</span><br><span class="line">8&gt; d.update(d2)  把字典d2的键值对更新到d里</span><br></pre></td></tr></table></figure><h3 id="7-set-集合"><a href="#7-set-集合" class="headerlink" title="7.set 集合"></a>7.set 集合</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">set和dict类似，也是一组key的集合，但不存储value。由于key不能重复`，所以，在set中，没有重复的key。</span><br><span class="line">返回的数据是不重复并且有序的</span><br><span class="line">s = set([1,2,3,4,3,2,5])</span><br><span class="line">print(s)  // &#123;1,2,3,4,5&#125;</span><br><span class="line">1&gt; .add(key) 可以添加元素到set中，可以重复添加，但不会有效果</span><br><span class="line">    s.add(4)</span><br><span class="line">2&gt; .remove(key) 方法可以删除元素</span><br><span class="line">    s.remove(4)</span><br><span class="line">    print(s) // &#123;1,2,3,5&#125;</span><br><span class="line">    </span><br><span class="line">3&gt; &amp;,|,- 分别返回两个集合的交集、并集，差集</span><br><span class="line">    s1 = set([1,2,3])</span><br><span class="line">    s2 = set([2,3,4])</span><br><span class="line"></span><br><span class="line">    s1 &amp; s2 # 交集&#123;2,3&#125;</span><br><span class="line">    s1 | s2 # 并集&#123;1,2,3,4&#125;</span><br><span class="line">    s1 - s2 # 差集&#123;1&#125;</span><br></pre></td></tr></table></figure><h3 id="8-数据类型检测-isinstance"><a href="#8-数据类型检测-isinstance" class="headerlink" title="8.数据类型检测 isinstance()"></a>8.数据类型检测 isinstance()</h3><pre><code>x = 1;isinstance(x, (int,float)) #True</code></pre><h3 id="6-类型转换"><a href="#6-类型转换" class="headerlink" title="6.类型转换"></a>6.类型转换</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1&gt; int() 将字符串转换成整型 int()输入的是字符串数字，</span><br><span class="line">2&gt; float()</span><br><span class="line">3&gt; str()</span><br><span class="line">4&gt; bool()</span><br></pre></td></tr></table></figure><h3 id="9-可变对象和不可变对象"><a href="#9-可变对象和不可变对象" class="headerlink" title="9.可变对象和不可变对象"></a>9.可变对象和不可变对象</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">列表可以通过引用其元素，改变对象自身(in-place change)。这种对象类型，称为可变数据对象(mutable object)，词典也是这样的数据类型。</span><br><span class="line">而像之前的数字和字符串，不能改变对象本身，只能改变引用的指向，称为不可变数据对象(immutable object)。</span><br><span class="line">我们之前学的元组(tuple)，尽管可以调用引用元素，但不可以赋值，因此不能改变对象自身，所以也算是immutable object.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">1&gt; 不可变对象</span><br><span class="line">    a = &apos;abc&apos;;</span><br><span class="line">    b = a.replace(&apos;a&apos;,&apos;A&apos;)</span><br><span class="line">    print(a)  // &apos;abc&apos;</span><br><span class="line">    要始终牢记的是，a是变量，而&apos;abc&apos;才是字符串对象！有些时候，我们经常说，对象a的内容是&apos;abc&apos;，但其实是指，a本身是一个变量，它指向的对象的内容才是&apos;abc&apos;：</span><br><span class="line"></span><br><span class="line">    当我们调用a.replace(&apos;a&apos;, &apos;A&apos;)时，实际上调用方法replace是作用在字符串对象&apos;abc&apos;上的，而这个方法虽然名字叫replace，但却没有改变字符串&apos;abc&apos;的内容。相反，replace方法创建了一个新字符串&apos;Abc&apos;并返回，如果我们用变量b指向该新字符串，就容易理解了，变量a仍指向原有的字符串&apos;abc&apos;，但变量b却指向新字符串&apos;Abc&apos;了：</span><br><span class="line"></span><br><span class="line">    所以，对于不变对象来说，调用对象自身的任意方法，也不会改变该对象自身的内容。相反，这些方法会创建新的对象并返回，这样，就保证了不可变对象本身永远是不可变的。</span><br><span class="line">2&gt; 可变对象 list，dict</span><br><span class="line">改变对象自身。这种对象类型，称为可变数据对象</span><br></pre></td></tr></table></figure><h2 id="三-运算符与表达式"><a href="#三-运算符与表达式" class="headerlink" title="三.运算符与表达式"></a>三.运算符与表达式</h2><h3 id="1-运算符类型"><a href="#1-运算符类型" class="headerlink" title="1.运算符类型"></a>1.运算符类型</h3><ul><li>1&gt;算数运算符       +,-,<em>,/,%,*</em></li><li>2&gt;赋值运算符       =,+=,-=,*=,/=</li><li>4&gt;比较运算符       &gt;,&lt;,&gt;=,&lt;=,==,===,!=,!==</li><li>6&gt;增量、减量运算符    ++,– </li><li>7&gt;逻辑运算符       &amp;&amp;(and),||(or),xor,!</li><li>8&gt;字符串运算符      +<blockquote><p>a+=a 与 a=a+a不同，a+=a是在元数据上修改，而a=a+a是先定一个变量a然后修改</p></blockquote></li></ul><p>2.运算符的优先级</p><h2 id="四-选择与循环"><a href="#四-选择与循环" class="headerlink" title="四.选择与循环"></a>四.选择与循环</h2><h3 id="1-选择语句"><a href="#1-选择语句" class="headerlink" title="1.选择语句"></a>1.选择语句</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">1&gt; if:else:</span><br><span class="line">    age = 22</span><br><span class="line">    if age &gt;10:</span><br><span class="line">        print(age)</span><br><span class="line">    elif age &lt; 10:</span><br><span class="line">        print(-age)</span><br><span class="line">    else:</span><br><span class="line">        print()</span><br><span class="line">    if x:</span><br><span class="line">        print(True)</span><br><span class="line">    x 非零数值、非空字符串、非空list等，就判断为True</span><br><span class="line">2&gt; 三元：</span><br><span class="line">    h = a-b if a&gt;b else a+b</span><br></pre></td></tr></table></figure><h3 id="2-循环语句"><a href="#2-循环语句" class="headerlink" title="2.循环语句"></a>2.循环语句</h3><ol><li>for…in 循环</li><li>while 循环</li><li>for…in…else</li><li>while…else</li></ol><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">names = [<span class="string">'A'</span>,<span class="string">'B'</span>,<span class="string">'C'</span>]</span><br><span class="line"><span class="keyword">for</span> name <span class="keyword">in</span> names:</span><br><span class="line">    print(name)</span><br><span class="line">sum = <span class="number">0</span></span><br><span class="line"><span class="comment"># list()将 range(101)函数，可以生成一个整数序列 转换成list</span></span><br><span class="line"><span class="comment"># range(0,101) 返回大于0，小于101的有序整数</span></span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> list(range(<span class="number">101</span>)):</span><br><span class="line">    sum = sum + x</span><br><span class="line">    print(sum)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    print(<span class="string">'end'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># for...else异常处理</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> names:</span><br><span class="line">    <span class="keyword">if</span> i == <span class="string">'B'</span>:</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="keyword">raise</span> ValueError(<span class="string">"List argument missing terminal flag."</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 计算100以内所有奇数之和</span></span><br><span class="line">sum = <span class="number">0</span></span><br><span class="line">n = <span class="number">99</span></span><br><span class="line"><span class="keyword">while</span> n &gt; <span class="number">0</span>:</span><br><span class="line">    sum = sum + n</span><br><span class="line">    n = n - <span class="number">2</span></span><br><span class="line">print(sum)</span><br><span class="line"></span><br><span class="line"><span class="comment"># while...else语句</span></span><br><span class="line">count = <span class="number">0</span></span><br><span class="line"><span class="keyword">while</span> count &lt; <span class="number">5</span>:</span><br><span class="line">   <span class="keyword">print</span> count, <span class="string">" is  less than 5"</span></span><br><span class="line">   count = count + <span class="number">1</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">   <span class="keyword">print</span> count, <span class="string">" is not less than 5"</span></span><br></pre></td></tr></table></figure><h3 id="3-break-语句"><a href="#3-break-语句" class="headerlink" title="3.break 语句"></a>3.break 语句</h3><blockquote><p>break语句可以提前退出循环</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">names = [<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>]</span><br><span class="line"><span class="keyword">for</span> name <span class="keyword">in</span> names:</span><br><span class="line">    <span class="keyword">if</span> name == <span class="string">'b'</span>:</span><br><span class="line">        <span class="keyword">break</span> <span class="comment"># 停止循环</span></span><br></pre></td></tr></table></figure><h3 id="4-continue-语句"><a href="#4-continue-语句" class="headerlink" title="4.continue 语句"></a>4.continue 语句</h3><blockquote><p>continue跳过当前的这次循环，直接开始下一次循环</p></blockquote><p>输出奇数  </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>,<span class="number">101</span>): <span class="comment"># 0-100</span></span><br><span class="line">    <span class="keyword">if</span> i%<span class="number">2</span> == <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">continue</span></span><br><span class="line">    print(i) <span class="comment"># 输出奇数</span></span><br></pre></td></tr></table></figure><h2 id="五-函数"><a href="#五-函数" class="headerlink" title="五.函数"></a>五.函数</h2><blockquote><p>函数名其实就是指向一个函数对象的引用，完全可以把函数名赋给一个变量，相当于给这个函数起了一个“别名”<br>Python的函数返回多值其实就是返回一个tuple</p></blockquote><h3 id="1-调用函数"><a href="#1-调用函数" class="headerlink" title="1.调用函数"></a>1.调用函数</h3><p><code>abs(-22)</code> 调用函数时 参数必须与形参一致</p><h3 id="2-自定义函数"><a href="#2-自定义函数" class="headerlink" title="2.自定义函数"></a>2.自定义函数</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 函数定义 ：</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">my_abs</span><span class="params">(num)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> num &gt; <span class="number">0</span>:</span><br><span class="line">        print(num)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        print(-num)</span><br><span class="line"><span class="comment"># 定义空函数 </span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">nop</span><span class="params">()</span>:</span></span><br><span class="line">        <span class="keyword">pass</span></span><br></pre></td></tr></table></figure><h3 id="3-函数的参数"><a href="#3-函数的参数" class="headerlink" title="3.函数的参数"></a>3.函数的参数</h3><ul><li>位置参数</li><li>默认参数</li><li>可变参数</li><li>关键字参数</li><li>命名关键字参数</li></ul><blockquote><p>在 Python 中，所有参数（变量）都是按引用传递<br>如果 参数 是不可变的对象，在函数中不可修改(使用global)<br>参数传递的顺序：<strong>先位置，再关键字，再包裹位置(可变参数)，再包裹关键字</strong>  </p></blockquote><h4 id="1-必选参数"><a href="#1-必选参数" class="headerlink" title="1. 必选参数"></a>1. 必选参数</h4><p>必选参数也叫位置参数,在定义函数形参时候定义，当调用函数时，必须传递相应数量的实参</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fun</span><span class="params">(a,b,c)</span>:</span></span><br><span class="line">    print(a,b,c)</span><br><span class="line">fun(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>) <span class="comment"># 传递实参对应形参顺序</span></span><br><span class="line">fun(<span class="number">1</span>,c=<span class="number">2</span>,b=<span class="number">3</span>) <span class="comment"># 关键字传递参数</span></span><br><span class="line">``` </span><br><span class="line"><span class="comment">#### 2. 默认参数 </span></span><br><span class="line">默然参数必须是在必选参数的后面定义，默认参数必须指向不变对象</span><br><span class="line">```py</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fun</span><span class="params">(a,b=<span class="number">2</span>)</span>:</span></span><br><span class="line">    print(a,b)</span><br><span class="line">fun(<span class="number">3</span>) <span class="comment"># '3','2'</span></span><br><span class="line">fun(<span class="number">3</span>,<span class="number">5</span>) <span class="comment"># '3', '5'</span></span><br><span class="line"><span class="comment"># 定义默认参数要牢记一点：默认参数必须指向不变对象！</span></span><br><span class="line"><span class="comment"># 必选参数在前，默认参数在后</span></span><br><span class="line">``` </span><br><span class="line"><span class="comment">#### 3. 可变参数(包裹参数)</span></span><br><span class="line"></span><br><span class="line">```py   </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fun</span><span class="params">(*number)</span>:</span></span><br><span class="line">    print(number) <span class="comment"># 接收到的是一个 tuple</span></span><br><span class="line">fun(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>) </span><br><span class="line">list = [<span class="number">1</span>,<span class="number">23</span>,<span class="number">3</span>,<span class="number">5</span>]</span><br><span class="line"><span class="comment"># 在list或tuple前面加一个*号，把list或tuple的元素变成可变参数传进去 </span></span><br><span class="line">fun(*list) <span class="comment"># 解包裹传递参数</span></span><br><span class="line">```    </span><br><span class="line"><span class="comment">#### 4. 关键子参数</span></span><br><span class="line"></span><br><span class="line">```py</span><br><span class="line"><span class="comment"># 关键字参数在函数内部自动组装为一个dict</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fun</span><span class="params">(a,b=<span class="number">2</span>,**kw)</span>:</span></span><br><span class="line">    print(a,b,kw) <span class="comment"># 1 2 &#123;'c': 3, 'd': 4&#125; </span></span><br><span class="line">fun(<span class="number">2</span>,c=<span class="number">3</span>,d=<span class="number">4</span>)</span><br><span class="line"></span><br><span class="line">m = &#123;<span class="string">"name"</span>:<span class="string">"zhou"</span>, <span class="string">"age"</span>:<span class="number">22</span>&#125;</span><br><span class="line">fun(<span class="number">2</span>,**m)  <span class="comment"># 解包裹关键字传递</span></span><br><span class="line"><span class="comment"># 注意kw获得的dict是 m 的一份拷贝，对kw的改动不会影响到函数外的m。</span></span><br></pre></td></tr></table></figure><h4 id="5-命名关键字参数"><a href="#5-命名关键字参数" class="headerlink" title="5. 命名关键字参数"></a>5. 命名关键字参数</h4><p>和关键字参数<code>**kw</code>不同，命名关键字参数需要一个特殊分隔符<code>*</code>，<code>*</code>后面的参数被视为命名关键字参数,<br>命名关键字参数必须传入参数名，这和位置参数不同。如果没有传入参数名，调用将报错</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 如果要限制关键字参数的名字，就可以用命名关键字参数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">person</span><span class="params">(name, age, *, city, job)</span>:</span></span><br><span class="line">    print(name, age, city, job)</span><br><span class="line"></span><br><span class="line">person(<span class="string">'Tom'</span>,<span class="number">22</span>,city=<span class="string">'us'</span>,job=<span class="string">'pyer'</span>) <span class="comment"># 正确</span></span><br><span class="line">person(<span class="string">'Tom'</span>,<span class="number">22</span>,<span class="string">'us'</span>,<span class="string">'pyer'</span>) <span class="comment"># 报错</span></span><br></pre></td></tr></table></figure><p>如果函数定义中已经有了一个可变参数，后面跟着的命名关键字参数就不再需要一个特殊分隔符<code>*</code>了：  </p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">person</span><span class="params">(name, age, *args, city, job)</span>:</span></span><br><span class="line">    print(name, age, args, city, job)</span><br><span class="line">person(<span class="string">'Tom'</span>,<span class="number">22</span>,city=<span class="string">'us'</span>,job=<span class="string">'pyer'</span>) <span class="comment"># Tom 22 () us pyer</span></span><br></pre></td></tr></table></figure><p>如果命名关键字参数具有默认值，调用时，可不传入city参数  </p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">person</span><span class="params">(name, age, *, city=<span class="string">'Beijing'</span>, job)</span>:</span></span><br><span class="line">    print(name, age, city, job)</span><br><span class="line">person(<span class="string">'Jack'</span>, <span class="number">24</span>, job=<span class="string">'Engineer'</span>) <span class="comment"># Jack 24 Beijing Engineer</span></span><br></pre></td></tr></table></figure><h3 id="4-递归函数"><a href="#4-递归函数" class="headerlink" title="4.递归函数"></a>4.递归函数</h3><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 在函数内部，可以调用其他函数。如果一个函数在内部调用自身本身，这个函数就是递归函数。</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fact</span><span class="params">(n)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> n ==<span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> n*fact(n<span class="number">-1</span>)</span><br></pre></td></tr></table></figure><h2 id="六-面向对象"><a href="#六-面向对象" class="headerlink" title="六.面向对象"></a>六.面向对象</h2><blockquote><p>当创建一个类时，在内存中也以类对象存在，当实例一个对象时，实例对象 不具有任何<br>的属性和方法 但是 包含对类的引用，当实例对象调用方法时，其实是通过引用 类对象里<br>的方法或属性 ，在类中创建的属性是属于类的，而在方法中创建的属性是属于每个实例对象的<br>类是与JavaScript中的原型继承<br>可以通过类名的方式获取类属性，但不能获取<strong>init</strong>方法里的实例属性</p></blockquote><p><strong>面向对象的3大特性</strong>  </p><ol><li>封装</li><li>继承</li><li>多态</li></ol><h3 id="1-创建类："><a href="#1-创建类：" class="headerlink" title="1.创建类："></a>1.创建类：</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建类</span></span><br><span class="line">```python</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self,name,age)</span>:</span></span><br><span class="line">        self.name = name</span><br><span class="line">        self.age = age</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">print_info</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">'%s : %s'</span> % (self.name, self.age))</span><br></pre></td></tr></table></figure><h3 id="2-实例对象："><a href="#2-实例对象：" class="headerlink" title="2.实例对象："></a>2.实例对象：</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 实例类的对象</span></span><br><span class="line">stu1 = Student(<span class="string">'zhou'</span>,<span class="string">'22'</span>)</span><br><span class="line">stu2 = Student(<span class="string">'hao'</span>,<span class="string">'23'</span>)</span><br><span class="line">stu1.print_info()</span><br></pre></td></tr></table></figure><p>通过方法修改数据，不要直接对象修改数据</p><h3 id="3-访问限制-‘-’"><a href="#3-访问限制-‘-’" class="headerlink" title="3.访问限制 ‘__’"></a>3.访问限制 ‘__’</h3><p><strong>1. 私有属性 ‘__’</strong>   </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 实例的变量名如果以__开头，就变成了一个私有变量（private）</span></span><br><span class="line"><span class="comment"># __name __func</span></span><br><span class="line"><span class="comment"># 私有属性，不能继承</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, name, age)</span>:</span></span><br><span class="line">        <span class="comment"># 定义 name 和 age 为私有属性</span></span><br><span class="line">        self.__name = name</span><br><span class="line">        self.__age = age</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">print_info</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">'$s : $s'</span> % (self.__name, self.__age))</span><br><span class="line">    <span class="comment"># 定义 获取 私有属性方法</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_name</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self.__name</span><br><span class="line">    <span class="comment"># 定义 修改 私有属性方法</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">set_name</span><span class="params">(self, name)</span>:</span></span><br><span class="line">        self.__name = name</span><br><span class="line">        <span class="comment"># 原先那种直接通过bart.score = 59也可以修改啊，为什么要定义一个方法大费周折？</span></span><br><span class="line">        <span class="comment"># 因为在方法中，可以对参数做检查，避免传入无效的参数</span></span><br></pre></td></tr></table></figure><p><strong>2. 特殊变量 ‘<strong>xxx</strong>‘</strong><br>在Python中，变量名类似<code>__xxx__</code>的，也就是以双下划线开头，并且以双下划线结尾的，是特殊变量，<br>特殊变量是可以直接访问的，不是private变量，所以，不能用<code>__name__</code>、<code>__score__</code>这样的变量名。<br><code>__name</code>虽然是private的变量，但是依然可以在外部以<code>_Student_name</code>的形式访问到<br><strong>3&gt; 魔术方法</strong>  </p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">__str__(self)  <span class="comment"># 打印对象时候，打印__str__()方法返回的内容  </span></span><br><span class="line">__init__(self) <span class="comment"># 初始化  </span></span><br><span class="line">__del__(self) <span class="comment"># 对象结束之前  </span></span><br><span class="line">__slots__  <span class="comment"># 限制实例的属性，定义的属性仅对当前类实例起作用，对继承的子类是不起作用的</span></span><br></pre></td></tr></table></figure><p><strong>4. 类属性和类方法</strong>  </p><ul><li>直接在类中定义的属性为类属性</li><li>在类中定义的方法都是 实例对象 的方法，如果先用<code>@classmethod</code> 然后定义就成了类方法，类方法传递一个<code>cls</code>参数，<code>cls</code>表示类对象本身。  </li><li>类属性和方法对实例对象是共享的。</li></ul><ul><li>类对象，可以在外部直接调用类属性(除私有)，也可以外部直接调用类方法(除私有)</li><li>但是类对象，不允许访问 实例属性，并且也不允许调用实例方法</li><li>如果是一个实例对象，它可以获取实例属性和类属性的值，但是只能修改实例属性</li><li>不能修改类属性，会覆盖类属性</li><li>它还可以调用 实例方法 和 类方法</li></ul><ul><li><input checked disabled type="checkbox"> <strong>在类内部</strong>，<strong>类方法</strong>中可以访问类的属性和方法(<strong>包括私有的</strong>)，但是不能访问实例的属性和方法(<strong>无论共私</strong>) </li></ul><p><strong>实例方法</strong>中可以访问实例的属性和方法也可以访问类的属性和方法<br>如果实例属性和类属性有相同的，则实例属性覆盖类属性  <br></p><ul><li><input checked disabled type="checkbox"> <strong>在类外部</strong>，<strong>类对象</strong>只能访问类属性和方法(<strong>不能访问私有的</strong>)，也不能访问实例的属性和方法 </li></ul><p><strong>实例对象</strong>可以访问实例的属性和方法(<strong>不能访问私有的</strong>)也可以访问类的属性和方法(<strong>不能访问私有的</strong>)<br>如果实例属性和类属性有相同的，则实例属性覆盖类属性</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="comment"># 定义类属性a 和 类私有属性__b</span></span><br><span class="line">a = <span class="string">'a'</span></span><br><span class="line">    __b = <span class="string">'_b'</span></span><br><span class="line">    num = <span class="number">1</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="comment"># 定义实例属性c 和 实例私有属性__d</span></span><br><span class="line">        self.c =  <span class="string">'c'</span></span><br><span class="line">        self.__d = <span class="string">'_d'</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">say</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">'实例方法能访问实例属性：'</span> + self.c)</span><br><span class="line">        print(<span class="string">'实例方法能访问实例私有属性：'</span> + self.__d)</span><br><span class="line">        print(<span class="string">'实例方法能访问类属性：'</span> + self.a)</span><br><span class="line">        print(<span class="string">'实例方法能访问类私有属性：'</span> + self.__b)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__psay</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    <span class="comment"># 定义类方法</span></span><br><span class="line">    <span class="comment"># cls 代表当前 类</span></span><br><span class="line"><span class="meta">    @classmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">run</span><span class="params">(cls)</span>:</span></span><br><span class="line">        <span class="comment"># print('类方法不能访问实例属性' + self.c) 报错不能找到</span></span><br><span class="line">        <span class="comment"># print('类方法不能访问实例私有属性' + self.__d) 报错不能找到</span></span><br><span class="line">        print(<span class="string">'类方法能访问类属性'</span> + cls.a)</span><br><span class="line">        print(<span class="string">'类方法能访问类私有属性'</span> + cls.__b)</span><br><span class="line">        print(Person.__b)</span><br><span class="line"></span><br><span class="line"><span class="meta">@classmethod</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">setNum</span><span class="params">(cls)</span>:</span></span><br><span class="line">cls.num+=<span class="number">1</span></span><br><span class="line">p = Person()</span><br><span class="line">p1 = Person()</span><br></pre></td></tr></table></figure><p><strong>5. 静态方法</strong><br>使用<code>@staticmethod</code> 定义方法为静态方法<br>都可以修改属性，都不允许直接调用 实例 对象的方法</p><p><strong>6. <code>@property</code> 装饰器 负责把一个方法变成属性调用</strong><br>@property的实现比较复杂，我们先考察如何使用。把一个getter方法变成属性，<br>只需要加上@property就可以了，此时，<code>@property</code> 本身又创建了另一个装饰器 <code>@score.setter</code>，<br>负责把一个<code>setter</code>方法变成属性赋值，于是，我们就拥有一个可控的属性操作</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span><span class="params">(object)</span>:</span></span><br><span class="line"><span class="meta">    @property</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">score</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self._score</span><br><span class="line"><span class="meta">    @score.setter</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">score</span><span class="params">(self, value)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> isinstance(value, int):</span><br><span class="line">            <span class="keyword">raise</span> ValueError(<span class="string">'score must be an integer!'</span>)</span><br><span class="line">        <span class="keyword">if</span> value &lt; <span class="number">0</span> <span class="keyword">or</span> value &gt; <span class="number">100</span>:</span><br><span class="line">            <span class="keyword">raise</span> ValueError(<span class="string">'score must between 0 ~ 100!'</span>)</span><br><span class="line">        self._score = value</span><br><span class="line">s = Student()</span><br><span class="line">s.score = <span class="number">60</span> <span class="comment"># OK</span></span><br><span class="line">s.score = <span class="number">999</span> <span class="comment"># 报错</span></span><br><span class="line">print(s.score) <span class="comment"># 60</span></span><br></pre></td></tr></table></figure><h3 id="4-继承和多态"><a href="#4-继承和多态" class="headerlink" title="4.继承和多态"></a>4.继承和多态</h3><p><strong>1. 继承：</strong>  </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span>  <span class="title">Animal</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">run</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">'animal is runing...'</span>)</span><br><span class="line"><span class="comment"># Dog 继承 Animal</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span><span class="params">(Animal)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">run</span><span class="params">(self)</span>:</span></span><br><span class="line">    Animal.run(self) <span class="comment">#或 super().run()</span></span><br><span class="line">        print(<span class="string">'dog is runing...'</span>)</span><br><span class="line"><span class="comment"># 多继承：</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">C</span><span class="params">(A, B)</span>:</span></span><br><span class="line"><span class="keyword">pass</span></span><br></pre></td></tr></table></figure><p><strong>2. 多态：</strong>  </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">dog = Dog()</span><br><span class="line">dog.run()</span><br><span class="line"><span class="comment">#当子类和父类都存在相同的run()方法时，我们说，子类的run()覆盖了父类的run()，在代码运行的时候，总是会调用子类的run()。这样，我们就获得了继承的另一个好处：多态。</span></span><br></pre></td></tr></table></figure><p><strong>3. isinstance() 判断一个变量是否是某个类型</strong>  </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">a = list()</span><br><span class="line">isinstance(a,list) <span class="comment"># True</span></span><br><span class="line">isinstance(dog,Dog) <span class="comment"># True</span></span><br><span class="line">isinstance(dog,Animal) <span class="comment"># True</span></span><br><span class="line">“开闭”原则：</span><br><span class="line">对扩展开放：允许新增Animal子类；</span><br><span class="line">对修改封闭：不需要修改依赖Animal类型的run_twice()等函数。</span><br></pre></td></tr></table></figure><p><strong>4. C.<strong>mro</strong> # python3返回C类的继承顺序</strong><br><strong>5. 多继承 MixIn的目的就是给一个类增加多个功能</strong>  </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Bat</span><span class="params">(Mammal, Flyable)</span>:</span></span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure><h3 id="5-获取对象信息"><a href="#5-获取对象信息" class="headerlink" title="5.获取对象信息"></a>5.获取对象信息</h3><p><strong>1. type() 判断对象类型</strong>  </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">type(<span class="number">123</span>)  <span class="comment"># &lt;type 'int'&gt;</span></span><br><span class="line">type(<span class="string">'str'</span>) <span class="comment"># &lt;type 'str'&gt;</span></span><br><span class="line">type(<span class="literal">None</span>)  <span class="comment"># &lt;type 'NoneType'&gt;</span></span><br><span class="line">type(<span class="string">''</span>)</span><br><span class="line">types模块</span><br><span class="line"><span class="keyword">import</span> types</span><br><span class="line">type(<span class="string">'abc'</span>) == types.StringType</span><br><span class="line">type(<span class="string">u'abc'</span>) == types.UnicodeType</span><br><span class="line">type([]) == types.ListType</span><br><span class="line">type(str) == types.TypeType</span><br></pre></td></tr></table></figure><p><strong>2. isinstance() 一个对象是否是某种类型 或者位于该类型的父继承链上</strong>  </p><p><strong>3. 使用dir() 获得一个对象的所有属性和方法,返回list</strong> </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 其中__len__方法返回长度  len()方法实际是调用内部__len()__</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">My_dog</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__len__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">100</span></span><br><span class="line">dog = My_dog()</span><br><span class="line">len(dog) //<span class="number">100</span></span><br></pre></td></tr></table></figure><p><strong>4. getattr(obj,’x’,404),setattr(obj,’x’,22),hasattr(obj,’y’)</strong>  </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyDog</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.x = <span class="number">9</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">power</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self.x * self.x</span><br><span class="line">obj = MyDog()</span><br><span class="line">hasattr(obj,<span class="string">'x'</span>)    <span class="comment"># True</span></span><br><span class="line">hasattr(obj,<span class="string">'y'</span>)    <span class="comment"># False</span></span><br><span class="line">setattr(obj,<span class="string">'y'</span>,<span class="number">19</span>)</span><br><span class="line">hasattr(obj,<span class="string">'y'</span>)    <span class="comment"># True</span></span><br><span class="line">getattr(obj,<span class="string">'y'</span>)    <span class="comment"># 19</span></span><br></pre></td></tr></table></figure><h3 id="6-实例属性和类的属性"><a href="#6-实例属性和类的属性" class="headerlink" title="6.实例属性和类的属性"></a>6.实例属性和类的属性</h3><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span><span class="params">(object)</span>:</span></span><br><span class="line">    name = <span class="string">'student'</span></span><br><span class="line">s = Student()</span><br><span class="line">print(s.name)   <span class="comment"># 'student'</span></span><br><span class="line">print(Student.name) <span class="comment"># 'student'</span></span><br><span class="line">s.name = <span class="string">'zhou'</span></span><br><span class="line">print(s.name)   <span class="comment"># 'zhou'</span></span><br><span class="line">print(Student.name) <span class="comment"># 'student'</span></span><br><span class="line"><span class="keyword">del</span> s.name</span><br><span class="line">print(s.name) <span class="comment"># 'student'</span></span><br></pre></td></tr></table></figure><blockquote><p>在编写程序的时候，千万不要把实例属性和类属性使用相同的名字，<br>因为相同名称的实例属性将屏蔽掉类属性，<br>但是当你删除实例属性后，再使用相同的名称，访问到的将是类属性’</p></blockquote><blockquote><p>在Python中变量的赋值是，先创建一个内存然后把数据存放在内存中，<br>把内存的 地址(指针) 赋值给这个变量。</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">a = 100</span><br><span class="line">b = a a 和 b指向的是同一个内存</span><br><span class="line">a = 200 a的地址改变 引用计数就为0 这样就会被垃圾回收器 回收</span><br><span class="line">理解：</span><br><span class="line">就像一个房子(内存)，里面有电视，床。。。(数据)，然后这个房子有个名字A，</span><br><span class="line">A里面存的是这个房子的位置(地址)，所以A就是这个房子的引用，现在我把B = A</span><br><span class="line">就是把A的位置给了B所以就有 A和B是这个房子的不同的名字，就好像同一个人，有</span><br><span class="line">不同的外号一样，都指的是同一个人</span><br><span class="line">在python中 分为可变数据(列表，字典)和不可变数据(字符串，数字,元祖,布尔..)</span><br><span class="line">如果是不可变数据 改变 A 的值，实际上是改变A的指向(地址)</span><br><span class="line">如果是可变数据，改变B中的元素(增加了家具) A 中的元素也会被改变</span><br></pre></td></tr></table></figure><h2 id="七-异常"><a href="#七-异常" class="headerlink" title="七.异常"></a>七.异常</h2><p><a href="https://blog.csdn.net/Karen_Yu_/article/details/78629918" target="_blank" rel="noopener">python所有的标准异常类</a>  </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">num = <span class="number">100</span></span><br><span class="line"><span class="keyword">except</span> (IOError,NameError) <span class="keyword">as</span> error:</span><br><span class="line">print(<span class="string">"出错了"</span>)</span><br><span class="line">print(error)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">print(<span class="string">'没出错'</span>)</span><br><span class="line"><span class="keyword">finally</span>:</span><br><span class="line">print(<span class="string">"不管出没出错"</span>)</span><br><span class="line">f.close()</span><br><span class="line">print(<span class="string">'end'</span>)</span><br><span class="line"><span class="comment"># 捕获所有异常</span></span><br><span class="line"><span class="comment"># 这个将会捕获除了 SystemExit 、 KeyboardInterrupt 和 GeneratorExit 之外的所有异常。 如果你还想捕获这三个异常，将 Exception 改成 BaseException 即可。</span></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"><span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">    print(e)</span><br><span class="line"><span class="comment"># trackback 模块</span></span><br><span class="line"><span class="comment"># 用来精确模仿 python3 解析器的 stack trace 行为。</span></span><br><span class="line"><span class="comment"># 在程序中应该尽量使用这个模块。</span></span><br><span class="line"><span class="keyword">import</span> traceback</span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"><span class="keyword">except</span>:</span><br><span class="line">    traceback.print_exc() <span class="comment"># 输出详细的错误异常信息</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 自定义异常  </span></span><br><span class="line"><span class="comment"># raise 强制引发异常。一旦执行了raise 语句，raise后面的语句将不能执行</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ShortInputException</span><span class="params">(Exception)</span>:</span></span><br><span class="line"><span class="string">""" 定义的异常类 """</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, length, atleast)</span>:</span></span><br><span class="line">Exception.__init__(self)</span><br><span class="line">self.length = length</span><br><span class="line">self.atleast = atleast</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span>: </span><br><span class="line"><span class="keyword">if</span> len(s) &lt; <span class="number">3</span>:</span><br><span class="line"><span class="comment"># 产生异常</span></span><br><span class="line"><span class="keyword">raise</span> ShortInputException(len(s), <span class="number">3</span>)</span><br><span class="line"><span class="keyword">except</span> EoFError:</span><br><span class="line"><span class="keyword">pass</span></span><br><span class="line"><span class="keyword">except</span> ShortInputException, x: <span class="comment"># x绑定到了错误实例</span></span><br><span class="line">print()</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">print(<span class="string">"没有实现异常"</span>)</span><br></pre></td></tr></table></figure><pre><code class="py">iterable    [<span class="string">'itəreibl'</span>] <span class="comment"># 可迭代的  </span>iterator    [<span class="string">'itəreitə'</span>] <span class="comment"># 迭代器  </span>generator   [<span class="string">'dʒenəreɪtə(r)'</span>] <span class="comment"># 生成器  </span><span class="keyword">yield</span>       [ji:ld]  isinstance()  StopIteration  </code></pre>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSS网格Grid布局</title>
      <link href="/CSS%E7%BD%91%E6%A0%BCGrid%E5%B8%83%E5%B1%80/"/>
      <url>/CSS%E7%BD%91%E6%A0%BCGrid%E5%B8%83%E5%B1%80/</url>
      
        <content type="html"><![CDATA[<h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>CSS Grid 布局是 CSS 中最强大的布局系统。与 flexbox 的一维布局系统不同，CSS Grid 布局是一个二维布局系统，也就意味着它可以同时处理列和行。通过将 CSS 规则应用于 父元素 (成为 Grid Container 网格容器)和其 子元素（成为 Grid Items 网格项），你就可以轻松使用 Grid(网格) 布局。<br>CSS Grid(网格) 布局（又称为 “Grid(网格)” ），是一个二维的基于网格的布局系统它的目标是完全改变我们基于网格的用户界面的布局方式。<br><a href="https://caniuse.com/#feat=css-grid" target="_blank" rel="noopener">浏览器兼容支持</a></p><a id="more"></a><h2 id="重要术语"><a href="#重要术语" class="headerlink" title="重要术语"></a>重要术语</h2><ul><li>网格容器(Grid Container)</li><li>网格项(Grid Item)</li><li>网格线(Grid Line)</li><li>网格轨道(Grid Track)</li><li>网格单元(Grid Cell)</li><li>网格区域(Grid Area)<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item item-1"</span>&gt;</span>item1<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item item-2"</span>&gt;</span>item2<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item item-3"</span>&gt;</span>item3<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ul><h2 id="网格容器属性"><a href="#网格容器属性" class="headerlink" title="网格容器属性"></a>网格容器属性</h2><ol><li>display</li><li>grid-template-columns</li><li>grid-template-rows</li><li>grid-template-areas</li><li>grid-template</li><li>grid-column-gap</li><li>grid-row-gap</li><li>grid-gap</li><li>justify-items</li><li>align-items</li><li>justify-content</li><li>align-content</li><li>grid-auto-columns</li><li>grid-auto-rows</li><li>grid-auto-flow</li><li>grid</li></ol><h2 id="网格项目属性"><a href="#网格项目属性" class="headerlink" title="网格项目属性"></a>网格项目属性</h2><ol><li>grid-column-start</li><li>grid-column-end</li><li>grid-row-start</li><li>grid-row-end</li><li>grid-column</li><li>grid-row</li><li>grid-area</li><li>justify-self</li><li>align-self</li></ol><h2 id="推荐"><a href="#推荐" class="headerlink" title="推荐"></a>推荐</h2><ul><li><a href="http://www.css88.com/archives/8510/comment-page-1" target="_blank" rel="noopener">CSS Grid 布局完全指南(图解 Grid 详细教程)</a>  </li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/CSS_Grid_Layout" target="_blank" rel="noopener">MDN 网格布局教程</a>  </li><li><a href="https://www.cnblogs.com/QianBoy/p/8626176.html" target="_blank" rel="noopener">CSS Grid 网格布局全解析</a>  </li><li><a href="http://www.css88.com/archives/8512" target="_blank" rel="noopener">如何使用 CSS Grid 快速而又灵活的布局</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> CSS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CSS </tag>
            
            <tag> 布局 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue-04学习笔记-动画</title>
      <link href="/Vue-04%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E5%8A%A8%E7%94%BB/"/>
      <url>/Vue-04%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E5%8A%A8%E7%94%BB/</url>
      
        <content type="html"><![CDATA[<h2 id="Vue中css动画原理"><a href="#Vue中css动画原理" class="headerlink" title="Vue中css动画原理"></a>Vue中css动画原理</h2><ul><li>过度动画效果</li></ul><p><strong><code>&lt;transition&gt;过度动画</code></strong><br>首先点击按钮的时候，页面即将被显示，当还没有显示，动画运行要第一帧的时候<br>fade-enter和fade-enter-active一起存在，当动画运行到第二帧的时候，vue把<br>fade-enter给移除了</p><a id="more"></a><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">    <span class="selector-class">.fade-enter</span>, <span class="selector-class">.fade-leave-to</span> &#123;</span></span><br><span class="line">        opacity: 0;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="css">    <span class="selector-class">.fade-enter-active</span>, <span class="selector-class">.fade-leave-active</span> &#123;</span></span><br><span class="line">        transition: opacity 2s;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">transition</span> <span class="attr">name</span>=<span class="string">"fade"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-if</span>=<span class="string">"show"</span>&gt;</span>hello world<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">transition</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">"handleClick"</span>&gt;</span>切换<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="actionscript">        el: <span class="string">'#app'</span>,</span></span><br><span class="line">        data: &#123;</span><br><span class="line"><span class="actionscript">            show: <span class="literal">true</span></span></span><br><span class="line">        &#125;,</span><br><span class="line">        methods: &#123;</span><br><span class="line"><span class="actionscript">            handleClick: <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">                <span class="keyword">this</span>.show = !<span class="keyword">this</span>.show;</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="Vue中使用animate-css库"><a href="#Vue中使用animate-css库" class="headerlink" title="Vue中使用animate.css库"></a>Vue中使用animate.css库</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">transition</span> <span class="attr">name</span>=<span class="string">"fade"</span> <span class="attr">enter-active-class</span>=<span class="string">"animated swing"</span> <span class="attr">leave-active-class</span>=<span class="string">"animated shake"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-show</span>=<span class="string">"show"</span>&gt;</span>hello world<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">transition</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="在vue中同时使用过度和动画"><a href="#在vue中同时使用过度和动画" class="headerlink" title="在vue中同时使用过度和动画"></a>在vue中同时使用过度和动画</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">    <span class="selector-class">.fade-enter</span>, <span class="selector-class">.fade-leave-to</span> &#123;</span></span><br><span class="line">        opacity: 0;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="css">    <span class="selector-class">.fade-enter-active</span>, <span class="selector-class">.fade-leave-active</span> &#123;</span></span><br><span class="line">        transition: opacity 3s;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">transition</span> </span></span><br><span class="line"><span class="tag">    <span class="attr">type</span>=<span class="string">"transition"</span> //设置动画时间与哪个为准</span></span><br><span class="line"><span class="tag">    <span class="attr">:duration</span>=<span class="string">"&#123;enter: 5000, leave: 5000&#125;"</span>  // <span class="attr">:duration</span>=<span class="string">"5000"</span> 自定义时间</span></span><br><span class="line"><span class="tag">    <span class="attr">name</span>=<span class="string">"fade"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">enter-active-class</span>=<span class="string">"animated swing fade-enter-active"</span> </span></span><br><span class="line"><span class="tag">    <span class="attr">leave-active-class</span>=<span class="string">"animated shake fade-leave-active"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">appear</span> //设置初始动画以<span class="attr">appear</span></span></span><br><span class="line"><span class="tag">    <span class="attr">appear-active-class</span>=<span class="string">"animated swing"</span> // 设置初始的动画效果</span></span><br><span class="line"><span class="tag">    &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-show</span>=<span class="string">"show"</span>&gt;</span>hello world<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">transition</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="Vue中的Js动画与Velocity-js库的结合"><a href="#Vue中的Js动画与Velocity-js库的结合" class="headerlink" title="Vue中的Js动画与Velocity.js库的结合"></a>Vue中的Js动画与Velocity.js库的结合</h2><h3 id="动画钩子函数"><a href="#动画钩子函数" class="headerlink" title="动画钩子函数"></a>动画钩子函数</h3><p><strong>入场动画</strong>   </p><ul><li>@beforeEnter 动画执行之前</li><li>@enter 动画开始执行</li><li>@after-enter 动画执行完 当done执行完后执行</li></ul><p><strong>出场动画</strong>  </p><blockquote><p>通入场动画一致</p></blockquote><ul><li>@before-leave</li><li>@leave</li><li>@after-leave</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">transition</span> </span></span><br><span class="line"><span class="tag">            <span class="attr">name</span>=<span class="string">"fade"</span></span></span><br><span class="line"><span class="tag">            @<span class="attr">before-enter</span>=<span class="string">"handleBeforeEnter"</span></span></span><br><span class="line"><span class="tag">            @<span class="attr">enter</span>=<span class="string">"handleEnter"</span></span></span><br><span class="line"><span class="tag">            @<span class="attr">after-enter</span>=<span class="string">"handleAfterEnter"</span></span></span><br><span class="line"><span class="tag">        &gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-show</span>=<span class="string">"show"</span>&gt;</span>hello world<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">transition</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">"handleClick"</span>&gt;</span>切换<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"vue.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="actionscript">        el: <span class="string">'#app'</span>,</span></span><br><span class="line">        data: &#123;</span><br><span class="line"><span class="actionscript">            show: <span class="literal">true</span></span></span><br><span class="line">        &#125;,</span><br><span class="line">        methods: &#123;</span><br><span class="line"><span class="actionscript">            handleClick: <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">                <span class="keyword">this</span>.show = !<span class="keyword">this</span>.show;</span></span><br><span class="line">            &#125;,</span><br><span class="line"><span class="actionscript">            handleBeforeEnter: <span class="function"><span class="keyword">function</span><span class="params">(el)</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">                el.style.color = <span class="string">'red'</span>;</span></span><br><span class="line">            &#125;,</span><br><span class="line"><span class="actionscript">            handleEnter: <span class="function"><span class="keyword">function</span><span class="params">(el, done)</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">                setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="actionscript">                    el.style.color = <span class="string">'green'</span>;</span></span><br><span class="line"><span class="actionscript">                &#125;, <span class="number">2000</span>);<span class="comment">// 2s后执行</span></span></span><br><span class="line"><span class="javascript">                setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="actionscript">                    done() <span class="comment">// 4s后执行done告诉vue动画结束，可以开始执行@after-enter</span></span></span><br><span class="line">                &#125;, 4000);</span><br><span class="line">            &#125;,</span><br><span class="line"><span class="actionscript">            handleAfterEnter: <span class="function"><span class="keyword">function</span><span class="params">(el)</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">                el.style.color = <span class="string">'blue'</span>;</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="velocity-js的使用"><a href="#velocity-js的使用" class="headerlink" title="velocity.js的使用"></a>velocity.js的使用</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"vue.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"velocity.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="actionscript">        el: <span class="string">'#app'</span>,</span></span><br><span class="line">        data: &#123;</span><br><span class="line"><span class="actionscript">            show: <span class="literal">true</span></span></span><br><span class="line">        &#125;,</span><br><span class="line">        methods: &#123;</span><br><span class="line"><span class="actionscript">            handleClick: <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">                <span class="keyword">this</span>.show = !<span class="keyword">this</span>.show;</span></span><br><span class="line">            &#125;,</span><br><span class="line"><span class="actionscript">            handleBeforeEnter: <span class="function"><span class="keyword">function</span><span class="params">(el)</span> </span>&#123;</span></span><br><span class="line">               el.style.opacity = 0;</span><br><span class="line">            &#125;,</span><br><span class="line"><span class="actionscript">            handleEnter: <span class="function"><span class="keyword">function</span><span class="params">(el, done)</span> </span>&#123;</span></span><br><span class="line">                Velocity(el, &#123;</span><br><span class="line"><span class="actionscript">                    opacity: <span class="number">1</span> <span class="comment">//执行的动画</span></span></span><br><span class="line">                &#125;,&#123;</span><br><span class="line"><span class="actionscript">                    duration: <span class="number">1000</span>, <span class="comment">// 动画时间</span></span></span><br><span class="line"><span class="actionscript">                    complete: done <span class="comment">//动画完成后执行done</span></span></span><br><span class="line">                &#125;)</span><br><span class="line">            &#125;,</span><br><span class="line"><span class="actionscript">            handleAfterEnter: <span class="function"><span class="keyword">function</span><span class="params">(el)</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="built_in">console</span>.log(<span class="string">'动画结束！'</span>)</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="Vue中多个元素或多个组件的过度"><a href="#Vue中多个元素或多个组件的过度" class="headerlink" title="Vue中多个元素或多个组件的过度"></a>Vue中多个元素或多个组件的过度</h2><ul><li>给每一个元素添加一个不同的key</li><li>使用<code>&lt;component :is=&quot;组件名&quot;&gt;&lt;/component&gt;</code>动态组件<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">    <span class="selector-class">.fade-enter</span>, <span class="selector-class">.fade-leave-to</span> &#123;</span></span><br><span class="line">        opacity: 0;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="css">    <span class="selector-class">.fade-enter-active</span>, <span class="selector-class">.fade-leave-active</span> &#123;</span></span><br><span class="line">        transition: opacity 1s;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">transition</span> <span class="attr">name</span>=<span class="string">"fade"</span> <span class="attr">mode</span>=<span class="string">"in-out"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">component</span> <span class="attr">:is</span>=<span class="string">"type"</span>&gt;</span><span class="tag">&lt;/<span class="name">component</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- &lt;child-one v-if="show"&gt;&lt;/child-one&gt;</span></span><br><span class="line"><span class="comment">            &lt;child-two v-else&gt;&lt;/child-two&gt; --&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--           &lt;div v-if="show" key="hello"&gt;hello world&lt;/div&gt;</span></span><br><span class="line"><span class="comment">            &lt;div v-else key="bye"&gt;Bye world&lt;/div&gt; --&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">transition</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">"handleClick"</span>&gt;</span>切换<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"vue.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">    Vue.component(<span class="string">'child-one'</span>, &#123;</span></span><br><span class="line"><span class="handlebars"><span class="xml">        template: '<span class="tag">&lt;<span class="name">div</span>&gt;</span>child-one<span class="tag">&lt;/<span class="name">div</span>&gt;</span>'</span></span></span><br><span class="line">    &#125;)</span><br><span class="line"><span class="actionscript">    Vue.component(<span class="string">'child-two'</span>, &#123;</span></span><br><span class="line"><span class="handlebars"><span class="xml">        template: '<span class="tag">&lt;<span class="name">div</span>&gt;</span>child-two<span class="tag">&lt;/<span class="name">div</span>&gt;</span>'</span></span></span><br><span class="line">    &#125;)</span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="actionscript">        el: <span class="string">'#app'</span>,</span></span><br><span class="line">        data: &#123;</span><br><span class="line"><span class="actionscript">            show: <span class="literal">true</span>,</span></span><br><span class="line"><span class="actionscript">            type: <span class="string">'child-one'</span></span></span><br><span class="line">        &#125;,</span><br><span class="line">        methods: &#123;</span><br><span class="line"><span class="actionscript">            handleClick: <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">                <span class="keyword">this</span>.show = !<span class="keyword">this</span>.show;</span></span><br><span class="line"><span class="actionscript">                <span class="keyword">this</span>.type = <span class="keyword">this</span>.type == <span class="string">'child-one'</span>? <span class="string">'child-two'</span> : <span class="string">'child-one'</span></span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ul><h2 id="vue中的列表过度"><a href="#vue中的列表过度" class="headerlink" title="vue中的列表过度"></a>vue中的列表过度</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">    <span class="selector-class">.fade-enter</span>, <span class="selector-class">.fade-leave-to</span> &#123;</span></span><br><span class="line">        opacity: 0;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="css">    <span class="selector-class">.fade-enter-active</span>, <span class="selector-class">.fade-leave-active</span> &#123;</span></span><br><span class="line">        transition: opacity 1s;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">transition-group</span> <span class="attr">name</span>=<span class="string">"fade"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-for</span>=<span class="string">"(item, index) of list"</span> <span class="attr">:key</span>=<span class="string">"item.id"</span> <span class="attr">:data-id</span>=<span class="string">"item.id"</span>&gt;</span></span><br><span class="line">                &#123;&#123;item.title&#125;&#125;</span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">transition-group</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">"handleClick"</span>&gt;</span>Add<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"vue.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> count = <span class="number">0</span>;</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="actionscript">        el: <span class="string">'#app'</span>,</span></span><br><span class="line">        data: &#123;</span><br><span class="line">            list: []</span><br><span class="line">        &#125;,</span><br><span class="line">        methods: &#123;</span><br><span class="line"><span class="actionscript">            handleClick: <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">                <span class="keyword">this</span>.list.push(&#123;</span></span><br><span class="line">                    id: ++count,</span><br><span class="line"><span class="actionscript">                    title: <span class="string">'hello world'</span> + <span class="string">'---'</span> + count</span></span><br><span class="line">                &#125;)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="Vue中的动画封装"><a href="#Vue中的动画封装" class="headerlink" title="Vue中的动画封装"></a>Vue中的动画封装</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">fade</span> <span class="attr">v-if</span>=<span class="string">"show"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span>&gt;</span>hello world<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">fade</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">fade</span> <span class="attr">v-if</span>=<span class="string">"show"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">h3</span>&gt;</span>hello world<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">fade</span>&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">"handleClick"</span>&gt;</span>Add<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"vue.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">    Vue.component(<span class="string">'fade'</span>, &#123;</span></span><br><span class="line"><span class="actionscript">        props: [<span class="string">'show'</span>],</span></span><br><span class="line">        template: `</span><br><span class="line"><span class="actionscript">            &lt;transition name=<span class="string">"fade"</span> </span></span><br><span class="line"><span class="actionscript">            @before-enter=<span class="string">"handleBeforeEnter"</span></span></span><br><span class="line"><span class="actionscript">            @enter=<span class="string">"handleEnter"</span></span></span><br><span class="line">            &gt;</span><br><span class="line"><span class="handlebars"><span class="xml">                <span class="tag">&lt;<span class="name">slot</span> <span class="attr">v-show</span>=<span class="string">"show"</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span></span></span><br><span class="line"><span class="handlebars"><span class="xml">            <span class="tag">&lt;/<span class="name">transition</span>&gt;</span></span></span></span><br><span class="line">        `,</span><br><span class="line">        methods: &#123;</span><br><span class="line"><span class="actionscript">            handleBeforeEnter: <span class="function"><span class="keyword">function</span><span class="params">(el)</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">                el.style.color = <span class="string">'red'</span>;</span></span><br><span class="line">            &#125;,</span><br><span class="line"><span class="actionscript">            handleEnter: <span class="function"><span class="keyword">function</span><span class="params">(el, done)</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">                setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="actionscript">                    el.style.color = <span class="string">'green'</span>;</span></span><br><span class="line">                    done();</span><br><span class="line">                &#125;,2000)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="actionscript">        el: <span class="string">'#app'</span>,</span></span><br><span class="line">        data: &#123;</span><br><span class="line"><span class="actionscript">            show: <span class="literal">true</span></span></span><br><span class="line">        &#125;,</span><br><span class="line">        methods: &#123;</span><br><span class="line"><span class="actionscript">            handleClick: <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">                <span class="keyword">this</span>.show = !<span class="keyword">this</span>.show;</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><ul><li>vue中的过度动画</li><li>css3动画</li><li>animate.css使用</li><li>velocity.js使用</li><li>多个元素动画</li><li>列表动画</li><li>动画封装</li></ul>]]></content>
      
      
      <categories>
          
          <category> Vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
            <tag> Vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue-03学习笔记-组件</title>
      <link href="/Vue-03%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E7%BB%84%E4%BB%B6/"/>
      <url>/Vue-03%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E7%BB%84%E4%BB%B6/</url>
      
        <content type="html"><![CDATA[<h2 id="组件细节"><a href="#组件细节" class="headerlink" title="组件细节"></a>组件细节</h2><ul><li>is解决html bug</li><li>子组件中data必须是一个函数</li><li>ref使用</li></ul><h3 id="is用法"><a href="#is用法" class="headerlink" title="is用法"></a>is用法</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tr</span> <span class="attr">is</span>=<span class="string">"row"</span>&gt;</span><span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tr</span>&gt;</span><span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tr</span>&gt;</span><span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>组件中使用data数据，必须是一个函数，返回一个对象</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Vue.component(<span class="string">'row'</span>, &#123;</span><br><span class="line">    data: <span class="function"><span class="params">()</span>=&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            <span class="string">'content'</span>: <span class="string">'this is a rowa'</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    template: <span class="string">'&lt;tr&gt;&lt;td&gt;&#123;&#123;content&#125;&#125;&lt;/td&gt;&lt;/tr&gt;'</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">var</span> app = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">    el: <span class="string">'#app'</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><a id="more"></a><h3 id="ref用法"><a href="#ref用法" class="headerlink" title="ref用法"></a>ref用法</h3><blockquote><p>获取dom元素</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ref</span>=<span class="string">"hello"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="keyword">this</span>.$refs.hello)</span><br></pre></td></tr></table></figure><p><strong>组件求和</strong>  </p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">counter</span> <span class="attr">ref</span>=<span class="string">"one"</span> @<span class="attr">change</span>=<span class="string">"handleChange"</span>&gt;</span><span class="tag">&lt;/<span class="name">counter</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">counter</span> <span class="attr">ref</span>=<span class="string">"two"</span> @<span class="attr">change</span>=<span class="string">"handleChange"</span>&gt;</span><span class="tag">&lt;/<span class="name">counter</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> &gt;</span></span><br><span class="line">        &#123;&#123;total&#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">    Vue.component(<span class="string">'counter'</span>, &#123;</span></span><br><span class="line"><span class="actionscript">        data: <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">return</span> &#123;</span></span><br><span class="line">                number: 0</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line"><span class="handlebars"><span class="xml">        template: '<span class="tag">&lt;<span class="name">div</span> @<span class="attr">click</span>=<span class="string">"handleClick"</span>&gt;</span></span><span class="template-variable">&#123;&#123;number&#125;&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span>',</span></span></span><br><span class="line">        methods: &#123;</span><br><span class="line"><span class="actionscript">            handleClick: <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">                <span class="keyword">this</span>.number++;</span></span><br><span class="line"><span class="actionscript">                <span class="keyword">this</span>.$emit(<span class="string">'change'</span>, <span class="keyword">this</span>.number)</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="actionscript">        el: <span class="string">'#app'</span>,</span></span><br><span class="line">        data: &#123;</span><br><span class="line">            total: 0</span><br><span class="line">        &#125;,</span><br><span class="line">        methods: &#123;</span><br><span class="line"><span class="actionscript">            handleChange: <span class="function"><span class="keyword">function</span><span class="params">(aa)</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">                <span class="keyword">var</span> one = <span class="keyword">this</span>.$refs.one.number;</span></span><br><span class="line"><span class="actionscript">                <span class="keyword">var</span> two = <span class="keyword">this</span>.$refs.two.number;</span></span><br><span class="line"><span class="actionscript">                <span class="keyword">this</span>.total = one + two;</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="父子组件的数据传递"><a href="#父子组件的数据传递" class="headerlink" title="父子组件的数据传递"></a>父子组件的数据传递</h2><ul><li>子组件向父组件传值</li><li>父组件向子组件传值</li><li>单项数据流<h3 id="父组件向子组件"><a href="#父组件向子组件" class="headerlink" title="父组件向子组件"></a>父组件向子组件</h3></li></ul><p>单项数据流  </p><blockquote><p><strong>父组件向子组件传递数据是通过父组件上属性传递，父组件向子组件传递参数通过属性形式的数据，父组件可以随意的修改数据，但是，子组件不能随意的去修改父组件传递过来的数据</strong></p></blockquote><h3 id="子组件向父组件"><a href="#子组件向父组件" class="headerlink" title="子组件向父组件"></a>子组件向父组件</h3><blockquote><p>**子组件向父组件传递数据，通过事件的形式<code>$emit(&#39;change&#39;,...[arg1,arg2])</code></p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">counter</span> <span class="attr">:count</span>=<span class="string">"1"</span> @<span class="attr">inc</span>=<span class="string">"handleIncrease"</span>&gt;</span><span class="tag">&lt;/<span class="name">counter</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">counter</span> <span class="attr">:count</span>=<span class="string">"2"</span> @<span class="attr">inc</span>=<span class="string">"handleIncrease"</span>&gt;</span><span class="tag">&lt;/<span class="name">counter</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;&#123;total&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> counter = &#123;</span></span><br><span class="line"><span class="actionscript">        props: [<span class="string">'count'</span>],</span></span><br><span class="line"><span class="actionscript">        data: <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="actionscript">                number: <span class="keyword">this</span>.count</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line"><span class="handlebars"><span class="xml">        template: '<span class="tag">&lt;<span class="name">div</span> @<span class="attr">click</span>=<span class="string">"handleClick"</span>&gt;</span></span><span class="template-variable">&#123;&#123;number&#125;&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span>',</span></span></span><br><span class="line">        methods: &#123;</span><br><span class="line"><span class="actionscript">            handleClick: <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">                <span class="keyword">this</span>.number+=<span class="number">2</span>;</span></span><br><span class="line"><span class="actionscript">                <span class="keyword">this</span>.$emit(<span class="string">'inc'</span>, <span class="number">2</span>)</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="actionscript">        el: <span class="string">'#app'</span>,</span></span><br><span class="line">        data: &#123;</span><br><span class="line">            total: 3</span><br><span class="line">        &#125;,</span><br><span class="line">        components: &#123;</span><br><span class="line">            counter: counter,</span><br><span class="line">        &#125;,</span><br><span class="line">        methods: &#123;</span><br><span class="line"><span class="actionscript">            handleIncrease: <span class="function"><span class="keyword">function</span><span class="params">(step)</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">                <span class="keyword">this</span>.total+=step;</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="组件参数效验与非props特效"><a href="#组件参数效验与非props特效" class="headerlink" title="组件参数效验与非props特效"></a>组件参数效验与非props特效</h2><ul><li>直接[String,Number,Object,Boolean,Array,Date,Function,Symbol]</li><li>传值对象：type,required,default</li><li>validator函数校验</li><li>Prop特性和非Prop特性</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">child</span> <span class="attr">content</span>=<span class="string">"hello"</span>&gt;</span><span class="tag">&lt;/<span class="name">child</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">    Vue.component(<span class="string">'child'</span>, &#123;</span></span><br><span class="line">        props: &#123;</span><br><span class="line">            content: &#123;</span><br><span class="line"><span class="javascript">                type: [<span class="built_in">String</span>, <span class="built_in">Number</span>],</span></span><br><span class="line"><span class="actionscript">                required: <span class="literal">false</span>,</span></span><br><span class="line"><span class="actionscript">                <span class="keyword">default</span>: <span class="string">'default value'</span>,</span></span><br><span class="line"><span class="actionscript">                validator: <span class="function"><span class="keyword">function</span><span class="params">(value)</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">                    <span class="keyword">return</span> (value.length &gt; <span class="number">5</span>)</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line"><span class="handlebars"><span class="xml">        template: '<span class="tag">&lt;<span class="name">div</span>&gt;</span></span><span class="template-variable">&#123;&#123;content&#125;&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span>'</span></span></span><br><span class="line">    &#125;)</span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="actionscript">        el: <span class="string">'#app'</span>,</span></span><br><span class="line">        data: &#123;</span><br><span class="line"><span class="actionscript">            content: <span class="string">'hello world!'</span>,</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>Prop特性</strong>  </p><blockquote><p>父组件通过属性prop传递给子组件数据，子组件声明接收属性，然后可以直接用插值表达式或this来使用接收的数据</p></blockquote><p><strong>非 Prop 的特性</strong>  </p><blockquote><p>父组件向子组件传递了数据，但是子组件<strong>并没有声明接收传递的数据</strong></p></blockquote><ol><li>报错</li><li>属性会展示在子组件最外层的html上</li></ol><h2 id="给组件绑定原生事件"><a href="#给组件绑定原生事件" class="headerlink" title="给组件绑定原生事件"></a>给组件绑定原生事件</h2><blockquote><p>給一个组件绑定一个事件的时候，实际上绑定的是一个<strong>自定义的事件</strong>。<br>可以使用<code>this.$emit(&#39;click&#39;)</code>触发父组件事件。<br>也可以在父组件上使用<code>@click.native</code>绑定原生事件。</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">child</span> <span class="attr">content</span>=<span class="string">"hello world"</span> @<span class="attr">click.native</span>=<span class="string">"handleClick"</span>&gt;</span><span class="tag">&lt;/<span class="name">child</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">    Vue.component(<span class="string">'child'</span>, &#123;</span></span><br><span class="line"><span class="handlebars"><span class="xml">        template: '<span class="tag">&lt;<span class="name">div</span>  @<span class="attr">click</span>=<span class="string">"handleClick"</span>&gt;</span>child<span class="tag">&lt;/<span class="name">div</span>&gt;</span>',</span></span></span><br><span class="line">        methods: &#123;</span><br><span class="line">            handleClick() &#123;</span><br><span class="line"><span class="actionscript">                alert(<span class="string">'child click'</span>);</span></span><br><span class="line"><span class="actionscript">                <span class="keyword">this</span>.$emit(<span class="string">'click'</span>);</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="actionscript">        el: <span class="string">'#app'</span>,</span></span><br><span class="line">        methods: &#123;</span><br><span class="line"><span class="actionscript">            handleClick: <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">                alert(<span class="string">'hello'</span>)</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="非父子组件间的传值"><a href="#非父子组件间的传值" class="headerlink" title="非父子组件间的传值"></a>非父子组件间的传值</h2><p><img src="http://p09g3b06f.bkt.clouddn.com/Vue%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B003-Vue%E4%B8%AD%E7%BB%84%E4%BB%B6%E5%88%92%E5%88%86%E5%92%8C%E4%BC%A0%E5%80%BC.png" alt="非父子组件传值"></p><ol><li>子孙传值</li><li>兄弟传值</li><li>堂兄弟传值<br>……<blockquote><p>如果使用父子之间一层层传(属性和事件触发)会非常复杂,第一可以使用VUEX来解决，第二可以使用<strong>发布订阅模式</strong>(Bus/总线/发布订阅/观察者模式)</p></blockquote></li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 后面每一个 new Vue()的组件都会有bus这个属性</span></span><br><span class="line">Vue.prototype.bus = <span class="keyword">new</span> Vue();</span><br><span class="line"><span class="comment">// 通过 $emit('change', this.content)自定义事件,和传参数</span></span><br><span class="line"><span class="keyword">this</span>.bus.$emit(<span class="string">'change'</span>, <span class="keyword">this</span>.content)</span><br><span class="line"><span class="comment">// 通过$on('change', callback) //触发自定义事件，并回调函数</span></span><br><span class="line"><span class="keyword">this</span>.bus.$on(<span class="string">'change'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">msg</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(msg)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">child</span> <span class="attr">content</span>=<span class="string">"Dell"</span>&gt;</span><span class="tag">&lt;/<span class="name">child</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">child</span> <span class="attr">content</span>=<span class="string">"Lee"</span>&gt;</span><span class="tag">&lt;/<span class="name">child</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"vue.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">    Vue.prototype.bus = <span class="keyword">new</span> Vue();</span></span><br><span class="line"><span class="actionscript">    Vue.component(<span class="string">'child'</span>, &#123;</span></span><br><span class="line">        props: &#123;</span><br><span class="line"><span class="javascript">            content: <span class="built_in">String</span></span></span><br><span class="line">        &#125;,</span><br><span class="line"><span class="actionscript">        data: <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="actionscript">                msg: <span class="keyword">this</span>.content</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line"><span class="handlebars"><span class="xml">        template: '<span class="tag">&lt;<span class="name">div</span>  @<span class="attr">click</span>=<span class="string">"handleClick"</span>&gt;</span></span><span class="template-variable">&#123;&#123;msg&#125;&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span>',</span></span></span><br><span class="line">        methods: &#123;</span><br><span class="line">            handleClick() &#123;</span><br><span class="line"><span class="actionscript">               <span class="comment">// alert(this.content)</span></span></span><br><span class="line"><span class="actionscript">               <span class="comment">// 自定触发事件</span></span></span><br><span class="line"><span class="actionscript">               <span class="keyword">this</span>.bus.$emit(<span class="string">'change'</span>, <span class="keyword">this</span>.content)</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line"><span class="actionscript">        mounted: <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">            <span class="comment">// 监听事件</span></span></span><br><span class="line"><span class="actionscript">            <span class="keyword">var</span> this_ = <span class="keyword">this</span></span></span><br><span class="line"><span class="actionscript">            <span class="keyword">this</span>.bus.$on(<span class="string">'change'</span>, <span class="function"><span class="keyword">function</span><span class="params">(msg)</span></span>&#123;</span></span><br><span class="line">                this_.msg = msg</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="actionscript">        el: <span class="string">'#app'</span>,</span></span><br><span class="line">        data: &#123;</span><br><span class="line"><span class="actionscript">            content: <span class="string">'hello world!'</span>,</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="在Vue中使用插槽"><a href="#在Vue中使用插槽" class="headerlink" title="在Vue中使用插槽"></a>在Vue中使用插槽</h2><p>匿名插槽<br>具名插槽</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">base-layout</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h1</span> <span class="attr">slot</span>=<span class="string">"header"</span>&gt;</span>Here might be a page title<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>A paragraph for the main content.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>And another one.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span> <span class="attr">slot</span>=<span class="string">"footer"</span>&gt;</span>Here's some contact info<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">base-layout</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">header</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">slot</span> <span class="attr">name</span>=<span class="string">"header"</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">header</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">main</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">slot</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">main</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">footer</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">slot</span> <span class="attr">name</span>=<span class="string">"footer"</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">footer</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="Vue中的作用于插槽"><a href="#Vue中的作用于插槽" class="headerlink" title="Vue中的作用于插槽"></a>Vue中的作用于插槽</h2><blockquote><p>作用于插槽必须是一个template的内容，然后声明slot-scope<br>当子组件循环或某一部分它的dom结构由外部传递进来的时候使用作用于插槽</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">child</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">template</span> <span class="attr">slot-scope</span>=<span class="string">"props"</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">li</span>&gt;</span>&#123;&#123;props.item&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">child</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"vue.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">    Vue.component(<span class="string">'child'</span>, &#123;</span></span><br><span class="line"><span class="actionscript">        data: <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">return</span> &#123;</span></span><br><span class="line">                list: [1, 2, 3, 4, 5]</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line"><span class="handlebars"><span class="xml">        template: `<span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span></span><br><span class="line"><span class="handlebars"><span class="xml">               <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span></span><br><span class="line"><span class="handlebars"><span class="xml">                <span class="tag">&lt;<span class="name">slot</span> <span class="attr">v-for</span>=<span class="string">"item of list"</span> <span class="attr">:item</span>=<span class="string">item</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span></span></span><br><span class="line"><span class="handlebars"><span class="xml">                <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span></span><br><span class="line"><span class="handlebars"><span class="xml">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span>`</span></span></span><br><span class="line">    &#125;)</span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> app = <span class="keyword">new</span> Vue(&#123;</span></span><br><span class="line"><span class="actionscript">        el: <span class="string">'#app'</span>,</span></span><br><span class="line">    &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="动态组件与v-once指令"><a href="#动态组件与v-once指令" class="headerlink" title="动态组件与v-once指令"></a>动态组件与v-once指令</h2><blockquote><p>使用component</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">component</span> <span class="attr">:is</span>=<span class="string">"type"</span>&gt;</span><span class="tag">&lt;/<span class="name">component</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>v-once</strong></p><blockquote><p>不用重新创建组件，可以有效提高性能</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> Vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
            <tag> Vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue-02学习笔记-基础</title>
      <link href="/Vue-02%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E5%9F%BA%E7%A1%80/"/>
      <url>/Vue-02%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E5%9F%BA%E7%A1%80/</url>
      
        <content type="html"><![CDATA[<h2 id="Vue实例讲解"><a href="#Vue实例讲解" class="headerlink" title="Vue实例讲解"></a>Vue实例讲解</h2><blockquote><p>一个 Vue 应用由一个通过 new Vue 创建的根 Vue 实例，以及可选的嵌套的、可复用的组件树组成。</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">    el: <span class="string">'#root'</span>,</span><br><span class="line">    data: &#123;</span><br><span class="line"></span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line"></span><br><span class="line">    &#125;,</span><br><span class="line">    components: &#123;</span><br><span class="line">         </span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><a id="more"></a><h2 id="Vue生命周期"><a href="#Vue生命周期" class="headerlink" title="Vue生命周期"></a>Vue生命周期</h2><blockquote><p>生命周期函数就是vue实例在某一个时间点会自动执行的函数</p></blockquote><ul><li><p>beforeCreate() 创建实例初始化之前</p></li><li><p>created() 创建实例初始化完成后</p></li><li><p>beforeMount() 页面挂载渲染之前</p></li><li><p>mounted() 页面挂载渲染完成后</p></li><li><p>beforeDestroy() vue实例销毁之前(vm.$destroy()手动销毁)</p></li><li><p>destroyed() vue实例销毁之后</p></li></ul><p>重渲染（调用这两个钩子函数）的前提是被更改的数据已经被写入模板中！！（这点很重要）</p><ul><li>beforeUpdate() 数据改变后重新渲染之前</li><li>updated() 数据改变后重新渲染之后</li></ul><p>首先判断是否有el,然后判断是否有template,如果有则把template作为渲染，如果没有则把el挂载作为渲染。</p><p><img src="http://p09g3b06f.bkt.clouddn.com/Vue%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B002-Vue%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F.png" alt="vue 生命周期"></p><h2 id="vue模板语法"><a href="#vue模板语法" class="headerlink" title="vue模板语法"></a>vue模板语法</h2><ol><li>v-text 和插值表达式<code>{</code>msg<code>}</code>一样</li><li>v-html 插入html</li><li>v-bind:title 绑定属性</li><li>v-on:click 添加事件</li><li>v-if,v-else,v-else-if,v-show</li><li>v-for</li></ol><h2 id="计算属性"><a href="#计算属性" class="headerlink" title="计算属性"></a>计算属性</h2><blockquote><p>Vue 知道 vm.reversedMessage 依赖于 vm.message，因此当 vm.message 发生改变时，所有依赖 vm.reversedMessage 的绑定也会更新。而且最妙的是我们已经以声明的方式创建了这种依赖关系：计算属性的 getter 函数是没有副作用 (side effect) 的，这使它更易于测试和理解。</p></blockquote><h3 id="计算属性缓存-vs-方法"><a href="#计算属性缓存-vs-方法" class="headerlink" title="计算属性缓存 vs 方法"></a>计算属性缓存 vs 方法</h3><blockquote><p>计算属性是基于它们的依赖进行缓存的。计算属性只有在它的相关依赖发生改变时才会重新求值。相比之下，每当触发重新渲染时，调用方法将总会再次执行函数。</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">    el: <span class="string">'#app'</span>,</span><br><span class="line">    data: &#123;</span><br><span class="line">        firstName: <span class="string">'Dell'</span>,</span><br><span class="line">        lastName: <span class="string">'Lee'</span>,</span><br><span class="line">        age: <span class="number">24</span></span><br><span class="line">    &#125;,</span><br><span class="line">    computed: &#123;</span><br><span class="line">        fullName() &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">'计算了fullName一次'</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span>.firstName +<span class="string">' '</span>+ <span class="keyword">this</span>.lastName;</span><br><span class="line">        &#125;,</span><br><span class="line">        now() &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">Date</span>.now(); </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">        fullName2() &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">'方法fullName2调用了一次'</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span>.firstName +<span class="string">' '</span>+ <span class="keyword">this</span>.lastName;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="计算属性-vs-侦听属性"><a href="#计算属性-vs-侦听属性" class="headerlink" title="计算属性 vs 侦听属性"></a>计算属性 vs 侦听属性</h3><blockquote><p>Vue 提供了一种更通用的方式来观察和响应 Vue 实例上的数据变动：<strong>侦听属性</strong>。当你有一些数据需要随着其它数据变动而变动时，你很容易滥用 watch。然而，通常更好的做法是使用计算属性而不是命令式的 watch 回调。</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">    el: <span class="string">'#app'</span>,</span><br><span class="line">    data: &#123;</span><br><span class="line">        firstName: <span class="string">'Dell'</span>,</span><br><span class="line">        lastName: <span class="string">'Lee'</span>,</span><br><span class="line">        fullName: <span class="string">''</span>,</span><br><span class="line">        age: <span class="number">24</span></span><br><span class="line">    &#125;,</span><br><span class="line">    watch: &#123;</span><br><span class="line">        firstName() &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">'first计算了一次'</span>)</span><br><span class="line">            <span class="keyword">this</span>.fullName = <span class="keyword">this</span>.firstName + <span class="string">' '</span> + <span class="keyword">this</span>.lastName;</span><br><span class="line">        &#125;,</span><br><span class="line">        lastName() &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">'last计算了一次'</span>)</span><br><span class="line">            <span class="keyword">this</span>.fullName = <span class="keyword">this</span>.firstName + <span class="string">' '</span> + <span class="keyword">this</span>.lastName;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="计算属性的getter和setter"><a href="#计算属性的getter和setter" class="headerlink" title="计算属性的getter和setter"></a>计算属性的getter和setter</h3><p>计算属性默认只有 getter ，不过在需要时你也可以提供一个 setter </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">    el: <span class="string">'#app'</span>,</span><br><span class="line">    data: &#123;</span><br><span class="line">        firstName: <span class="string">'Dell'</span>,</span><br><span class="line">        lastName: <span class="string">'Lee'</span>,</span><br><span class="line">        age: <span class="number">24</span></span><br><span class="line">    &#125;,</span><br><span class="line">    computed: &#123;</span><br><span class="line">        fullName: &#123;</span><br><span class="line">            <span class="keyword">get</span>: function() &#123;</span><br><span class="line">                <span class="built_in">console</span>.log(<span class="string">'get 执行一次'</span>);</span><br><span class="line">                <span class="keyword">return</span>  <span class="keyword">this</span>.firstName +<span class="string">' '</span>+ <span class="keyword">this</span>.lastName;</span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="keyword">set</span>: function(value) &#123;</span><br><span class="line">                <span class="built_in">console</span>.log(<span class="string">'set 执行一次:'</span>+ value);</span><br><span class="line">                <span class="keyword">var</span> arr = value.split(<span class="string">' '</span>);</span><br><span class="line">                <span class="keyword">this</span>.firstName = arr[<span class="number">0</span>];</span><br><span class="line">                <span class="keyword">this</span>.lastName = arr[<span class="number">1</span>];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        now() &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">Date</span>.now(); </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="vue中样式绑定"><a href="#vue中样式绑定" class="headerlink" title="vue中样式绑定"></a>vue中样式绑定</h2><p><strong>1. class对象绑定</strong>  </p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-bind:class</span>=<span class="string">"&#123; active: isActive &#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"static"</span></span></span><br><span class="line"><span class="tag">     <span class="attr">v-bind:class</span>=<span class="string">"&#123; active: isActive, 'text-danger': hasError &#125;"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-bind:class</span>=<span class="string">"classObject"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>2. 数组绑定</strong>  </p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-bind:class</span>=<span class="string">"[activeClass, errorClass]"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-bind:class</span>=<span class="string">"[isActive ? activeClass : '', errorClass]"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-bind:class</span>=<span class="string">"[&#123; active: isActive &#125;, errorClass]"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>3. 内联样式绑定</strong>  </p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-bind:style</span>=<span class="string">"&#123; color: activeColor, fontSize: fontSize + 'px' &#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-bind:style</span>=<span class="string">"[baseStyles, overridingStyles]"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="vue中条件渲染"><a href="#vue中条件渲染" class="headerlink" title="vue中条件渲染"></a>vue中条件渲染</h2><p><strong>1. v-if和v-show</strong>  </p><blockquote><p>不同的是带有 v-show 的元素始终会被渲染并保留在 DOM 中。<br>v-show 只是简单地切换元素的 CSS 属性 display。<br>注意，v-show 不支持 <template> 元素，也不支持 v-else。</template></p></blockquote><p><strong>2. v-if,v-else-if,v-else</strong></p><blockquote><p>中间不能有其它的分隔</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-if</span>=<span class="string">"show === 'a'"</span>&gt;</span></span><br><span class="line">    show if 内容</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-else-if</span>=<span class="string">"show === 'b'"</span>&gt;</span></span><br><span class="line">    show2 elif 内容</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-else</span>&gt;</span></span><br><span class="line">    show3 else 内容</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>3. 用 key 管理可复用的元素</strong>  </p><p>Vue 会尽可能高效地渲染元素，通常会复用已有元素而不是从头开始渲染。<br>当元素有<code>key</code>值得时候，如果两个元素的<code>key</code>值不一样，<code>vue</code>就不去复用</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-if</span>=<span class="string">"show"</span>&gt;</span></span><br><span class="line">    用户名：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">key</span>=<span class="string">"username"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-else</span>&gt;</span></span><br><span class="line">    邮箱：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"email"</span> <span class="attr">key</span>=<span class="string">"email"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="vue中列表渲染"><a href="#vue中列表渲染" class="headerlink" title="vue中列表渲染"></a>vue中列表渲染</h2><p><strong>1. 循环数组</strong>  </p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-for</span>=<span class="string">"(item, index) of items"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>2. 循环对象</strong>  </p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-for</span>=<span class="string">"(value, key, index) of object"</span>&gt;</span></span><br><span class="line">  &#123;&#123; key &#125;&#125;: &#123;&#123; value &#125;&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>3. 变异方法</strong>  </p><blockquote><p>Vue中不能直接通过索引或对象<code>.</code>来改变数据，Vue 包含一组观察数组的变异方法，所以它们也将会触发视图更新。这些方法如下</p></blockquote><ol><li>push()</li><li>pop()</li><li>shift()</li><li>unshift()</li><li>splice()</li><li>sort()</li><li>reverse()</li></ol><p><strong>或则改变引用添加数据</strong>  </p><blockquote><p>Vue中改变对象的数据可以使用<code>Vue.set()</code>或<code>vm.$set()</code></p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 方法一</span></span><br><span class="line">vm.list = [...vm.list,<span class="string">'good night'</span>]</span><br><span class="line">vm.obj = &#123;...vm.obj,<span class="string">'name'</span>: <span class="string">'hello'</span>&#125;</span><br><span class="line"><span class="comment">// 方法二</span></span><br><span class="line">Vue.set(vm.obj, <span class="string">"name"</span>, <span class="string">"hello"</span>)</span><br><span class="line">vm.$<span class="keyword">set</span>(vm.list, 1, &#123;id:<span class="number">233</span>, <span class="attr">text</span>: <span class="string">'love'</span>&#125;)</span><br><span class="line">vm.$<span class="keyword">set</span>(vm.obj, 'name', 'hello')</span><br></pre></td></tr></table></figure><p><strong>4. 替换数组</strong>  </p><blockquote><p>filter(), concat() 和 slice() 。这些不会改变原始数组，但总是返回一个新数组。</p></blockquote><p><strong>5.<code>&lt;template&gt;</code> 渲染多个元素</strong>  </p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">v-for</span>=<span class="string">"item of items"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>&#123;&#123; item.msg &#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"divider"</span> <span class="attr">role</span>=<span class="string">"presentation"</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
            <tag> Vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue-01学习笔记-起步</title>
      <link href="/Vue-01%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E8%B5%B7%E6%AD%A5/"/>
      <url>/Vue-01%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E8%B5%B7%E6%AD%A5/</url>
      
        <content type="html"><![CDATA[<h2 id="MVP模式"><a href="#MVP模式" class="headerlink" title="MVP模式"></a>MVP模式</h2><ul><li>V：视图view</li><li>P：控制器presenter</li><li>M：模型model</li></ul><blockquote><p>jquery方式，是一个面向dom的开发，主要逻辑在P层，需要大量的自己写dom操作。</p></blockquote><h2 id="MVVM模式、"><a href="#MVVM模式、" class="headerlink" title="MVVM模式、"></a>MVVM模式、</h2><ul><li>V: 视图view</li><li>VM：视图模型view model (使用了Object.defineProperties和虚拟dom来实现)</li><li>M：模型model</li></ul><blockquote><p>vue开发模式，是一个面向数据的开发，让开发者专注于view和model层，其它(双向数据、指令、事件)交给view model自动完成</p></blockquote><a id="more"></a><p><img src="http://p09g3b06f.bkt.clouddn.com/Vue%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B001-Vue%E7%9A%84MVVM%E6%A8%A1%E5%9E%8B%E5%9B%BE.png" alt="mvvm"></p><h2 id="组件化"><a href="#组件化" class="headerlink" title="组件化"></a>组件化</h2><p><strong>全局组件</strong>  </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Vue.component(<span class="string">'Name'</span>,&#123;</span><br><span class="line">    template: <span class="string">'&lt;li&gt;todo item&lt;/li&gt;'</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p><strong>局部组件</strong>  </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> TodoItem = &#123;</span><br><span class="line">    props: [<span class="string">'content'</span>, <span class="string">'index'</span>],</span><br><span class="line">    template: <span class="string">'&lt;li&gt;&#123;&#123;content&#125;&#125; &lt;button @click="handleItemClick"z&gt;删除&lt;/button&gt;&lt;/li&gt;'</span>,</span><br><span class="line">    methods: &#123;</span><br><span class="line">        handleItemClick: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.$emit(<span class="string">'delete'</span>, <span class="keyword">this</span>.index);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> app = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">    el: <span class="string">'#app'</span>,</span><br><span class="line">    components: &#123;</span><br><span class="line">        TodoItem: TodoItem</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="父子组件数据props传递"><a href="#父子组件数据props传递" class="headerlink" title="父子组件数据props传递"></a>父子组件数据props传递</h2><p>html:  </p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">v-model</span>=<span class="string">"inputValue"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">v-on:click</span>=<span class="string">"handleBtnClick"</span>&gt;</span>提交<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">style</span>=<span class="string">"color:purple"</span>&gt;</span>点击列表删除<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- &lt;li v-for="(item, index) in list"&gt;&#123;&#123;item&#125;&#125;---&#123;&#123;index&#125;&#125;&lt;/li&gt; --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">todo-item</span> </span></span><br><span class="line"><span class="tag">        <span class="attr">v-bind:content</span>=<span class="string">"item"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">v-bind:index</span>=<span class="string">"index"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">v-for</span>=<span class="string">"(item, index) in list"</span></span></span><br><span class="line"><span class="tag">        @<span class="attr">delete</span>=<span class="string">"handleItemDelete"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">todo-item</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>js:  </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> app = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">    el: <span class="string">'#app'</span>,</span><br><span class="line">    data: &#123;</span><br><span class="line">        list: [<span class="string">'第一课的内容'</span>, <span class="string">'第二课的内容'</span>, <span class="string">'第三课的内容'</span>],</span><br><span class="line">        <span class="string">'inputValue'</span>: <span class="string">''</span></span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">        handleBtnClick: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.list.push(<span class="keyword">this</span>.inputValue);</span><br><span class="line">            <span class="keyword">this</span>.inputValue = <span class="string">''</span>;</span><br><span class="line">        &#125;,</span><br><span class="line">        handleItemDelete: <span class="function"><span class="keyword">function</span>(<span class="params">index</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.list.splice(index,<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    components: &#123;</span><br><span class="line">        TodoItem: TodoItem</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p><strong>父组件传递数据给子组件</strong>  </p><blockquote><p>一个<code>new Vue()</code>就是一个父组件，通过组件实例上添加属性 <code>v-bind:content=&quot;item&quot;</code>接收父组件的数据<code>item</code>给子组件<code>content</code>，然后子组件需要通过<code>props</code>接收<code>content</code>。</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> TodoItem = &#123;</span><br><span class="line">    props: [<span class="string">'content'</span>, <span class="string">'index'</span>],</span><br><span class="line">    template: <span class="string">'&lt;li&gt;&#123;&#123;content&#125;&#125; &lt;button @click="handleItemClick"z&gt;删除&lt;/button&gt;&lt;/li&gt;'</span>,</span><br><span class="line">    methods: &#123;</span><br><span class="line">        handleItemClick: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.$emit(<span class="string">'delete'</span>, <span class="keyword">this</span>.index);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>子组件传递数据给父组件</strong>  </p><blockquote><p>通过<code>$emit(&#39;event&#39;, params)</code> 方式向上一层触发事件，上一层刚好监听这个事件，然后就能获取到子组件带出来的内容</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> app = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">    methods: &#123;</span><br><span class="line">        handleBtnClick: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.list.push(<span class="keyword">this</span>.inputValue);</span><br><span class="line">            <span class="keyword">this</span>.inputValue = <span class="string">''</span>;</span><br><span class="line">        &#125;,</span><br><span class="line">        handleItemDelete: <span class="function"><span class="keyword">function</span>(<span class="params">index</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.list.splice(index,<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
            <tag> Vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JavaScript判断和易错</title>
      <link href="/javascript%E5%88%A4%E6%96%AD%E5%92%8C%E6%98%93%E9%94%99/"/>
      <url>/javascript%E5%88%A4%E6%96%AD%E5%92%8C%E6%98%93%E9%94%99/</url>
      
        <content type="html"><![CDATA[<h2 id="js判断方法"><a href="#js判断方法" class="headerlink" title="js判断方法"></a>js判断方法</h2><h3 id="1-判断一个变量是否为空"><a href="#1-判断一个变量是否为空" class="headerlink" title="1.判断一个变量是否为空"></a>1.判断一个变量是否为空</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a;</span><br><span class="line"><span class="keyword">if</span>(a)&#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(a===<span class="literal">null</span> || a === <span class="literal">undefined</span> || a === <span class="string">''</span>)&#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><a id="more"></a><h3 id="2-判断一个变量是数值"><a href="#2-判断一个变量是数值" class="headerlink" title="2.判断一个变量是数值"></a>2.判断一个变量是数值</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> num = <span class="string">'124'</span>;</span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">typeof</span> (num<span class="number">-0</span>) === number)&#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">typeof</span> (num*<span class="number">0</span>) === number)&#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> num2 = (num<span class="number">-0</span>);</span><br><span class="line"><span class="keyword">if</span>(num2 !== num2)&#123;</span><br><span class="line">    num is <span class="literal">NaN</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-判断浏览器兼容Object-create"><a href="#3-判断浏览器兼容Object-create" class="headerlink" title="3.判断浏览器兼容Object.create"></a>3.判断浏览器兼容Object.create</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> create = <span class="function"><span class="keyword">function</span>(<span class="params">obj</span>)</span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">Object</span>.create)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">Object</span>.create;</span><br><span class="line">    &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">F</span>(<span class="params"></span>)</span>&#123;&#125;;</span><br><span class="line">        F.prototype = obj;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> F();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="4-判断属性是在对象上还是在对象的原型上"><a href="#4-判断属性是在对象上还是在对象的原型上" class="headerlink" title="4.判断属性是在对象上还是在对象的原型上"></a>4.判断属性是在对象上还是在对象的原型上</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> isOwnProperty = <span class="function"><span class="keyword">function</span>(<span class="params">name,obj</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(name <span class="keyword">in</span> obj)&#123;</span><br><span class="line">        <span class="keyword">if</span>(obj.hasOwnProperty(name))&#123;</span><br><span class="line">            alert(name+<span class="string">'在obj对象上'</span>)</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            alert(name+<span class="string">'在obj原型对象上'</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        alert(name+<span class="string">'不在obj对象上'</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="5-遍历对象不会在原型上"><a href="#5-遍历对象不会在原型上" class="headerlink" title="5.遍历对象不会在原型上"></a>5.遍历对象不会在原型上</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> eachObj = <span class="function"><span class="keyword">function</span>(<span class="params">obj</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i ; i&lt;obj.length;i++)&#123;</span><br><span class="line">        <span class="built_in">console</span>.lgo(obj.[i])</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="6-在原型上添加方法"><a href="#6-在原型上添加方法" class="headerlink" title="6.在原型上添加方法"></a>6.在原型上添加方法</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Function</span>.prototype.method = <span class="function"><span class="keyword">function</span>(<span class="params">name,func</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!<span class="keyword">this</span>.prototype[name])&#123;</span><br><span class="line">        <span class="keyword">this</span>.prototype.name = func;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="6-判断数据类型"><a href="#6-判断数据类型" class="headerlink" title="6.判断数据类型"></a>6.判断数据类型</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typeof</span> arr          判断原始类型</span><br><span class="line">arr <span class="keyword">instanceof</span> <span class="built_in">Object</span> 判断引用类型</span><br><span class="line"><span class="built_in">Array</span>.isArray(arr) es5判断无论是否从框架中来的数组</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> type = <span class="function"><span class="keyword">function</span> (<span class="params">o</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> s = <span class="built_in">Object</span>.prototype.toString.call(o);</span><br><span class="line">  <span class="keyword">return</span> s.match(<span class="regexp">/\[object (.*?)\]/</span>)[<span class="number">1</span>].toLowerCase();</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">type(&#123;&#125;); <span class="comment">// "object"</span></span><br><span class="line">type([]); <span class="comment">// "array"</span></span><br><span class="line">type(<span class="number">5</span>); <span class="comment">// "number"</span></span><br><span class="line">type(<span class="literal">null</span>); <span class="comment">// "null"</span></span><br><span class="line">type(); <span class="comment">// "undefined"</span></span><br><span class="line">type(<span class="regexp">/abcd/</span>); <span class="comment">// "regex"</span></span><br><span class="line">type(<span class="keyword">new</span> <span class="built_in">Date</span>()); <span class="comment">// "date"</span></span><br></pre></td></tr></table></figure><h3 id="7-each方法便利数组"><a href="#7-each方法便利数组" class="headerlink" title="7.each方法便利数组"></a>7.each方法便利数组</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> each = <span class="function"><span class="keyword">function</span>(<span class="params">arr,fn</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i&lt;= arr.length;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(fn.call(arr[ i ],i,arr[ i ]))&#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> fn = <span class="function"><span class="keyword">function</span>(<span class="params">i,v</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(v === <span class="number">2</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="8-判断一个变量是否为对象"><a href="#8-判断一个变量是否为对象" class="headerlink" title="8.判断一个变量是否为对象"></a>8.判断一个变量是否为对象</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> isObject = <span class="function"><span class="keyword">function</span>(<span class="params">val</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> val === <span class="built_in">Object</span>(val);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="9-合并两个数组"><a href="#9-合并两个数组" class="headerlink" title="9.合并两个数组"></a>9.合并两个数组</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line"><span class="keyword">var</span> b = [<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>];</span><br><span class="line">a.push.apply(a,b);</span><br><span class="line"><span class="built_in">console</span>.log(a)<span class="comment">//[1,2,3,4,5,6]；</span></span><br><span class="line">拆分数组</span><br><span class="line"><span class="keyword">var</span> c = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]</span><br><span class="line">c.splice(<span class="number">3</span>);<span class="comment">//[4,5,6]</span></span><br><span class="line">c <span class="comment">//[1,2,3]</span></span><br></pre></td></tr></table></figure><h3 id="10-将对象转换数组"><a href="#10-将对象转换数组" class="headerlink" title="10.将对象转换数组"></a>10.将对象转换数组</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.prototype.slice.apply(&#123;<span class="number">0</span>:<span class="number">1</span>,<span class="attr">length</span>:<span class="number">2</span>&#125;)</span><br></pre></td></tr></table></figure><h3 id="11-判断是否为pc还是ios还是安卓"><a href="#11-判断是否为pc还是ios还是安卓" class="headerlink" title="11.判断是否为pc还是ios还是安卓"></a>11.判断是否为pc还是ios还是安卓</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">IsPC</span>(<span class="params"></span>)  </span>&#123;</span><br><span class="line">   <span class="keyword">var</span> userAgentInfo = navigator.userAgent;</span><br><span class="line">   <span class="keyword">var</span> Agents = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="string">"Android"</span>, <span class="string">"iPhone"</span>, <span class="string">"SymbianOS"</span>, <span class="string">"Windows Phone"</span>, <span class="string">"iPad"</span>, <span class="string">"iPod"</span>);</span><br><span class="line">   <span class="keyword">var</span> flag = <span class="literal">true</span>;</span><br><span class="line">   <span class="keyword">for</span> (<span class="keyword">var</span> v = <span class="number">0</span>; v &lt; Agents.length; v++) &#123;  </span><br><span class="line">       <span class="keyword">if</span> (userAgentInfo.indexOf(Agents[v]) &gt; <span class="number">0</span>) &#123; flag = <span class="literal">false</span>; <span class="keyword">break</span>; &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">return</span> flag;</span><br><span class="line">&#125; </span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isIos</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">     <span class="keyword">var</span> u = navigator.userAgent, app = navigator.appVersion;</span><br><span class="line">    <span class="keyword">var</span> isAndroid = u.indexOf(<span class="string">'Android'</span>) &gt; <span class="number">-1</span> || u.indexOf(<span class="string">'Linux'</span>) &gt; <span class="number">-1</span>; <span class="comment">//g</span></span><br><span class="line">    <span class="keyword">var</span> isIOS = !!u.match(<span class="regexp">/\(i[^;]+;( U;)? CPU.+Mac OS X/</span>); <span class="comment">//ios终端</span></span><br><span class="line">    <span class="keyword">if</span> (isAndroid) &#123;</span><br><span class="line">      <span class="comment">//这个是安卓操作系统</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (isIOS) &#123;</span><br><span class="line">    <span class="comment">//这个是ios操作系统</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">   </span><br><span class="line"></span><br><span class="line"><span class="comment">//判断是否IE内核</span></span><br><span class="line"><span class="keyword">if</span>(browser.versions.trident)&#123; alert(<span class="string">"is IE"</span>); &#125;</span><br><span class="line"><span class="comment">//判断是否webKit内核</span></span><br><span class="line"><span class="keyword">if</span>(browser.versions.webKit)&#123; alert(<span class="string">"is webKit"</span>); &#125;</span><br><span class="line"><span class="comment">//判断是否移动端</span></span><br><span class="line"><span class="keyword">if</span>(browser.versions.mobile||browser.versions.android||browser.versions.ios)&#123; alert(<span class="string">"移动端"</span>); &#125;</span><br></pre></td></tr></table></figure><h3 id="12-判断数据类型"><a href="#12-判断数据类型" class="headerlink" title="12.判断数据类型"></a>12.判断数据类型</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> Type = &#123;&#125;;</span><br><span class="line"><span class="keyword">for</span> ( <span class="keyword">var</span> i = <span class="number">0</span>, type; type = [ <span class="string">'String'</span>, <span class="string">'Array'</span>, <span class="string">'Number'</span>,<span class="string">'Null'</span>,<span class="string">'Undefined'</span> ][ i++ ]; )&#123;</span><br><span class="line">　　(<span class="function"><span class="keyword">function</span>(<span class="params"> type </span>)</span>&#123;</span><br><span class="line">　　　　Type[ <span class="string">'is'</span> + type ] = <span class="function"><span class="keyword">function</span>(<span class="params"> obj </span>)</span>&#123;</span><br><span class="line">　　　　<span class="keyword">return</span> <span class="built_in">Object</span>.prototype.toString.call( obj ) === <span class="string">'[object '</span>+ type +<span class="string">']'</span>;</span><br><span class="line">　　　　&#125;</span><br><span class="line">　　&#125;)( type )</span><br><span class="line">&#125;;</span><br><span class="line">Type.isNumber(<span class="number">12</span>) <span class="comment">//true</span></span><br></pre></td></tr></table></figure><h3 id="13-判断构造函数是否-new调用"><a href="#13-判断构造函数是否-new调用" class="headerlink" title="13.判断构造函数是否 new调用"></a>13.判断构造函数是否 new调用</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Fubar</span>(<span class="params">foo, bar</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (!(<span class="keyword">this</span> <span class="keyword">instanceof</span> Fubar)) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> Fubar(foo, bar);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">this</span>._foo = foo;</span><br><span class="line">  <span class="keyword">this</span>._bar = bar;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">_new</span>(<span class="params"><span class="regexp">/* 构造函数 */</span> constructor, <span class="regexp">/* 构造函数参数 */</span> param1</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 将 arguments 对象转为数组</span></span><br><span class="line">  <span class="keyword">var</span> args = [].slice.call(<span class="built_in">arguments</span>);</span><br><span class="line">  <span class="comment">// 取出构造函数</span></span><br><span class="line">  <span class="keyword">var</span> <span class="keyword">constructor</span> = args.shift();</span><br><span class="line">  // 创建一个空对象，继承构造函数的 prototype 属性</span><br><span class="line">  var context = Object.create(<span class="keyword">constructor</span>.prototype);</span><br><span class="line">  // 执行构造函数</span><br><span class="line">  var result = <span class="keyword">constructor</span>.apply(context, args);</span><br><span class="line">  // 如果返回结果是对象，就直接返回，则返回 context 对象</span><br><span class="line">  return (typeof result === 'object' &amp;&amp; result != null) ? result : context;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 实例</span><br><span class="line">var actor = _new(Person, '张三', 28);</span><br></pre></td></tr></table></figure><h3 id="14-判断bind-方法是否支持"><a href="#14-判断bind-方法是否支持" class="headerlink" title="14.判断bind()方法是否支持"></a>14.判断bind()方法是否支持</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(!(<span class="string">'bind'</span> <span class="keyword">in</span> <span class="built_in">Function</span>.prototype))&#123;</span><br><span class="line">  <span class="built_in">Function</span>.prototype.bind = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> fn = <span class="keyword">this</span>;</span><br><span class="line">    <span class="keyword">var</span> context = <span class="built_in">arguments</span>[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">var</span> args = <span class="built_in">Array</span>.prototype.slice.call(<span class="built_in">arguments</span>, <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">      <span class="keyword">return</span> fn.apply(context, args);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="15-获得对象的所有属性"><a href="#15-获得对象的所有属性" class="headerlink" title="15.获得对象的所有属性"></a>15.获得对象的所有属性</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">inheritedPropertyNames</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> props = &#123;&#125;;</span><br><span class="line">  <span class="keyword">while</span>(obj) &#123;</span><br><span class="line">    <span class="built_in">Object</span>.getOwnPropertyNames(obj).forEach(<span class="function"><span class="keyword">function</span>(<span class="params">p</span>) </span>&#123;</span><br><span class="line">      props[p] = <span class="literal">true</span>;</span><br><span class="line">    &#125;);</span><br><span class="line">    obj = <span class="built_in">Object</span>.getPrototypeOf(obj);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Object</span>.getOwnPropertyNames(props);</span><br><span class="line">  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="16-对象的拷贝"><a href="#16-对象的拷贝" class="headerlink" title="16.对象的拷贝"></a>16.对象的拷贝</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">copyObject</span>(<span class="params">orig</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> copy = <span class="built_in">Object</span>.create(<span class="built_in">Object</span>.getPrototypeOf(orig));</span><br><span class="line">  copyOwnPropertiesFrom(copy, orig);</span><br><span class="line">  <span class="keyword">return</span> copy;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">copyOwnPropertiesFrom</span>(<span class="params">target, source</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">Object</span></span><br><span class="line">  .getOwnPropertyNames(source)</span><br><span class="line">  .forEach(<span class="function"><span class="keyword">function</span>(<span class="params">propKey</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> desc = <span class="built_in">Object</span>.getOwnPropertyDescriptor(source, propKey);</span><br><span class="line">    <span class="built_in">Object</span>.defineProperty(target, propKey, desc);</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="keyword">return</span> target;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="17-遍历所有子节点"><a href="#17-遍历所有子节点" class="headerlink" title="17.遍历所有子节点"></a>17.遍历所有子节点</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">DOMComb</span>(<span class="params">parent, callback</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (parent.hasChildNodes()) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> node = parent.firstChild; node; node = node.nextSibling) &#123;</span><br><span class="line">          DOMComb(node, callback);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    callback.call(parent);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">printContent</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.nodeValue) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.nodeValue);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">DOMComb(<span class="built_in">document</span>.body, printContent);</span><br></pre></td></tr></table></figure><h3 id="18-继承方法"><a href="#18-继承方法" class="headerlink" title="18.继承方法"></a>18.继承方法</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">extend</span>(<span class="params">Child,Parent</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> F = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;;</span><br><span class="line">    F.prototype = Parent.prototype;</span><br><span class="line">    Child.prototype = <span class="keyword">new</span> F();</span><br><span class="line">    Child.prototype.constructor = Child;</span><br><span class="line">    Child.uber = Parent.prototype;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="19-按键判断"><a href="#19-按键判断" class="headerlink" title="19.按键判断"></a>19.按键判断</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"> btn.onkeydown = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">    e = e || event;</span><br><span class="line">    <span class="keyword">var</span> x = e.which || e.keyCode;</span><br><span class="line">    <span class="keyword">if</span> (x == <span class="number">13</span>) &#123;</span><br><span class="line">        alert (<span class="string">"你按下了 enter 键!"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="20-dom操作"><a href="#20-dom操作" class="headerlink" title="20. dom操作"></a>20. dom操作</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">$ (selector)&#123;</span><br><span class="line">    <span class="keyword">var</span> type = selector.substring(<span class="number">0</span>, <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">if</span> (type === <span class="string">'#'</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">document</span>.querySelecotor) <span class="keyword">return</span> <span class="built_in">document</span>.querySelector(selector)</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">document</span>.getElementById(selector.substring(<span class="number">1</span>))</span><br><span class="line">        </span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span> (type === <span class="string">'.'</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">document</span>.querySelecotorAll) <span class="keyword">return</span> <span class="built_in">document</span>.querySelectorAll(selector)</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">document</span>.getElementsByClassName(selector.substring(<span class="number">1</span>))</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">document</span>[<span class="string">'querySelectorAll'</span> ? <span class="string">'querySelectorAll'</span>:<span class="string">'getElementsByTagName'</span>](selector)</span><br><span class="line">    &#125;</span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"><span class="comment">/*检测类名*/</span></span><br><span class="line">hasClass (ele, name) &#123;</span><br><span class="line">    <span class="keyword">return</span> ele.className.match(<span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">'(\\s|^)'</span> + name + <span class="string">'(\\s|$)'</span>));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*添加类名*/</span></span><br><span class="line">addClass (ele, name) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="keyword">this</span>.hasClass(ele, name)) ele.className += <span class="string">" "</span> + name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="21-jquery-css3实现页面强制竖屏特效"><a href="#21-jquery-css3实现页面强制竖屏特效" class="headerlink" title="21.jquery+css3实现页面强制竖屏特效"></a>21.jquery+css3实现页面强制竖屏特效</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//避免搜索影响屏幕尺寸判断</span></span><br><span class="line">$(<span class="string">"#textInput"</span>).on(<span class="string">'focus'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  $(<span class="string">"#mask"</span>).hide();</span><br><span class="line">&#125;);</span><br><span class="line">$(<span class="built_in">window</span>).on(<span class="string">'orientationchange'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">switch</span>(<span class="built_in">window</span>.orientation)&#123;</span><br><span class="line">     <span class="keyword">case</span> <span class="number">-90</span>:</span><br><span class="line">     <span class="keyword">case</span> <span class="number">90</span>:</span><br><span class="line">       $(<span class="string">"#mask"</span>).show();</span><br><span class="line">       <span class="keyword">break</span>;</span><br><span class="line">     <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">       $(<span class="string">"#mask"</span>).hide();</span><br><span class="line">       <span class="keyword">break</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h2 id="js易出错输出"><a href="#js易出错输出" class="headerlink" title="js易出错输出"></a>js易出错输出</h2><p>1.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">*函数f执行后，输出结果为undefined，</span></span><br><span class="line"><span class="comment">*原因在于变量提升，导致内层的tmp变量覆盖了外层的tmp变量。</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">var</span> tem = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(tem);</span><br><span class="line">    <span class="keyword">if</span>(<span class="literal">false</span>)&#123;</span><br><span class="line">        <span class="keyword">var</span> tem = <span class="string">'hello world!'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">f();<span class="comment">//undefined</span></span><br></pre></td></tr></table></figure><p>2.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">*函数f执行后，输出结果为undefined，</span></span><br><span class="line"><span class="comment">*原因在于变量提升，导致内层的tmp变量覆盖了外层的tmp变量。</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">name = <span class="string">"window"</span></span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    name : <span class="string">'obj'</span>,</span><br><span class="line">    f()&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</span><br><span class="line">        (<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</span><br><span class="line">        &#125;)();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>3.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* ++在后先return 在++</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">var</span> num = <span class="number">5</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> num++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> num2 = add();</span><br><span class="line"><span class="built_in">console</span>.log(num2,num) <span class="comment">//5,6</span></span><br></pre></td></tr></table></figure><p>4.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* 连等赋值</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">var</span> a = &#123;<span class="attr">n</span>: <span class="number">1</span>&#125;;</span><br><span class="line"><span class="keyword">var</span> b = a;</span><br><span class="line">a.x = a = &#123;<span class="attr">n</span>: <span class="number">2</span>&#125;</span><br><span class="line"><span class="built_in">console</span>.log(a.x) <span class="comment">// undefined</span></span><br><span class="line"><span class="built_in">console</span>.log(a) <span class="comment">// &#123;n: 2&#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(b) <span class="comment">// &#123;n: 1, x: &#123;n:2&#125;&#125;</span></span><br></pre></td></tr></table></figure><blockquote></blockquote><pre><code>首先声明变量a,b,然后内存中创建对象{n: 1},然后把对象的引用赋值给a,接着把 保存对象{n:1}引用的a赋值给b;a和b都保存{n:1}的引用。然后执行 a.x = a = {n: 2}时候，a.x优先级高于赋值运算符，所以先将a指向的对象{n:1}中创建x属性，然后由于js赋值是从右到左的顺序，把对象{n: 2}的引用保存在a中，此时的a指向新对象{n: 2},最后把保存新对象{n:2}引用的a赋值给 对象{n: 1,x:undefined}中的x属性。所以就有log(a.x) 新对象{n:2}中没有a.x的值输出 undefined而变量b保存之前对象{n:1}的引用，所以log(b.x) 输出 {n:2}。</code></pre><p>5.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* i++和++i的区别</span></span><br><span class="line"><span class="comment">* a = ++i,先i=i+1再赋值给a;</span></span><br><span class="line"><span class="comment">* a = i++,先赋值给a再i=i+1;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">var</span> a,i=<span class="number">1</span>;</span><br><span class="line">a = (i++) + (i++) + (++i)</span><br><span class="line"><span class="built_in">console</span>.log(a) <span class="comment">//7</span></span><br><span class="line"></span><br><span class="line">分析：</span><br><span class="line">    表达式分为<span class="number">3</span>段：</span><br><span class="line">    第一个(i++)  i为<span class="number">1</span>，然后i=i+<span class="number">1</span>;i=<span class="number">2</span></span><br><span class="line">    第二个(i++)  i为<span class="number">2</span>，然后i=i+<span class="number">1</span>;i=<span class="number">3</span>;</span><br><span class="line">    第三个(++i)  i=i+<span class="number">1</span>,所以i为<span class="number">4</span></span><br><span class="line">    a = <span class="number">1</span> + <span class="number">2</span> + <span class="number">4</span> =<span class="number">7</span>;</span><br></pre></td></tr></table></figure><p>6.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* 考察 js 事件循环 任务队列 job和task</span></span><br><span class="line"><span class="comment">* 求输出结果顺序</span></span><br><span class="line"><span class="comment">* 先执行job中的任务再执行task中的任务</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"A"</span>);</span><br><span class="line"></span><br><span class="line">setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"A - setTimeout"</span>);</span><br><span class="line">&#125;, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve</span>) =&gt;</span> &#123;</span><br><span class="line">  resolve();</span><br><span class="line">&#125;)</span><br><span class="line">.then(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">console</span>.log(<span class="string">"A - Promise 1"</span>);</span><br><span class="line">&#125;)</span><br><span class="line">.then(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">console</span>.log(<span class="string">"B - Promise 1"</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve</span>) =&gt;</span> &#123;</span><br><span class="line">  resolve();</span><br><span class="line">&#125;)</span><br><span class="line">.then(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">console</span>.log(<span class="string">"A - Promise 2"</span>);</span><br><span class="line">&#125;)</span><br><span class="line">.then(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">console</span>.log(<span class="string">"B - Promise 2"</span>);</span><br><span class="line">&#125;)</span><br><span class="line">.then(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">console</span>.log(<span class="string">"C - Promise 2"</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"AA"</span>);</span><br><span class="line"></span><br><span class="line">输出</span><br><span class="line"><span class="string">'A'</span></span><br><span class="line"><span class="string">'AA'</span></span><br><span class="line"><span class="string">"A - Promise 1"</span></span><br><span class="line"><span class="string">"A - Promise 2"</span></span><br><span class="line"></span><br><span class="line"><span class="string">"B - Promise 1"</span></span><br><span class="line"><span class="string">"B - Promise 2"</span></span><br><span class="line"><span class="string">"C - Promise 2"</span></span><br><span class="line"></span><br><span class="line"><span class="string">"A - setTimeout"</span></span><br></pre></td></tr></table></figure><p>7.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* 考察 js 执行环境栈的进和出</span></span><br><span class="line"><span class="comment">* 求输出结果顺序</span></span><br><span class="line"><span class="comment">* </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">i</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(i &lt; <span class="number">0</span>) <span class="keyword">return</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'begin:'</span> + i);</span><br><span class="line">    foo(i<span class="number">-1</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'end:'</span> + i);</span><br><span class="line">&#125;</span><br><span class="line">foo(<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">输出：</span><br><span class="line">    begin: <span class="number">2</span>;</span><br><span class="line">    begin: <span class="number">1</span>;</span><br><span class="line">    begin: <span class="number">0</span>;</span><br><span class="line">    end: <span class="number">0</span>;</span><br><span class="line">    end: <span class="number">1</span>;</span><br><span class="line">    end: <span class="number">2</span>;</span><br></pre></td></tr></table></figure><p>8.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* 考察 js 原型和this</span></span><br><span class="line"><span class="comment">* 求输出结果顺序</span></span><br><span class="line"><span class="comment">* </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Parent</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.a = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">this</span>.b = [<span class="number">1</span>, <span class="number">2</span>, <span class="keyword">this</span>.a];</span><br><span class="line">    <span class="keyword">this</span>.c = &#123; <span class="attr">demo</span>: <span class="number">5</span>&#125;;</span><br><span class="line">    <span class="keyword">this</span>.show = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.a, <span class="keyword">this</span>.b, <span class="keyword">this</span>.c.demo);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Child</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.a = <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">this</span>.change = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.b.push(<span class="keyword">this</span>.a);</span><br><span class="line">        <span class="keyword">this</span>.a = <span class="keyword">this</span>.b.length;</span><br><span class="line">        <span class="keyword">this</span>.c.demmo = <span class="keyword">this</span>.a++;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">Child.prototype = <span class="keyword">new</span> Parent();</span><br><span class="line"><span class="keyword">var</span> parent = <span class="keyword">new</span> Parent();</span><br><span class="line"><span class="keyword">var</span> child1 = <span class="keyword">new</span> Child();</span><br><span class="line"><span class="keyword">var</span> child2 = <span class="keyword">new</span> Child();</span><br><span class="line">child1.a = <span class="number">11</span>;</span><br><span class="line">child2.a = <span class="number">12</span>;</span><br><span class="line">parent.show();</span><br><span class="line">child1.show();</span><br><span class="line">child2.show();</span><br><span class="line">child1.change();</span><br><span class="line">child2.change();</span><br><span class="line">parent.show();</span><br><span class="line">child1.show();</span><br><span class="line">child2.show();</span><br><span class="line"></span><br><span class="line">输出：</span><br><span class="line"><span class="number">1</span> (<span class="number">3</span>) [<span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>] <span class="number">5</span></span><br><span class="line"><span class="number">11</span> (<span class="number">3</span>) [<span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>] <span class="number">5</span></span><br><span class="line"><span class="number">23</span> <span class="number">12</span> (<span class="number">3</span>) [<span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>] <span class="number">5</span></span><br><span class="line"><span class="number">1</span> (<span class="number">3</span>) [<span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>] <span class="number">5</span></span><br><span class="line"><span class="number">5</span> (<span class="number">5</span>) [<span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">11</span>, <span class="number">12</span>] <span class="number">5</span></span><br><span class="line"><span class="number">6</span> (<span class="number">5</span>) [<span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">11</span>, <span class="number">12</span>] <span class="number">5</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* 考察 js 对象的引用地址</span></span><br><span class="line"><span class="comment">* </span></span><br><span class="line"><span class="comment">* 求输出结果</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"><span class="keyword">var</span> obj = &#123;&#125;</span><br><span class="line"><span class="keyword">var</span> arr = [];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">1</span>; i&lt;=<span class="number">3</span>; i++)&#123;</span><br><span class="line">    obj.a = <span class="string">'a'</span>+i;</span><br><span class="line">    obj.b = <span class="string">'b'</span>+i;</span><br><span class="line">    <span class="built_in">console</span>.log(obj) <span class="comment">// 这里输出正确的值</span></span><br><span class="line">    <span class="built_in">console</span>.dir(obj) <span class="comment">// 这里输出循环完后的值</span></span><br><span class="line">    <span class="built_in">console</span>.table(obj)</span><br><span class="line">    arr.push(obj)</span><br><span class="line">    <span class="built_in">console</span>.log(arr) <span class="comment">//[] 这里输出内容和外面一样</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(arr)  <span class="comment">// 输出什么？ 输出 [&#123;a: 'a3', b: 'b3'&#125;, &#123;a: 'a3', b: 'b3'&#125;, &#123;a: 'a3', b: 'b3'&#125;]</span></span><br></pre></td></tr></table></figure><blockquote><p>每次取出来的值都放在obj.a中，因为是在外面的定义的对象，所以<strong>每次obj的地址<br>是一样的</strong>，arr中保存的是obj的地址，当最后一次给arr.a赋值为a4时，由于<br>是同一个obj,所以最后一次给obj.a赋值给之前的值给覆盖掉,console.log和console.dir</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    getName = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123; alert (<span class="number">1</span>); &#125;;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br><span class="line">Foo.getName = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123; alert (<span class="number">2</span>);&#125;;</span><br><span class="line">Foo.prototype.getName = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123; alert (<span class="number">3</span>);&#125;;</span><br><span class="line"><span class="keyword">var</span> getName = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123; alert (<span class="number">4</span>);&#125;;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getName</span>(<span class="params"></span>) </span>&#123; alert (<span class="number">5</span>);&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//请写出以下输出结果：</span></span><br><span class="line">Foo.getName();</span><br><span class="line">getName();</span><br><span class="line">Foo().getName();</span><br><span class="line">getName();</span><br><span class="line"><span class="keyword">new</span> Foo.getName();</span><br><span class="line"><span class="keyword">new</span> Foo().getName();</span><br><span class="line"><span class="keyword">new</span> <span class="keyword">new</span> Foo().getName();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2</span></span><br><span class="line"><span class="comment">// 4</span></span><br><span class="line"><span class="comment">// 1</span></span><br><span class="line"><span class="comment">// 1</span></span><br><span class="line"><span class="comment">// 3</span></span><br><span class="line"><span class="comment">// 3</span></span><br></pre></td></tr></table></figure><blockquote><p>考察变量定义提升、this指针指向、运算符优先级、原型、继承、全局变量污染、对象属性及原型属性优先级等等。</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>计算机知识要点</title>
      <link href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%9F%A5%E8%AF%86%E8%A6%81%E7%82%B9/"/>
      <url>/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%9F%A5%E8%AF%86%E8%A6%81%E7%82%B9/</url>
      
        <content type="html"><![CDATA[<ul><li>CPU的核心数，线程数</li><li>应用程序的多进程和多线程</li><li>串行并行和并发，同步和异步</li></ul><p><img src="http://p09g3b06f.bkt.clouddn.com/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%9F%A5%E8%AF%86%E8%A6%81%E7%82%B9/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90.jpg" alt="计算机组成"></p><a id="more"></a><h2 id="cpu与核心"><a href="#cpu与核心" class="headerlink" title="cpu与核心"></a>cpu与核心</h2><p><strong>物理核心</strong><br>物理核数量=cpu数(机子上装的cpu的数量) * 每个cpu的核心数</p><p><strong>虚拟核</strong></p><ul><li><p>所谓的4核8线程，4核指的是物理核心。通过intel超线程技术，用一个物理核模拟两个虚拟核，每个核两个线程，总数为8线程。</p></li><li><p>在操作系统看来是8个核，但是实际上是4个物理核。</p></li><li><p>通过超线程技术可以实现单个物理核实现线程级别的并行计算，但是比不上性能两个物理核。</p></li></ul><p><strong>单核cpu和多核cpu</strong></p><ul><li>都是一个cpu，不同的是每个cpu上的核心数</li><li>多核cpu是多个单核cpu的替代方案，多核cpu减小了体积，同时也减少了功耗</li><li>一个核心只能同时执行一个线程</li></ul><h2 id="进程和线程"><a href="#进程和线程" class="headerlink" title="进程和线程"></a>进程和线程</h2><p><strong>进程</strong></p><ul><li>进程和线程都是一个时间段的描述，是CPU工作时间段的描述，不过是颗粒大小不同。</li><li>进程是操作系统进行资源（包括cpu、内存、磁盘IO等）分配的最小单位，进程与进程是独立</li><li>进程是应用程序的执行实例，每个进程是由私有的虚拟地址空间、代码、数据和其它各种系统资源组成</li></ul><p><strong>线程</strong></p><ul><li>线程是cpu调度和分配的基本单位，一个进程至少一个主线程</li><li>我们打开的微信，浏览器都是一个进程</li><li>进程可能有多个子任务，比如微信要接受消息，发送消息，这些子任务就是线程。</li><li>资源分配给进程，线程共享进程资源。</li><li>进程之间是相互独立的，不共享内存和数据，线程之间内存和数据是通用的</li></ul><p><strong>线程切换</strong></p><ul><li>cpu给线程分配时间片(也就是分配给线程的时间)，执行完时间片后会切换都另一个线程。</li><li>切换之前会保存线程的状态，下次时间片再给这个线程时才能知道当前状态。</li><li>从保存线程A的状态再到切换到线程B时，重新加载线程B的状态的这个过程就叫上下文切换。</li><li>而上下切换时会消耗大量的cpu时间。</li></ul><p><strong>线程和进程开销</strong></p><ul><li>上下文切换消耗</li><li>线程创建和消亡的开销</li><li>线程需要保存维持线程本地栈，会消耗内存</li><li>进程要分配好多资源(cpu,寄存器，文件，内存，io设备等)所以开销大</li></ul><p><strong>总结</strong><br>进程就是包换上下文切换的程序执行时间总和 = CPU加载上下文+CPU执行+CPU保存上下文。进程的颗粒度太大，每次都要有上下的调入，保存，调出。如果我们把进程比喻为一个运行在电脑上的软件，那么一个软件的执行不可能是一条逻辑执行的，必定有多个分支和多个程序段，就好比要实现程序A，实际分成 a，b，c等多个块组合而成。那么这里具体的执行就可能变成：程序A得到CPU =》CPU加载上下文，开始执行程序A的a小段，然后执行A的b小段，然后再执行A的c小段，最后CPU保存A的上下文。这里a，b，c的执行是共享了A的上下文，CPU在执行的时候没有进行上下文切换的。这里的a，b，c就是线程，也就是说线程是共享了进程的上下文环境，的更为细小的CPU时间段。</p><h2 id="串行，并发与并行"><a href="#串行，并发与并行" class="headerlink" title="串行，并发与并行"></a>串行，并发与并行</h2><p><strong>串行</strong></p><ul><li>单线程执行多个任务，执行时一个执行完再执行另一个。</li><li>比喻：吃完饭再看电视</li></ul><p><strong>并发</strong></p><ul><li>多个线程在单个核心运行，同一时间一个线程运行，系统不停切换线程，看起来像同时运行，实际上是线程不停切换。</li><li>在程序中我们开辟的线程数量大于cpu的数量，那么就会</li><li>比喻：一会儿去吃饭，一会儿去看电视</li></ul><p><strong>并行</strong></p><ul><li>每个线程分配给独立的核心，线程同时运行。</li><li>比喻：一边吃饭一边看球赛。</li></ul><h2 id="多核下线程数量选择"><a href="#多核下线程数量选择" class="headerlink" title="多核下线程数量选择"></a>多核下线程数量选择</h2><p><strong>计算密集型</strong></p><ul><li>程序主要为复杂的逻辑判断和复杂的运算。</li><li>cpu的利用率高，不用开太多的线程，开太多线程反而会因为线程切换时切换上下文而浪费资源。</li></ul><p><strong>IO密集型</strong></p><ul><li>程序主要为IO操作，比如磁盘IO(读取文件)和网络IO(网络请求)。</li><li>因为IO操作会阻塞线程，cpu利用率不高，可以开多点线程，阻塞时可以切换到其他就绪线程，提高cpu利用率。</li></ul><p><strong>网络请求型</strong></p><ul><li>可以使用单线程加异步来处理</li></ul><h2 id="同步和异步"><a href="#同步和异步" class="headerlink" title="同步和异步"></a>同步和异步</h2><p><strong>同步</strong></p><blockquote></blockquote><p>进程之间的关系不是相互排斥临界资源的关系，而是相互依赖的关系。进一步的说明：就是前一个进程的输出作为后一个进程的输入，当第一个进程没有输出时第二个进程必须等待。具有同步关系的一组并发进程相互发送的信息称为消息或事件。<br>其中并发又有伪并发和真并发，伪并发是指单核处理器的并发，真并发是指多核处理器的并发。</p><p><strong>异步</strong></p><blockquote></blockquote><p>异步和同步是相对的，同步就是顺序执行，执行完一个再执行下一个，需要等待、协调运行。异步就是彼此独立,在等待某事件的过程中继续做自己的事，不需要等待这一事件完成后再工作。线程就是实现异步的一个方式。异步是让调用方法的主线程不需要同步等待另一线程的完成，从而可以让主线程干其它的事情。</p><p>推荐：博文  </p><ul><li><a href="https://blog.csdn.net/u012398362/article/details/51475213" target="_blank" rel="noopener">多核CPU、多进程、多线程之间的联系</a>  </li><li><a href="http://www.cnblogs.com/tracylining/p/3506673.html" target="_blank" rel="noopener">并发、并行、同步、异步、阻塞、非阻塞</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 异步 </tag>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>WebSocket了解一下</title>
      <link href="/WebSocket%E4%BA%86%E8%A7%A3%E4%B8%80%E4%B8%8B/"/>
      <url>/WebSocket%E4%BA%86%E8%A7%A3%E4%B8%80%E4%B8%8B/</url>
      
        <content type="html"><![CDATA[<hr><p>WebSocket并非一个工具，而是HTML5里面的协议。它从某种角度上弥补了上一部分中我们介绍过的HTTP协议的缺陷。<br>它诞生的最大价值，在于解决客户端和服务器之间的实时通信。WebSocket提供使用一个TCP连接进行双向通讯的机制，包括网络协议和API，以取代网页和服务器采用HTTP轮询进行双向通讯的机制。<br>由于使用WebSocket使用HTTP的端口，因此TCP连接建立后的握手消息是基于HTTP的，由服务器判断这是一个HTTP协议，还是WebSocket协议。 WebSocket连接除了建立和关闭时的握手，数据传输和HTTP没有任何关系。</p><p><img src="http://p09g3b06f.bkt.clouddn.com/WebSocket%E4%BA%86%E8%A7%A3%E4%B8%80%E4%B8%8B/%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE.png" alt="协议"></p><a id="more"></a><h2 id="websocket与http"><a href="#websocket与http" class="headerlink" title="websocket与http"></a>websocket与http</h2><p>WebSocket是HTML5出的东西（协议），也就是说HTTP协议没有变化，或者说没关系，但HTTP是不支持持久连接的（长连接，循环连接的不算）</p><p>首先HTTP有 1.1 和 1.0 之说，也就是所谓的 keep-alive ，把多个HTTP请求合并为一个，但是 Websocket 其实是一个新协议，跟HTTP协议基本没有关系，只是为了兼容现有浏览器的握手规范而已，</p><p>另外Html5是指的一系列新的API，或者说新规范，新技术。Http协议本身只有1.0和1.1，而且跟Html本身没有直接关系。。通俗来说，你可以用HTTP协议传输非Html数据，</p><h2 id="Websocket是什么样的协议"><a href="#Websocket是什么样的协议" class="headerlink" title="Websocket是什么样的协议"></a>Websocket是什么样的协议</h2><p>首先，Websocket是一个持久化的协议，相对于HTTP这种非持久的协议来说。简单的举个例子吧，用目前应用比较广泛的HTTP生命周期来解释。</p><p>HTTP的生命周期通过 Request 来界定，也就是一个 Request 一个 Response ，那么在 HTTP1.0 中，这次HTTP请求就结束了。</p><p>在HTTP1.1中进行了改进，使得有一个keep-alive，也就是说，在一个HTTP连接中，可以发送多个Request，接收多个Response。但是请记住 Request=Response ， 在HTTP中永远是这样，也就是说一个request只能有一个response。而且这个response也是被动的，不能主动发起。</p><h2 id="Websocket的作用"><a href="#Websocket的作用" class="headerlink" title="Websocket的作用"></a>Websocket的作用</h2><h3 id="longpoll-和-ajax轮询-的原理"><a href="#longpoll-和-ajax轮询-的原理" class="headerlink" title="longpoll 和 ajax轮询 的原理"></a>longpoll 和 ajax轮询 的原理</h3><p>ajax轮询的原理非常简单，让浏览器隔个几秒就发送一次请求，询问服务器是否有新信息。</p><p><img src="http://p09g3b06f.bkt.clouddn.com/WebSocket%E4%BA%86%E8%A7%A3%E4%B8%80%E4%B8%8B/%E8%BD%AE%E8%AF%A2.png" alt="ajax轮询"></p><p>longpoll 其实原理跟 ajax轮询 差不多，都是采用轮询的方式，不过采取的是阻塞模型（一直打电话，没收到就不挂电话），也就是说，客户端发起连接后，如果没消息，就一直不返回Response给客户端。直到有消息才返回，返回完之后，客户端再次建立连接，周而复始。</p><p><img src="http://p09g3b06f.bkt.clouddn.com/WebSocket%E4%BA%86%E8%A7%A3%E4%B8%80%E4%B8%8B/%E9%95%BF%E8%BD%AE%E8%AF%A2.png" alt="长轮询"></p><h2 id="websocket使用"><a href="#websocket使用" class="headerlink" title="websocket使用"></a>websocket使用</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> ws = <span class="keyword">new</span> WebSocket(<span class="string">"wss://www.websocket.org"</span>);</span><br><span class="line">ws.onopen = <span class="function"><span class="keyword">function</span>(<span class="params">evt</span>) </span>&#123; </span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"Connection open ..."</span>); </span><br><span class="line">  ws.send(<span class="string">"Hello WebSockets!"</span>);</span><br><span class="line">&#125;;</span><br><span class="line">ws.onmessage = <span class="function"><span class="keyword">function</span>(<span class="params">evt</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log( <span class="string">"Received Message: "</span> + evt.data);</span><br><span class="line">  ws.close();</span><br><span class="line">&#125;;</span><br><span class="line">ws.onclose = <span class="function"><span class="keyword">function</span>(<span class="params">evt</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"Connection closed."</span>);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="推荐："><a href="#推荐：" class="headerlink" title="推荐："></a>推荐：</h2><ul><li><a href="https://segmentfault.com/a/1190000012948613#articleHeader15" target="_blank" rel="noopener">WebSocket 详解</a></li><li><a href="https://mp.weixin.qq.com/s/KVPNG_kvTTWnkbGvHOY4Gw" target="_blank" rel="noopener">看完让你彻底搞懂Websocket原理</a><br><a href="http://www.ruanyifeng.com/blog/2017/05/websocket.html" target="_blank" rel="noopener"> 阮一峰WebSocket教程</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> 网络协议 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HTTP </tag>
            
            <tag> 网络协议 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>React学习笔记</title>
      <link href="/React%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
      <url>/React%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<h2 id="React"><a href="#React" class="headerlink" title="React"></a>React</h2><p>高内聚（High Cohesion ）和低搞合（ LowCoupling）的原则。<br>“差劲的程序员操心代码，优秀的程序员操心数据结构和它们之间的关系。</p><a id="more"></a><h2 id="组件中的属性-prop-和状态-state"><a href="#组件中的属性-prop-和状态-state" class="headerlink" title="组件中的属性(prop)和状态(state)"></a>组件中的属性(prop)和状态(state)</h2><p>React 组件的数据分为两种， prop 和state ，无论prop 或者state 的改变，都可能引发组件的重新渲染<br>prop 是组件的对外接口， state 是组件的内部状态，对外用prop ，内部用state 。<br>在React 中， prop ( property 的简写）是从外部传递给组件的数据， 一个React 组件<br>通过定义自己能够接受的prop 就定义了自己的对外公共接口。<br>每个React 组件都是独立存在的模块，组件之外的一切都是外部世界，外部世界就是通过prop 来和组件对话的。<br>propTypes类型检查是一个辅助工具<br>React.PropTypes 自 React v15.5 起已弃用。请使用 prop-types 库代替<br>由于React组件不能修改传入的prop ，所以需要记录自身数据变化，就要使用state 。<br>而this.setState()函数所做的事情，首先是改变this.state 的值，然后驱动组件经历更新过程，这样才有机会让this.state 里新的值出现在界面上。</p><h2 id="prop和state区别"><a href="#prop和state区别" class="headerlink" title="prop和state区别"></a>prop和state区别</h2><ol><li>prop 用于定义外部接口， state 用于记录内部状态；</li><li>prop 的赋值在外部世界使用组件时， state 的赋值在组件内部；</li><li>组件不应该改变prop 的值，而state 存在的目的就是让组件来改变的。</li><li>组件的state ，就相当于组件的记忆，其存在意义就是被修改，每一次通过this.</li><li>setState 函数修改state 就改变了组件的状态，然后通过渲染过程把这种变化体现出来。</li><li>子组件向父组件传递数据和改变父组件中的数据是通过 父组件传递函数的prop给子组件调用，从而改变父组件的state数据和页面渲染</li></ol><h2 id="组件生命周期："><a href="#组件生命周期：" class="headerlink" title="组件生命周期："></a>组件生命周期：</h2><ul><li><input checked disabled type="checkbox"> 装载过程（ Mount ），也就是把组件第一次在DOM 树中渲染的过程；</li><li><input checked disabled type="checkbox"> 更新过程（ Update ），当组件被重新渲染的过程；</li><li><input checked disabled type="checkbox"> 卸载过程（ Unmount ），组件从DOM 中删除的过程。</li></ul><blockquote><p>构造函数（constructor）最先执行，componentWillMount() 会在render() 方法之前执行，而 componentDidMount() 在 render() 方法之后执行。</p></blockquote><h3 id="装载过程（-Mount-）：顺序："><a href="#装载过程（-Mount-）：顺序：" class="headerlink" title="装载过程（ Mount ）：顺序："></a>装载过程（ Mount ）：顺序：</h3><ol><li>constructor</li><li>getlnitialState</li></ol><ul><li>getDefaultProps (这两个函数只在React.createClass 方法创造的组件类才会起作用。)</li></ul><ol start="3"><li>componentWillMount</li><li>render</li><li>componentDidMount</li><li>componentWillUnmount</li><li>componentDidCatch(error, info)</li></ol><p>render 函数并不做实际的谊染动作，它只是返回一个JSX 描述的结构，最终由React 来操作渲染过程。</p><p>render 函数应该是一个纯函数，完全根据this.state 和this.props 来决定返回的结果，而且不要产生任何副作用。</p><p>在render函数中去调用this.setState毫无疑问是错误的，因为一个纯函数不应该引起状态的改变。</p><p>而setState也有一个非常重要的特性，那就是，该方法是异步的。它并不会立即执行，而会在下一轮事件循环中执行。</p><h3 id="更新过程（-Update-）：-顺序："><a href="#更新过程（-Update-）：-顺序：" class="headerlink" title="更新过程（ Update ）： 顺序："></a>更新过程（ Update ）： 顺序：</h3><ol><li>componentWillReceiveProps(nextProps) </li><li>shouldComponentUpdate(nextProps, nextState) (判断是否要更新)</li><li>componentWillUpdate(nextProps, nextState)</li><li>render</li><li>componentDidUpdate(prevProps, prevState)</li></ol><p>forceUpdate就是重新render。有些变量不在state上，但是你又想达到这个变量更新的时候，刷新render<br>只要是父组件的render 函数被调用，在render 函数里面被谊染的子组件就会经历更新过程，不管父组件传给子组件的props 有没有改变，都会触发子组件的componentWillReceiveProps函数。</p><p>注意，通过this.setState 方法触发的更新过程不会调用这个函数，这是因为这个函数<br>适合根据新的props 值（也就是参数nextProps ）来计算出是不是要更新内部状态state。</p><ul><li><p>constructor(props) - 它在组件初始化时被调用。在这个方法中，你可以设置初始化状态以及绑定类方法。</p></li><li><p>componentWillMount() - 它在 render() 方法之前被调用。这就是为什么它可以用作去设置组件内部的状态，因为它不会触发组件的再次渲染。但一般来说，还是推荐在 constructor() 中去初始化状态。</p></li><li><p>render() - <strong>这个生命周期方法是必须有的</strong>，它返回作为组件输出的元素。这个方法应该是一个纯函数，因此不应该在这个方法中修改组件的状态。它把属性和状态作为输入并且返回（需要渲染的）元素</p></li><li><p>componentDidMount() - 它仅在组件挂载后执行一次。这是发起异步请求去 API 获取数据的绝佳时期。获取到的数据将被保存在内部组件的状态中然后在 render() 生命周期方法中展示出来。</p></li><li><p>componentWillReceiveProps(nextProps) - 这个方法在一个更新生命周（update lifecycle）中被调用。新的属性会作为它的输入。因此你可以利用 this.props 来对比之后的属性和之前的属性，基于对比的结果去实现不同的行为。此外，你可以基于新的属性来设置组件的状态。</p></li><li><p>shouldComponentUpdate(nextProps, nextState) - 每次组件因为状态或者属性更改而更新时，它都会被调用。你将在成熟的React应用中使用它来进行性能优化。在一个更新生命周期中，组件及其子组件将根据该方法返回的布尔值来决定是否重新渲染。这样你可以阻止组件的渲染生命周期（render lifecycle）方法，避免不必要的渲染。</p></li><li><p>componentWillUpdate(nextProps, nextState) - 这个方法是 render() 执行之前的最后一个方法。你已经拥有下一个属性和状态，它们可以在这个方法中任由你处置。你可以利用这个方法在渲染之前进行最后的准备。<strong>注意在这个生命周期方法中你不能再触发 setState()</strong>。如果你想基于新的属性计算状态，你必须利用 componentWillReceiveProps()。</p></li><li><p>componentDidUpdate(prevProps, prevState) - 这个方法在 render() 之后立即调用。你可以用它当成操作 DOM 或者执行更多异步请求的机会。</p></li><li><p>componentWillUnmount() - 它会在组件销毁之前被调用。你可以利用这个生命周期方法去执行任何清理任务。</p></li><li><p>componentDidCatch(error, info)。它在 <strong>React 16 中引入</strong>，用来捕获组件的错误。</p></li></ul><h2 id="从Flux-到Redux"><a href="#从Flux-到Redux" class="headerlink" title="从Flux 到Redux"></a>从Flux 到Redux</h2>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> React </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JavaScript基础-05之事件、冒泡、捕获、传播、委托</title>
      <link href="/JavaScript%E5%9F%BA%E7%A1%80-05%E4%B9%8B%E4%BA%8B%E4%BB%B6%E3%80%81%E5%86%92%E6%B3%A1%E3%80%81%E6%8D%95%E8%8E%B7%E3%80%81%E4%BC%A0%E6%92%AD%E3%80%81%E5%A7%94%E6%89%98/"/>
      <url>/JavaScript%E5%9F%BA%E7%A1%80-05%E4%B9%8B%E4%BA%8B%E4%BB%B6%E3%80%81%E5%86%92%E6%B3%A1%E3%80%81%E6%8D%95%E8%8E%B7%E3%80%81%E4%BC%A0%E6%92%AD%E3%80%81%E5%A7%94%E6%89%98/</url>
      
        <content type="html"><![CDATA[<p>DOM事件流（event  flow ）存在三个阶段：</p><ul><li>事件捕获阶段</li><li>处于目标阶段</li><li>事件冒泡阶段。</li></ul><p><img src="http://p09g3b06f.bkt.clouddn.com/JavaScript%E4%B9%8B%E4%BA%8B%E4%BB%B6%E3%80%81%E5%86%92%E6%B3%A1%E3%80%81%E6%8D%95%E8%8E%B7%E3%80%81%E4%BC%A0%E6%92%AD%E3%80%81%E5%A7%94%E6%89%98/%E4%BA%8B%E4%BB%B6%E5%86%92%E6%B3%A1%E5%92%8C%E6%8D%95%E8%8E%B7.jpg" alt="事件冒泡和捕获"></p><a id="more"></a><ol><li><p>事件捕获（event  capturing）：<strong>由外向里，最外层的元素先执行，然后传递到内部</strong>,通俗的理解就是，当鼠标点击或者触发dom事件时，浏览器会从根节点开始由外到内进行事件传播，即点击了子元素，如果父元素通过事件捕获方式注册了对应的事件的话，会先触发父元素绑定的事件。</p></li><li><p>事件冒泡（dubbed  bubbling）：与事件捕获恰恰相反，事件冒泡顺序是<strong>由里向外，最里层的元素先执行，然后冒泡到外层</strong>,直到根节点。</p></li><li><p>dom标准事件流的触发的先后顺序为：<strong>先捕获再冒泡，</strong></p></li><li><p>addEventListener(event, listener, false)的第三个参数，true 为捕获，false 为冒泡，默认为冒泡。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">参数定义：</span><br><span class="line">event---（事件名称，如click，不带on），</span><br><span class="line">listener---事件监听函数，是否采用事件捕获进行事件捕捉，</span><br><span class="line">默认为false，即采用事件冒泡方式</span><br></pre></td></tr></table></figure></li><li><p>attachEvent(event,listener)在 IE11、Chrome 、Firefox、Safari等浏览器都得到支持。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">参数定义：</span><br><span class="line">event---（事件名称，如onclick，带on），listener---事件监听函数。</span><br><span class="line">attachEvent主要用于IE浏览器，并且仅在IE10及以下才支持，</span><br><span class="line">IE11已经废了这个方法了（微软还是挺识趣的，慢慢向标准靠拢）。</span><br></pre></td></tr></table></figure></li></ol><blockquote><p>在 IE 9 之前是只支持事件冒泡，IE 9(包括 IE 9) 之后和目前主流的浏览器都同时支持两种事件。<br>无论是事件捕获还是事件冒泡，它们都有一个共同的行为，就是事件传播，它就像一跟引线，只有通过引线才能将绑在引线上的鞭炮（事件监听器）引爆，试想一下，如果引线不导火了，那鞭炮就只有一响了！</p></blockquote><h2 id="事件冒泡"><a href="#事件冒泡" class="headerlink" title="事件冒泡"></a>事件冒泡</h2><p>栗子：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"out"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"in"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">var</span> dom_out = <span class="built_in">document</span>.getElementsByClassName(<span class="string">'out'</span>)[<span class="number">0</span>];</span></span><br><span class="line"><span class="javascript">  <span class="keyword">var</span> dom_in = <span class="built_in">document</span>.getElementsByClassName(<span class="string">'in'</span>)[<span class="number">0</span>];</span></span><br><span class="line"><span class="actionscript">  dom_out.addEventListener(<span class="string">'click'</span>,<span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</span></span><br><span class="line"><span class="actionscript">    alert(<span class="string">'out'</span>);</span></span><br><span class="line"><span class="actionscript">  &#125;,<span class="literal">false</span>);</span></span><br><span class="line"><span class="actionscript">  dom_in.addEventListener(<span class="string">'click'</span>,<span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</span></span><br><span class="line"><span class="actionscript">    alert(<span class="string">'in'</span>);</span></span><br><span class="line"><span class="actionscript">  &#125;,<span class="literal">false</span>);</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>在上面这个例子中，事件是按照冒泡来执行的，点击里层的 in，会看到先 alert 的顺序是先 “in” 后 “out”，如果把事件改成捕获，alert 的顺序又不一样了。</p><h2 id="事件捕获"><a href="#事件捕获" class="headerlink" title="事件捕获"></a>事件捕获</h2><p>栗子：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">var</span> dom_out = <span class="built_in">document</span>.getElementsByClassName(<span class="string">'out'</span>)[<span class="number">0</span>];</span></span><br><span class="line"><span class="javascript">  <span class="keyword">var</span> dom_in = <span class="built_in">document</span>.getElementsByClassName(<span class="string">'in'</span>)[<span class="number">0</span>];</span></span><br><span class="line"><span class="actionscript">  dom_out.addEventListener(<span class="string">'click'</span>,<span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</span></span><br><span class="line"><span class="actionscript">    alert(<span class="string">'out'</span>);</span></span><br><span class="line"><span class="actionscript">  &#125;,<span class="literal">true</span>);</span></span><br><span class="line"><span class="actionscript">  dom_in.addEventListener(<span class="string">'click'</span>,<span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</span></span><br><span class="line"><span class="actionscript">    alert(<span class="string">'in'</span>);</span></span><br><span class="line"><span class="actionscript">  &#125;,<span class="literal">true</span>);</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>点击里层的 in，会看到先 alert 的顺序是先 “out” 后 “in”，</p><h2 id="捕获和冒泡顺序"><a href="#捕获和冒泡顺序" class="headerlink" title="捕获和冒泡顺序"></a>捕获和冒泡顺序</h2><p>浏览器处理时间分为两个阶段，捕获阶段和冒泡阶段：</p><ol><li>先执行捕获阶段，如果事件是在捕获阶段执行的(true 情况)，则执行；</li><li>然后是冒泡阶段，如果事件是在冒泡阶段执行的(false 情况)，则执行</li></ol><p>栗子：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"s1"</span>&gt;</span>s1</span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"s2"</span>&gt;</span>s2</span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"s3"</span>&gt;</span>s3</span><br><span class="line">      <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>设置三个 span，分别是 s1, s2, s3，然后设置 s1，s3 为冒泡执行，s2 为捕获执行：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> s1 = <span class="built_in">document</span>.getElementsByClassName(<span class="string">'s1'</span>)[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">var</span> s2 = <span class="built_in">document</span>.getElementsByClassName(<span class="string">'s2'</span>)[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">var</span> s3 = <span class="built_in">document</span>.getElementsByClassName(<span class="string">'s3'</span>)[<span class="number">0</span>];</span><br><span class="line">s1.addEventListener(<span class="string">'click'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  alert(<span class="string">'s1'</span>);</span><br><span class="line">&#125;,<span class="literal">false</span>);</span><br><span class="line">s2.addEventListener(<span class="string">'click'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  alert(<span class="string">'s2'</span>);</span><br><span class="line">&#125;,<span class="literal">true</span>);</span><br><span class="line">s3.addEventListener(<span class="string">'click'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  alert(<span class="string">'s3'</span>);</span><br><span class="line">&#125;,<span class="literal">false</span>);</span><br></pre></td></tr></table></figure><p>点击 s3，依次 alert s2 =&gt; s3 =&gt; s1，说明：</p><blockquote><ul><li>捕获事件和冒泡事件同时存在的，而且捕获事件先执行，冒泡事件后执行；</li><li>如果元素存在事件且事件的执行时间与当前逻辑一致(冒泡或捕获)，则执行。</li></ul></blockquote><h2 id="事件委托"><a href="#事件委托" class="headerlink" title="事件委托"></a>事件委托</h2><p>在javasript中delegate这个词经常出现，看字面的意思，代理、委托。<br>首先介绍一下JavaScript的事件代理。事件代理在JS世界中一个非常有用也很有趣的功能。当我们需要对很多元素添加事件的时候，可以通过将事件添加到它们的父节点而将事件委托给父节点来触发处理函数。这主要得益于浏览器的事件冒泡机制</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">"parent-list"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span> <span class="attr">id</span>=<span class="string">"post-1"</span>&gt;</span>Item 1<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span> <span class="attr">id</span>=<span class="string">"post-2"</span>&gt;</span>Item 2<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span> <span class="attr">id</span>=<span class="string">"post-3"</span>&gt;</span>Item 3<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span> <span class="attr">id</span>=<span class="string">"post-4"</span>&gt;</span>Item 4<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span> <span class="attr">id</span>=<span class="string">"post-5"</span>&gt;</span>Item 5<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span> <span class="attr">id</span>=<span class="string">"post-6"</span>&gt;</span>Item 6<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">addListeners4Li</span>(<span class="params">liNode</span>)</span>&#123;</span><br><span class="line">    liNode.onclick = <span class="function"><span class="keyword">function</span> <span class="title">clickHandler</span>(<span class="params"></span>)</span>&#123;...&#125;;</span><br><span class="line">    liNode.onmouseover = <span class="function"><span class="keyword">function</span> <span class="title">mouseOverHandler</span>(<span class="params"></span>)</span>&#123;...&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> ulNode = <span class="built_in">document</span>.getElementById(<span class="string">"parent-list"</span>);</span><br><span class="line">    <span class="keyword">var</span> liNodes = ulNode.getElementByTagName(<span class="string">"Li"</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>, l = liNodes.length; i &lt; l; i++)&#123;</span><br><span class="line">        addListeners4Li(liNodes[i]);</span><br><span class="line">    &#125;   </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>如果这个UL中的Li子元素会频繁地添加或者删除，我们就需要在每次添加Li的时候都调用这个addListeners4Li方法来为每个Li节点添加事件处理函数。这就添加的复杂度和出错的可能性。</p><p>更简单的方法是使用事件代理机制，当事件被抛到更上层的父节点的时候，我们通过检查事件的目标对象（target）来判断并获取事件源Li。下面的代码可以完成我们想要的效果：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 获取父节点，并为它添加一个click事件</span></span><br><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">"parent-list"</span>).addEventListener(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 检查事件源e.targe是否为Li</span></span><br><span class="line">  <span class="keyword">if</span>(e.target &amp;&amp; e.target.nodeName.toUpperCase == <span class="string">"LI"</span>) &#123;</span><br><span class="line">    <span class="comment">// 真正的处理过程在这里</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"List item "</span>,e.target.id.replace(<span class="string">"post-"</span>),<span class="string">" was clicked!"</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><blockquote><p>为父节点添加一个click事件，当子节点被点击的时候，click事件会从子节点开始向上冒泡。父节点捕获到事件之后，通过判断e.target.nodeName来判断是否为我们需要处理的节点。并且通过e.target拿到了被点击的Li节点。从而可以获取到相应的信息，并作处理。</p></blockquote><p>当我们的鼠标移到Li上的时候，需要获取此Li的相关信息并飘出悬浮窗以显示详细信息，或者当某个Li被点击的时候需要触发相应的处理事件。我们通常的写法，是<strong>为每个Li都添加一些类似onMouseOver或者onClick之类的事件监听。</strong></p><p>委托在JQuery中已经得到了实现，即通过$(selector).on(event,childSelector,data,function,map)实现委托，一般用于动态生成的元素，当然JQuery也是通过原声的js去实现的，下面举一个简单的栗子，通过js实现通过parent元素给child元素注册click事件</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"parent"</span>&gt;</span></span><br><span class="line">  父元素</span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"child"</span>&gt;</span></span><br><span class="line">    子元素</span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> parent = <span class="built_in">document</span>.getElementById(<span class="string">"parent"</span>);</span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> child = <span class="built_in">document</span>.getElementById(<span class="string">"child"</span>);</span></span><br><span class="line"><span class="actionscript">parent.onclick = <span class="function"><span class="keyword">function</span><span class="params">(e)</span></span>&#123;</span></span><br><span class="line"><span class="actionscript"><span class="keyword">if</span>(e.target.id == <span class="string">"child"</span>)&#123;</span></span><br><span class="line"><span class="javascript"><span class="built_in">console</span>.log(<span class="string">"您点击了child元素"</span>)</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>虽然没有直接只child元素注册click事件，可是点击child元素时却弹出了提示信息。</p><h2 id="默认事件取消与停止冒泡"><a href="#默认事件取消与停止冒泡" class="headerlink" title="默认事件取消与停止冒泡"></a>默认事件取消与停止冒泡</h2><ol><li>event.stopPropagation()(IE 中window.event.cancelBubble = true)可以用来取消事件冒泡。</li><li>event.preventDefault()(IE 中window.event.returnValue = false)。可以用来取消浏览器默认事件。</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">stopBubble</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">  <span class="comment">//如果提供了事件对象，则这是一个非IE浏览器</span></span><br><span class="line">  <span class="keyword">if</span> ( e &amp;&amp; e.stopPropagation )</span><br><span class="line">      <span class="comment">//因此它支持W3C的stopPropagation()方法</span></span><br><span class="line">      e.stopPropagation();</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">      <span class="comment">//否则，我们需要使用IE的方式来取消事件冒泡</span></span><br><span class="line">      <span class="built_in">window</span>.event.cancelBubble = <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//阻止浏览器的默认行为</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">stopDefault</span>(<span class="params"> e </span>) </span>&#123;</span><br><span class="line">  <span class="comment">//阻止默认浏览器动作(W3C)</span></span><br><span class="line">  <span class="keyword">if</span> ( e &amp;&amp; e.preventDefault )</span><br><span class="line">      e.preventDefault();</span><br><span class="line">  <span class="comment">//IE中阻止函数器默认动作的方式</span></span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">      <span class="built_in">window</span>.event.returnValue = <span class="literal">false</span>;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>参考：<br><a href="https://segmentfault.com/a/1190000007196129" target="_blank" rel="noopener">JS 中的事件冒泡与捕获</a><br><a href="https://www.cnblogs.com/owenChen/archive/2013/02/18/2915521.html" target="_blank" rel="noopener">JavaScript事件代理和委托</a></p>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
            <tag> 异步 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>正则表达式学习笔记</title>
      <link href="/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
      <url>/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<h2 id="理论"><a href="#理论" class="headerlink" title="理论"></a>理论</h2><h3 id="正则引擎"><a href="#正则引擎" class="headerlink" title="正则引擎"></a>正则引擎</h3><ol><li>DFA (Deterministic finite automaton) 确定型有穷自动机</li><li>NFA (Non-deterministic finite automaton) 非确定型有穷自动机，大部分都是NFA</li></ol><p>DFA引擎不需要进行回溯，所以匹配效率一般情况下要高，但是它并不支持捕获组，于是也就不支持反向引用和$这种形式的引用，也不支持环视(Lookaround)、非贪婪模式等一些NFA引擎特有的特性。</p><h3 id="字符串组成"><a href="#字符串组成" class="headerlink" title="字符串组成"></a>字符串组成</h3><p>对于字符串”abc”，是由三个字符“a”、“b”、“c”以及四个位置组成的，<br>这一点对于正则表达式的匹配原理理解很重要。</p><p><img src="http://p09g3b06f.bkt.clouddn.com/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%AD%A6%E4%B9%A0/%E5%AD%97%E7%AC%A6%E4%B8%B2%E4%B8%AD%E5%AD%97%E7%AC%A6%E5%92%8C%E4%BD%8D%E7%BD%AE.jpg" alt="正则字符串">  </p><blockquote><p>首先由字符“a”取得控制权，从位置0开始匹配，由“a”来匹配“a”，匹配成功，控制权交给字符“b”；由于“a”已被“a”匹配，所以“b”从位置1开始尝试匹配，由“b”来匹配“b”，匹配成功，控制权交给“c”；由“c”来匹配“c”，匹配成功。</p></blockquote><p>此时正则表达式匹配完成，报告匹配成功。匹配结果为“abc”，开始位置为0，结束位置为3。</p><a id="more"></a><h3 id="占有字符和零宽度"><a href="#占有字符和零宽度" class="headerlink" title="占有字符和零宽度"></a>占有字符和零宽度</h3><p><strong>占有字符</strong><br>正则表达式匹配过程中，如果子表达式匹配到的是字符内容，而非位置，<br>并被保存到最终的匹配结果中，那么就认为这个子表达式是<strong>占有字符</strong>；</p><blockquote><p>比如<code>/ha/</code>（匹配ha）就是占有字符的；</p></blockquote><p><strong>零宽度</strong><br>如果子表达式匹配的仅仅是位置，或者匹配的内容并不保存到最终的匹配结果中，<br>那么就认为这个子表达式是<strong>零宽度</strong>的。 </p><blockquote><p>比如<code>/read(?=ing)/</code>（匹配reading，但是只将read放入结果中</p></blockquote><p><strong>占有字符是互斥的，零宽度是非互斥的</strong>。也就是一个字符，同一时间只能由一个子表达式匹配，<br>而一个位置，却可以同时由多个零宽度的子表达式匹配。</p><blockquote><p>比如<code>/aa/</code>是匹配不了a的,但是位置是可以多个匹配的，比如<code>/\b\ba/</code>是可以匹配a的</p></blockquote><h2 id="控制权和传动"><a href="#控制权和传动" class="headerlink" title="控制权和传动"></a>控制权和传动</h2><ul><li>控制权是指哪一个正则子表达式</li><li>传动是指正则引擎的一种机制，传动装置将定位正则从字符串的哪里开始匹配</li></ul><p>正则的匹配过程，通常情况下都是由一个子表达式（可能为一个普通字符、元字符或元字符序列组成）<br>取得控制权，从字符串的某一位置开始尝试匹配，一个子表达式开始尝试匹配的位置，<br>是从前一子表达匹配成功的结束位置开始的。  </p><p>而对于整个表达式来说，通常是由字符串位置0开始尝试匹配的。<br>如果在位置0开始的尝试，匹配到字符串某一位置时整个表达式匹配失败，<br>那么引擎会使正则向前传动，整个表达式从位置1开始重新尝试匹配，<br>依此类推，直到报告匹配成功或尝试到最后一个位置后报告匹配失败。</p><h2 id="回溯法原理"><a href="#回溯法原理" class="headerlink" title="回溯法原理"></a>回溯法原理</h2><p>回溯是影响正则表达式效率的一个非常重要的原因，<br>我们在进行正则表达式匹配时，一定要尽可能的避免回溯。<br><strong>定义</strong><br>回溯法就是指正则表达式从头开始依次进行匹配，如果匹配到某个特定的情况下时，<br>发现无法继续进行匹配，需要回退到之前匹配的结果，选择另一个分支继续进行匹配中的现象。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> reg = <span class="regexp">/ab&#123;1,3&#125;c/</span>;</span><br><span class="line"><span class="keyword">const</span> str = <span class="string">'abbc'</span>;</span><br><span class="line"><span class="comment">// 第1步：匹配/a/，得到'a'</span></span><br><span class="line"><span class="comment">// 第2步：匹配/ab&#123;1&#125;/，得到'ab'</span></span><br><span class="line"><span class="comment">// 第3步：匹配/ab&#123;2&#125;/，得到'abb'</span></span><br><span class="line"><span class="comment">// 第4步：匹配/ab&#123;3&#125;/，匹配失败，需要进行回溯</span></span><br><span class="line"><span class="comment">// 第5步：回溯到/ab&#123;2&#125;/,继续匹配/ab&#123;2&#125;c/，得到'abbc'</span></span><br><span class="line"><span class="comment">// 第6步：正则表达式匹配完成，得到'abbc'</span></span><br></pre></td></tr></table></figure><p><strong>产生场景</strong>  </p><ol><li>贪婪量词（贪婪匹配）</li><li>惰性量词（非贪婪匹配）</li><li>分支结构（分支匹配）</li></ol><blockquote><p>如果我们把正则表达式的各个分支都整理成一棵树的话，<br>正则表达式的匹配其实就是一个深度优先搜索算法。<br>而回溯其实就是在进行深度优先匹配失败后的后退正常操作逻辑。</p></blockquote><h2 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h2><p><img src="http://p09g3b06f.bkt.clouddn.com/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%AD%A6%E4%B9%A0/%E6%AD%A3%E5%88%99%E8%AF%AD%E6%B3%95.png" alt="正则语法">  </p><h3 id="什么是正则表达式："><a href="#什么是正则表达式：" class="headerlink" title="什么是正则表达式："></a>什么是正则表达式：</h3><p>正则表达式(Regular Expression)是一种匹配模式，描述的是一串文本的特征 使用单个字符串描述、匹配一系列符合某个语句规则的字符<br>按照某种规则去匹配符合条件的字符串，<br>两种方法实例 RegExp</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 字面量 </span></span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/\bis\b/</span>;</span><br><span class="line"><span class="comment">// 构造函数</span></span><br><span class="line"><span class="keyword">var</span> reg = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">"\\bis\\b"</span>)</span><br></pre></td></tr></table></figure><h3 id="修饰符i-g-m"><a href="#修饰符i-g-m" class="headerlink" title="修饰符i,g,m"></a>修饰符i,g,m</h3><ul><li>g: global全文搜索，</li><li>i: ignore case忽略大小写</li><li>m: multiple lines 多行搜索</li></ul><p><img src="http://p09g3b06f.bkt.clouddn.com/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%AD%A6%E4%B9%A0%E4%BF%AE%E9%A5%B0%E7%AC%A6.png" alt="正则修饰符"></p><h3 id="字符类"><a href="#字符类" class="headerlink" title="字符类"></a>字符类</h3><p>由2中字符组成</p><ul><li>原义文本字符</li><li>元字符</li><li>元字符是在正则表达式中有特殊含义的非字母符号</li><li><code>* + ? ^ $ . | \ () {} []</code><br><code>[]</code></li><li>我们可以使用元字符[] 来构建一个简单的类</li><li>所谓类是指符合某些特性的对象，一个泛指，而不是特指某个字符</li><li>表达式[abc]把字符a或b或c归为一类</li></ul><h3 id="预定义类"><a href="#预定义类" class="headerlink" title="预定义类"></a>预定义类</h3><p>预定义： <code>\d \D . \s \S \w \W</code><br>边界： <code>^ $ \b \B</code><br>零宽断言： <code>(?=exp)</code>，<code>(?!exp)</code> </p><blockquote><p>注意这个表达式仅仅匹配一个位置，只是它对于这个位置的右边有要求，<br>而右边的东西是不会被放进结果的</p></blockquote><p><img src="http://p09g3b06f.bkt.clouddn.com/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%AD%A6%E4%B9%A0/%E8%BD%AC%E4%B9%89%E7%B1%BB.png" alt="预定义类"></p><h3 id="范围类"><a href="#范围类" class="headerlink" title="范围类"></a>范围类</h3><p>[0-9] [a-z-] [A-Z] [0-9a-zA-Z_]</p><p><img src="http://p09g3b06f.bkt.clouddn.com/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%AD%A6%E4%B9%A0/%E8%8C%83%E5%9B%B4%E7%B1%BB.png" alt="范围类"></p><h3 id="量词"><a href="#量词" class="headerlink" title="量词"></a>量词</h3><p><code>* + ? {}</code></p><p><img src="http://p09g3b06f.bkt.clouddn.com/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%AD%A6%E4%B9%A0/%E9%87%8F%E8%AF%8D.png" alt="量词类"></p><h3 id="贪婪与惰性"><a href="#贪婪与惰性" class="headerlink" title="贪婪与惰性"></a>贪婪与惰性</h3><p>贪婪模式：匹配尽可能多的</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"12345678"</span>.replace(<span class="regexp">/\d&#123;3,6&#125;/g</span>,<span class="string">'X'</span>) <span class="comment">// "X78"</span></span><br></pre></td></tr></table></figure><p>非贪婪模式：匹配尽可能少的</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"12345678"</span>.replace(<span class="regexp">/\d&#123;3,6&#125;?/g</span>,<span class="string">'X'</span>) <span class="comment">// "XX78"</span></span><br></pre></td></tr></table></figure><p>贪婪模式只要是在后面 加上 ? 既可变成惰性模式</p><h3 id="分支结构"><a href="#分支结构" class="headerlink" title="分支结构"></a>分支结构</h3><p>当一个字符串的某一子串具有多种可能时，采用分支结构来匹配，<br>“|”表示多个子表达式之间“或”的关系，“|”是以()限定范围的，<br>如果在“|”的左右两侧没有()来限定范围，那么它的作用范围即为“|”左右两侧整体。</p><h3 id="分组"><a href="#分组" class="headerlink" title="分组"></a>分组</h3><h4 id="捕获组（Capture-Group）"><a href="#捕获组（Capture-Group）" class="headerlink" title="捕获组（Capture Group）"></a>捕获组（Capture Group）</h4><p>用() 可以到达分组的功能，使量词作用于分组 </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"abc,abc,abcabcabc,aabc"</span>.replace(<span class="regexp">/(abc)&#123;3&#125;/g</span>, <span class="string">"X"</span>)  <span class="comment">// "abc,abc,X,aabc"</span></span><br></pre></td></tr></table></figure><p>使用 | 或 作用与分组</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'ByronCasper'</span>.replace(<span class="regexp">/Byron|Casper/g</span>,<span class="string">'X'</span>) <span class="comment">// 'XX'</span></span><br><span class="line"><span class="string">'ByronsperByrCasper'</span>.replace(<span class="regexp">/Byr(on|Ca)sper/g</span>,<span class="string">'X'</span>) <span class="comment">// 'XX'</span></span><br></pre></td></tr></table></figure><h4 id="非捕获组"><a href="#非捕获组" class="headerlink" title="非捕获组"></a>非捕获组</h4><p><strong>忽略分组：</strong><br>不希望捕获某些分组，只需要在分组内加上 ?: 就可以</p><h4 id="正向引用"><a href="#正向引用" class="headerlink" title="正向引用"></a>正向引用</h4><p>用$1,$2,$3来捕获分组匹配的对象</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'2018-02-06'</span>.replace(<span class="regexp">/(\d&#123;4&#125;)-(\d&#123;2&#125;)-(\d&#123;2&#125;)/g</span>, <span class="string">'$2/$3/$1'</span>) <span class="comment">// "02-06-2018"</span></span><br></pre></td></tr></table></figure><h4 id="反向引用"><a href="#反向引用" class="headerlink" title="反向引用"></a>反向引用</h4><p><code>(a|b)\1</code>在匹配”abaa”时，匹配成功，匹配到的结果是“aa”。后面的<code>\1</code>代表<br><code>()</code>中匹配的内容</p><h3 id="环视-Look-Around）"><a href="#环视-Look-Around）" class="headerlink" title="环视(Look Around）"></a>环视(Look Around）</h3><p><strong>环视只进行子表达式的匹配，匹配内容不计入最终的匹配结果，是零宽度的。</strong>  </p><ul><li>正则表达式从文本头部向尾部开始解析，文本尾部方向成为 “前”，文本头部就叫 “后”</li><li>前瞻就是正则表达式匹配到规则的时候，向前检查是否符合断言,后顾/后瞻方向相反</li><li>JavaScript 不支持后顾</li><li>符合和不符合特定的断言称为 肯定/正向 匹配和 否定/负向 匹配</li></ul><p>正向前瞻 <code>exp(?=assert)</code><br>负向前瞻 <code>exp(?!assert)</code><br>正向后顾 <code>exp(?&lt;=assert)</code><br>负向后顾 <code>exp(?&lt;!assert)</code></p><table><thead><tr><th align="left">分类</th><th align="left">代码/语法</th><th align="left">说明</th></tr></thead><tbody><tr><td align="left"><strong>捕获</strong></td><td align="left"><code>(exp)</code></td><td align="left">匹配exp,并捕获文本到自动命名的组里</td></tr><tr><td align="left"></td><td align="left"><code>(?&lt;name&gt;exp)</code></td><td align="left">匹配exp,并捕获文本到名称为name的组里，也可以写成(?’name’exp)</td></tr><tr><td align="left"></td><td align="left"><code>(?:exp)</code></td><td align="left">匹配exp,不捕获匹配的文本，也不给此分组分配组号</td></tr><tr><td align="left"><strong>零宽断言</strong></td><td align="left"><code>(?=exp)</code></td><td align="left">匹配exp表达式前面的位置</td></tr><tr><td align="left"></td><td align="left"><code>(?&lt;=exp)</code></td><td align="left">匹配exp表达式后面的位置</td></tr><tr><td align="left"></td><td align="left"><code>(?!exp)</code></td><td align="left">匹配不是exp表达式前面的位置</td></tr><tr><td align="left"></td><td align="left"><code>(?&lt;!exp)</code></td><td align="left">匹配不是exp表达式后面的位置</td></tr><tr><td align="left"><strong>注释</strong></td><td align="left"><code>(?#comment)</code></td><td align="left">用于提供注释让人阅读,这种类型的分组不对正则表达式的处理产生任何影响</td></tr></tbody></table><p><code>(?!1)\d+</code>在匹配“123”时，匹配成功，匹配的结果为“23”</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'a235v6'</span>.replace(<span class="regexp">/\w(?=\d)/g</span>, <span class="string">'X'</span>)  <span class="comment">// 'X2*X5X6'</span></span><br><span class="line"><span class="string">'a235vv'</span>.replace(<span class="regexp">/\w(?!\d)/g</span>, <span class="string">'X'</span>)  <span class="comment">// 'a23XXX'</span></span><br></pre></td></tr></table></figure><h3 id="优先级"><a href="#优先级" class="headerlink" title="优先级"></a>优先级</h3><p><img src="http://p09g3b06f.bkt.clouddn.com/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%AD%A6%E4%B9%A0/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E7%9A%84%E4%BC%98%E5%85%88%E7%BA%A7.png" alt="优先级"></p><h3 id="字符串支持正则方法"><a href="#字符串支持正则方法" class="headerlink" title="字符串支持正则方法"></a>字符串支持正则方法</h3><h4 id="1-匹配捕获的match方法"><a href="#1-匹配捕获的match方法" class="headerlink" title="1. 匹配捕获的match方法"></a>1. 匹配捕获的match方法</h4><p>在字符串上调用match方法，本质上和在正则上调用exec相同，<br>但是match方法返回的结果数组是没有input和index属性的。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str=<span class="string">"Reading and Writing"</span>;</span><br><span class="line"><span class="keyword">var</span> pattern=<span class="regexp">/\b([a-zA-Z]+)ing\b/g</span>; </span><br><span class="line"><span class="comment">//在String上调用match</span></span><br><span class="line"><span class="keyword">var</span> matches=str.match(pattern);</span><br><span class="line"><span class="comment">// ["Reading", "Writing"]</span></span><br><span class="line"><span class="comment">//等价于在RegExp上调用exec</span></span><br><span class="line"><span class="keyword">var</span> matches=pattern.exec(str);</span><br><span class="line"><span class="comment">// ["Reading", "Read", index: 0, input: "Reading and Writing", groups: undefined]</span></span><br></pre></td></tr></table></figure><p><strong>groups属性保存的是命名捕获组内容的对象</strong>  </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">'2018-08-01'</span>;</span><br><span class="line"><span class="keyword">let</span> reg = <span class="regexp">/(?&lt;year&gt;\d&#123;4&#125;)-(?&lt;month&gt;\d&#123;2&#125;)-(?&lt;day&gt;\d&#123;2&#125;)/</span>;</span><br><span class="line"><span class="built_in">console</span>.log(str.match(reg).groups)</span><br><span class="line"><span class="comment">//直接输出groups对象 &#123;year:2018,month:08,day:01&#125;</span></span><br></pre></td></tr></table></figure><h4 id="2-返回索引的search方法"><a href="#2-返回索引的search方法" class="headerlink" title="2. 返回索引的search方法"></a>2. 返回索引的search方法</h4><p>接受的参数和match方法相同。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str=<span class="string">"I am reading."</span>;</span><br><span class="line"><span class="keyword">var</span> pattern=<span class="regexp">/\b([a-zA-Z]+)ing\b/g</span>; </span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> matches=pattern.exec(str);</span><br><span class="line"><span class="built_in">console</span>.log(matches.index); <span class="comment">// 5</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> pos=str.search(pattern);</span><br><span class="line"><span class="built_in">console</span>.log(pos); <span class="comment">// 5</span></span><br></pre></td></tr></table></figure><h4 id="3-查找并替换的replace方法"><a href="#3-查找并替换的replace方法" class="headerlink" title="3. 查找并替换的replace方法"></a>3. 查找并替换的replace方法</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">str = <span class="string">'hello,world,hello,world'</span></span><br><span class="line">reg = <span class="regexp">/w\w+?d/g</span></span><br><span class="line"><span class="keyword">var</span> res = str.replace(reg, <span class="string">'ab'</span>);</span><br><span class="line"><span class="comment">// hello,ab,hello,ab</span></span><br></pre></td></tr></table></figure><h3 id="4-转换数组的split方法"><a href="#4-转换数组的split方法" class="headerlink" title="4. 转换数组的split方法"></a>4. 转换数组的split方法</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">str = <span class="string">'ab-cd/ef.gh'</span>;</span><br><span class="line">reg = <span class="regexp">/[-\/\.]/</span></span><br><span class="line">res = str.split(reg)</span><br><span class="line"><span class="comment">// ["ab", "cd", "ef", "gh"]</span></span><br></pre></td></tr></table></figure><h3 id="正则对象属性"><a href="#正则对象属性" class="headerlink" title="正则对象属性"></a>正则对象属性</h3><p><img src="http://p09g3b06f.bkt.clouddn.com/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%AD%A6%E4%B9%A0/RegExp%E5%AF%B9%E8%B1%A1%E5%B1%9E%E6%80%A7.png" alt><br>reg.exec()<br>reg.match()<br>reg.global全文搜索，<br>reg.ignoreCase<br>reg.multiline<br>reg.source<br>reg.test();<br>reg.lastIndex() // 当前匹配结果的最后一个字符的下一字符<br>str.replace()</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span>(reg.test(<span class="string">'ab'</span>)) &#123;</span><br><span class="line">    consoel.log(reg.lastIndex);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="http://p09g3b06f.bkt.clouddn.com/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%AD%A6%E4%B9%A0/%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%96%B9%E6%B3%95.png" alt></p><h3 id="命名捕获"><a href="#命名捕获" class="headerlink" title="命名捕获"></a>命名捕获</h3><blockquote><p>命名捕获分组自身的语法是 <code>(?&lt;name&gt;...)</code>，比普通的分组多了一个 <code>?&lt;name&gt;</code> 字样，其中 <code>name</code> 的起法就和你平时起变量名一样即可（不过在这里关键字也可用）。<br>反向引用一个命名分组的语法是 <code>\k&lt;name&gt;</code>，注意命名分组同样可以通过数字索引来反向引用</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">/(?&lt;foo&gt;a)\k&lt;foo&gt;\1/.test("aaa") // true</span><br><span class="line">"abc".replace(/(?&lt;foo&gt;a)/, "$&lt;foo&gt;-") // "a-bc"，同样 $1 仍然可用</span><br></pre></td></tr></table></figure><h3 id="exec和match"><a href="#exec和match" class="headerlink" title="exec和match"></a>exec和match</h3><blockquote><p><code>exec()</code> 和 <code>match()</code> 方法返回的匹配结果数组上多了一个 <code>groups</code> 属性，里面存放着每个命名分组的名称以及它们匹配到的值，利用 ES6 的解构语法，可以方便的提取出想要的字段。注意这个 <code>groups</code> 属性只有在当前正则里至少存在一个命名分组的前提下才会存在，比如：</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/(\d&#123;<span class="number">2</span>&#125;)-(\d&#123;<span class="number">2</span>&#125;)-(\d&#123;<span class="number">4</span>&#125;)/.exec(<span class="string">"04-25-2017"</span>).groups <span class="comment">// undefined，因为没有命名分组</span></span><br></pre></td></tr></table></figure><h3 id="exec-方法详解"><a href="#exec-方法详解" class="headerlink" title="exec()方法详解"></a>exec()方法详解</h3><blockquote><p>该函数通过对指定你的字符串进行一次匹配检测，<br>获取字符串中的第一个与正则表达式的内容，并且将匹配的内容和子匹配的结果存放在返回数组中</p></blockquote><p><strong>没有g修饰符</strong><br>在非全局匹配模式下，此函数的作用和match()函数是一样的，只能够在字符串中匹配一次，<br>如果没有找到匹配的字符串，那么返回null，否则将返回一个数组。</p><p>数组的第0个元素存储的是匹配字符串，第1个元素存放的是第一个分组(子表达式)匹配的字符串，第2个元素存放的是第分组(子表达式)匹配的字符串，依次类推。同时此数组还包括两个对象属性，index属性声明的是匹配字符串的起始字符在要匹配的完整字符串中的位置，input属性声明的是对要匹配的完整字符串的引用。</p><p><strong>具有g修饰符</strong><br>在全局匹配模式下，此函数返回值同样是一个数组，并且也只能够在字符串中匹配一次。<br>不过此时，此函数一般会和lastIndex属性匹配使用，<br>此函数会在lastIndex属性指定的字符处开始检索字符串，<br>当exec()找到与表达式相匹配的字符串时，<br>在匹配后，它将lastIndex 属性设置为匹配字符串的最后一个字符的下一个位置。<br>可以通过反复调用exec()函数遍历字符串中的所有匹配，当exec()函数再也找不到匹配的文本时，<br>它将返回null，并把lastIndex 属性重置为0。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//匹配所有ing结尾的单词</span></span><br><span class="line"><span class="keyword">var</span> str=<span class="string">"Reading and Writing"</span>;</span><br><span class="line"><span class="keyword">var</span> pattern=<span class="regexp">/\b([a-zA-Z]+)ing\b/g</span>; </span><br><span class="line"><span class="keyword">var</span> matches;</span><br><span class="line"><span class="keyword">while</span>(matches=pattern.exec(str))&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(matches.index +<span class="string">' '</span>+ matches[<span class="number">0</span>] + <span class="string">' '</span> + matches[<span class="number">1</span>]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//循环2次输出</span></span><br><span class="line"><span class="comment">//0 Reading Read</span></span><br><span class="line"><span class="comment">//12 Writing Writ</span></span><br></pre></td></tr></table></figure><h2 id="常用正则"><a href="#常用正则" class="headerlink" title="常用正则"></a>常用正则</h2><h3 id="校验数字的表达式"><a href="#校验数字的表达式" class="headerlink" title="校验数字的表达式"></a>校验数字的表达式</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">数字：^[0-9]*$</span><br><span class="line">n 位的数字：^\d&#123;n&#125;$</span><br><span class="line">至少 n 位的数字：^\d&#123;n,&#125;$</span><br><span class="line">m-n 位的数字：^\d&#123;m,n&#125;$</span><br><span class="line">零和非零开头的数字：^(0|[1-9][0-9]*)$</span><br><span class="line">非零开头的最多带两位小数的数字：^([1-9][0-9]*)+(.[0-9]&#123;1,2&#125;)?$</span><br><span class="line">带 1-2 位小数的正数或负数：^(\-)?\d+(\.\d&#123;1,2&#125;)?$</span><br><span class="line">正数、负数、和小数：^(\-|\+)?\d+(\.\d+)?$</span><br><span class="line">有两位小数的正实数：^[0-9]+(.[0-9]&#123;2&#125;)?$</span><br><span class="line">有 1~3 位小数的正实数：^[0-9]+(.[0-9]&#123;1,3&#125;)?$</span><br><span class="line">非零的正整数：^[1-9]\d*$ 或 ^([1-9][0-9]*)&#123;1,3&#125;$ 或 ^\+?[1-9][0-9]*$</span><br><span class="line">非零的负整数：^\-[1-9][]0-9&quot;*$ 或 ^-[1-9]\d*$</span><br><span class="line">非负整数：^\d+$ 或 ^[1-9]\d*|0$</span><br><span class="line">非正整数：^-[1-9]\d*|0$ 或 ^((-\d+)|(0+))$</span><br><span class="line">非负浮点数：^\d+(\.\d+)?$ 或 ^[1-9]\d*\.\d*|0\.\d*[1-9]\d*|0?\.0+|0$</span><br><span class="line">非正浮点数：^((-\d+(\.\d+)?)|(0+(\.0+)?))$ 或 ^(-([1-9]\d*\.\d*|0\.\d*[1-9]\d*))|0?\.0+|0$</span><br><span class="line">正浮点数：^[1-9]\d*\.\d*|0\.\d*[1-9]\d*$ 或 ^(([0-9]+\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\.[0-9]+)|([0-9]*[1-9][0-9]*))$</span><br><span class="line">负浮点数：^-([1-9]\d*\.\d*|0\.\d*[1-9]\d*)$ 或 ^(-(([0-9]+\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\.[0-9]+)|([0-9]*[1-9][0-9]*)))$</span><br><span class="line">浮点数：^(-?\d+)(\.\d+)?$ 或 ^-?([1-9]\d*\.\d*|0\.\d*[1-9]\d*|0?\.0+|0)$</span><br></pre></td></tr></table></figure><h3 id="校验字符的表达式"><a href="#校验字符的表达式" class="headerlink" title="校验字符的表达式"></a>校验字符的表达式</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">汉字：^[\u4e00-\u9fa5]&#123;0,&#125;$</span><br><span class="line"></span><br><span class="line">英文和数字：^[A-Za-z0-9]+$ 或 ^[A-Za-z0-9]&#123;4,40&#125;$</span><br><span class="line"></span><br><span class="line">长度为 3-20 的所有字符：^.&#123;3,20&#125;$</span><br><span class="line"></span><br><span class="line">由 26 个英文字母组成的字符串：^[A-Za-z]+$</span><br><span class="line"></span><br><span class="line">由 26 个大写英文字母组成的字符串：^[A-Z]+$</span><br><span class="line"></span><br><span class="line">由 26 个小写英文字母组成的字符串：^[a-z]+$</span><br><span class="line"></span><br><span class="line">由数字和 26 个英文字母组成的字符串：^[A-Za-z0-9]+$</span><br><span class="line"></span><br><span class="line">由数字、26 个英文字母或者下划线组成的字符串：^\w+$ 或 ^\w&#123;3,20&#125;$</span><br><span class="line"></span><br><span class="line">中文、英文、数字包括下划线：^[\u4E00-\u9FA5A-Za-z0-9_]+$</span><br><span class="line"></span><br><span class="line">中文、英文、数字但不包括下划线等符号：^[\u4E00-\u9FA5A-Za-z0-9]+$ 或 ^[\u4E00-\u9FA5A-Za-z0-9]&#123;2,20&#125;$</span><br><span class="line"></span><br><span class="line">可以输入含有 ^%&amp;&apos;,;=?$&quot; 等字符：[^%&amp;&apos;,;=?$\x22]+</span><br><span class="line"></span><br><span class="line">禁止输入含有 ~ 的字符：[^~\x22]+</span><br></pre></td></tr></table></figure><h3 id="特殊需求表达式"><a href="#特殊需求表达式" class="headerlink" title="特殊需求表达式"></a>特殊需求表达式</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">Email 地址：^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$</span><br><span class="line"></span><br><span class="line">域名：[a-zA-Z0-9][-a-zA-Z0-9]&#123;0,62&#125;(/.[a-zA-Z0-9][-a-zA-Z0-9]&#123;0,62&#125;)+/.?</span><br><span class="line"></span><br><span class="line">InternetURL：[a-zA-z]+://[^\s]* 或 ^http://([\w-]+\.)+[\w-]+(/[\w-./?%&amp;=]*)?$</span><br><span class="line"></span><br><span class="line">手机号码：^(13[0-9]|14[5|7]|15[0|1|2|3|5|6|7|8|9]|18[0|1|2|3|5|6|7|8|9])\d&#123;8&#125;$</span><br><span class="line"></span><br><span class="line">电话号码（&quot;XXX-XXXXXXX&quot;、&quot;XXXX-XXXXXXXX&quot;、&quot;XXX-XXXXXXX&quot;、&quot;XXX-XXXXXXXX&quot;、&quot;XXXXXXX&quot;和&quot;XXXXXXXX）：^(\(\d&#123;3,4&#125;-)|\d&#123;3.4&#125;-)?\d&#123;7,8&#125;$</span><br><span class="line"></span><br><span class="line">国内电话号码（0511-4405222、021-87888822）：\d&#123;3&#125;-\d&#123;8&#125;|\d&#123;4&#125;-\d&#123;7&#125;</span><br><span class="line"></span><br><span class="line">身份证号（15 位、18 位数字）： 15 位： ^[1-9]\\d&#123;7&#125;((0\\d)|(1[0-2]))(([0|1|2]\\d)|3[0-1])\\d&#123;3&#125;$ 18 位： ^[1-9]\\d&#123;5&#125;[1-9]\\d&#123;3&#125;((0\\d)|(1[0-2]))(([0|1|2]\\d)|3[0-1])\\d&#123;3&#125;([0-9]|X)$</span><br><span class="line"></span><br><span class="line">短身份证号码（数字、字母 x 结尾）：^([0-9])&#123;7,18&#125;(x|X)?$ 或 ^\d&#123;8,18&#125;|[0-9x]&#123;8,18&#125;|[0-9X]&#123;8,18&#125;?$</span><br><span class="line"></span><br><span class="line">帐号是否合法（字母开头，允许 5-16 字节，允许字母数字下划线）：^[a-zA-Z][a-zA-Z0-9_]&#123;4,15&#125;$</span><br><span class="line"></span><br><span class="line">密码（以字母开头，长度在 6~18 之间，只能包含字母、数字和下划线）：^[a-zA-Z]\w&#123;5,17&#125;$</span><br><span class="line"></span><br><span class="line">强密码（必须包含大小写字母和数字的组合，不能使用特殊字符，长度在 8-10 之间）：^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).&#123;8,10&#125;$</span><br><span class="line"></span><br><span class="line">日期格式：^\d&#123;4&#125;-\d&#123;1,2&#125;-\d&#123;1,2&#125;</span><br><span class="line"></span><br><span class="line">一年的 12 个月（01～09 和 1～12）：^(0?[1-9]|1[0-2])$</span><br><span class="line"></span><br><span class="line">一个月的 31 天（01～09 和 1～31）：^((0?[1-9])|((1|2)[0-9])|30|31)$</span><br><span class="line"></span><br><span class="line">xml 文件：^([a-zA-Z]+-?)+[a-zA-Z0-9]+\\.[x|X][m|M][l|L]$</span><br><span class="line"></span><br><span class="line">双字节字符：[^\x00-\xff] （包括汉字在内，可以用来计算字符串的长度（一个双字节字符长度计 2，ASCII字符计 1））</span><br><span class="line"></span><br><span class="line">空白行的正则表达式：\n\s*\r （可以用来删除空白行）</span><br><span class="line"></span><br><span class="line">HTML 标记的正则表达式：&lt;(\S*?)[^&gt;]*&gt;.*?&lt;/\1&gt;|&lt;.*? /&gt; （网上流传的版本太糟糕，上面这个也仅仅能部分，对于复杂的嵌套标记依旧无能为力）</span><br><span class="line"></span><br><span class="line">首尾空白字符的正则表达式：^\s*|\s*$或(^\s*)|(\s*$) （可以用来删除行首行尾的空白字符(包括空格、制表符、换页符等等），非常有用的表达式）</span><br><span class="line"></span><br><span class="line">校验金额（2位小数）： ^[0-9]+(.[0-9]&#123;2&#125;)?$</span><br><span class="line"></span><br><span class="line">腾讯 QQ 号：[1-9][0-9]&#123;4,&#125; （腾讯 QQ 号从 10000 开始）</span><br><span class="line"></span><br><span class="line">中国邮政编码：[1-9]\d&#123;5&#125;(?!\d) （中国邮政编码为 6 位数字）</span><br><span class="line"></span><br><span class="line">IP 地址：\d+\.\d+\.\d+\.\d+ （提取IP地址时有用）</span><br><span class="line"></span><br><span class="line">IP 地址：((?:(?:25[0-5]|2[0-4]\\d|[01]?\\d?\\d)\\.)&#123;3&#125;(?:25[0-5]|2[0-4]\\d|[01]?\\d?\\d))</span><br><span class="line"></span><br><span class="line">IPV6 地址： (([0-9a-fA-F]&#123;1,4&#125;:)&#123;7,7&#125;[0-9a-fA-F]&#123;1,4&#125;|([0-9a-fA-F]&#123;1,4&#125;:)&#123;1,7&#125;:|([0-9a-fA-F]&#123;1,4&#125;:)&#123;1,6&#125;:[0-9a-fA-F]&#123;1,4&#125;|([0-9a-fA-F]&#123;1,4&#125;:)&#123;1,5&#125;(:[0-9a-fA-F]&#123;1,4&#125;)&#123;1,2&#125;|([0-9a-fA-F]&#123;1,4&#125;:)&#123;1,4&#125;(:[0-9a-fA-F]&#123;1,4&#125;)&#123;1,3&#125;|([0-9a-fA-F]&#123;1,4&#125;:)&#123;1,3&#125;(:[0-9a-fA-F]&#123;1,4&#125;)&#123;1,4&#125;|([0-9a-fA-F]&#123;1,4&#125;:)&#123;1,2&#125;(:[0-9a-fA-F]&#123;1,4&#125;)&#123;1,5&#125;|[0-9a-fA-F]&#123;1,4&#125;:((:[0-9a-fA-F]&#123;1,4&#125;)&#123;1,6&#125;)|:((:[0-9a-fA-F]&#123;1,4&#125;)&#123;1,7&#125;|:)|fe80:(:[0-9a-fA-F]&#123;0,4&#125;)&#123;0,4&#125;%[0-9a-zA-Z]&#123;1,&#125;|::(ffff(:0&#123;1,4&#125;)&#123;0,1&#125;:)&#123;0,1&#125;((25[0-5]|(2[0-4]|1&#123;0,1&#125;[0-9])&#123;0,1&#125;[0-9])\\.)&#123;3,3&#125;(25[0-5]|(2[0-4]|1&#123;0,1&#125;[0-9])&#123;0,1&#125;[0-9])|([0-9a-fA-F]&#123;1,4&#125;:)&#123;1,4&#125;:((25[0-5]|(2[0-4]|1&#123;0,1&#125;[0-9])&#123;0,1&#125;[0-9])\\.)&#123;3,3&#125;(25[0-5]|(2[0-4]|1&#123;0,1&#125;[0-9])&#123;0,1&#125;[0-9]))</span><br><span class="line"></span><br><span class="line">URL 链接： ((http|ftp|https)://)(([a-zA-Z0-9\._-]+\.[a-zA-Z]&#123;2,6&#125;)|([0-9]&#123;1,3&#125;\.[0-9]&#123;1,3&#125;\.[0-9]&#123;1,3&#125;\.[0-9]&#123;1,3&#125;))(:[0-9]&#123;1,4&#125;)*(/[a-zA-Z0-9\&amp;%_\./-~-]*)?</span><br><span class="line"></span><br><span class="line">EMOJI 表情: ([\uE000-\uF8FF]|\uD83C[\uDF00-\uDFFF]|\uD83D[\uDC00-\uDDFF])</span><br><span class="line"></span><br><span class="line">检查 IE 版本 ^.*MSIE [5-8](?:\\.[0-9]+)?(?!.*Trident\\/[5-9]\\.0).*$</span><br></pre></td></tr></table></figure><h2 id="手册"><a href="#手册" class="headerlink" title="手册"></a>手册</h2><p><a href="http://tool.oschina.net/uploads/apidocs/jquery/regexp.html" target="_blank" rel="noopener">正则手册</a><br><a href="https://juejin.cn/post/6844903487155732494" target="_blank" rel="noopener">正则迷你书</a></p><h2 id="推荐"><a href="#推荐" class="headerlink" title="推荐"></a>推荐</h2><p><strong><a href="https://zhuanlan.zhihu.com/p/27653434" target="_blank" rel="noopener">老姚-正则表达式系列总结</a></strong><br><a href="http://deerchao.net/tutorials/regex/regex.htm" target="_blank" rel="noopener">正则表达式30分钟入门教程</a><br><a href="https://segmentfault.com/a/1190000008088937" target="_blank" rel="noopener">JS正则表达式一条龙讲解，从原理和语法到JS正则、ES6正则扩展，最后再到正则实践思路</a><br><a href="https://blog.csdn.net/lxcnn" target="_blank" rel="noopener">正则表达式教程</a><br><a href="http://www.zjmainstay.cn/" target="_blank" rel="noopener">正则表达式入门教程和高级教程</a><br><a href="https://segmentfault.com/a/1190000013075245" target="_blank" rel="noopener">60分钟正则从入门到深入</a></p>]]></content>
      
      
      <categories>
          
          <category> 工具/资源 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 正则表达 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>web编辑器插件</title>
      <link href="/vscode%E6%8F%92%E4%BB%B6/"/>
      <url>/vscode%E6%8F%92%E4%BB%B6/</url>
      
        <content type="html"><![CDATA[<h2 id="vs-code编辑器"><a href="#vs-code编辑器" class="headerlink" title="vs code编辑器"></a>vs code编辑器</h2><h3 id="vs-code-插件"><a href="#vs-code-插件" class="headerlink" title="vs code 插件"></a>vs code 插件</h3><ol><li>prettier 是目前 Web 开发中最受欢迎的代码格式化程序</li><li>ESlint  接管原生 js 提示，可以自定制提示规则。</li><li>beautify 格式化代码的工具</li><li>Minify 这是一款用于压缩合并 JavaScript 和 CSS 文件的应用程序。</li><li>Path Intellisense 自动路劲补全，默认不带这个功能的</li><li>Debugger for Chrome 让 vscode 映射 chrome 的 debug功能，静态页面都可以用 vscode 来打断点调试，</li><li>jQuery Code Snippets  jquery 重度患者必须品</li><li>JavaScript(es6)code snippets  ES6语法提示</li><li>Atuo Rename Tag  修改 html 标签，自动帮你完成尾部闭合标签的同步修改</li><li>Open-In-Browser  在浏览器中打开文件</li><li>Better Comments  编写更加人性化的注释（推荐）</li><li>View In Browser  快读打开浏览器Ctrl+F1</li><li>Sass     sass插件</li><li>filesize 在底部状态栏显示当前文件大小，点击后还可以看到详细创建、修改时间</li><li>JavaScript (ES6) code snippets 常用的类声明、ES 模块声明、CMD 模块导入等</li><li>IntelliSense for CSS class names CSS 类名补全，会自动扫描整个项目里面的 CSS 类名并在你输入类名时做智能提示</li><li>Setting Sync 可同步包含的所有扩展和完整的用户文件夹<a id="more"></a></li></ol><h3 id="vs-code-主题推荐"><a href="#vs-code-主题推荐" class="headerlink" title="vs code 主题推荐"></a>vs code 主题推荐</h3><ol><li>vscode-icons</li><li>Material Icon</li><li>One Dark Pro</li><li>Atom One Dark Theme</li><li>Material Theme</li><li>Dracula Official</li></ol><h3 id="vs-code-自定义设置"><a href="#vs-code-自定义设置" class="headerlink" title="vs code 自定义设置"></a>vs code 自定义设置</h3><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">"editor.wordWrap": "on", // 设置是否编辑器自动换行</span><br><span class="line">"files.autoSave": "afterDelay", // 是否启用自动保存 off 为禁用</span><br><span class="line">"files.autoSaveDelay": 3000, // 多少毫秒后自动保存</span><br><span class="line">"editor.fontSize": 16, // 设置字体大小</span><br><span class="line">"editor.lineHeight": 24, // 设置行高</span><br><span class="line">"editor.fontFamily": "'Comic Sans MS','Source Code Pro',Consolas, 'Courier New', monospace, Microsoft YaHei", // 设置字体</span><br><span class="line">"editor.tabSize": 4, // 1个tab等于4个空格距离</span><br><span class="line">"editor.detectIndentation": false, // 当打开文件时，是否基于文件内容检测是tab还是空格</span><br><span class="line">"emmet.triggerExpansionOnTab": true, // 设置使用自定义标签的emmet支持</span><br></pre></td></tr></table></figure><p><a href="https://segmentfault.com/a/1190000013487185" target="_blank" rel="noopener">vscode 插件和配置推荐</a></p><h2 id="webstorm编辑器"><a href="#webstorm编辑器" class="headerlink" title="webstorm编辑器"></a>webstorm编辑器</h2><h3 id="插件推荐"><a href="#插件推荐" class="headerlink" title="插件推荐"></a>插件推荐</h3><ol><li><p>Key promoter x</p><blockquote><p> Key promoter这款插件适合新手使用。当你点击鼠标一个功能的时候，可以提示你这个功能快捷键是什么。<br>这是一个非常有用的功能，很快就可以熟悉软件的快捷功能了。 如果有快捷键的，会直接显示快捷键 </p></blockquote></li><li><p>AceJump</p><blockquote><p>Ctrl+; 快捷键，激活插件。此时，IDE代码编辑区会出现一个蓝色光标，然后输入你要跳转的标签shift+enter跳转</p></blockquote></li><li><p>CodeGlance</p><blockquote><p>代码预览滚动条</p></blockquote></li><li><p>Coderpillr Icons</p><blockquote><p>项目图标<br>Atom Material Icons 项目图标</p></blockquote></li><li><p>A8Translate</p><blockquote><p>翻译插件，选择单词alt+t启动，</p></blockquote></li><li><p>IdeaVim</p><blockquote><p>基于IntelliJ的Vim仿真插件</p></blockquote></li><li><p>LiveEdit</p><blockquote><p>提供实时编辑 HTML / CSS / JavaScript的工具。</p></blockquote></li><li><p>activate-power-mode</p><blockquote><p>装逼插件，不解释不解释</p></blockquote></li></ol><h3 id="常用快捷键"><a href="#常用快捷键" class="headerlink" title="常用快捷键"></a>常用快捷键</h3><ol><li>Ctrl + /: 单行注释</li><li>Ctrl + Shift + /: 添加注释文本/块注释</li><li>Ctrl + F: 查找文本</li><li>Ctrl + R: 替换文本</li><li>Ctrl + D: 复制行</li><li>Ctrl + 鼠标单击： 跳到变量声明处</li><li>Ctrl + G: 查找行</li><li>Ctrl + N: 查找类</li><li>Ctrl + Shift + N: 查找文件</li><li>Ctrl + Shift + I: 显示当前CSS选择器或者JS函数的详细信息</li><li>Ctrl + Shift + up/down: 代码向上或向下移动</li><li>Ctrl + Alt + L: 格式化代码</li><li>Alt + 7: 显示当前文件的结构</li><li>Shift + F6: 重构-重命名</li><li>Alt + F12: 调出terminal</li></ol>]]></content>
      
      
      <categories>
          
          <category> 工具/资源 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 工具 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>css代码段</title>
      <link href="/css%E4%BB%A3%E7%A0%81%E6%AE%B5/"/>
      <url>/css%E4%BB%A3%E7%A0%81%E6%AE%B5/</url>
      
        <content type="html"><![CDATA[<p>CSS书写顺序</p><ol><li>位置属性(position, top, right, z-index, display, float等)</li><li>大小(width, height, padding, margin)</li><li>文字系列(font, line-height, letter-spacing, color- text-align等)</li><li>背景(background, border等)</li><li>其他(animation, transition, cursor等)<a id="more"></a></li></ol><h2 id="常用css代码段"><a href="#常用css代码段" class="headerlink" title="常用css代码段"></a>常用css代码段</h2><h3 id="强制英文换行"><a href="#强制英文换行" class="headerlink" title="强制英文换行"></a>强制英文换行</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.text</span> &#123;</span><br><span class="line">  <span class="attribute">word-wrap</span>: break-word; </span><br><span class="line">  <span class="attribute">word-break</span>: normal;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="超过指定行数后显示省略号"><a href="#超过指定行数后显示省略号" class="headerlink" title="超过指定行数后显示省略号"></a>超过指定行数后显示省略号</h3><p>一行显示</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">  <span class="attribute">width</span>:<span class="number">200px</span>;<span class="comment">/*对宽度的定义,根据情况修改*/</span></span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">  <span class="attribute">white-space</span>: nowrap;</span><br><span class="line">  <span class="attribute">text-overflow</span>: ellipsis; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>多行显示</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: -webkit-box;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">  <span class="attribute">width</span>:<span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">text-overflow</span>: ellipsis;</span><br><span class="line">  <span class="attribute">word-wrap</span>: break-word;</span><br><span class="line">  <span class="attribute">word-break</span>: break-all;</span><br><span class="line">  <span class="attribute">white-space</span>: normal <span class="meta">!important</span>;</span><br><span class="line">  <span class="attribute">-webkit-line-clamp</span>: <span class="number">3</span>;</span><br><span class="line">  <span class="attribute">-webkit-box-orient</span>: vertical;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="继承box-sizing"><a href="#继承box-sizing" class="headerlink" title="继承box-sizing"></a>继承box-sizing</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">html</span> &#123;</span><br><span class="line">  <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">, <span class="selector-pseudo">:before</span>, *<span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">  <span class="attribute">box-sizing</span>: inherit;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="清除浮动"><a href="#清除浮动" class="headerlink" title="清除浮动"></a>清除浮动</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">.clearFix:after &#123;</span></span><br><span class="line"><span class="comment">    content: ".";</span></span><br><span class="line"><span class="comment">    display: block;</span></span><br><span class="line"><span class="comment">    height: 0;</span></span><br><span class="line"><span class="comment">    clear: both;</span></span><br><span class="line"><span class="comment">    visibility: hidden;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="selector-class">.clearfix</span><span class="selector-pseudo">:before</span>, </span><br><span class="line"><span class="selector-class">.clearfix</span><span class="selector-pseudo">:after</span>&#123; </span><br><span class="line">    <span class="attribute">display</span>: table; </span><br><span class="line">    <span class="attribute">content</span>: <span class="string">" "</span>; </span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.clearfix</span><span class="selector-pseudo">:after</span>&#123;</span><br><span class="line">    <span class="attribute">clear</span>: both;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="flex-两端对齐问题"><a href="#flex-两端对齐问题" class="headerlink" title="flex 两端对齐问题"></a>flex 两端对齐问题</h3><p>flex给我们的布局带来了很大的方便 ，但有时候也会碰到一些问题，比如space-between最后一行元素的排列问题</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">ul</span><span class="selector-pseudo">:after</span>&#123;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">''</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">90px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="两端对齐"><a href="#两端对齐" class="headerlink" title="两端对齐"></a>两端对齐</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>:block;</span><br><span class="line">    <span class="attribute">text-align</span>:justify;</span><br><span class="line">    <span class="attribute">text-align-last</span>:justify</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box</span><span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">''</span>;</span><br><span class="line">    <span class="attribute">display</span>:inline-block;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">100%</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="跨浏览器的透明度"><a href="#跨浏览器的透明度" class="headerlink" title="跨浏览器的透明度"></a>跨浏览器的透明度</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.transparent</span> &#123;</span><br><span class="line">    <span class="attribute">filter</span>: <span class="built_in">alpha</span>(opacity=<span class="number">50</span>); <span class="comment">/* internet explorer */</span></span><br><span class="line">    <span class="attribute">-khtml-opacity</span>: <span class="number">0.5</span>;      <span class="comment">/* khtml, old safari */</span></span><br><span class="line">    <span class="attribute">-moz-opacity</span>: <span class="number">0.5</span>;       <span class="comment">/* mozilla, netscape */</span></span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0.5</span>;           <span class="comment">/* fx, safari, opera */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="多行文本或图片垂直居中"><a href="#多行文本或图片垂直居中" class="headerlink" title="多行文本或图片垂直居中"></a>多行文本或图片垂直居中</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box"</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> /&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box"</span>&gt;</span><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"text"</span>&gt;</span>文字<span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span> &#123; <span class="attribute">line-height</span>:<span class="number">250px</span>;<span class="attribute">text-align</span>:center&#125;</span><br><span class="line"><span class="selector-class">.box</span> &gt; <span class="selector-class">.text</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>:inline-block;<span class="attribute">line-height</span>:normal;</span><br><span class="line">  <span class="attribute">text-align</span>: left; <span class="attribute">vertical-aligin</span>:middle;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="不定宽高元素水平垂直居中"><a href="#不定宽高元素水平垂直居中" class="headerlink" title="不定宽高元素水平垂直居中"></a>不定宽高元素水平垂直居中</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">position</span>: <span class="selector-tag">absolute</span>;  </span><br><span class="line"><span class="selector-tag">left</span>: 50%;  </span><br><span class="line"><span class="selector-tag">top</span>: 50%;  </span><br><span class="line"><span class="selector-tag">-webkit-transform</span>: <span class="selector-tag">translate</span>(<span class="selector-tag">-50</span>%,<span class="selector-tag">-50</span>%);  </span><br><span class="line"><span class="selector-tag">transform</span>: <span class="selector-tag">translate</span>(<span class="selector-tag">-50</span>%,<span class="selector-tag">-50</span>%);</span><br></pre></td></tr></table></figure><h3 id="自定义文本选择"><a href="#自定义文本选择" class="headerlink" title="自定义文本选择"></a>自定义文本选择</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-pseudo">::selection</span> &#123; <span class="attribute">background</span>: <span class="number">#e2eae2</span>; &#125;</span><br><span class="line"><span class="selector-pseudo">::-moz-selection</span> &#123; <span class="attribute">background</span>: <span class="number">#e2eae2</span>; &#125;</span><br><span class="line"><span class="selector-pseudo">::-webkit-selection</span> &#123; <span class="attribute">background</span>: <span class="number">#e2eae2</span>; &#125;</span><br></pre></td></tr></table></figure><h3 id="自定义checkbox框"><a href="#自定义checkbox框" class="headerlink" title="自定义checkbox框"></a>自定义checkbox框</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">input</span><span class="selector-attr">[type=checkbox]</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">appearance</span>: none;</span><br><span class="line">    <span class="attribute">-webkit-appearance</span>: none;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#dadada</span>;</span><br><span class="line">    <span class="attribute">outline</span>: none <span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#fff</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">input</span><span class="selector-attr">[type=checkbox]</span><span class="selector-pseudo">:checked</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">4px</span>;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">4px</span>;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">""</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#d9534f</span>;</span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="背景图片全屏铺满"><a href="#背景图片全屏铺满" class="headerlink" title="背景图片全屏铺满"></a>背景图片全屏铺满</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">html</span> &#123; </span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">'images/bg.jpg'</span>) no-repeat center center fixed; </span><br><span class="line">    <span class="attribute">-webkit-background-size</span>: cover;</span><br><span class="line">    <span class="attribute">-moz-background-size</span>: cover;</span><br><span class="line">    <span class="attribute">-o-background-size</span>: cover;</span><br><span class="line">    <span class="attribute">background-size</span>: cover;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="自定义字体"><a href="#自定义字体" class="headerlink" title="自定义字体"></a>自定义字体</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@font-face</span> &#123;</span><br><span class="line">    <span class="attribute">font-family</span>: <span class="string">'MyWebFont'</span>;</span><br><span class="line">    <span class="attribute">src</span>: <span class="built_in">url</span>(<span class="string">'webfont.eot'</span>); <span class="comment">/* IE9 Compat Modes */</span></span><br><span class="line">    <span class="attribute">src</span>: <span class="built_in">url</span>(<span class="string">'webfont.eot?#iefix'</span>) <span class="built_in">format</span>(<span class="string">'embedded-opentype'</span>), <span class="comment">/* IE6-IE8 */</span></span><br><span class="line">    <span class="built_in">url</span>(<span class="string">'webfont.woff'</span>) <span class="built_in">format</span>(<span class="string">'woff'</span>), <span class="comment">/* Modern Browsers */</span></span><br><span class="line">    <span class="built_in">url</span>(<span class="string">'webfont.ttf'</span>)  <span class="built_in">format</span>(<span class="string">'truetype'</span>), <span class="comment">/* Safari, Android, iOS */</span></span><br><span class="line">    <span class="built_in">url</span>(<span class="string">'webfont.svg#svgFontName'</span>) <span class="built_in">format</span>(<span class="string">'svg'</span>); <span class="comment">/* Legacy iOS */</span></span><br><span class="line">&#125;</span><br><span class="line">        </span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">    <span class="attribute">font-family</span>: <span class="string">'MyWebFont'</span>, Arial, sans-serif;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="定义彩红字体"><a href="#定义彩红字体" class="headerlink" title="定义彩红字体"></a>定义彩红字体</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&lt;p&gt;think&lt;/p&gt;</span><br><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">20vw</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">color</span>: white;</span><br><span class="line">    <span class="attribute">font-family</span>: sans-serif;</span><br><span class="line">    <span class="attribute">font-weight</span>: bold;</span><br><span class="line">    <span class="attribute">text-transform</span>: uppercase;</span><br><span class="line">    <span class="attribute">background-image</span>: <span class="built_in">linear-gradient</span>(</span><br><span class="line">        to right,</span><br><span class="line">        orangered,</span><br><span class="line">        orange,</span><br><span class="line">        gold,</span><br><span class="line">        lightgreen,</span><br><span class="line">        cyan,</span><br><span class="line">        dodgerblue,</span><br><span class="line">        mediumpurple,</span><br><span class="line">        hotpink,</span><br><span class="line">        orangered);</span><br><span class="line">    <span class="attribute">background-size</span>: <span class="number">110vw</span>;</span><br><span class="line">    <span class="attribute">animation</span>: sliding <span class="number">30s</span> linear infinite;</span><br><span class="line">    <span class="attribute">-webkit-background-clip</span>: text;</span><br><span class="line">    <span class="attribute">-webkit-text-fill-color</span>: transparent;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@keyframes</span> sliding &#123;</span><br><span class="line">    <span class="selector-tag">to</span> &#123;</span><br><span class="line">        <span class="attribute">background-position</span>: -<span class="number">2000vw</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="段落首字母样式"><a href="#段落首字母样式" class="headerlink" title="段落首字母样式"></a>段落首字母样式</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span><span class="selector-pseudo">:first-letter</span>&#123;</span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">5px</span> <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">float</span>: left;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#ff3366</span>;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">5.4em</span>;</span><br><span class="line">    <span class="attribute">font-family</span>: Georgia, Times New Roman, serif;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="css3阴影"><a href="#css3阴影" class="headerlink" title="css3阴影"></a>css3阴影</h3><ol><li><p>盒子内部阴影</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#mydiv</span> &#123; </span><br><span class="line">    <span class="attribute">-moz-box-shadow</span>: inset <span class="number">2px</span> <span class="number">0</span> <span class="number">4px</span> <span class="number">#000</span>;</span><br><span class="line">    <span class="attribute">-webkit-box-shadow</span>: inset <span class="number">2px</span> <span class="number">0</span> <span class="number">4px</span> <span class="number">#000</span>;</span><br><span class="line">    <span class="attribute">box-shadow</span>: inset <span class="number">2px</span> <span class="number">0</span> <span class="number">4px</span> <span class="number">#000</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>盒子外部阴影</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#mydiv</span> &#123; </span><br><span class="line">    <span class="attribute">-webkit-box-shadow</span>: <span class="number">0</span> <span class="number">2px</span> <span class="number">2px</span> -<span class="number">2px</span> <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.52</span>);</span><br><span class="line">    <span class="attribute">-moz-box-shadow</span>: <span class="number">0</span> <span class="number">2px</span> <span class="number">2px</span> -<span class="number">2px</span> <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.52</span>);</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">2px</span> <span class="number">2px</span> -<span class="number">2px</span> <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.52</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><p>与CSS3内阴影一样,我也提供一段外阴影的代码. 注意第三个数字表示模糊距离,第四个表示范围。</p><h3 id="li列表前面’▶’插入"><a href="#li列表前面’▶’插入" class="headerlink" title="li列表前面’▶’插入"></a>li列表前面’▶’插入</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">ul</span> &#123;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0.75em</span> <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">1em</span>;</span><br><span class="line">    <span class="attribute">list-style</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">li</span><span class="selector-pseudo">:before</span> &#123; </span><br><span class="line">    <span class="attribute">content</span>: <span class="string">""</span>;</span><br><span class="line">    <span class="attribute">border-color</span>: transparent <span class="number">#111</span>;</span><br><span class="line">    <span class="attribute">border-style</span>: solid;</span><br><span class="line">    <span class="attribute">border-width</span>: <span class="number">0.35em</span> <span class="number">0</span> <span class="number">0.35em</span> <span class="number">0.45em</span>;</span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">left</span>: -<span class="number">1em</span>;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">0.9em</span>;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="强制代码包装"><a href="#强制代码包装" class="headerlink" title="强制代码包装"></a>强制代码包装</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">pre</span> &#123;</span><br><span class="line">    <span class="attribute">white-space</span>: pre-wrap;       <span class="comment">/* css-3 */</span></span><br><span class="line">    <span class="attribute">white-space</span>: -moz-pre-wrap;  <span class="comment">/* Mozilla, since 1999 */</span></span><br><span class="line">    <span class="attribute">white-space</span>: -pre-wrap;      <span class="comment">/* Opera 4-6 */</span></span><br><span class="line">    <span class="attribute">white-space</span>: -o-pre-wrap;    <span class="comment">/* Opera 7 */</span></span><br><span class="line">    <span class="attribute">word-wrap</span>: break-word;       <span class="comment">/* Internet Explorer 5.5+ */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>典型的pre标签是在布局中用来显示大块代码的。</p><h3 id="css3发光输入框"><a href="#css3发光输入框" class="headerlink" title="css3发光输入框"></a>css3发光输入框</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">input</span><span class="selector-attr">[type=text]</span>, <span class="selector-tag">textarea</span> &#123;</span><br><span class="line">    <span class="attribute">-webkit-transition</span>: all <span class="number">0.30s</span> ease-in-out;</span><br><span class="line">    <span class="attribute">-moz-transition</span>: all <span class="number">0.30s</span> ease-in-out;</span><br><span class="line">    <span class="attribute">-ms-transition</span>: all <span class="number">0.30s</span> ease-in-out;</span><br><span class="line">    <span class="attribute">-o-transition</span>: all <span class="number">0.30s</span> ease-in-out;</span><br><span class="line">    <span class="attribute">outline</span>: none;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">3px</span> <span class="number">0px</span> <span class="number">3px</span> <span class="number">3px</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">5px</span> <span class="number">1px</span> <span class="number">3px</span> <span class="number">0px</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#ddd</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="selector-tag">input</span><span class="selector-attr">[type=text]</span><span class="selector-pseudo">:focus</span>, <span class="selector-tag">textarea</span><span class="selector-pseudo">:focus</span> &#123;</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span> <span class="built_in">rgba</span>(<span class="number">81</span>, <span class="number">203</span>, <span class="number">238</span>, <span class="number">1</span>);</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">3px</span> <span class="number">0px</span> <span class="number">3px</span> <span class="number">3px</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">5px</span> <span class="number">1px</span> <span class="number">3px</span> <span class="number">0px</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="built_in">rgba</span>(<span class="number">81</span>, <span class="number">203</span>, <span class="number">238</span>, <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="网页两端阴影"><a href="#网页两端阴影" class="headerlink" title="网页两端阴影"></a>网页两端阴影</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">""</span>;</span><br><span class="line">    <span class="attribute">position</span>: fixed;</span><br><span class="line">    <span class="attribute">top</span>: -<span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">10px</span>;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">-webkit-box-shadow</span>: <span class="number">0px</span> <span class="number">0px</span> <span class="number">10px</span> <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,.<span class="number">8</span>);</span><br><span class="line">    <span class="attribute">-moz-box-shadow</span>: <span class="number">0px</span> <span class="number">0px</span> <span class="number">10px</span> <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,.<span class="number">8</span>);</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">0px</span> <span class="number">0px</span> <span class="number">10px</span> <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,.<span class="number">8</span>);</span><br><span class="line">    <span class="attribute">z-index</span>: <span class="number">100</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="css背景噪音"><a href="#css背景噪音" class="headerlink" title="css背景噪音"></a>css背景噪音</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">      <span class="attribute">background-image</span>: <span class="built_in">url</span>(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAAAUVBMVEWFhYWDg4N3d3dtbW17e3t1dXWBgYGHh4d5eXlzc3OLi4ubm5uVlZWPj4+NjY19fX2JiYl/f39ra2uRkZGZmZlpaWmXl5dvb29xcXGTk5NnZ2c8TV1mAAAAG3RSTlNAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAvEOwtAAAFVklEQVR4XpWWB67c2BUFb3g557T/hRo9/WUMZHlgr4Bg8Z4qQgQJlHI4A8SzFVrapvmTF9O7dmYRFZ60YiBhJRCgh1FYhiLAmdvX0CzTOpNE77ME0Zty/nWWzchDtiqrmQDeuv3powQ5ta2eN0FY0InkqDD73lT9c9lEzwUNqgFHs9VQce3TVClFCQrSTfOiYkVJQBmpbq2L6iZavPnAPcoU0dSw0SUTqz/GtrGuXfbyyBniKykOWQWGqwwMA7QiYAxi+IlPdqo+hYHnUt5ZPfnsHJyNiDtnpJyayNBkF6cWoYGAMY92U2hXHF/C1M8uP/ZtYdiuj26UdAdQQSXQErwSOMzt/XWRWAz5GuSBIkwG1H3FabJ2OsUOUhGC6tK4EMtJO0ttC6IBD3kM0ve0tJwMdSfjZo+EEISaeTr9P3wYrGjXqyC1krcKdhMpxEnt5JetoulscpyzhXN5FRpuPHvbeQaKxFAEB6EN+cYN6xD7RYGpXpNndMmZgM5Dcs3YSNFDHUo2LGfZuukSWyUYirJAdYbF3MfqEKmjM+I2EfhA94iG3L7uKrR+GdWD73ydlIB+<span class="number">6</span>hgref1QTlmgmbM3/LeX5GI1Ux1RWpgxpLuZ2+I+IjzZ8wqE4nilvQdkUdfhzI5QDWy+kw5Wgg2pGpeEVeCCA7b85BO3F9DzxB3cdqvBzWcmzbyMiqhzuYqtHRVG2y4x+KOlnyqla8AoWWpuBoYRxzXrfKuILl6SfiWCbjxoZJUaCBj1CjH7GIaDbc9kqBY3W/Rgjda1iqQcOJu2WW+<span class="number">76</span>pZC9QG7M00dffe9hNnseupFL53r8F7YHSwJWUKP2q+k7RdsxyOB11n0xtOvnW4irMMFNV4H0uqwS5ExsmP9AxbDTc9JwgneAT5vTiUSm1E7BSflSt3bfa1tv8Di3R8n3Af7MNWzs49hmauE2wP+ttrq+AsWpFG2awvsuOqbipWHgtuvuaAE+A1Z/<span class="number">7</span>gC9hesnr+<span class="number">7</span>wqCwG8c5yAg3AL1fm8T9AZtp/bbJGwl1pNrE7RuOX7PeMRUERVaPpEs+yqeoSmuOlokqw49pgomjLeh7icHNlG19yjs6XXOMedYm5xH2YxpV2tc0Ro2jJfxC50ApuxGob7lMsxfTbeUv07TyYxpeLucEH1gNd4IKH2LAg5TdVhlCafZvpskfncCfx8pOhJzd76bJWeYFnFciwcYfubRc12Ip/ppIhA1/mSZ/RxjFDrJC5xifFjJpY2Xl5zXdguFqYyTR1zSp1Y9p+tktDYYSNflcxI0iyO4TPBdlRcpeqjK/piF5bklq77VSEaA+z8qmJTFzIWiitbnzR794USKBUaT0NTEsVjZqLaFVqJoPN9ODG70IPbfBHKK+/q/AWR0tJzYHRULOa4MP+W/HfGadZUbfw177G7j/OGbIs8TahLyynl4X4RinF793Oz+BU0saXtUHrVBFT/DnA3ctNPoGbs4hRIjTok8i+algT1lTHi4SxFvONKNrgQFAq2/gFnWMXgwffgYMJpiKYkmW3tTg3ZQ9Jq+f8XN+A5eeUKHWvJWJ2sgJ1Sop+wwhqFVijqWaJhwtD8MNlSBeWNNWTa5Z5kPZw5+LbVT99wqTdx29lMUH4OIG/D86ruKEauBjvH5xy6um/Sfj7ei6UUVk4AIl3MyD4MSSTOFgSwsH/QJWaQ5as7ZcmgBZkzjjU1UrQ74ci1gWBCSGHtuV1H2mhSnO3Wp/<span class="number">3</span>fEV5a+<span class="number">4</span>wz//<span class="number">6</span>qy8JxjZsmxxy5+<span class="number">4</span>w9CDNJY09T072iKG0EnOS0arEYgXqYnXcYHwjTtUNAcMelOd4xpkoqiTYICWFq0JSiPfPDQdnt+<span class="number">4</span>/wuqcXY47QILbgAAAABJRU5ErkJggg==);</span><br><span class="line">  <span class="attribute">background-color</span>: tan;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="按钮渐变动画"><a href="#按钮渐变动画" class="headerlink" title="按钮渐变动画"></a>按钮渐变动画</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">button</span> &#123;</span><br><span class="line">    <span class="attribute">background-image</span>: <span class="built_in">linear-gradient</span>(#<span class="number">5187</span>c4, #<span class="number">1</span>c2f45);</span><br><span class="line">    <span class="attribute">background-size</span>: auto <span class="number">200%</span>;</span><br><span class="line">    <span class="attribute">background-position</span>: <span class="number">0</span> <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">transition</span>: background-position <span class="number">0.5s</span>;</span><br><span class="line">&#125;    </span><br><span class="line"><span class="selector-tag">button</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">background-position</span>: <span class="number">0</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="css3实现load省略号显示"><a href="#css3实现load省略号显示" class="headerlink" title="css3实现load省略号显示"></a>css3实现load省略号显示</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.loading</span><span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">    <span class="attribute">display</span>: inline-block;</span><br><span class="line">    <span class="attribute">vertical-align</span>: bottom;</span><br><span class="line">    <span class="attribute">animation</span>: ellipsis <span class="number">2s</span> infinite;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">"\2026"</span>; <span class="comment">/* ascii code for the ellipsis character */</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@keyframes</span> ellipsis &#123;</span><br><span class="line">    <span class="selector-tag">from</span> &#123;</span><br><span class="line">        <span class="attribute">width</span>: <span class="number">2px</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-tag">to</span> &#123;</span><br><span class="line">        <span class="attribute">width</span>: <span class="number">15px</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="媒体查询"><a href="#媒体查询" class="headerlink" title="媒体查询"></a>媒体查询</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">7.一般媒体查询</span><br><span class="line"><span class="comment">/* Smartphones (portrait and landscape) ----------- */</span></span><br><span class="line"><span class="keyword">@media</span> <span class="keyword">only</span> screen </span><br><span class="line"><span class="keyword">and</span> (min-device-width : <span class="number">320px</span>) <span class="keyword">and</span> (max-device-width : <span class="number">480px</span>) &#123;</span><br><span class="line">  <span class="comment">/* Styles */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Smartphones (landscape) ----------- */</span></span><br><span class="line"><span class="keyword">@media</span> <span class="keyword">only</span> screen <span class="keyword">and</span> (min-width : <span class="number">321px</span>) &#123;</span><br><span class="line">  <span class="comment">/* Styles */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Smartphones (portrait) ----------- */</span></span><br><span class="line"><span class="keyword">@media</span> <span class="keyword">only</span> screen <span class="keyword">and</span> (max-width : <span class="number">320px</span>) &#123;</span><br><span class="line">  <span class="comment">/* Styles */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* iPads (portrait and landscape) ----------- */</span></span><br><span class="line"><span class="keyword">@media</span> <span class="keyword">only</span> screen <span class="keyword">and</span> (min-device-width : <span class="number">768px</span>) <span class="keyword">and</span> (max-device-width : <span class="number">1024px</span>) &#123;</span><br><span class="line">  <span class="comment">/* Styles */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* iPads (landscape) ----------- */</span></span><br><span class="line"><span class="keyword">@media</span> <span class="keyword">only</span> screen <span class="keyword">and</span> (min-device-width : <span class="number">768px</span>) <span class="keyword">and</span> (max-device-width : <span class="number">1024px</span>) <span class="keyword">and</span> (orientation : landscape) &#123;</span><br><span class="line">  <span class="comment">/* Styles */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* iPads (portrait) ----------- */</span></span><br><span class="line"><span class="keyword">@media</span> <span class="keyword">only</span> screen <span class="keyword">and</span> (min-device-width : <span class="number">768px</span>) <span class="keyword">and</span> (max-device-width : <span class="number">1024px</span>) <span class="keyword">and</span> (orientation : portrait) &#123;</span><br><span class="line">  <span class="comment">/* Styles */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Desktops and laptops ----------- */</span></span><br><span class="line"><span class="keyword">@media</span> <span class="keyword">only</span> screen <span class="keyword">and</span> (min-width : <span class="number">1224px</span>) &#123;</span><br><span class="line">  <span class="comment">/* Styles */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Large screens ----------- */</span></span><br><span class="line"><span class="keyword">@media</span> <span class="keyword">only</span> screen <span class="keyword">and</span> (min-width : <span class="number">1824px</span>) &#123;</span><br><span class="line">  <span class="comment">/* Styles */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* iPhone 4 ----------- */</span></span><br><span class="line"><span class="keyword">@media</span> <span class="keyword">only</span> screen <span class="keyword">and</span> (<span class="attribute">-webkit-min-device-pixel-ratio:</span><span class="number">1.5</span>), <span class="keyword">only</span> screen <span class="keyword">and</span> (<span class="attribute">min-device-pixel-ratio:</span><span class="number">1.5</span>) &#123;</span><br><span class="line">  <span class="comment">/* Styles */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="css样式重置"><a href="#css样式重置" class="headerlink" title="css样式重置"></a>css样式重置</h2><h3 id="PC-CSS重置"><a href="#PC-CSS重置" class="headerlink" title="PC-CSS重置"></a>PC-CSS重置</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* normalize.css */</span></span><br><span class="line"></span><br><span class="line"><span class="selector-tag">html</span> &#123;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">1.5</span>;</span><br><span class="line">  <span class="comment">/* 1 */</span></span><br><span class="line">  <span class="attribute">-ms-text-size-adjust</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="comment">/* 2 */</span></span><br><span class="line">  <span class="attribute">-webkit-text-size-adjust</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="comment">/* 2 */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">article</span>,</span><br><span class="line"><span class="selector-tag">aside</span>,</span><br><span class="line"><span class="selector-tag">footer</span>,</span><br><span class="line"><span class="selector-tag">header</span>,</span><br><span class="line"><span class="selector-tag">nav</span>,</span><br><span class="line"><span class="selector-tag">section</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">h1</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">2em</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0.67em</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">figcaption</span>,</span><br><span class="line"><span class="selector-tag">figure</span>,</span><br><span class="line"><span class="selector-tag">main</span> &#123;</span><br><span class="line">  <span class="comment">/* 1 */</span></span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">figure</span> &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">1em</span> <span class="number">40px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">hr</span> &#123;</span><br><span class="line">  <span class="attribute">box-sizing</span>: content-box;</span><br><span class="line">  <span class="comment">/* 1 */</span></span><br><span class="line">  <span class="attribute">height</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="comment">/* 1 */</span></span><br><span class="line">  <span class="attribute">overflow</span>: visible;</span><br><span class="line">  <span class="comment">/* 2 */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">pre</span> &#123;</span><br><span class="line">  <span class="attribute">font-family</span>: monospace, monospace;</span><br><span class="line">  <span class="comment">/* 1 */</span></span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">1em</span>;</span><br><span class="line">  <span class="comment">/* 2 */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: transparent;</span><br><span class="line">  <span class="comment">/* 1 */</span></span><br><span class="line">  <span class="attribute">-webkit-text-decoration-skip</span>: objects;</span><br><span class="line">  <span class="comment">/* 2 */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">abbr</span><span class="selector-attr">[title]</span> &#123;</span><br><span class="line">  <span class="attribute">border-bottom</span>: none;</span><br><span class="line">  <span class="comment">/* 1 */</span></span><br><span class="line">  <span class="attribute">text-decoration</span>: underline;</span><br><span class="line">  <span class="comment">/* 2 */</span></span><br><span class="line">  <span class="attribute">text-decoration</span>: underline dotted;</span><br><span class="line">  <span class="comment">/* 2 */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">b</span>,</span><br><span class="line"><span class="selector-tag">strong</span> &#123;</span><br><span class="line">  <span class="attribute">font-weight</span>: inherit;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">b</span>,</span><br><span class="line"><span class="selector-tag">strong</span> &#123;</span><br><span class="line">  <span class="attribute">font-weight</span>: bolder;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">code</span>,</span><br><span class="line"><span class="selector-tag">kbd</span>,</span><br><span class="line"><span class="selector-tag">samp</span> &#123;</span><br><span class="line">  <span class="attribute">font-family</span>: monospace, monospace;</span><br><span class="line">  <span class="comment">/* 1 */</span></span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">1em</span>;</span><br><span class="line">  <span class="comment">/* 2 */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">dfn</span> &#123;</span><br><span class="line">  <span class="attribute">font-style</span>: italic;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">mark</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#ff0</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#000</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">small</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">80%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">sub</span>,</span><br><span class="line"><span class="selector-tag">sup</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">75%</span>;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">vertical-align</span>: baseline;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">sub</span> &#123;</span><br><span class="line">  <span class="attribute">bottom</span>: -<span class="number">0.25em</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">sup</span> &#123;</span><br><span class="line">  <span class="attribute">top</span>: -<span class="number">0.5em</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">audio</span>,</span><br><span class="line"><span class="selector-tag">video</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">audio</span><span class="selector-pseudo">:not(</span><span class="selector-attr">[controls]</span>) &#123;</span><br><span class="line">  <span class="attribute">display</span>: none;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">img</span> &#123;</span><br><span class="line">  <span class="attribute">border-style</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">svg</span><span class="selector-pseudo">:not(</span><span class="selector-pseudo">:root)</span> &#123;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">button</span>,</span><br><span class="line"><span class="selector-tag">input</span>,</span><br><span class="line"><span class="selector-tag">optgroup</span>,</span><br><span class="line"><span class="selector-tag">select</span>,</span><br><span class="line"><span class="selector-tag">textarea</span> &#123;</span><br><span class="line">  <span class="attribute">font-family</span>: sans-serif;</span><br><span class="line">  <span class="comment">/* 1 */</span></span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="comment">/* 1 */</span></span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">1.15</span>;</span><br><span class="line">  <span class="comment">/* 1 */</span></span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="comment">/* 2 */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">button</span>,</span><br><span class="line"><span class="selector-tag">input</span> &#123;</span><br><span class="line">  <span class="comment">/* 1 */</span></span><br><span class="line">  <span class="attribute">overflow</span>: visible;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">button</span>,</span><br><span class="line"><span class="selector-tag">select</span> &#123;</span><br><span class="line">  <span class="comment">/* 1 */</span></span><br><span class="line">  <span class="attribute">text-transform</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">button</span>,</span><br><span class="line"><span class="selector-tag">html</span> <span class="selector-attr">[type=<span class="string">"button"</span>]</span>,</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 1 */</span></span><br><span class="line"></span><br><span class="line"><span class="selector-attr">[type=<span class="string">"reset"</span>]</span>,</span><br><span class="line"><span class="selector-attr">[type=<span class="string">"submit"</span>]</span> &#123;</span><br><span class="line">  <span class="attribute">-webkit-appearance</span>: button;</span><br><span class="line">  <span class="comment">/* 2 */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">button</span><span class="selector-pseudo">::-moz-focus-inner</span>,</span><br><span class="line"><span class="selector-attr">[type=<span class="string">"button"</span>]</span><span class="selector-pseudo">::-moz-focus-inner</span>,</span><br><span class="line"><span class="selector-attr">[type=<span class="string">"reset"</span>]</span><span class="selector-pseudo">::-moz-focus-inner</span>,</span><br><span class="line"><span class="selector-attr">[type=<span class="string">"submit"</span>]</span><span class="selector-pseudo">::-moz-focus-inner</span> &#123;</span><br><span class="line">  <span class="attribute">border-style</span>: none;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">button</span><span class="selector-pseudo">:-moz-focusring</span>,</span><br><span class="line"><span class="selector-attr">[type=<span class="string">"button"</span>]</span><span class="selector-pseudo">:-moz-focusring</span>,</span><br><span class="line"><span class="selector-attr">[type=<span class="string">"reset"</span>]</span><span class="selector-pseudo">:-moz-focusring</span>,</span><br><span class="line"><span class="selector-attr">[type=<span class="string">"submit"</span>]</span><span class="selector-pseudo">:-moz-focusring</span> &#123;</span><br><span class="line">  <span class="attribute">outline</span>: <span class="number">1px</span> dotted ButtonText;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">fieldset</span> &#123;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0.35em</span> <span class="number">0.75em</span> <span class="number">0.625em</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">legend</span> &#123;</span><br><span class="line">  <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">  <span class="comment">/* 1 */</span></span><br><span class="line">  <span class="attribute">color</span>: inherit;</span><br><span class="line">  <span class="comment">/* 2 */</span></span><br><span class="line">  <span class="attribute">display</span>: table;</span><br><span class="line">  <span class="comment">/* 1 */</span></span><br><span class="line">  <span class="attribute">max-width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="comment">/* 1 */</span></span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="comment">/* 3 */</span></span><br><span class="line">  <span class="attribute">white-space</span>: normal;</span><br><span class="line">  <span class="comment">/* 1 */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">progress</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">  <span class="comment">/* 1 */</span></span><br><span class="line">  <span class="attribute">vertical-align</span>: baseline;</span><br><span class="line">  <span class="comment">/* 2 */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">textarea</span> &#123;</span><br><span class="line">  <span class="attribute">overflow</span>: auto;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-attr">[type=<span class="string">"checkbox"</span>]</span>,</span><br><span class="line"><span class="selector-attr">[type=<span class="string">"radio"</span>]</span> &#123;</span><br><span class="line">  <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">  <span class="comment">/* 1 */</span></span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="comment">/* 2 */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-attr">[type=<span class="string">"number"</span>]</span><span class="selector-pseudo">::-webkit-inner-spin-button</span>,</span><br><span class="line"><span class="selector-attr">[type=<span class="string">"number"</span>]</span><span class="selector-pseudo">::-webkit-outer-spin-button</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: auto;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-attr">[type=<span class="string">"search"</span>]</span> &#123;</span><br><span class="line">  <span class="attribute">-webkit-appearance</span>: textfield;</span><br><span class="line">  <span class="comment">/* 1 */</span></span><br><span class="line">  <span class="attribute">outline-offset</span>: -<span class="number">2px</span>;</span><br><span class="line">  <span class="comment">/* 2 */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-attr">[type=<span class="string">"search"</span>]</span><span class="selector-pseudo">::-webkit-search-cancel-button</span>,</span><br><span class="line"><span class="selector-attr">[type=<span class="string">"search"</span>]</span><span class="selector-pseudo">::-webkit-search-decoration</span> &#123;</span><br><span class="line">  <span class="attribute">-webkit-appearance</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"> <span class="selector-pseudo">::-webkit-file-upload-button</span> &#123;</span><br><span class="line">  <span class="attribute">-webkit-appearance</span>: button;</span><br><span class="line">  <span class="comment">/* 1 */</span></span><br><span class="line">  <span class="attribute">font</span>: inherit;</span><br><span class="line">  <span class="comment">/* 2 */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">details</span>,</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 1 */</span></span><br><span class="line"></span><br><span class="line"><span class="selector-tag">menu</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">summary</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: list-item;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">canvas</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">template</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-attr">[hidden]</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* reset */</span></span><br><span class="line"></span><br><span class="line"><span class="selector-tag">html</span>,<span class="selector-tag">body</span>,<span class="selector-tag">h1</span>,<span class="selector-tag">h2</span>,<span class="selector-tag">h3</span>,<span class="selector-tag">h4</span>,<span class="selector-tag">h5</span>,<span class="selector-tag">h6</span>,<span class="selector-tag">div</span>,<span class="selector-tag">dl</span>,</span><br><span class="line"><span class="selector-tag">dt</span>,<span class="selector-tag">dd</span>,<span class="selector-tag">ul</span>,<span class="selector-tag">ol</span>,<span class="selector-tag">li</span>,<span class="selector-tag">p</span>,<span class="selector-tag">blockquote</span>,<span class="selector-tag">pre</span>,<span class="selector-tag">hr</span>,</span><br><span class="line"><span class="selector-tag">figure</span>,<span class="selector-tag">table</span>,<span class="selector-tag">caption</span>,<span class="selector-tag">th</span>,<span class="selector-tag">td</span>,<span class="selector-tag">form</span>,<span class="selector-tag">fieldset</span>,</span><br><span class="line"><span class="selector-tag">legend</span>,<span class="selector-tag">input</span>,<span class="selector-tag">button</span>,<span class="selector-tag">textarea</span>,<span class="selector-tag">menu</span> &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">*,*<span class="selector-pseudo">::before</span>,*<span class="selector-pseudo">::after</span>&#123;</span><br><span class="line">    <span class="attribute">box-sizing</span>: border-box;<span class="comment">/* 修改默认盒模型 */</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.clearFix</span><span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">"."</span>;</span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">clear</span>: both;</span><br><span class="line">    <span class="attribute">visibility</span>: hidden;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Phone-css重置"><a href="#Phone-css重置" class="headerlink" title="Phone-css重置"></a>Phone-css重置</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="selector-tag">html</span> &#123; <span class="attribute">font-family</span>: <span class="string">"Helvetica Neue"</span>, Helvetica, STHeiTi, Arial, sans-serif; <span class="attribute">-ms-text-size-adjust</span>: <span class="number">100%</span>; <span class="attribute">-webkit-text-size-adjust</span>: <span class="number">100%</span>; <span class="attribute">font-size</span>: <span class="number">62.5%</span>; &#125;</span><br><span class="line"><span class="selector-tag">body</span> &#123; <span class="attribute">margin</span>: <span class="number">0</span>; <span class="attribute">color</span>: <span class="number">#333333</span>; <span class="attribute">background-color</span>: white; <span class="attribute">height</span>: <span class="number">100%</span>; <span class="attribute">overflow-x</span>: hidden; <span class="attribute">-webkit-overflow-scrolling</span>: touch; &#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">article</span>, <span class="selector-tag">aside</span>, <span class="selector-tag">details</span>, <span class="selector-tag">figcaption</span>, <span class="selector-tag">figure</span>, <span class="selector-tag">footer</span>, <span class="selector-tag">header</span>, <span class="selector-tag">hgroup</span>, <span class="selector-tag">main</span>, <span class="selector-tag">nav</span>, <span class="selector-tag">section</span>, <span class="selector-tag">summary</span> &#123; <span class="attribute">display</span>: block; &#125;</span><br><span class="line"><span class="selector-tag">audio</span>, <span class="selector-tag">canvas</span>, <span class="selector-tag">progress</span>, <span class="selector-tag">video</span> &#123; <span class="attribute">display</span>: inline-block; <span class="attribute">vertical-align</span>: baseline; &#125;</span><br><span class="line"><span class="selector-tag">audio</span><span class="selector-pseudo">:not(</span><span class="selector-attr">[controls]</span>) &#123; <span class="attribute">display</span>: none; <span class="attribute">height</span>: <span class="number">0</span>; &#125;</span><br><span class="line"><span class="selector-attr">[hidden]</span>, <span class="selector-tag">template</span> &#123; <span class="attribute">display</span>: none; &#125;</span><br><span class="line"><span class="selector-tag">svg</span><span class="selector-pseudo">:not(</span><span class="selector-pseudo">:root)</span> &#123; <span class="attribute">overflow</span>: hidden; &#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">a</span> &#123; <span class="attribute">background</span>: transparent; <span class="attribute">text-decoration</span>: none; <span class="attribute">-webkit-tap-highlight-color</span>: transparent; <span class="attribute">color</span>: <span class="number">#0088cc</span>; &#125;</span><br><span class="line"><span class="selector-tag">a</span><span class="selector-pseudo">:active</span> &#123; <span class="attribute">outline</span>: <span class="number">0</span>; &#125;</span><br><span class="line"><span class="selector-tag">a</span><span class="selector-pseudo">:active</span> &#123; <span class="attribute">color</span>: <span class="number">#006699</span>; &#125;</span><br><span class="line"><span class="selector-tag">abbr</span><span class="selector-attr">[title]</span> &#123; <span class="attribute">border-bottom</span>: <span class="number">1px</span> dotted; &#125;</span><br><span class="line"><span class="selector-tag">b</span>, <span class="selector-tag">strong</span> &#123; <span class="attribute">font-weight</span>: bold; &#125;</span><br><span class="line"><span class="selector-tag">dfn</span> &#123; <span class="attribute">font-style</span>: italic; &#125;</span><br><span class="line"><span class="selector-tag">mark</span> &#123; <span class="attribute">background</span>: <span class="number">#ff0</span>; <span class="attribute">color</span>: <span class="number">#000</span>; &#125;</span><br><span class="line"><span class="selector-tag">small</span> &#123; <span class="attribute">font-size</span>: <span class="number">80%</span>; &#125;</span><br><span class="line"><span class="selector-tag">sub</span>, <span class="selector-tag">sup</span> &#123; <span class="attribute">font-size</span>: <span class="number">75%</span>; <span class="attribute">line-height</span>: <span class="number">0</span>; <span class="attribute">position</span>: relative; <span class="attribute">vertical-align</span>: baseline; &#125;</span><br><span class="line"><span class="selector-tag">sup</span> &#123; <span class="attribute">top</span>: -<span class="number">0.5em</span>; &#125;</span><br><span class="line"><span class="selector-tag">sub</span> &#123; <span class="attribute">bottom</span>: -<span class="number">0.25em</span>; &#125;</span><br><span class="line"><span class="selector-tag">img</span> &#123; <span class="attribute">border</span>: <span class="number">0</span>; <span class="attribute">vertical-align</span>: middle; &#125;</span><br><span class="line"><span class="selector-tag">hr</span> &#123; <span class="attribute">-moz-box-sizing</span>: content-box; <span class="attribute">box-sizing</span>: content-box; <span class="attribute">height</span>: <span class="number">0</span>; &#125;</span><br><span class="line"><span class="selector-tag">pre</span> &#123; <span class="attribute">overflow</span>: auto; <span class="attribute">white-space</span>: pre; <span class="attribute">white-space</span>: pre-wrap; <span class="attribute">word-wrap</span>: break-word; &#125;</span><br><span class="line"><span class="selector-tag">code</span>, <span class="selector-tag">kbd</span>, <span class="selector-tag">pre</span>, <span class="selector-tag">samp</span> &#123; <span class="attribute">font-family</span>: monospace, monospace; <span class="attribute">font-size</span>: <span class="number">1em</span>; &#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">button</span>, <span class="selector-tag">input</span>, <span class="selector-tag">optgroup</span>, <span class="selector-tag">select</span>, <span class="selector-tag">textarea</span> &#123; <span class="attribute">color</span>: inherit; <span class="attribute">font</span>: inherit; <span class="attribute">margin</span>: <span class="number">0</span>; &#125;</span><br><span class="line"><span class="selector-tag">button</span> &#123; <span class="attribute">overflow</span>: visible; &#125;</span><br><span class="line"><span class="selector-tag">button</span>, <span class="selector-tag">select</span> &#123; <span class="attribute">text-transform</span>: none; &#125;</span><br><span class="line"><span class="selector-tag">button</span>, <span class="selector-tag">html</span> <span class="selector-tag">input</span><span class="selector-attr">[type=<span class="string">"button"</span>]</span>, <span class="selector-tag">input</span><span class="selector-attr">[type=<span class="string">"reset"</span>]</span>, <span class="selector-tag">input</span><span class="selector-attr">[type=<span class="string">"submit"</span>]</span> &#123; <span class="attribute">-webkit-appearance</span>: button; <span class="attribute">cursor</span>: pointer; &#125;</span><br><span class="line"><span class="selector-tag">button</span><span class="selector-attr">[disabled]</span>, <span class="selector-tag">html</span> <span class="selector-tag">input</span><span class="selector-attr">[disabled]</span> &#123; <span class="attribute">cursor</span>: default; &#125;</span><br><span class="line"><span class="selector-tag">button</span><span class="selector-pseudo">::-moz-focus-inner</span>, <span class="selector-tag">input</span><span class="selector-pseudo">::-moz-focus-inner</span> &#123; <span class="attribute">border</span>: <span class="number">0</span>; <span class="attribute">padding</span>: <span class="number">0</span>; &#125;</span><br><span class="line"><span class="selector-tag">input</span> &#123; <span class="attribute">line-height</span>: normal; &#125;</span><br><span class="line"><span class="selector-tag">input</span><span class="selector-attr">[type=<span class="string">"checkbox"</span>]</span>, <span class="selector-tag">input</span><span class="selector-attr">[type=<span class="string">"radio"</span>]</span> &#123; <span class="attribute">box-sizing</span>: border-box; <span class="attribute">padding</span>: <span class="number">0</span>; &#125;</span><br><span class="line"><span class="selector-tag">input</span><span class="selector-attr">[type=<span class="string">"number"</span>]</span><span class="selector-pseudo">::-webkit-inner-spin-button</span>, <span class="selector-tag">input</span><span class="selector-attr">[type=<span class="string">"number"</span>]</span><span class="selector-pseudo">::-webkit-outer-spin-button</span> &#123; <span class="attribute">height</span>: auto; &#125;</span><br><span class="line"><span class="selector-tag">input</span><span class="selector-attr">[type=<span class="string">"search"</span>]</span> &#123; <span class="attribute">-webkit-appearance</span>: textfield; <span class="attribute">-moz-box-sizing</span>: border-box; <span class="attribute">-webkit-box-sizing</span>: border-box; <span class="attribute">box-sizing</span>: border-box; &#125;</span><br><span class="line"><span class="selector-tag">input</span><span class="selector-attr">[type=<span class="string">"search"</span>]</span><span class="selector-pseudo">::-webkit-search-cancel-button</span>, <span class="selector-tag">input</span><span class="selector-attr">[type=<span class="string">"search"</span>]</span><span class="selector-pseudo">::-webkit-search-decoration</span> &#123; <span class="attribute">-webkit-appearance</span>: none; &#125;</span><br><span class="line"><span class="selector-tag">fieldset</span> &#123; <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#c0c0c0</span>; <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">2px</span>; <span class="attribute">padding</span>: <span class="number">0.35em</span> <span class="number">0.625em</span> <span class="number">0.75em</span>; &#125;</span><br><span class="line"><span class="selector-tag">legend</span> &#123; <span class="attribute">border</span>: <span class="number">0</span>; <span class="attribute">padding</span>: <span class="number">0</span>; &#125;</span><br><span class="line"><span class="selector-tag">textarea</span> &#123; <span class="attribute">overflow</span>: auto; <span class="attribute">resize</span>: vertical; &#125;</span><br><span class="line"><span class="selector-tag">optgroup</span> &#123; <span class="attribute">font-weight</span>: bold; &#125;</span><br><span class="line"><span class="selector-tag">table</span> &#123; <span class="attribute">border-collapse</span>: collapse; <span class="attribute">border-spacing</span>: <span class="number">0</span>; &#125;</span><br><span class="line"><span class="selector-tag">td</span>, <span class="selector-tag">th</span> &#123; <span class="attribute">padding</span>: <span class="number">0</span>; &#125;</span><br><span class="line"><span class="selector-tag">html</span>, <span class="selector-tag">button</span>, <span class="selector-tag">input</span>, <span class="selector-tag">select</span>, <span class="selector-tag">textarea</span> &#123; <span class="attribute">font-family</span>: <span class="string">"Helvetica Neue"</span>, Helvetica, STHeiTi, Arial, sans-serif; &#125;</span><br><span class="line"><span class="selector-tag">h1</span>, <span class="selector-tag">h2</span>, <span class="selector-tag">h3</span>, <span class="selector-tag">h4</span>, <span class="selector-tag">h5</span>, <span class="selector-tag">h6</span>, <span class="selector-tag">p</span>, <span class="selector-tag">figure</span>, <span class="selector-tag">form</span>, <span class="selector-tag">blockquote</span> &#123; <span class="attribute">margin</span>: <span class="number">0</span>; &#125;</span><br><span class="line"><span class="selector-tag">ul</span>, <span class="selector-tag">ol</span>, <span class="selector-tag">li</span>, <span class="selector-tag">dl</span>, <span class="selector-tag">dd</span> &#123; <span class="attribute">margin</span>: <span class="number">0</span>; <span class="attribute">padding</span>: <span class="number">0</span>; &#125;</span><br><span class="line"><span class="selector-tag">ul</span>, <span class="selector-tag">ol</span> &#123; <span class="attribute">list-style</span>: none outside none; &#125;</span><br><span class="line"><span class="selector-tag">h1</span>, <span class="selector-tag">h2</span>, <span class="selector-tag">h3</span> &#123; <span class="attribute">line-height</span>: <span class="number">2</span>; <span class="attribute">font-weight</span>: normal; &#125;</span><br><span class="line"><span class="selector-tag">input</span><span class="selector-pseudo">::-moz-placeholder</span>, <span class="selector-tag">textarea</span><span class="selector-pseudo">::-moz-placeholder</span> &#123; <span class="attribute">color</span>: <span class="number">#cccccc</span>; &#125;</span><br><span class="line"><span class="selector-tag">input</span><span class="selector-pseudo">:-ms-input-placeholder</span>, <span class="selector-tag">textarea</span><span class="selector-pseudo">:-ms-input-placeholder</span> &#123; <span class="attribute">color</span>: <span class="number">#cccccc</span>; &#125;</span><br><span class="line"><span class="selector-tag">input</span><span class="selector-pseudo">::-webkit-input-placeholder</span>, <span class="selector-tag">textarea</span><span class="selector-pseudo">::-webkit-input-placeholder</span> &#123; <span class="attribute">color</span>: <span class="number">#cccccc</span>; &#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">body</span> &#123;<span class="attribute">max-width</span>:<span class="number">750px</span>;<span class="attribute">margin</span>:<span class="number">0</span> auto;&#125;</span><br><span class="line">*,*<span class="selector-pseudo">::before</span>,*<span class="selector-pseudo">::after</span>&#123;</span><br><span class="line">    <span class="attribute">box-sizing</span>: border-box;<span class="comment">/* 修改默认盒模型 */</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.clearFix</span><span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">"."</span>;</span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">clear</span>: both;</span><br><span class="line">    <span class="attribute">visibility</span>: hidden;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="公共样式"><a href="#公共样式" class="headerlink" title="公共样式"></a>公共样式</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 禁止选中文本 */</span></span><br><span class="line"><span class="selector-class">.usn</span>&#123;</span><br><span class="line">    <span class="attribute">-webkit-user-select</span>:none;</span><br><span class="line">    <span class="attribute">-moz-user-select</span>:none;</span><br><span class="line">    <span class="attribute">-ms-user-select</span>:none;</span><br><span class="line">    <span class="attribute">-o-user-select</span>:none;</span><br><span class="line">    <span class="attribute">user-select</span>:none;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 浮动 */</span></span><br><span class="line"><span class="selector-class">.fl</span> &#123; <span class="attribute">float</span>: left; &#125;</span><br><span class="line"><span class="selector-class">.fr</span> &#123; <span class="attribute">float</span>: right; &#125;</span><br><span class="line"><span class="selector-class">.cf</span> &#123; <span class="attribute">zoom</span>: <span class="number">1</span>; &#125;</span><br><span class="line"><span class="selector-class">.cf</span><span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>:<span class="string">"."</span>;</span><br><span class="line">    <span class="attribute">display</span>:block;</span><br><span class="line">    <span class="attribute">clear</span>:both;</span><br><span class="line">    <span class="attribute">visibility</span>:hidden;</span><br><span class="line">    <span class="attribute">height</span>:<span class="number">0</span>;</span><br><span class="line">    <span class="attribute">overflow</span>:hidden;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 元素类型 */</span></span><br><span class="line"><span class="selector-class">.db</span> &#123; <span class="attribute">display</span>: block; &#125;</span><br><span class="line"><span class="selector-class">.dn</span> &#123; <span class="attribute">display</span>: none; &#125;</span><br><span class="line"><span class="selector-class">.di</span> &#123; <span class="attribute">display</span>: inline &#125;</span><br><span class="line"><span class="selector-class">.dib</span> &#123;<span class="attribute">display</span>: inline-block;&#125;</span><br><span class="line"><span class="selector-class">.transparent</span> &#123; <span class="attribute">opacity</span>: <span class="number">0</span> &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*文字排版、颜色*/</span></span><br><span class="line"><span class="selector-class">.f12</span> &#123; <span class="attribute">font-size</span>:<span class="number">12px</span> &#125;</span><br><span class="line"><span class="selector-class">.f14</span> &#123; <span class="attribute">font-size</span>:<span class="number">14px</span> &#125;</span><br><span class="line"><span class="selector-class">.f16</span> &#123; <span class="attribute">font-size</span>:<span class="number">16px</span> &#125;</span><br><span class="line"><span class="selector-class">.f18</span> &#123; <span class="attribute">font-size</span>:<span class="number">18px</span> &#125;</span><br><span class="line"><span class="selector-class">.f20</span> &#123; <span class="attribute">font-size</span>:<span class="number">20px</span> &#125;</span><br><span class="line"><span class="selector-class">.fb</span> &#123; <span class="attribute">font-weight</span>:bold &#125;</span><br><span class="line"><span class="selector-class">.fn</span> &#123; <span class="attribute">font-weight</span>:normal &#125;</span><br><span class="line"><span class="selector-class">.t2</span> &#123; <span class="attribute">text-indent</span>:<span class="number">2em</span> &#125;</span><br><span class="line"><span class="selector-class">.red</span>,<span class="selector-tag">a</span><span class="selector-class">.red</span> &#123; <span class="attribute">color</span>:<span class="number">#cc0031</span> &#125;</span><br><span class="line"><span class="selector-class">.darkblue</span>,<span class="selector-tag">a</span><span class="selector-class">.darkblue</span> &#123; <span class="attribute">color</span>:<span class="number">#039</span> &#125;</span><br><span class="line"><span class="selector-class">.gray</span>,<span class="selector-tag">a</span><span class="selector-class">.gray</span> &#123; <span class="attribute">color</span>:<span class="number">#878787</span> &#125;</span><br><span class="line"><span class="selector-class">.lh150</span> &#123; <span class="attribute">line-height</span>:<span class="number">150%</span> &#125;</span><br><span class="line"><span class="selector-class">.lh180</span> &#123; <span class="attribute">line-height</span>:<span class="number">180%</span> &#125;</span><br><span class="line"><span class="selector-class">.lh200</span> &#123; <span class="attribute">line-height</span>:<span class="number">200%</span> &#125;</span><br><span class="line"><span class="selector-class">.unl</span> &#123; <span class="attribute">text-decoration</span>:underline; &#125;</span><br><span class="line"><span class="selector-class">.no_unl</span> &#123; <span class="attribute">text-decoration</span>:none; &#125;</span><br><span class="line"><span class="selector-class">.tl</span> &#123; <span class="attribute">text-align</span>: left; &#125;</span><br><span class="line"><span class="selector-class">.tc</span> &#123; <span class="attribute">text-align</span>: center; &#125;</span><br><span class="line"><span class="selector-class">.tr</span> &#123; <span class="attribute">text-align</span>: right; &#125;</span><br><span class="line"><span class="selector-class">.tj</span> &#123; <span class="attribute">text-align</span>: justify; <span class="attribute">text-justify</span>: inter-ideograph; &#125;</span><br><span class="line"><span class="selector-class">.wn</span> &#123; <span class="comment">/* 强制不换行 */</span></span><br><span class="line">    <span class="attribute">word-wrap</span>:normal;</span><br><span class="line">    <span class="attribute">white-space</span>:nowrap;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.wb</span> &#123; <span class="comment">/* 强制换行 */</span></span><br><span class="line">    <span class="attribute">white-space</span>:normal;</span><br><span class="line">    <span class="attribute">word-wrap</span>:break-word;</span><br><span class="line">    <span class="attribute">word-break</span>:break-all;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.wp</span> &#123; <span class="comment">/* 保持空白序列*/</span></span><br><span class="line">    <span class="attribute">overflow</span>:hidden;<span class="attribute">text-align</span>:left;<span class="attribute">white-space</span>:pre-wrap;<span class="attribute">word-wrap</span>:break-word;<span class="attribute">word-break</span>:break-all;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.wes</span> &#123; <span class="comment">/* 多出部分用省略号表示 , 用于一行 */</span></span><br><span class="line">    <span class="attribute">overflow</span>:hidden;</span><br><span class="line">    <span class="attribute">word-wrap</span>:normal;</span><br><span class="line">    <span class="attribute">white-space</span>:nowrap;</span><br><span class="line">    <span class="attribute">text-overflow</span>:ellipsis;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.wes-2</span> &#123; <span class="comment">/* 适用于webkit内核和移动端 */</span></span><br><span class="line">    <span class="attribute">display</span>: -webkit-box;</span><br><span class="line">    <span class="attribute">-webkit-box-orient</span>: vertical;</span><br><span class="line">    <span class="attribute">-webkit-line-clamp</span>: <span class="number">2</span>;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125; </span><br><span class="line"><span class="selector-class">.wes-3</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: -webkit-box;</span><br><span class="line">    <span class="attribute">-webkit-box-orient</span>: vertical;</span><br><span class="line">    <span class="attribute">-webkit-line-clamp</span>: <span class="number">3</span>;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.wes-4</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: -webkit-box;</span><br><span class="line">    <span class="attribute">-webkit-box-orient</span>: vertical;</span><br><span class="line">    <span class="attribute">-webkit-line-clamp</span>: <span class="number">4</span>;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 溢出样式 */</span></span><br><span class="line"><span class="selector-class">.ofh</span> &#123; <span class="attribute">overflow</span>: hidden; &#125;</span><br><span class="line"><span class="selector-class">.ofs</span> &#123;<span class="attribute">overflow</span>: scroll; &#125;</span><br><span class="line"><span class="selector-class">.ofa</span> &#123;<span class="attribute">overflow</span>: auto; &#125;</span><br><span class="line"><span class="selector-class">.ofv</span> &#123;<span class="attribute">overflow</span>: visible; &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 定位方式 */</span></span><br><span class="line"><span class="selector-class">.ps</span> &#123;<span class="attribute">position</span>: static; &#125;</span><br><span class="line"><span class="selector-class">.pr</span> &#123;<span class="attribute">position</span>: relative;<span class="attribute">zoom</span>:<span class="number">1</span>; &#125;</span><br><span class="line"><span class="selector-class">.pa</span> &#123;<span class="attribute">position</span>: absolute; &#125;</span><br><span class="line"><span class="selector-class">.pf</span> &#123;<span class="attribute">position</span>: fixed; &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* 垂直对齐方式 */</span></span><br><span class="line"><span class="selector-class">.vt</span> &#123;<span class="attribute">vertical-align</span>: top; &#125;</span><br><span class="line"><span class="selector-class">.vm</span> &#123;<span class="attribute">vertical-align</span>: middle; &#125;</span><br><span class="line"><span class="selector-class">.vb</span> &#123;<span class="attribute">vertical-align</span>: bottom; &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* 鼠标样式 */</span></span><br><span class="line"><span class="selector-class">.csd</span> &#123;<span class="attribute">cursor</span>: default; &#125;</span><br><span class="line"><span class="selector-class">.csp</span> &#123;<span class="attribute">cursor</span>: pointer; &#125;</span><br><span class="line"><span class="selector-class">.csh</span> &#123;<span class="attribute">cursor</span>: help; &#125;</span><br><span class="line"><span class="selector-class">.csm</span> &#123;<span class="attribute">cursor</span>: move; &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* flex布局 */</span></span><br><span class="line"><span class="selector-class">.df-sb</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>:flex;</span><br><span class="line">    <span class="attribute">align-items</span>: center;</span><br><span class="line">    <span class="attribute">justify-content</span>: space-between;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.df-sa</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>:flex;</span><br><span class="line">    <span class="attribute">align-items</span>: center;</span><br><span class="line">    <span class="attribute">justify-content</span>: space-around;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 垂直居中 */</span></span><br><span class="line"><span class="selector-class">.df-c</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">align-items</span>: center;</span><br><span class="line">    <span class="attribute">justify-content</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.tb-c</span> &#123;</span><br><span class="line">    <span class="attribute">text-align</span>:center;</span><br><span class="line">    <span class="attribute">display</span>:table-cell;</span><br><span class="line">    <span class="attribute">vertical-align</span>:middle;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.ts-c</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">50%</span>; <span class="attribute">top</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">translate</span>(-<span class="number">50%</span>, -<span class="number">50%</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.ts-mc</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">0</span>;<span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">bottom</span>: <span class="number">0</span>; <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">margin</span>: auto;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 辅助 */</span></span><br><span class="line"><span class="selector-class">.mask-fixed-wrapper</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">position</span>: fixed;</span><br><span class="line">    <span class="attribute">left</span>:<span class="number">0</span>;<span class="attribute">top</span>:<span class="number">0</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.65</span>);</span><br><span class="line">    <span class="attribute">z-index</span>: <span class="number">999</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.bg-cover</span> &#123;</span><br><span class="line">    <span class="attribute">background-size</span>: cover;</span><br><span class="line">    <span class="attribute">background-repeat</span>: no-repeat;</span><br><span class="line">    <span class="attribute">background-position</span>: center center;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.bg-cover-all</span> &#123;</span><br><span class="line">    <span class="attribute">background-size</span>: <span class="number">100%</span> <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">background-repeat</span>: no-repeat;</span><br><span class="line">    <span class="attribute">background-position</span>: center center;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> CSS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CSS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JavaScript中属性总结03--Object</title>
      <link href="/JavaScript%E4%B8%AD%E5%B1%9E%E6%80%A7%E6%80%BB%E7%BB%9303-Object/"/>
      <url>/JavaScript%E4%B8%AD%E5%B1%9E%E6%80%A7%E6%80%BB%E7%BB%9303-Object/</url>
      
        <content type="html"><![CDATA[<p>JavaScript中Object对象以及Object.prototype原型对象的属性和方法总结</p><a id="more"></a><p><img src="http://p09g3b06f.bkt.clouddn.com/JavaScript%E4%B8%AD%E5%B1%9E%E6%80%A7%E6%80%BB%E7%BB%93-Object/Object%E4%B8%8A%E7%9A%84%E6%89%80%E6%9C%89%E5%B1%9E%E6%80%A7%20.png" alt="Object属性"></p><h2 id="Object属性"><a href="#Object属性" class="headerlink" title="Object属性"></a>Object属性</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Object</span>.assign(target, …sources) <span class="comment">//把任意多个的源对象自身的可枚举属性拷贝给目标对象，然后返回目标对象。</span></span><br><span class="line"><span class="built_in">Object</span>.create(proto,[propertiesobject]) <span class="comment">//创建一个拥有指定原型和若干个指定属性的对象。</span></span><br><span class="line"><span class="built_in">Object</span>.defineProperties(obj,&#123;<span class="string">'prop1'</span>:&#123;&#125;,<span class="string">'prop2'</span>:&#123;&#125;&#125;) <span class="comment">//在一个对象上添加或修改一个或者多个自有属性，并返回该对象。</span></span><br><span class="line"><span class="built_in">Object</span>.defineProperty(obj,<span class="string">'property'</span>,&#123;&#125;) <span class="comment">//直接在一个对象上定义一个新属性，或者修改一个已经存在的属性， 并返回这个对象</span></span><br><span class="line"><span class="built_in">Object</span>.entries(obj) <span class="comment">//返回一个包含由给定对象所有可枚举属性的属性名和属性值组成的 </span></span><br><span class="line"><span class="comment">//[属性名，属性值] 键值对的数组，数组中键值对的排列顺序和使用for…in循环遍历该对象时返回的顺序一致。 </span></span><br><span class="line"><span class="built_in">Object</span>.freeze(obj)  <span class="comment">//冻结一个对象 冻结指的是不能向这个对象添加新的属性,删除、修改属性,以及不能修改该对象已有属性的可枚举性、可配置性、可写性。也就是说，这个对象永远是不可变的。该方法返回被冻结的对象。</span></span><br><span class="line"><span class="built_in">Object</span>.keys(obj) <span class="comment">//返回一个由给定对象的所有可枚举自身属性的属性名组成的数组</span></span><br><span class="line"><span class="built_in">Object</span>.getOwnPropertyNames(obj) <span class="comment">//返回一个由指定对象的所有自身属性的属性名（包括不可枚举属性）组成的数组。 </span></span><br><span class="line"><span class="built_in">Object</span>.getOwnPropertyDescriptor(obj, prop) <span class="comment">//返回指定对象上一个自有属性对应的属性描述符。</span></span><br><span class="line"><span class="built_in">Object</span>.getPrototypeOf(object) <span class="comment">//返回该对象的原型。</span></span><br><span class="line"><span class="built_in">Object</span>.getOwnPropertySymbols(obj) <span class="comment">// 对象自身上找到的所有 Symbol 属性的数组。</span></span><br><span class="line"><span class="built_in">Object</span>.is(value1, value2) <span class="comment">//判断两个值是否是同一个值。</span></span><br><span class="line"><span class="built_in">Object</span>.isExtensible(obj) <span class="comment">//判断一个对象是否是可扩展的（是否可以在它上面添加新的属性）</span></span><br><span class="line"><span class="built_in">Object</span>.isFrozen(obj) <span class="comment">//判断一个对象是否被冻结（frozen）</span></span><br><span class="line"><span class="built_in">Object</span>.isSealed(obj) <span class="comment">//判断一个对象是否是密封的（sealed）</span></span><br><span class="line"><span class="built_in">Object</span>.preventExtensions(obj) <span class="comment">//让一个对象变的不可扩展，也就是永远不能再添加新的属性。</span></span><br><span class="line"><span class="built_in">Object</span>.setPrototypeOf(obj, prototype) <span class="comment">//将一个指定的对象的原型设置为另一个对象或者null</span></span><br><span class="line"><span class="built_in">Object</span>.seal(obj) <span class="comment">// 让一个对象密封，并返回被密封后的对象。密封对象将会阻止向对象添加新的属性，并且会将所有已有属性的可配置性（configurable）置为不可配置（false），即不可修改属性的描述或删除属性。但是可写性描述（writable）为可写（true）的属性的值仍然可以被修改。</span></span><br><span class="line"><span class="built_in">Object</span>.values(obj) <span class="comment">//返回一个包含指定对象所有的可枚举属性值的数组</span></span><br></pre></td></tr></table></figure><h2 id="Object-prototype属性"><a href="#Object-prototype属性" class="headerlink" title="Object.prototype属性"></a>Object.prototype属性</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Object</span>.prototype.writable <span class="comment">//默认为false </span></span><br><span class="line"><span class="built_in">Object</span>.prototype.enumerable <span class="comment">//默认为false </span></span><br><span class="line"><span class="built_in">Object</span>.prototype.configurable <span class="comment">//默认为false </span></span><br><span class="line"><span class="built_in">Object</span>.prototype.constructor <span class="comment">//用于创建一个对象的原型。</span></span><br><span class="line"><span class="built_in">Object</span>.prototype.hasOwnProperty(<span class="string">'prop'</span>) <span class="comment">//返回一个布尔值，表示某个对象是否含有指定的属性，而且此属性非原型链继承。</span></span><br><span class="line"><span class="built_in">Object</span>.prototype.isPrototypeOf(obj) <span class="comment">//返回一个布尔值，表示指定的对象是否在本对象的原型链中。</span></span><br><span class="line"><span class="built_in">Object</span>.prototype.propertyIsEnumerable() <span class="comment">//判断指定属性是否可枚举。</span></span><br><span class="line"><span class="built_in">Object</span>.prototype.toString() <span class="comment">//返回对象的字符串表示。</span></span><br><span class="line"><span class="built_in">Object</span>.prototype.valueOf() <span class="comment">//返回指定对象的原始值</span></span><br></pre></td></tr></table></figure><blockquote></blockquote><p>Object又继承自Object.prototype，所以Object上也有prototype的所有方法和属性</p><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object#Properties" target="_blank" rel="noopener">MDN-Object属性</a></p>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JavaScript中属性总结04--Number</title>
      <link href="/JavaScript%E4%B8%AD%E5%B1%9E%E6%80%A7%E6%80%BB%E7%BB%9304-Number/"/>
      <url>/JavaScript%E4%B8%AD%E5%B1%9E%E6%80%A7%E6%80%BB%E7%BB%9304-Number/</url>
      
        <content type="html"><![CDATA[<p>JavaScript中Number对象以及Number.prototype原型对象的属性和方法总结</p><a id="more"></a><p><img src="http://p09g3b06f.bkt.clouddn.com/JavaScript%E4%B8%AD%E5%AF%B9%E8%B1%A1%E5%B1%9E%E6%80%A7%E6%80%BB%E7%BB%93/JavaScript%E4%B8%ADNumber%E5%B1%9E%E6%80%A7%E6%80%BB%E7%BB%93.png" alt="Number属性"></p><h2 id="Number属性"><a href="#Number属性" class="headerlink" title="Number属性"></a>Number属性</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">属性</span><br><span class="line"><span class="built_in">Number</span>.EPSILON  两个可表示(representable)数之间的最小间隔。</span><br><span class="line"><span class="built_in">Number</span>.MAX_SAFE_INTEGER     JavaScript 中最大的安全整数 (<span class="number">253</span> - <span class="number">1</span>)。</span><br><span class="line"><span class="built_in">Number</span>.MAX_VALUE    能表示的最大正数。最小的负数是 -MAX_VALUE。</span><br><span class="line"><span class="built_in">Number</span>.MIN_SAFE_INTEGER     JavaScript 中最小的安全整数 (-(<span class="number">253</span> - <span class="number">1</span>)).</span><br><span class="line"><span class="built_in">Number</span>.MIN_VALUE    能表示的最小正数即最接近 <span class="number">0</span> 的正数 (实际上不会变成 <span class="number">0</span>)。最大的负数是 -MIN_VALUE。</span><br><span class="line"><span class="built_in">Number</span>.NaN  特殊的“非数字”值。</span><br><span class="line"><span class="built_in">Number</span>.NEGATIVE_INFINITY    特殊的负无穷大值，在溢出时返回该值。</span><br><span class="line"><span class="built_in">Number</span>.POSITIVE_INFINITY    特殊的正无穷大值，在溢出时返回改值。</span><br><span class="line"><span class="built_in">Number</span>.prototype    <span class="built_in">Number</span> 对象上允许的额外属性。</span><br><span class="line"></span><br><span class="line">方法</span><br><span class="line"><span class="built_in">Number</span>.isNaN()  确定传递的值是否是 <span class="literal">NaN</span>。</span><br><span class="line"><span class="built_in">Number</span>.isFinite()   确定传递的值类型及本身是否是有限数。</span><br><span class="line"><span class="built_in">Number</span>.isInteger()  确定传递的值类型是“number”，且是整数。</span><br><span class="line"><span class="built_in">Number</span>.isSafeInteger()  确定传递的值是否为安全整数 ( -(<span class="number">253</span> - <span class="number">1</span>) 至 <span class="number">253</span> - <span class="number">1</span>之间)。</span><br><span class="line"><span class="built_in">Number</span>.toInteger()      计算传递的值并将其转换为整数 (或无穷大)。</span><br><span class="line"><span class="built_in">Number</span>.parseFloat()     和全局对象 <span class="built_in">parseFloat</span>() 一样。</span><br><span class="line"><span class="built_in">Number</span>.parseInt()   和全局对象 <span class="built_in">parseInt</span>() 一样。</span><br></pre></td></tr></table></figure><h2 id="Number-prototype属性"><a href="#Number-prototype属性" class="headerlink" title="Number.prototype属性"></a>Number.prototype属性</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">toString    把数字转换为字符串，使用指定的基数。</span><br><span class="line">toLocaleString  把数字转换为字符串，使用本地数字格式顺序。</span><br><span class="line">toFixed 把数字转换为字符串，结果的小数点后有指定位数的数字四色五入。</span><br><span class="line">toExponential   把对象的值转换为指数计数法。</span><br><span class="line">toPrecision 方法用于将一个数转为指定位数的有效数字。</span><br><span class="line">valueOf 返回一个 <span class="built_in">Number</span> 对象的基本数字值。</span><br></pre></td></tr></table></figure><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object#Properties" target="_blank" rel="noopener">MDN-Object属性</a></p>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JavaScript中属性总结01--String</title>
      <link href="/JavaScript%E4%B8%AD%E5%B1%9E%E6%80%A7%E6%80%BB%E7%BB%9301-String/"/>
      <url>/JavaScript%E4%B8%AD%E5%B1%9E%E6%80%A7%E6%80%BB%E7%BB%9301-String/</url>
      
        <content type="html"><![CDATA[<p>javascript中字符串属性和方法总结</p><a id="more"></a><h3 id="toString-NaN"><a href="#toString-NaN" class="headerlink" title="toString()"></a>toString()</h3><p>toString 跟 valueOf 返回的都是自己(原始值)</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">'hello world'</span></span><br><span class="line"><span class="built_in">console</span>.log(str.toString()) <span class="comment">// -&gt; 'hello world'</span></span><br><span class="line"><span class="built_in">console</span>.log(str.valueOf()) <span class="comment">// -&gt; 'hello world'</span></span><br></pre></td></tr></table></figure><h3 id="charAt"><a href="#charAt" class="headerlink" title="charAt()"></a>charAt()</h3><p>charAt(index): 返回在指定位置的字符。<code>index</code>为索引(正整数)</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">'hello world'</span></span><br><span class="line"><span class="built_in">console</span>.log(str.charAt(<span class="number">3</span>)) <span class="comment">// -&gt; 'l'</span></span><br></pre></td></tr></table></figure><h3 id="charCodeAt"><a href="#charCodeAt" class="headerlink" title="charCodeAt()"></a>charCodeAt()</h3><p>charCodeAt(index): 返回指定位置的字符的 Unicode 编码。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">'hello world'</span></span><br><span class="line"><span class="built_in">console</span>.log(str.charCodeAt(<span class="number">3</span>)) <span class="comment">// -&gt; 108</span></span><br></pre></td></tr></table></figure><h3 id="fromCharCode"><a href="#fromCharCode" class="headerlink" title="fromCharCode()"></a>fromCharCode()</h3><p>fromCharCode(n1, n2, …, nX): 将 Unicode 编码转为一个字符 接受一个或多个 Unicode 值，即要创建的字符串中的字符的 Unicode 编码。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str1 = <span class="built_in">String</span>.fromCharCode(<span class="number">100</span>)</span><br><span class="line"><span class="keyword">var</span> str2 = <span class="built_in">String</span>.fromCharCode(<span class="number">72</span>,<span class="number">69</span>,<span class="number">76</span>,<span class="number">76</span>,<span class="number">79</span>)</span><br><span class="line"><span class="built_in">console</span>.log(str1) <span class="comment">// -&gt; d</span></span><br><span class="line"><span class="built_in">console</span>.log(str2) <span class="comment">// -&gt; HELLO</span></span><br></pre></td></tr></table></figure><h3 id="indexOf"><a href="#indexOf" class="headerlink" title="indexOf()"></a>indexOf()</h3><p>string.indexOf(searchvalue,start): 返回某个指定的字符串值在字符串中首次出现的位置。<strong>如果没有找到匹配的字符串则返回 -1。</strong></p><ul><li>searchvalue 必须 规定需检索的字符串值</li><li>start 可选的整数参数。规定在字符串中开始检索的位置。它的合法取值是 0 到 string Object.length - 1。如省略该参数，则将从字符串的首字符开始检索。</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    searchvalue: 必需。规定需检索的字符串值</span></span><br><span class="line"><span class="comment">    start:  可选的整数参数。规定在字符串中开始检索的位置。它的合法取值是 0 到 string Object.length - 1。如省略该参数，则将从字符串的首字符开始检索</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">var</span> str = <span class="string">'abcdbfg'</span></span><br><span class="line"><span class="keyword">var</span> str1 = str.indexOf(<span class="string">'b'</span>)</span><br><span class="line"><span class="keyword">var</span> str2 = str.indexOf(<span class="string">'b'</span>, <span class="number">2</span>)</span><br><span class="line"><span class="built_in">console</span>.log(str1) <span class="comment">// -&gt; 1</span></span><br><span class="line"><span class="built_in">console</span>.log(str2) <span class="comment">// -&gt; 4</span></span><br></pre></td></tr></table></figure><h3 id="lastIndexOf"><a href="#lastIndexOf" class="headerlink" title="lastIndexOf()"></a>lastIndexOf()</h3><p>string.lastIndexOf(searchvalue,start): 返回一个指定的字符串值最后出现的位置，如果指定第二个参数 start，则在一个字符串中的<strong>指定位置从后向前搜索</strong>。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    searchvalue: 必需。规定需检索的字符串值</span></span><br><span class="line"><span class="comment">    start: 可选的整数参数。规定在字符串中开始检索的位置。它的合法取值是 0 到 stringObject.length - 1。如省略该参数，则将从字符串的最后一个字符处开始检索。</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">var</span> str = <span class="string">'abcdbfg'</span></span><br><span class="line"><span class="keyword">var</span> str1 = str.lastIndexOf(<span class="string">'b'</span>)</span><br><span class="line"><span class="keyword">var</span> str2 = str.lastIndexOf(<span class="string">'b'</span>, <span class="number">2</span>)</span><br><span class="line"><span class="built_in">console</span>.log(str1) <span class="comment">// -&gt; 4</span></span><br><span class="line"><span class="built_in">console</span>.log(str2) <span class="comment">// -&gt; 1</span></span><br></pre></td></tr></table></figure><h3 id="concat"><a href="#concat" class="headerlink" title="concat()"></a>concat()</h3><p>string.concat(string1, string2, …, stringX): concat() 方法用于连接两个或多个字符串。该方法没有改变原有字符串，但是会返回连接两个或多个字符串新字符串。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str1 = <span class="string">'hello '</span></span><br><span class="line"><span class="keyword">var</span> str2 = <span class="string">'world!'</span></span><br><span class="line"><span class="keyword">var</span> concatStr = str1.concat(str2)</span><br><span class="line"><span class="built_in">console</span>.log(concatStr)</span><br><span class="line"><span class="comment">// -&gt; 'hello world!'</span></span><br></pre></td></tr></table></figure><h3 id="match"><a href="#match" class="headerlink" title="match()"></a>match()</h3><p>string.match(regexp): 在字符串内检索指定的值，或找到一个或多个正则表达式的匹配。<strong>返回匹配成功组成的数组</strong>。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">'abcdbef'</span></span><br><span class="line"><span class="keyword">var</span> matchEle = str.match(<span class="regexp">/b/gi</span>)</span><br><span class="line"><span class="built_in">console</span>.log(matchEle)</span><br><span class="line"><span class="comment">// -&gt; ["b", "b"]</span></span><br></pre></td></tr></table></figure><h3 id="replace"><a href="#replace" class="headerlink" title="replace()"></a>replace()</h3><p>string.replace(searchvalue,newvalue): 在字符串中用一些字符替换另一些字符，或替换一个与正则表达式匹配的子串。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    searchvalue: 必须。规定子字符串或要替换的模式的 RegExp 对象。 请注意，如果该值是一个字符串，则将它作为要检索的直接量文本模式，而不是首先被转换为 RegExp 对象。</span></span><br><span class="line"><span class="comment">    newvalue: 必需。一个字符串值。规定了替换文本或生成替换文本的函数。</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">var</span> str1 = <span class="string">'abcdafg'</span></span><br><span class="line"><span class="keyword">var</span> replaceEle1 = str1.replace(<span class="regexp">/a/g</span>, <span class="string">'z'</span>)</span><br><span class="line"><span class="built_in">console</span>.log(replaceEle1) <span class="comment">// -&gt; zbcdzfg</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> str2 = <span class="string">'a1b2c3d4'</span></span><br><span class="line"><span class="keyword">var</span> replaceEle2 = str2.replace(<span class="regexp">/\d/g</span>, <span class="function"><span class="keyword">function</span>(<span class="params">v</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Math</span>.pow(v, <span class="number">2</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(replaceEle2) <span class="comment">// -&gt; a1b4c9d16</span></span><br></pre></td></tr></table></figure><h3 id="search"><a href="#search" class="headerlink" title="search()"></a>search()</h3><p>search(searchvalue): 检索字符串中指定的子字符串，或检索与正则表达式相匹配的子字符串。返回与指定查找的字符串或者正则表达式相匹配的 String 对象起始位置。如果没有找到任何匹配的子串，则返回 -1。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">'Abcdaef'</span></span><br><span class="line">searchStrEle = str.search(<span class="regexp">/a/</span>)</span><br><span class="line">searchStrEle2 = str.search(<span class="regexp">/a/i</span>)</span><br><span class="line"><span class="built_in">console</span>.log(searchStrEle) <span class="comment">// -&gt; 4</span></span><br><span class="line"><span class="built_in">console</span>.log(searchStrEle2) <span class="comment">// -&gt; 0</span></span><br></pre></td></tr></table></figure><h3 id="slice"><a href="#slice" class="headerlink" title="slice()"></a>slice()</h3><p>string.slice(start,end): 提取字符串的某个部分，并以新的字符串返回被提取的部分。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    start:必须. 要抽取的片断的起始下标。第一个字符位置为 0</span></span><br><span class="line"><span class="comment">    end: 可选。 紧接着要抽取的片段的结尾的下标。若未指定此参数，则要提取的子串包括 start 到原字符串结尾的字符串。如果该参数是负数，那么它规定的是从字符串的尾部开始算起的位置。</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">var</span> str = <span class="string">'abcdefg'</span></span><br><span class="line"><span class="keyword">var</span> sliceStrEle = str.slice(<span class="number">1</span>, <span class="number">-1</span>)</span><br><span class="line"><span class="built_in">console</span>.log(sliceStrEle)</span><br><span class="line"><span class="comment">// -&gt; bcdef</span></span><br></pre></td></tr></table></figure><h3 id="split"><a href="#split" class="headerlink" title="split()"></a>split()</h3><p>string.split(separator,limit): 把一个字符串分割成字符串数组。如果把空字符串 (“”) 用作 separator，那么 stringObject 中的每个字符之间都会被分割</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    separator: 可选。字符串或正则表达式，从该参数指定的地方分割 string Object。</span></span><br><span class="line"><span class="comment">    limit: 可选。该参数可指定返回的数组的最大长度。如果设置了该参数，返回的子串不会多于这个参数指定的数组。如果没有设置该参数，整个字符串都会被分割，不考虑它的长度。</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">var</span> splitStr = <span class="string">'abcdecg'</span></span><br><span class="line"><span class="keyword">var</span> splitStrEle1 = splitStr.split(<span class="string">'c'</span>)</span><br><span class="line"><span class="keyword">var</span> splitStrEle2 = splitStr.split(<span class="string">''</span>)</span><br><span class="line"><span class="built_in">console</span>.log(splitStrEle1) <span class="comment">// -&gt; ["ab", "de", "g"]</span></span><br><span class="line"><span class="built_in">console</span>.log(splitStrEle2) <span class="comment">// -&gt; ["a", "b", "c", "a", "e", "f", "g"]</span></span><br></pre></td></tr></table></figure><h3 id="substr"><a href="#substr" class="headerlink" title="substr()"></a>substr()</h3><p>string.substr(start,length): 在字符串中抽取从 开始 下标开始的指定数目的字符。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    start: 必需。要抽取的子串的起始下标。必须是数值。如果是负数，那么该参数声明从字符串的尾部开始算起的位置。也就是说，-1 指字符串中最后一个字符，-2 指倒数第二个字符，以此类推。</span></span><br><span class="line"><span class="comment">    length: 可选。子串中的字符数。必须是数值。如果省略了该参数，那么返回从 stringObject 的开始位置到结尾的字串。</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">var</span> str = <span class="string">'abcdefg'</span></span><br><span class="line"><span class="keyword">var</span> substrStrEle = str.substr(<span class="number">2</span>, <span class="number">2</span>)</span><br><span class="line"><span class="built_in">console</span>.log(substrStrEle)</span><br><span class="line"><span class="comment">// -&gt; cd</span></span><br></pre></td></tr></table></figure><h3 id="substring"><a href="#substring" class="headerlink" title="substring()"></a>substring()</h3><p>string.substring(start, end): 用于提取字符串中介于两个指定下标之间的字符。返回的子串包括 开始 处的字符，但不包括 结束 处的字符。参数<code>start</code>和<code>end</code>必须是<strong>非负的整数</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    start:必需。一个非负的整数，规定要提取的子串的第一个字符在 string Object 中的位置。</span></span><br><span class="line"><span class="comment">    end: 可选。一个非负的整数，比要提取的子串的最后一个字符在 string Object 中的位置多 1。如果省略该参数，那么返回的子串会一直到字符串的结尾。</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">var</span> str = <span class="string">'abcdefg'</span></span><br><span class="line"><span class="keyword">var</span> substringStrEle = str.substring(<span class="number">2</span>, <span class="number">4</span>)</span><br><span class="line"><span class="built_in">console</span>.log(substringStrEle)</span><br><span class="line"><span class="comment">// -&gt; cd</span></span><br></pre></td></tr></table></figure><h3 id="toLowerCase"><a href="#toLowerCase" class="headerlink" title="toLowerCase()"></a>toLowerCase()</h3><p>toLowerCase(): 把字符串转换为小写。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">"ABCDEFG"</span>;</span><br><span class="line">toLowerCaseStrEle = str.toLowerCase();</span><br><span class="line"><span class="built_in">console</span>.log(toLowerCaseStrEle); <span class="comment">// -&gt; abcdefg</span></span><br></pre></td></tr></table></figure><h3 id="toUpperCase"><a href="#toUpperCase" class="headerlink" title="toUpperCase()"></a>toUpperCase()</h3><p>toUpperCase(): 把字符串转换为大写</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">'abcdefg'</span></span><br><span class="line"><span class="keyword">var</span> toUpperCaseStrEle = str.toUpperCase()</span><br><span class="line"><span class="built_in">console</span>.log(toUpperCaseStrEle)</span><br><span class="line"><span class="comment">// -&gt; ABCDEFG</span></span><br></pre></td></tr></table></figure><h3 id="trim"><a href="#trim" class="headerlink" title="trim()"></a>trim()</h3><p>trim(): 去除字符串两边的空白</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">' abcdefg '</span></span><br><span class="line"><span class="keyword">var</span> trimStrEle = str.trim()</span><br><span class="line"><span class="built_in">console</span>.log(trimStrEle)</span><br><span class="line"><span class="comment">// -&gt;abcdefg</span></span><br></pre></td></tr></table></figure><h3 id="ES6加入"><a href="#ES6加入" class="headerlink" title="ES6加入"></a>ES6加入</h3><h4 id="includes"><a href="#includes" class="headerlink" title="includes()"></a>includes()</h4><p>includes(searchvalue, start): 用来判断一个字符串是否包含一个指定的值，如果是返回 true，否则false</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">'abcdefg'</span></span><br><span class="line"><span class="keyword">var</span> includesEle1 = str.includes(<span class="string">'a'</span>)</span><br><span class="line"><span class="keyword">var</span> includesEle2 = str.includes(<span class="string">'z'</span>)</span><br><span class="line"><span class="built_in">console</span>.log(includesEle1) <span class="comment">// -&gt; true</span></span><br><span class="line"><span class="built_in">console</span>.log(includesEle2) <span class="comment">// -&gt; false</span></span><br></pre></td></tr></table></figure><h4 id="startsWith"><a href="#startsWith" class="headerlink" title="startsWith()"></a>startsWith()</h4><p>startsWith(searchvalue, start): 表示是否字符(串)位于string的头部位置, 如果是返回 true，否则false</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">'abcdefg'</span></span><br><span class="line"><span class="keyword">var</span> startsWithStrEle1 = str.startsWith(<span class="string">'a'</span>)</span><br><span class="line"><span class="keyword">var</span> startsWithStrEle2 = str.startsWith(<span class="string">'b'</span>)</span><br><span class="line"><span class="built_in">console</span>.log(startsWithStrEle1) <span class="comment">// -&gt; true</span></span><br><span class="line"><span class="built_in">console</span>.log(startsWithStrEle2) <span class="comment">// -&gt; false</span></span><br></pre></td></tr></table></figure><h4 id="endsWith"><a href="#endsWith" class="headerlink" title="endsWith()"></a>endsWith()</h4><p>endsWith(searchvalue, start): 表示是否字符(串)位于string的尾部位置, 如果是返回 true，否则false</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">'abcdefg'</span></span><br><span class="line"><span class="keyword">var</span> endsWithStrEle1 = str.endsWith(<span class="string">'f'</span>)</span><br><span class="line"><span class="keyword">var</span> endsWithStrEle2 = str.endsWith(<span class="string">'g'</span>)</span><br><span class="line"><span class="built_in">console</span>.log(endsWithStrEle1) <span class="comment">// -&gt; false</span></span><br><span class="line"><span class="built_in">console</span>.log(endsWithStrEle2) <span class="comment">// -&gt; true</span></span><br></pre></td></tr></table></figure><h4 id="repeat"><a href="#repeat" class="headerlink" title="repeat()"></a>repeat()</h4><p>repeat(num): 返回一个新字符串，表示将原字符串重复n次，参数num为重复字符串的次数,<strong>不能为负数，如果为小数则取整</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> repeatStr = <span class="string">'abc'</span></span><br><span class="line"><span class="keyword">var</span> repeatStrEle = repeatStr.repeat(<span class="number">2.4</span>) <span class="comment">//重复两次</span></span><br><span class="line"><span class="built_in">console</span>.log(repeatStrEle)</span><br><span class="line"><span class="comment">// -&gt; abcabc</span></span><br></pre></td></tr></table></figure><h4 id="at"><a href="#at" class="headerlink" title="at()"></a>at()</h4><p>at方法，可以识别 Unicode 编号大于0xFFFF的字符，返回正确的字符。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'abc'</span>.at(<span class="number">0</span>) <span class="comment">// "a"</span></span><br><span class="line"><span class="string">'𠮷'</span>.at(<span class="number">0</span>) <span class="comment">// "𠮷"</span></span><br></pre></td></tr></table></figure><h4 id="padStart-，padEnd"><a href="#padStart-，padEnd" class="headerlink" title="padStart()，padEnd()"></a>padStart()，padEnd()</h4><p>ES2017 引入了字符串补全长度的功能。如果某个字符串不够指定长度，会在头部或尾部补全。padStart(len,str)用于头部补全，padEnd(len,str)用于尾部补全。<br>如果省略第二个参数，默认使用空格补全长度</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'x'</span>.padStart(<span class="number">5</span>, <span class="string">'ab'</span>) <span class="comment">// 'ababx'</span></span><br><span class="line"><span class="string">'x'</span>.padStart(<span class="number">4</span>, <span class="string">'ab'</span>) <span class="comment">// 'abax'</span></span><br><span class="line"></span><br><span class="line"><span class="string">'x'</span>.padEnd(<span class="number">5</span>, <span class="string">'ab'</span>) <span class="comment">// 'xabab'</span></span><br><span class="line"><span class="string">'x'</span>.padEnd(<span class="number">4</span>, <span class="string">'ab'</span>) <span class="comment">// 'xaba'</span></span><br><span class="line"><span class="comment">/* 如果原字符串的长度，等于或大于指定的最小长度，则返回原字符串。*/</span></span><br><span class="line"><span class="string">'xxx'</span>.padStart(<span class="number">2</span>, <span class="string">'ab'</span>) <span class="comment">// 'xxx'</span></span><br></pre></td></tr></table></figure><h4 id="模板字符串"><a href="#模板字符串" class="headerlink" title="${}: 模板字符串"></a>${}: 模板字符串</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str1 = <span class="string">'hello'</span></span><br><span class="line"><span class="keyword">var</span> template = <span class="string">`我是<span class="subst">$&#123;str1&#125;</span>`</span></span><br><span class="line"><span class="built_in">console</span>.log(template)</span><br><span class="line"><span class="comment">// -&gt; 我是hello</span></span><br></pre></td></tr></table></figure><h3 id="String-HTML-包装方法"><a href="#String-HTML-包装方法" class="headerlink" title="String HTML 包装方法"></a>String HTML 包装方法</h3><table><thead><tr><th align="center">方法</th><th align="left">描述</th></tr></thead><tbody><tr><td align="center"><a href="http://www.runoob.com/jsref/jsref-anchor.html" target="_blank" rel="noopener">anchor()</a></td><td align="left">创建 HTML 锚。</td></tr><tr><td align="center"><a href="http://www.runoob.com/jsref/jsref-big.html" target="_blank" rel="noopener">big()</a></td><td align="left">用大号字体显示字符串。</td></tr><tr><td align="center"><a href="http://www.runoob.com/jsref/jsref-blink.html" target="_blank" rel="noopener">blink()</a></td><td align="left">显示闪动字符串。</td></tr><tr><td align="center"><a href="http://www.runoob.com/jsref/jsref-bold.html" target="_blank" rel="noopener">bold()</a></td><td align="left">使用粗体显示字符串。</td></tr><tr><td align="center"><a href="http://www.runoob.com/jsref/jsref-fixed.html" target="_blank" rel="noopener">fixed()</a></td><td align="left">以打字机文本显示字符串。</td></tr><tr><td align="center"><a href="http://www.runoob.com/jsref/jsref-fontcolor.html" target="_blank" rel="noopener">fontcolor()</a></td><td align="left">使用指定的颜色来显示字符串。</td></tr><tr><td align="center"><a href="http://www.runoob.com/jsref/jsref-fontsize.html" target="_blank" rel="noopener">fontsize()</a></td><td align="left">使用指定的尺寸来显示字符串。</td></tr><tr><td align="center"><a href="http://www.runoob.com/jsref/jsref-italics.html" target="_blank" rel="noopener">italics()</a></td><td align="left">使用斜体显示字符串。</td></tr><tr><td align="center"><a href="http://www.runoob.com/jsref/jsref-link.html" target="_blank" rel="noopener">link()</a></td><td align="left">将字符串显示为链接。</td></tr><tr><td align="center"><a href="http://www.runoob.com/jsref/jsref-small.html" target="_blank" rel="noopener">small()</a></td><td align="left">使用小字号来显示字符串。</td></tr><tr><td align="center"><a href="http://www.runoob.com/jsref/jsref-strike.html" target="_blank" rel="noopener">strike()</a></td><td align="left">用于显示加删除线的字符串。</td></tr><tr><td align="center"><a href="http://www.runoob.com/jsref/jsref-sub.html" target="_blank" rel="noopener">sub()</a></td><td align="left">把字符串显示为下标。</td></tr><tr><td align="center"><a href="http://www.runoob.com/jsref/jsref-sup.html" target="_blank" rel="noopener">sup()</a></td><td align="left">把字符串显示为上标。</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JavaScript中属性总结02--Array</title>
      <link href="/JavaScript%E4%B8%AD%E5%B1%9E%E6%80%A7%E6%80%BB%E7%BB%9302-Array/"/>
      <url>/JavaScript%E4%B8%AD%E5%B1%9E%E6%80%A7%E6%80%BB%E7%BB%9302-Array/</url>
      
        <content type="html"><![CDATA[<p>Array,String,Number,Math,Date,RegExp,Object,Boolean<br>内置属性和方法</p><a id="more"></a><h3 id="toString-NaN"><a href="#toString-NaN" class="headerlink" title="toString"></a>toString</h3><p>toString: 返回以数组中的每个值的字符串形式拼接而成的一个以<strong>逗号分割的字符串</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">toStringArr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]</span><br><span class="line"><span class="built_in">console</span>.log(toStringArr.toString())</span><br><span class="line"><span class="comment">// -&gt; "1,2,3,4,5,6"</span></span><br></pre></td></tr></table></figure><h3 id="valueOf-NaN"><a href="#valueOf-NaN" class="headerlink" title="valueOf"></a>valueOf</h3><p>valueOf: 返回数组对象的原始值。返回的还是<strong>数组本身</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">valueOfArr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]</span><br><span class="line"><span class="built_in">console</span>.log(valueOfArr.valueOf())</span><br><span class="line"><span class="comment">// -&gt; [1, 2, 3, 4, 5, 6]</span></span><br></pre></td></tr></table></figure><h3 id="join"><a href="#join" class="headerlink" title="join"></a>join</h3><p>join: 把数组的所有元素通过指定的分隔符进行分隔并返回一个<strong>字符串</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]</span><br><span class="line"><span class="keyword">var</span> joinArr = arr.join(<span class="string">'-'</span>)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'join:'</span> + joinArr)</span><br><span class="line"><span class="comment">// -&gt; "join:1-2-3-4-5-6"</span></span><br></pre></td></tr></table></figure><h3 id="reverse"><a href="#reverse" class="headerlink" title="reverse"></a>reverse</h3><p>reverse: 反转数组的元素顺序</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reverseArr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]</span><br><span class="line">reverseArr.reverse()</span><br><span class="line"><span class="built_in">console</span>.log(reverseArr)</span><br><span class="line"><span class="comment">// -&gt; [6, 5, 4, 3, 2, 1]</span></span><br></pre></td></tr></table></figure><h3 id="sort"><a href="#sort" class="headerlink" title="sort"></a>sort</h3><p>sort: 对数组的元素进行排序</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// a. </span></span><br><span class="line">    <span class="keyword">var</span> sortArr1 = [<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">2</span>, <span class="number">7</span>, <span class="number">6</span>]</span><br><span class="line">    sortArr1.sort()</span><br><span class="line">    <span class="built_in">console</span>.log(sortArr1)</span><br><span class="line">    <span class="comment">// -&gt; [1, 2, 3, 5, 6, 7]</span></span><br><span class="line"><span class="comment">// b.  因为sort排序是从左至右比较，只要其中一个比较出了结果，就直接返</span></span><br><span class="line">    <span class="keyword">var</span> sortArr2 = [<span class="number">1</span>, <span class="number">3</span>, <span class="number">19</span>, <span class="number">5</span>, <span class="number">17</span>, <span class="number">6</span>]</span><br><span class="line">    sortArr2.sort()</span><br><span class="line">    <span class="built_in">console</span>.log(sortArr2)</span><br><span class="line">    <span class="comment">// -&gt; [1, 17, 19, 3, 5, 6]</span></span><br><span class="line"><span class="comment">// c: 封装sort</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">sort</span>(<span class="params">arr, type</span>) </span>&#123;</span><br><span class="line">        type = type || <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> arr.sort( <span class="function">(<span class="params">a, b</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">switch</span>(type) &#123;</span><br><span class="line">                <span class="keyword">case</span> <span class="number">1</span>: <span class="comment">// 从小到大</span></span><br><span class="line">                    <span class="keyword">return</span> a - b</span><br><span class="line">                <span class="keyword">case</span> <span class="number">2</span>: <span class="comment">// 从大到小</span></span><br><span class="line">                    <span class="keyword">return</span> b - a</span><br><span class="line">                <span class="keyword">case</span> <span class="number">3</span>: <span class="comment">// 随机排序</span></span><br><span class="line">                    <span class="keyword">return</span> <span class="built_in">Math</span>.random() - <span class="number">0.5</span></span><br><span class="line">                <span class="keyword">default</span>:</span><br><span class="line">                    <span class="keyword">return</span> arr</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> sortArr3 = [<span class="number">1</span>, <span class="number">3</span>, <span class="number">19</span>, <span class="number">5</span>, <span class="number">17</span>, <span class="number">6</span>]</span><br><span class="line">    sort(sortArr3)</span><br><span class="line">    <span class="built_in">console</span>.log(sortArr3)</span><br></pre></td></tr></table></figure><h3 id="数组CRUD"><a href="#数组CRUD" class="headerlink" title="数组CRUD"></a>数组CRUD</h3><p><strong>都会改变原数组本身</strong></p><h4 id="push"><a href="#push" class="headerlink" title="push"></a>push</h4><p>push: 向数组的末尾添加一个或更多元素，并返回新的长度</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> pushArr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]</span><br><span class="line">pushArr.push(<span class="number">7</span>) <span class="comment">// 返回长度 7</span></span><br><span class="line"><span class="built_in">console</span>.log(pushArr)</span><br><span class="line"><span class="comment">// -&gt; [1, 2, 3, 4, 5, 6, 7]</span></span><br></pre></td></tr></table></figure><h4 id="unshift"><a href="#unshift" class="headerlink" title="unshift"></a>unshift</h4><p>unshift: 向数组的开头添加一个或更多元素，并返回新的长度</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> unshiftArr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]</span><br><span class="line">unshiftArr.unshift(<span class="number">-1</span>,<span class="number">0</span>) <span class="comment">// 返回长度 8</span></span><br><span class="line"><span class="built_in">console</span>.log(unshiftArr)</span><br><span class="line"><span class="comment">// -&gt; [-1, 0, 1, 2, 3, 4, 5, 6]</span></span><br></pre></td></tr></table></figure><h4 id="pop"><a href="#pop" class="headerlink" title="pop"></a>pop</h4><p>pop: 删除数组的最后一个元素并返回删除的元素, 如果数组为空就返回undefined</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> popArr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]</span><br><span class="line"><span class="keyword">var</span> popEle = popArr.pop()</span><br><span class="line"><span class="built_in">console</span>.log(popEle, popArr)</span><br><span class="line"><span class="comment">// -&gt; 6,  [1, 2, 3, 4, 5]</span></span><br></pre></td></tr></table></figure><h4 id="shift"><a href="#shift" class="headerlink" title="shift"></a>shift</h4><p>shift:删除并返回数组的第一个元素, 如果数组为空，则shift() 方法不进行任何操作，返回undefined</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> shiftArr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]</span><br><span class="line"><span class="keyword">var</span> shiftEle = shiftArr.shift()</span><br><span class="line"><span class="built_in">console</span>.log(shiftEle, shiftArr)</span><br><span class="line"><span class="comment">// -&gt; 1,  [2, 3, 4, 5, 6]</span></span><br></pre></td></tr></table></figure><h4 id="indexOf"><a href="#indexOf" class="headerlink" title="indexOf"></a>indexOf</h4><p>indexOf(item,start)：可返回某个指定的字符串值在字符串中首次出现的位置,<br>start可选的整数参数可为负数。规定在字符串中开始检索的位置,如果在数组中没找到字符串则返回 -1</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> fruits = [<span class="string">"Banana"</span>, <span class="string">"Orange"</span>, <span class="string">"Apple"</span>, <span class="string">"Mango"</span>];</span><br><span class="line"><span class="keyword">var</span> ele = fruits.indexOf(<span class="string">"Apple"</span>);</span><br><span class="line"><span class="keyword">var</span> ele2 = fruits.indexOf(<span class="string">"Apple"</span>,<span class="number">-1</span>)</span><br><span class="line"><span class="built_in">console</span>.log(ele,ele2)</span><br><span class="line"><span class="comment">// -&gt; 2,-1</span></span><br></pre></td></tr></table></figure><h4 id="lastIndexOf"><a href="#lastIndexOf" class="headerlink" title="lastIndexOf"></a>lastIndexOf</h4><p>lastIndexOf(item,start)：返回一个指定的字符串值最后出现的位置，在一个字符串中的<strong>指定位置从后向前搜索</strong>,如果要检索的字符串值没有出现，则该方法返回 -1</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> lastIndexOfArr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">6</span>]</span><br><span class="line"><span class="keyword">var</span> ele = lastIndexOfArr.lastIndexOf(<span class="number">3</span>)</span><br><span class="line"><span class="keyword">var</span> ele2 = lastIndexOfArr.lastIndexOf(<span class="number">3</span>, <span class="number">3</span>)</span><br><span class="line"><span class="built_in">console</span>.log(ele, ele2)</span><br><span class="line"><span class="comment">// -&gt; 4, 2</span></span><br></pre></td></tr></table></figure><h3 id="截取数组"><a href="#截取数组" class="headerlink" title="截取数组"></a>截取数组</h3><p><strong>返回一个新的数组,不会改变原始数组</strong></p><h4 id="concat"><a href="#concat" class="headerlink" title="concat"></a>concat</h4><p>concat：连接两个或更多的数组，并返回结果</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> concat1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>],</span><br><span class="line">concat2 = [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]</span><br><span class="line">concatArr = concat1.concat(concat2)</span><br><span class="line"><span class="built_in">console</span>.log(concatArr)</span><br><span class="line"><span class="comment">// -&gt; [1, 2, 3, 4, 5, 6]</span></span><br></pre></td></tr></table></figure><h4 id="slice"><a href="#slice" class="headerlink" title="slice"></a>slice</h4><p>slice(start, end): 返回一个新的数组，包含从 start 到 end （<strong>不包括该元素</strong>）的 arrayObject 中的元素,start必须，end可选,如果start和end相同，则返回一个空数组</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> sliceArr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]</span><br><span class="line"><span class="keyword">var</span> sliceNewArr = sliceArr.slice(<span class="number">1</span>, <span class="number">-1</span>) <span class="comment">// 截取第二个 到 倒数第二个</span></span><br><span class="line"><span class="built_in">console</span>.log(sliceNewArr)</span><br><span class="line"><span class="comment">// -&gt; [2, 3, 4, 5]</span></span><br></pre></td></tr></table></figure><h4 id="splice"><a href="#splice" class="headerlink" title="splice"></a>splice</h4><p>splice(index, howmany, item1,…..,itemX): 从数组中添加或删除元素,会改变原数组</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    index:  必需。规定从何处添加/删除元素。 该参数是开始插入和（或）删除的数组元素的下标，必须是数字</span></span><br><span class="line"><span class="comment">    howmany: 必需。规定应该删除多少元素。必须是数字，但可以是 "0"。 如果未规定此参数，则删除从 index 开始到原数组结尾的所有元素。</span></span><br><span class="line"><span class="comment">    item1,.....,itemX: 可选。要添加到数组的新元素</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">var</span> spliceArr1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]</span><br><span class="line">spliceArr1.splice(<span class="number">2</span>, <span class="number">2</span>, <span class="number">10</span>, <span class="number">12</span>) <span class="comment">// 从下标为2 的地方开始删除 后面的两个元素， 并在这个地方插入 10,12两个元素 </span></span><br><span class="line"><span class="built_in">console</span>.log(spliceArr1)</span><br><span class="line"><span class="comment">// -&gt; [1, 2, 10, 12, 5, 6]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> spliceArr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]</span><br><span class="line">spliceArr.splice(<span class="number">2</span>, <span class="number">0</span>, <span class="number">10</span>, <span class="number">12</span>) <span class="comment">// 当需要删除的元素为0， 相当于在这个位置插入元素</span></span><br><span class="line"><span class="built_in">console</span>.log(spliceArr)</span><br><span class="line"><span class="comment">// -&gt; [1, 2, 10, 12, 3, 4, 5, 6]</span></span><br></pre></td></tr></table></figure><h3 id="遍历数组"><a href="#遍历数组" class="headerlink" title="遍历数组"></a>遍历数组</h3><p>callback(currentValue, index, array)函数有3个参数:</p><ul><li>currentValue 必需,当前数组每一项的值,</li><li>index 可选，当前元素的索引值</li><li>array 可选，当前数组对象</li><li>jQuery 中的 each(index, currentValue, array)和$.each()中参数位置不同</li><li>thisValue: 可选。 传递给函数的值一般用 “this” 值。如果这个参数为空， “undefined” 会传递给 “this” 值</li></ul><h4 id="forEach"><a href="#forEach" class="headerlink" title="forEach"></a>forEach</h4><p>forEach(callback, thisValue): 用于调用数组的每个元素，并将元素传递给回调函数。没有返回值,<strong>thisValue表示回调函数内部this的指向对象</strong>,如果这个参数为空， “undefined” 会传递给 “this” 值</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> forEachArr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]</span><br><span class="line">forEachArr.forEach( <span class="function"><span class="keyword">function</span>(<span class="params">currentValue, index, arr</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(currentValue)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// -&gt; 依次打印 1 2 3 4 5 6, 没有返回值</span></span><br></pre></td></tr></table></figure><h4 id="map"><a href="#map" class="headerlink" title="map"></a>map</h4><p>map(callback, thisValue): 方法返回一个新数组，数组中的元素为原始数组元素调用函数处理后的值。<strong>thisValue表示回调函数内部this的指向对象</strong>,</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> mapArr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]</span><br><span class="line"><span class="keyword">var</span> mapNewArr = mapArr.map( <span class="function"><span class="keyword">function</span>(<span class="params">currentValue, index, arr</span>)</span>&#123;</span><br><span class="line">    <span class="comment">// console.log(currentValue)</span></span><br><span class="line">    <span class="keyword">return</span> currentValue*<span class="number">2</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(mapNewArr)</span><br><span class="line"><span class="comment">// -&gt; [2, 4, 6, 8, 10, 12]</span></span><br></pre></td></tr></table></figure><h4 id="filter"><a href="#filter" class="headerlink" title="filter"></a>filter</h4><p>filter(callback, thisValue): 创建一个新的数组，新数组中的元素是通过检查指定数组中符合条件的所有元素<strong>thisValue表示回调函数内部this的指向对象</strong>,</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> filterArr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]</span><br><span class="line"><span class="keyword">var</span> filterNewArr = filterArr.filter( <span class="function"><span class="keyword">function</span>(<span class="params">currentValue, index, arr</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> currentValue &gt; <span class="number">2</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(filterNewArr)</span><br><span class="line"><span class="comment">// -&gt; [3, 4, 5, 6]</span></span><br></pre></td></tr></table></figure><h4 id="every"><a href="#every" class="headerlink" title="every"></a>every</h4><p>every(callback, thisValue): 遍历数组，如果数组中检测到有一个元素不满足，则整个表达式返回 false ，且剩余的元素不会再进行检测。<strong>如果所有元素都满足条件，则返回 true</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> everyArr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]</span><br><span class="line"><span class="keyword">var</span> everyEle1 = everyArr.every( <span class="function"><span class="keyword">function</span>(<span class="params">currentValue, index, arr</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> currentValue &gt; <span class="number">0</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">var</span> everyEle2 = everyArr.every( <span class="function"><span class="keyword">function</span>(<span class="params">currentValue, index, arr</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> currentValue &gt; <span class="number">1</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(everyEle1, everyEle2)</span><br><span class="line"><span class="comment">// -&gt; true, false</span></span><br></pre></td></tr></table></figure><h4 id="some"><a href="#some" class="headerlink" title="some"></a>some</h4><p>some(callback, thisValue): 如果有一个元素满足条件，则表达式返回true , 剩余的元素不会再执行检测。如果没有满足条件的元素，则返回false</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> someArr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]</span><br><span class="line"><span class="keyword">var</span> someEle1 = someArr.some( <span class="function"><span class="keyword">function</span>(<span class="params">currentValue, index, arr</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> currentValue &gt; <span class="number">4</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">var</span> someEle2 = someArr.some( <span class="function"><span class="keyword">function</span>(<span class="params">currentValue, index, arr</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> currentValue &gt; <span class="number">6</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(someEle1, someEle2)</span><br></pre></td></tr></table></figure><h4 id="reduce"><a href="#reduce" class="headerlink" title="reduce"></a>reduce</h4><p>callback(total, currentValue, index, arr);<br>reduce(callback, thisValue): 接收一个函数作为累加器，数组中的每个值（从左到右）开始缩减，最终计算为一个值</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// function(currentValue, index, arr):</span></span><br><span class="line"><span class="comment">//     a. currentValue: 必需。当前元素</span></span><br><span class="line"><span class="comment">//     b. index: 可选。当前元素的索引值</span></span><br><span class="line"><span class="comment">//     c. arr: 可选。当前元素所属的数组对象</span></span><br><span class="line"><span class="comment">//     d: total:   必需。初始值, 或者计算结束后的返回值。</span></span><br><span class="line"><span class="comment">// thisValue: 可选。 传递给函数的值一般用 "this" 值。 如果这个参数为空， "undefined" 会传递给 "this" 值</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> reduceArr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]</span><br><span class="line"><span class="keyword">var</span> reduceNewArr = reduceArr.reduce( <span class="function"><span class="keyword">function</span>(<span class="params">total, currentValue, index, arr</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> total - currentValue</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(reduceNewArr)</span><br><span class="line"><span class="comment">// -&gt; 19</span></span><br></pre></td></tr></table></figure><h4 id="reduceRight"><a href="#reduceRight" class="headerlink" title="reduceRight"></a>reduceRight</h4><p>reduce(callback, thisValue): 接收一个函数作为累加器，数组中的每个值（从右到左）开始缩减，最终计算为一个值</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// function(currentValue, index, arr):</span></span><br><span class="line"><span class="comment">//     a. currentValue: 必需。当前元素</span></span><br><span class="line"><span class="comment">//     b. index: 可选。当前元素的索引值</span></span><br><span class="line"><span class="comment">//     c. arr: 可选。当前元素所属的数组对象</span></span><br><span class="line"><span class="comment">//     d: total:   必需。初始值, 或者计算结束后的返回值。</span></span><br><span class="line"><span class="comment">// thisValue: 可选。 传递给函数的值一般用 "this" 值。 如果这个参数为空， "undefined" 会传递给 "this" 值</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> reduceRightArr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]</span><br><span class="line"><span class="keyword">var</span> reduceRightNewArr = reduceRightArr.reduceRight( <span class="function"><span class="keyword">function</span>(<span class="params">total, currentValue, index, arr</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> total - currentValue</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(reduceRightNewArr)</span><br><span class="line"><span class="comment">// -&gt; -9</span></span><br></pre></td></tr></table></figure><h3 id="ES6中加入的方法"><a href="#ES6中加入的方法" class="headerlink" title="ES6中加入的方法"></a>ES6中加入的方法</h3><h4 id="扩展运算符"><a href="#扩展运算符" class="headerlink" title="扩展运算符"></a>扩展运算符</h4><p>扩展运算符（spread）是三个点（…）。它好比 rest 参数的逆运算，将一个数组转为用逗号分隔的参数序列。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(...[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line"><span class="comment">// 1 2 3</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">1</span>, ...[<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>], <span class="number">5</span>)</span><br><span class="line"><span class="comment">// 1 2 3 4 5</span></span><br><span class="line"></span><br><span class="line">[...document.querySelectorAll(<span class="string">'div'</span>)]</span><br><span class="line"><span class="comment">// [&lt;div&gt;, &lt;div&gt;, &lt;div&gt;]</span></span><br></pre></td></tr></table></figure><h4 id="Array-from"><a href="#Array-from" class="headerlink" title="Array.from"></a>Array.from</h4><p>from: 将类数组对象和可遍历对象转化为数组</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> fromObj = &#123;</span><br><span class="line">  <span class="number">0</span>: <span class="string">'0'</span>,</span><br><span class="line">  <span class="number">1</span>: <span class="string">'1'</span>,</span><br><span class="line">  <span class="number">3</span>: <span class="string">'3'</span>,</span><br><span class="line">  length:<span class="number">4</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ES5的写法</span></span><br><span class="line"><span class="keyword">var</span> arr1 = [].slice.call(fromObj); <span class="comment">// ['a', 'b', 'c']</span></span><br><span class="line"><span class="comment">// ES6的写法</span></span><br><span class="line"><span class="keyword">var</span> arr2 = <span class="built_in">Array</span>.from(fromObj)</span><br><span class="line"><span class="built_in">console</span>.log(arr2)</span><br><span class="line"><span class="comment">// -&gt; ["0", "1", undefined, "3"]</span></span><br></pre></td></tr></table></figure><h4 id="Array-of"><a href="#Array-of" class="headerlink" title="Array.of"></a>Array.of</h4><p>Array.of:方法用于将一组值，转换为数组。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.of(<span class="number">7</span>); <span class="comment">// -&gt; [7] </span></span><br><span class="line"><span class="built_in">Array</span>.of(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>); <span class="comment">// -&gt; [1, 2, 3]</span></span><br><span class="line"><span class="built_in">Array</span>(<span class="number">7</span>); <span class="comment">// -&gt; [ , , , , , , ]</span></span><br><span class="line"><span class="built_in">Array</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>) <span class="comment">// -&gt; [1, 2, 3]</span></span><br></pre></td></tr></table></figure><h4 id="find"><a href="#find" class="headerlink" title="find"></a>find</h4><p>find(function(currentValue, index, arr),thisValue): 返回传入一个测试条件（函数）符合条件的数组第一个元素,如果没有符合条件的则返回 -1</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// function(currentValue, index, arr):</span></span><br><span class="line"><span class="comment">//     a. currentValue: 必需。当前元素</span></span><br><span class="line"><span class="comment">//     b. index: 可选。当前元素的索引值</span></span><br><span class="line"><span class="comment">//     c. arr: 可选。当前元素所属的数组对象</span></span><br><span class="line"><span class="comment">// thisValue: 可选。 传递给函数的值一般用 "this" 值。 如果这个参数为空， "undefined" 会传递给 "this" 值</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> findArr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]</span><br><span class="line"><span class="keyword">var</span> findEle = findArr.find( <span class="function"><span class="keyword">function</span>(<span class="params">currentValue, index, arr</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> currentValue &gt; <span class="number">4</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(findEle)</span><br><span class="line"><span class="comment">// -&gt; 5</span></span><br></pre></td></tr></table></figure><h4 id="findIndex"><a href="#findIndex" class="headerlink" title="findIndex"></a>findIndex</h4><p>findIndex(function(currentValue, index, arr),thisValue): 返回符合测试条件的第一个数组元素索引，如果没有符合条件的则返回 -1</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> findIndexArr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]</span><br><span class="line"><span class="keyword">var</span> findIndexEle = findIndexArr.findIndex( <span class="function"><span class="keyword">function</span>(<span class="params">currentValue, index, arr</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> currentValue &gt;= <span class="number">4</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(findIndexEle)</span><br></pre></td></tr></table></figure><h4 id="copyWithin"><a href="#copyWithin" class="headerlink" title="copyWithin"></a>copyWithin</h4><p>copyWithin(target, start, end): 从数组的指定位置拷贝元素到数组的另一个指定位置中，不包含end位置的元素</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    target: 必需。复制到指定目标索引位置。</span></span><br><span class="line"><span class="comment">    start: 必需。元素复制的起始位置。</span></span><br><span class="line"><span class="comment">    end: 可选。停止复制的索引位置 (默认为 array.length)不包含</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">var</span> copyWithinArr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]</span><br><span class="line">copyWithinArr.copyWithin(<span class="number">1</span>, <span class="number">2</span>, <span class="number">4</span>)</span><br><span class="line"><span class="built_in">console</span>.log(copyWithinArr)</span><br><span class="line"><span class="comment">// -&gt; [1, 3, 4, 4, 5, 6]</span></span><br></pre></td></tr></table></figure><h4 id="fill"><a href="#fill" class="headerlink" title="fill"></a>fill</h4><p>fill(value, start, end): 用于将一个固定值替换数组的元素,不包含end位置的元素</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    value: 必需。填充的值。</span></span><br><span class="line"><span class="comment">    start: 可选。开始填充位置。</span></span><br><span class="line"><span class="comment">    end: 可选。停止填充位置 (默认为 array.length)</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">var</span> fillArr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]</span><br><span class="line">fillArr.fill(<span class="number">9</span>, <span class="number">2</span>, <span class="number">4</span>)</span><br><span class="line"><span class="built_in">console</span>.log(fillArr)</span><br><span class="line"><span class="comment">// -&gt; [1, 2, 9, 9, 5, 6]</span></span><br></pre></td></tr></table></figure><h4 id="includes"><a href="#includes" class="headerlink" title="includes"></a>includes</h4><p>includes(searchElement, fromIndex)：用来判断一个数组是否包含一个指定的值，如果是返回 true，否则false</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">searchElement: 必须。需要查找的元素值。</span></span><br><span class="line"><span class="comment">fromIndex: 可选。从该索引处开始查找 searchElement。如果为负值，则按升序从 array.length + fromIndex 的索引开始搜索。默认为 0。</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">var</span> includesArr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]</span><br><span class="line"><span class="keyword">var</span> includes1 = includesArr.includes(<span class="number">3</span>)</span><br><span class="line"><span class="keyword">var</span> includes2 = includesArr.includes(<span class="number">10</span>)</span><br><span class="line"><span class="keyword">var</span> includes2 = includesArr.includes(<span class="number">10</span>)</span><br><span class="line"><span class="built_in">console</span>.log(includes1, includes2)</span><br><span class="line"><span class="comment">// -&gt; true, false</span></span><br></pre></td></tr></table></figure><h4 id="flat"><a href="#flat" class="headerlink" title="flat"></a>flat</h4><p>flat(int/Infinity)<br>数组的成员有时还是数组，Array.prototype.flat()用于将嵌套的数组“拉平”，默认只会“拉平”一层<br>变成一维的数组。该方法返回一个新数组，对原数据没有影响。<br>@参数 int整数，默认为1<br>不管有多少层嵌套，都要转成一维数组，可以用Infinity关键字作为参数。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, [<span class="number">3</span>, <span class="number">4</span>]]</span><br><span class="line">arr.flat() <span class="comment">// [1, 2, 3, 4]</span></span><br><span class="line">arr = [<span class="number">1</span>, <span class="number">2</span>, [<span class="number">3</span>, <span class="number">4</span>, [<span class="number">5</span>, <span class="number">6</span>]]]</span><br><span class="line">arr.flat(<span class="number">2</span>) <span class="comment">// [1,2,3,4,5,6]</span></span><br><span class="line"><span class="comment">// 如果原数组有空位，flat()方法会跳过空位。</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, , <span class="number">4</span>, <span class="number">5</span>].flat() <span class="comment">// [1, 2, 4, 5]</span></span><br></pre></td></tr></table></figure><h4 id="flatmap-callback"><a href="#flatmap-callback" class="headerlink" title="flatmap(callback)"></a>flatmap(callback)</h4><p>flatMap(function callback(currentValue, index, array), this)<br>方法对原数组的每个成员执行一个函数（相当于执行Array.prototype.map()），<br>然后对返回值组成的数组执行flat()方法，只能展开一层数组。该方法返回一个新数组，不改变原数组。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 相当于 [[2, 4], [3, 6], [4, 8]].flat()</span></span><br><span class="line">[<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>].flatMap(<span class="function">(<span class="params">x</span>) =&gt;</span> [x, x * <span class="number">2</span>]) <span class="comment">// [2, 4, 3, 6, 4, 8]</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>].flatMap(<span class="function"><span class="params">x</span> =&gt;</span> [[x * <span class="number">2</span>]]) <span class="comment">// [[2], [4], [6], [8]]</span></span><br></pre></td></tr></table></figure><h4 id="数组实例的-entries-，keys-和-values"><a href="#数组实例的-entries-，keys-和-values" class="headerlink" title="数组实例的 entries()，keys() 和 values()"></a>数组实例的 entries()，keys() 和 values()</h4><p>ES6 提供三个新的方法——<code>entries()，keys()和values()</code>——用于遍历数组。它们都返回一个遍历器对象,可以用for…of循环进行遍历，唯一的区别是keys()是对键名的遍历、values()是对键值的遍历，entries()是对键值对的遍历。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> index <span class="keyword">of</span> [<span class="string">'a'</span>, <span class="string">'b'</span>].keys()) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(index);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 0</span></span><br><span class="line"><span class="comment">// 1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> elem <span class="keyword">of</span> [<span class="string">'a'</span>, <span class="string">'b'</span>].values()) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(elem);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 'a'</span></span><br><span class="line"><span class="comment">// 'b'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> [index, elem] <span class="keyword">of</span> [<span class="string">'a'</span>, <span class="string">'b'</span>].entries()) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(index, elem);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 0 "a"</span></span><br><span class="line"><span class="comment">// 1 "b"</span></span><br></pre></td></tr></table></figure><p>如果不使用for…of循环，可以手动调用遍历器对象的next方法，进行遍历</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> letter = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>];</span><br><span class="line"><span class="keyword">let</span> entries = letter.entries();</span><br><span class="line"><span class="built_in">console</span>.log(entries.next().value); <span class="comment">// [0, 'a']</span></span><br><span class="line"><span class="built_in">console</span>.log(entries.next().value); <span class="comment">// [1, 'b']</span></span><br><span class="line"><span class="built_in">console</span>.log(entries.next().value); <span class="comment">// [2, 'c']</span></span><br></pre></td></tr></table></figure><h2 id="String-字符串"><a href="#String-字符串" class="headerlink" title="String 字符串"></a>String 字符串</h2><h2 id="Object-对象"><a href="#Object-对象" class="headerlink" title="Object 对象"></a>Object 对象</h2><h2 id="Number-对象"><a href="#Number-对象" class="headerlink" title="Number 对象"></a>Number 对象</h2><h2 id="Date-日期"><a href="#Date-日期" class="headerlink" title="Date 日期"></a>Date 日期</h2><h2 id="Math-对象"><a href="#Math-对象" class="headerlink" title="Math 对象"></a>Math 对象</h2><h2 id="RegExp-对象"><a href="#RegExp-对象" class="headerlink" title="RegExp 对象"></a>RegExp 对象</h2><h2 id="Boolean-对象"><a href="#Boolean-对象" class="headerlink" title="Boolean 对象"></a>Boolean 对象</h2>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ajax库和使用</title>
      <link href="/ajax%E5%BA%93%E5%92%8C%E4%BD%BF%E7%94%A8/"/>
      <url>/ajax%E5%BA%93%E5%92%8C%E4%BD%BF%E7%94%A8/</url>
      
        <content type="html"><![CDATA[<ol><li>jQuery ajax</li><li>fetch api</li><li>axios</li><li>SuperAgent库</li><li>request库</li><li>reqwest库</li><li>原生ajax的封装<a id="more"></a><h2 id="jQuery-Ajax库"><a href="#jQuery-Ajax库" class="headerlink" title="jQuery Ajax库"></a>jQuery Ajax库</h2></li></ol><p>教程推荐：<br><a href="http://www.cnblogs.com/QLeelulu/archive/2008/04/21/1163021.html" target="_blank" rel="noopener">jQuery Ajax 全解析</a>  </p><p>代码示例：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> formParam = $(<span class="string">"#form1"</span>).serialize();<span class="comment">//序列化表格内容为字符串  </span></span><br><span class="line"></span><br><span class="line">$.ajax( &#123;  </span><br><span class="line">  url: <span class="string">'productManager_reverseUpdate'</span>,<span class="comment">// 跳转到 action  </span></span><br><span class="line">  data: formParam,</span><br><span class="line">  type: <span class="string">'post'</span>, <span class="comment">// get  </span></span><br><span class="line">  cache: <span class="literal">false</span>,  </span><br><span class="line">  dataType: <span class="string">'json'</span>,  </span><br><span class="line">  success: <span class="function"><span class="keyword">function</span>(<span class="params">data</span>) </span>&#123;  </span><br><span class="line">      <span class="keyword">if</span>(data.msg ==<span class="string">"true"</span> )&#123;  </span><br><span class="line">          <span class="comment">// view("修改成功！");  </span></span><br><span class="line">          alert(<span class="string">"修改成功！"</span>);  </span><br><span class="line">          <span class="built_in">window</span>.location.reload();  </span><br><span class="line">      &#125;<span class="keyword">else</span>&#123;  </span><br><span class="line">          view(data.msg);  </span><br><span class="line">      &#125;  </span><br><span class="line">  &#125;,  </span><br><span class="line">  error : <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;  </span><br><span class="line">    <span class="comment">// view("异常！");  </span></span><br><span class="line">    alert(<span class="string">"异常！"</span>);  </span><br><span class="line">  &#125;  </span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h2 id="fetch"><a href="#fetch" class="headerlink" title="fetch"></a>fetch</h2><p>教程推荐：<br><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Fetch_API" target="_blank" rel="noopener">Fetch API MDN</a><br><a href="https://segmentfault.com/a/1190000007019545" target="_blank" rel="noopener">(译)fetch用法说明</a>  </p><p>代码示例：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> request = <span class="keyword">new</span> Request(<span class="string">'http://api.com?type=nu&amp;page=10'</span>, &#123;</span><br><span class="line">    method: <span class="string">"GET"</span>, <span class="comment">// 'POST'</span></span><br><span class="line">    credentials: <span class="string">'omit'</span>,</span><br><span class="line">    headers: &#123; <span class="string">'Content-Type'</span>: <span class="string">'application/x-www-form-urlencoded; charset=UTF-8'</span>&#125;,</span><br><span class="line">    mode: <span class="string">"cors"</span>,</span><br><span class="line">    <span class="comment">//body: &#123;type: 1, page: 20&#125;,</span></span><br><span class="line">&#125;);</span><br><span class="line">fetch(request)</span><br><span class="line">.then(<span class="function">(<span class="params">res</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(res)</span><br><span class="line">    <span class="keyword">return</span> res.json()</span><br><span class="line">&#125;).then(<span class="function"><span class="params">resJson</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(resJson);</span><br><span class="line">    <span class="keyword">this</span>.setState(&#123;</span><br><span class="line">        images: resJson.ads</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;).catch(</span><br><span class="line">    (err) =&gt; &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(err);</span><br><span class="line">    &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure><h2 id="axios"><a href="#axios" class="headerlink" title="axios"></a>axios</h2><p><a href="https://github.com/axios/axios" target="_blank" rel="noopener">github地址</a></p><p>教程推荐：<br><a href="https://ykloveyxk.github.io/2017/02/25/axios全攻略/" target="_blank" rel="noopener">axios全攻略</a><br><a href="https://www.kancloud.cn/yunye/axios/234845" target="_blank" rel="noopener">Axios 中文说明</a>  </p><p>安装：<code>npm install axios</code><br>代码示例：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* get请求 */</span></span><br><span class="line">axios.get(<span class="string">'/user'</span>, &#123;</span><br><span class="line">    params: &#123;</span><br><span class="line">      ID: <span class="number">12345</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  .then(<span class="function"><span class="keyword">function</span> (<span class="params">response</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(response);</span><br><span class="line">  &#125;)</span><br><span class="line">  .catch(<span class="function"><span class="keyword">function</span> (<span class="params">error</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(error);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">/* post请求 */</span></span><br><span class="line">axios.post(<span class="string">'/user'</span>, &#123;</span><br><span class="line">    firstName: <span class="string">'Fred'</span>,</span><br><span class="line">    lastName: <span class="string">'Flintstone'</span></span><br><span class="line">  &#125;)</span><br><span class="line">  .then(<span class="function"><span class="keyword">function</span> (<span class="params">response</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(response);</span><br><span class="line">  &#125;)</span><br><span class="line">  .catch(<span class="function"><span class="keyword">function</span> (<span class="params">error</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(error);</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure><h2 id="SuperAgent库"><a href="#SuperAgent库" class="headerlink" title="SuperAgent库"></a>SuperAgent库</h2><p><a href="https://github.com/visionmedia/superagent" target="_blank" rel="noopener">github地址</a> </p><p>教程推荐：<br><a href="https://cnodejs.org/topic/5378720ed6e2d16149fa16bd" target="_blank" rel="noopener">[译] SuperAgent中文使用文档</a></p><p>安装 <code>npm install superagent</code><br>代码示例：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* get请求 */</span></span><br><span class="line">request</span><br><span class="line">  .get(<span class="string">'/search'</span>)</span><br><span class="line">  .query(&#123; <span class="attr">query</span>: <span class="string">'Manny'</span>, <span class="attr">range</span>: <span class="string">'1..5'</span>, <span class="attr">order</span>: <span class="string">'desc'</span> &#125;)</span><br><span class="line">  .end(<span class="function"><span class="keyword">function</span>(<span class="params">res</span>)</span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(res);</span><br><span class="line">  &#125;);</span><br><span class="line">  </span><br><span class="line"><span class="comment">/* post请求 */</span></span><br><span class="line">request.post(<span class="string">'/user'</span>)</span><br><span class="line">    .set(<span class="string">'Content-Type'</span>, <span class="string">'application/json'</span>)</span><br><span class="line">    .send(<span class="string">'&#123;"name":"tj","pet":"tobi"&#125;'</span>)</span><br><span class="line">    .end(<span class="function"><span class="keyword">function</span>(<span class="params">res</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(res);</span><br><span class="line">    &#125;)</span><br></pre></td></tr></table></figure><h2 id="request-库"><a href="#request-库" class="headerlink" title="request 库"></a>request 库</h2><p><a href="https://github.com/request/request" target="_blank" rel="noopener">github地址</a></p><h2 id="reqwest-库"><a href="#reqwest-库" class="headerlink" title="reqwest 库"></a>reqwest 库</h2><p><a href="https://github.com/ded/reqwest" target="_blank" rel="noopener">github地址</a></p><p>代码示例：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">reqwest(&#123;</span><br><span class="line">    url: <span class="string">'path/to/json'</span>,</span><br><span class="line">    type: <span class="string">'json'</span>,</span><br><span class="line">    method: <span class="string">'get'</span>, <span class="comment">//post</span></span><br><span class="line">    data: [ &#123; <span class="attr">name</span>: <span class="string">'foo'</span>, <span class="attr">value</span>: <span class="string">'bar'</span> &#125;, &#123; <span class="attr">name</span>: <span class="string">'baz'</span>, <span class="attr">value</span>: <span class="number">100</span> &#125; ],</span><br><span class="line">    contentType: <span class="string">'application/json'</span>,</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    headers: &#123;</span></span><br><span class="line"><span class="comment">      'X-My-Custom-Header': 'SomethingImportant'</span></span><br><span class="line"><span class="comment">    &#125;,*/</span></span><br><span class="line">   error: <span class="function"><span class="keyword">function</span> (<span class="params">err</span>) </span>&#123; &#125;,</span><br><span class="line">   success: <span class="function"><span class="keyword">function</span> (<span class="params">resp</span>) </span>&#123;</span><br><span class="line">      qwery(<span class="string">'#content'</span>).html(resp.content)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="原生js-的Ajax的封装"><a href="#原生js-的Ajax的封装" class="headerlink" title="原生js 的Ajax的封装"></a>原生js 的Ajax的封装</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Ajax</span>(<span class="params">type, url, data, success, failed</span>)</span>&#123;</span><br><span class="line">    <span class="comment">// 创建ajax对象</span></span><br><span class="line">    <span class="keyword">var</span> xhr = <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">window</span>.XMLHttpRequest)&#123;</span><br><span class="line">        xhr = <span class="keyword">new</span> XMLHttpRequest();</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        xhr = <span class="keyword">new</span> ActiveXObject(<span class="string">'Microsoft.XMLHTTP'</span>)</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">var</span> type = type.toUpperCase();</span><br><span class="line">    <span class="comment">// 用于清除缓存</span></span><br><span class="line">    <span class="keyword">var</span> random = <span class="built_in">Math</span>.random();</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">typeof</span> data == <span class="string">'object'</span>)&#123;</span><br><span class="line">        <span class="keyword">var</span> str = <span class="string">''</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> key <span class="keyword">in</span> data)&#123;</span><br><span class="line">            str += key+<span class="string">'='</span>+data[key]+<span class="string">'&amp;'</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        data = str.replace(<span class="regexp">/&amp;$/</span>, <span class="string">''</span>);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">if</span>(type == <span class="string">'GET'</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(data)&#123;</span><br><span class="line">            xhr.open(<span class="string">'GET'</span>, url + <span class="string">'?'</span> + data, <span class="literal">true</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            xhr.open(<span class="string">'GET'</span>, url + <span class="string">'?t='</span> + random, <span class="literal">true</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        xhr.send();</span><br><span class="line"> </span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span>(type == <span class="string">'POST'</span>)&#123;</span><br><span class="line">        xhr.open(<span class="string">'POST'</span>, url, <span class="literal">true</span>);</span><br><span class="line">        <span class="comment">// 如果需要像 html 表单那样 POST 数据，请使用 setRequestHeader() 来添加 http 头。</span></span><br><span class="line">        xhr.setRequestHeader(<span class="string">"Content-type"</span>, <span class="string">"application/x-www-form-urlencoded"</span>);</span><br><span class="line">        xhr.send(data);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">// 处理返回数据</span></span><br><span class="line">    xhr.onreadystatechange = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(xhr.readyState == <span class="number">4</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(xhr.status == <span class="number">200</span>)&#123;</span><br><span class="line">                success(xhr.responseText);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">if</span>(failed)&#123;</span><br><span class="line">                    failed(xhr.status);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="comment">// 测试调用</span></span><br><span class="line"><span class="keyword">var</span> sendData = &#123;<span class="attr">name</span>:<span class="string">'asher'</span>,<span class="attr">sex</span>:<span class="string">'male'</span>&#125;;</span><br><span class="line">Ajax(<span class="string">'get'</span>, <span class="string">'data/data.html'</span>, sendData, <span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(data);</span><br><span class="line">&#125;, <span class="function"><span class="keyword">function</span>(<span class="params">error</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(error);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Ajax </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python学习网址</title>
      <link href="/python%E5%AD%A6%E4%B9%A0%E6%8E%A8%E8%8D%90/"/>
      <url>/python%E5%AD%A6%E4%B9%A0%E6%8E%A8%E8%8D%90/</url>
      
        <content type="html"><![CDATA[<h2 id="python博客推荐"><a href="#python博客推荐" class="headerlink" title="python博客推荐"></a>python博客推荐</h2><ul><li><p>Jack-Cui: <a href="https://blog.csdn.net/c406495762" target="_blank" rel="noopener">https://blog.csdn.net/c406495762</a></p></li><li><p>Python之禅: <a href="https://foofish.net/" target="_blank" rel="noopener">https://foofish.net/</a></p></li><li><p>静觅(崔庆才): <a href="https://cuiqingcai.com/" target="_blank" rel="noopener">https://cuiqingcai.com/</a></p></li><li><p>Python快速教程(Vamei): <a href="http://www.cnblogs.com/vamei/archive/2012/09/13/2682778.html" target="_blank" rel="noopener">http://www.cnblogs.com/vamei/archive/2012/09/13/2682778.html</a></p></li><li><p>廖雪峰python教程: <a href="https://www.liaoxuefeng.com/wiki/0014316089557264a6b348958f449949df42a6d3a2e542c000" target="_blank" rel="noopener">https://www.liaoxuefeng.com/wiki/0014316089557264a6b348958f449949df42a6d3a2e542c000</a></p></li><li><p>猴哥Yuri: <a href="https://www.jianshu.com/u/f46becd1ed83" target="_blank" rel="noopener">https://www.jianshu.com/u/f46becd1ed83</a></p></li><li><p>python修行路: <a href="http://www.pythonsite.com/?cat=7" target="_blank" rel="noopener">http://www.pythonsite.com/?cat=7</a></p></li><li><p>Viljw(python教程): <a href="https://www.jianshu.com/u/2fd0b88367b1" target="_blank" rel="noopener">https://www.jianshu.com/u/2fd0b88367b1</a></p></li></ul><a id="more"></a><h2 id="python爬虫系列推荐"><a href="#python爬虫系列推荐" class="headerlink" title="python爬虫系列推荐"></a>python爬虫系列推荐</h2><ul><li><p>Python爬虫学习之小结: <a href="https://www.jianshu.com/p/b083dde85cf8" target="_blank" rel="noopener">https://www.jianshu.com/p/b083dde85cf8</a></p></li><li><p>Python3网络爬虫开发实战教程(崔庆才): <a href="https://zhuanlan.zhihu.com/p/33935046" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/33935046</a></p></li><li><p>Python爬虫系列(小怪聊职场): <a href="https://www.jianshu.com/nb/18470815" target="_blank" rel="noopener">https://www.jianshu.com/nb/18470815</a></p></li><li><p>博客在线(python教程): <a href="http://python.jobbole.com/all-posts/" target="_blank" rel="noopener">http://python.jobbole.com/all-posts/</a></p></li></ul><h2 id="python-web"><a href="#python-web" class="headerlink" title="python web"></a>python web</h2><ul><li><p>python web开发(天涯笨熊): <a href="https://www.jianshu.com/nb/19944855" target="_blank" rel="noopener">https://www.jianshu.com/nb/19944855</a></p></li><li><p>被解放的姜戈: <a href="http://www.code123.cc/575.html" target="_blank" rel="noopener">http://www.code123.cc/575.html</a></p></li><li><p>diango教程: <a href="http://www.code123.cc/1392.html" target="_blank" rel="noopener">http://www.code123.cc/1392.html</a></p></li></ul><h2 id="python库下载网址"><a href="#python库下载网址" class="headerlink" title="python库下载网址"></a>python库下载网址</h2><ul><li><a href="https://www.lfd.uci.edu/~gohlke/pythonlibs/" target="_blank" rel="noopener">https://www.lfd.uci.edu/~gohlke/pythonlibs/</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ES6中类和对象的定义</title>
      <link href="/ES6%E4%B8%AD%E7%B1%BB%E5%92%8C%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%AE%9A%E4%B9%89/"/>
      <url>/ES6%E4%B8%AD%E7%B1%BB%E5%92%8C%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%AE%9A%E4%B9%89/</url>
      
        <content type="html"><![CDATA[<h2 id="基本定义"><a href="#基本定义" class="headerlink" title="基本定义"></a>基本定义</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line"><span class="keyword">constructor</span>() &#123;</span><br><span class="line"><span class="keyword">this</span>.name = <span class="string">'Jhon'</span>;</span><br><span class="line"><span class="keyword">this</span>.age = <span class="number">18</span>;</span><br><span class="line">&#125;</span><br><span class="line">sayName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> p = <span class="keyword">new</span> Person();</span><br></pre></td></tr></table></figure><blockquote><p><a href="http://es6.ruanyifeng.com/#docs/class" target="_blank" rel="noopener">总结至ES6入门标准</a></p></blockquote><a id="more"></a><p>上面的代码类似于下面的es5写法:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="keyword">this</span>.name = <span class="string">'Jhon'</span>;</span><br><span class="line"><span class="keyword">this</span>.age = <span class="number">18</span>;</span><br><span class="line">&#125;</span><br><span class="line">Person.prototype.sayName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="class定义类的特性"><a href="#class定义类的特性" class="headerlink" title="class定义类的特性"></a>class定义类的特性</h2><ol><li><p>类和模块的内部，默认就是严格模式，所以不需要使用<code>use strict</code>指定运行模式。只要你的代码写在类或模块之中，就只有严格模式可用。</p></li><li><p>constructor方法是类的默认方法，通过new命令生成对象实例时，自动调用该方法。一个类必须有constructor方法，如果没有显式定义，一个空的constructor方法会被默认添加。constructor方法默认返回实例对象（即this），完全可以指定返回另外一个对象。</p></li><li><p>由于类的方法都定义在prototype对象上面，所以类的新方法可以添加在prototype对象上面。Object.assign方法可以很方便地一次向类添加多个方法。prototype对象的constructor属性，直接指向“类”的本身，这与 ES5 的行为是一致的。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Object</span>.assign(Person.prototype, &#123;</span><br><span class="line">toString()&#123;&#125;,</span><br><span class="line">toValue()&#123;&#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li><p>this的指向类的方法内部如果含有this，它默认指向类的实例。<br>但是，必须非常小心，一旦单独使用该方法，很可能报错。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Logger</span> </span>&#123;</span><br><span class="line">  printName(name = <span class="string">'there'</span>) &#123;</span><br><span class="line">    <span class="keyword">this</span>.print(<span class="string">`Hello <span class="subst">$&#123;name&#125;</span>`</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  print(text) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(text);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> logger = <span class="keyword">new</span> Logger();</span><br><span class="line"><span class="keyword">const</span> &#123; printName &#125; = logger;</span><br><span class="line">printName(); <span class="comment">// TypeError: Cannot read property 'print' of undefined</span></span><br></pre></td></tr></table></figure></li></ol><ul><li><p>一个比较简单的解决方法是，在构造方法中绑定this，这样就不会找不到print方法了。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Logger</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>() &#123;</span><br><span class="line">    <span class="keyword">this</span>.printName = <span class="keyword">this</span>.printName.bind(<span class="keyword">this</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>另一种解决方法是使用箭头函数。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Logger</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>() &#123;</span><br><span class="line">    <span class="keyword">this</span>.printName = <span class="function">(<span class="params">name = <span class="string">'there'</span></span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">this</span>.print(<span class="string">`Hello <span class="subst">$&#123;name&#125;</span>`</span>);</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h2 id="类的属性和方法"><a href="#类的属性和方法" class="headerlink" title="类的属性和方法"></a>类的属性和方法</h2><h3 id="class-类"><a href="#class-类" class="headerlink" title="class 类"></a>class 类</h3><p>与函数一样，类也可以使用表达式的形式定义。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> MyClass = <span class="class"><span class="keyword">class</span> <span class="title">Me</span> </span>&#123;</span><br><span class="line">  getClassName() &#123;</span><br><span class="line">    <span class="keyword">return</span> Me.name;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">let</span> inst = <span class="keyword">new</span> MyClass();</span><br><span class="line">inst.getClassName() <span class="comment">// Me</span></span><br><span class="line">Me.name <span class="comment">// ReferenceError: Me is not defined</span></span><br></pre></td></tr></table></figure><blockquote><p>需要注意的是，这个类的名字是MyClass而不是Me，Me只在 Class 的内部代码可用，指代当前类。<br>如果类的内部没用到的话，可以省略Me，</p></blockquote><p>采用 Class 表达式，可以写出立即执行的 Class。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> person = <span class="keyword">new</span> <span class="class"><span class="keyword">class</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(name) &#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  sayName() &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;(<span class="string">'张三'</span>);</span><br><span class="line"></span><br><span class="line">person.sayName(); <span class="comment">// "张三"</span></span><br></pre></td></tr></table></figure><h4 id="Class-的取值函数（getter）和存值函数（setter）"><a href="#Class-的取值函数（getter）和存值函数（setter）" class="headerlink" title="Class 的取值函数（getter）和存值函数（setter）"></a>Class 的取值函数（getter）和存值函数（setter）</h4><p>与 ES5 一样，在“类”的内部可以使用get和set关键字，对某个属性设置存值函数和取值函数，拦截该属性的存取行为。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyClass</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>() &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">get</span> prop() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'getter'</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">set</span> prop(value) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'setter: '</span>+value);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> inst = <span class="keyword">new</span> MyClass();</span><br><span class="line"></span><br><span class="line">inst.prop = <span class="number">123</span>;</span><br><span class="line"><span class="comment">// setter: 123</span></span><br><span class="line"></span><br><span class="line">inst.prop</span><br><span class="line"><span class="comment">// 'getter'</span></span><br></pre></td></tr></table></figure><h4 id="Class-的-Generator-方法"><a href="#Class-的-Generator-方法" class="headerlink" title="Class 的 Generator 方法"></a>Class 的 Generator 方法</h4><p>如果某个方法之前加上星号（<code>*</code>），就表示该方法是一个 Generator 函数。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(...args) &#123;</span><br><span class="line">    <span class="keyword">this</span>.args = args;</span><br><span class="line">  &#125;</span><br><span class="line">  * [<span class="built_in">Symbol</span>.iterator]() &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> arg <span class="keyword">of</span> <span class="keyword">this</span>.args) &#123;</span><br><span class="line">      <span class="keyword">yield</span> arg;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> x <span class="keyword">of</span> <span class="keyword">new</span> Foo(<span class="string">'hello'</span>, <span class="string">'world'</span>)) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(x);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// hello</span></span><br><span class="line"><span class="comment">// world</span></span><br></pre></td></tr></table></figure><p>上面代码中，Foo类的Symbol.iterator方法前有一个星号，表示该方法是一个 Generator 函数。Symbol.iterator方法返回一个Foo类的默认遍历器，for…of循环会自动调用这个遍历器。</p><h3 id="属性和方法"><a href="#属性和方法" class="headerlink" title="属性和方法"></a>属性和方法</h3><h4 id="私有方法"><a href="#私有方法" class="headerlink" title="私有方法"></a>私有方法</h4><p>私有方法是常见需求，但 ES6 不提供，只能通过变通方法模拟实现。<br>一种做法是在命名上加以区别。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Widget</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 公有方法</span></span><br><span class="line">  foo (baz) &#123;</span><br><span class="line">    <span class="keyword">this</span>._bar(baz);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 私有方法</span></span><br><span class="line">  _bar(baz) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.snaf = baz;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>上面代码中，<code>_bar</code>方法前面的下划线，表示这是一个只限于内部使用的私有方法。<br>但是，这种命名是不保险的，在类的外部，还是可以调用到这个方法。<br>还有一种方法是利用Symbol值的唯一性，将私有方法的名字命名为一个Symbol值。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> bar = <span class="built_in">Symbol</span>(<span class="string">'bar'</span>);</span><br><span class="line"><span class="keyword">const</span> snaf = <span class="built_in">Symbol</span>(<span class="string">'snaf'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">myClass</span></span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 公有方法</span></span><br><span class="line">  foo(baz) &#123;</span><br><span class="line">    <span class="keyword">this</span>[bar](baz);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 私有方法</span></span><br><span class="line">  [bar](baz) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>[snaf] = baz;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>上面代码中，bar和snaf都是Symbol值，导致第三方无法获取到它们，因此达到了私有方法和私有属性的效果。</p><h4 id="私有属性"><a href="#私有属性" class="headerlink" title="私有属性"></a>私有属性</h4><p>与私有方法一样，ES6 不支持私有属性。目前，有一个<strong>提案</strong>，为class加了私有属性。方法是在属性名之前，使用#表示。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span> </span>&#123;</span><br><span class="line">  #x;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">constructor</span>(x = 0) &#123;</span><br><span class="line">    #x = +x; // 写成 this.#x 亦可</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  get x() &#123; return #x &#125;</span><br><span class="line">  set x(value) &#123; #x = +value &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>私有属性与实例的属性是可以同名的（比如，#x与get x()）</p><p>该提案只规定了私有属性的写法。但是，很自然地，它也可以用来写私有方法。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span> </span>&#123;</span><br><span class="line">  #a;</span><br><span class="line">  #b;</span><br><span class="line">  #sum() &#123; return #a + #b; &#125;</span><br><span class="line">  printSum() &#123; console.log(#sum()); &#125;</span><br><span class="line">  constructor(a, b) &#123; #a = a; #b = b; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="Class-的静态方法"><a href="#Class-的静态方法" class="headerlink" title="Class 的静态方法"></a>Class 的静态方法</h4><p>类相当于实例的原型，所有在类中定义的方法，都会被实例继承。如果在一个方法前，<br>加上<code>static</code>关键字，就表示该方法不会被实例继承，而是直接通过类来调用，这就称为“静态方法”。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span> </span>&#123;</span><br><span class="line">  <span class="keyword">static</span> classMethod() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'hello'</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Foo.classMethod() <span class="comment">// 'hello'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> foo = <span class="keyword">new</span> Foo();</span><br><span class="line">foo.classMethod()</span><br><span class="line"><span class="comment">// TypeError: foo.classMethod is not a function</span></span><br></pre></td></tr></table></figure><blockquote><p>注意，如果静态方法包含this关键字，这个this指的是类，而不是实例。</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span> </span>&#123;</span><br><span class="line">  <span class="keyword">static</span> bar () &#123;</span><br><span class="line">    <span class="keyword">this</span>.baz();</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">static</span> baz () &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'hello'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  baz () &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'world'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Foo.bar() <span class="comment">// hello</span></span><br></pre></td></tr></table></figure><p>上面代码中，静态方法bar调用了this.baz，这里的this指的是Foo类，而不是Foo的实例，等同于调用Foo.baz。另外，从这个例子还可以看出，静态方法可以与非静态方法重名。</p><h4 id="Class-的静态属性和实例属性"><a href="#Class-的静态属性和实例属性" class="headerlink" title="Class 的静态属性和实例属性"></a>Class 的静态属性和实例属性</h4><p>静态属性指的是 Class 本身的属性，即Class.propName，而不是定义在实例对象（this）上的属性。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span> </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Foo.prop = <span class="number">1</span>;</span><br><span class="line">Foo.prop <span class="comment">// 1</span></span><br></pre></td></tr></table></figure><p>目前，只有这种写法可行，因为 ES6 明确规定，Class 内部只有静态方法，没有静态属性。</p><p>类的实例属性可以用等式，写入类的定义之中。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyClass</span> </span>&#123;</span><br><span class="line">  myProp = <span class="number">42</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">constructor</span>() &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.myProp); <span class="comment">// 42</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>上面代码中，myProp就是MyClass的实例属性。在MyClass的实例上，可以读取这个属性。</p><h3 id="类的静态属性"><a href="#类的静态属性" class="headerlink" title="类的静态属性"></a>类的静态属性</h3><p>类的静态属性只要在上面的实例属性写法前面，加上static关键字就可以了</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 老写法</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span> </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line">Foo.prop = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 新写法</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span> </span>&#123;</span><br><span class="line">  <span class="keyword">static</span> prop = <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">constructor</span>() &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(Foo.prop); <span class="comment">// 1</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="实例属性和方法"><a href="#实例属性和方法" class="headerlink" title="实例属性和方法"></a>实例属性和方法</h2><h3 id="属性和方法-1"><a href="#属性和方法-1" class="headerlink" title="属性和方法"></a>属性和方法</h3><ol><li>类必须使用new调用来生成实例，否则会报错。</li><li>定义在constructor函数中的属性和方法以及直接定义在class内部的属性是定义在实例对象上，直接定义在class内部的<strong>方法</strong>是定义在原型对象上</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">age = <span class="number">22</span>;</span><br><span class="line"><span class="keyword">constructor</span>(name)&#123;</span><br><span class="line"><span class="keyword">this</span>.name = name;</span><br><span class="line">&#125;</span><br><span class="line">sayName() &#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> p = Person(); <span class="comment">// 报错</span></span><br><span class="line"><span class="keyword">var</span> p = <span class="keyword">new</span> Person() <span class="comment">// 正确</span></span><br><span class="line"><span class="built_in">console</span>.log(p.hasOwnProperty(<span class="string">'name'</span>)) <span class="comment">// true;</span></span><br><span class="line"><span class="built_in">console</span>.log(p.__proto__.hasOwnProperty(<span class="string">'sayName'</span>)) <span class="comment">// true;</span></span><br></pre></td></tr></table></figure><h2 id="class和es5中定义的区别"><a href="#class和es5中定义的区别" class="headerlink" title="class和es5中定义的区别"></a>class和es5中定义的区别</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> Foo(); <span class="comment">// ReferenceError</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span> </span>&#123;&#125;</span><br><span class="line"><span class="keyword">var</span> p = Foo(); <span class="comment">// 报错</span></span><br><span class="line"><span class="keyword">var</span> p = <span class="keyword">new</span> Foo() <span class="comment">// 正确</span></span><br></pre></td></tr></table></figure><ol><li>类必须使用new调用，否则会报错。这是它跟普通构造函数的一个主要区别，后者不用new也可以执行。</li><li>类不存在变量提升（hoist），这一点与 ES5 完全不同。</li></ol>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
            <tag> ES6 </tag>
            
            <tag> 读书笔记 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ES5中的模块封装</title>
      <link href="/ES5%E4%B8%AD%E7%9A%84%E6%A8%A1%E5%9D%97%E5%B0%81%E8%A3%85/"/>
      <url>/ES5%E4%B8%AD%E7%9A%84%E6%A8%A1%E5%9D%97%E5%B0%81%E8%A3%85/</url>
      
        <content type="html"><![CDATA[<p>随着网站逐渐变成”互联网应用程序”，嵌入网页的JavaScript代码越来越庞大，越来越复杂。网页越来越像桌面程序，需要一个团队分工协作、进度管理、单元测试等等……开发者不得不使用软件工程的方法，管理网页的业务逻辑。</p><p>JavaScript模块化编程，已经成为一个迫切的需求。理想情况下，开发者只需要实现核心的业务逻辑，其他都可以加载别人已经写好的模块。</p><p>但是，JavaScript不是一种模块化编程语言，ES5不支持”类”（class），更遑论”模块”（module）了。ES6正式支持”类”和”模块”，但还没有成为主流。JavaScript社区做了很多努力，在现有的运行环境中，实现模块的效果。</p><a id="more"></a><h2 id="基本的实现方法"><a href="#基本的实现方法" class="headerlink" title="基本的实现方法"></a>基本的实现方法</h2><p>模块是实现特定功能的一组属性和方法的封装。</p><p>只要把不同的函数（以及记录状态的变量）简单地放在一起，就算是一个模块。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">m1</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">//...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">m2</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">//...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>上面的函数m1()和m2()，组成一个模块。使用的时候，直接调用就行了。</p><p>这种做法的缺点很明显：”污染”了全局变量，无法保证不与其他模块发生变量名冲突，而且模块成员之间看不出直接关系。</p><p>为了解决上面的缺点，可以把模块写成一个对象，所有的模块成员都放到这个对象里面。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> module1 = <span class="keyword">new</span> <span class="built_in">Object</span>(&#123;</span><br><span class="line">　_count : <span class="number">0</span>,</span><br><span class="line">　m1 : <span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">　　<span class="comment">//...</span></span><br><span class="line">　&#125;,</span><br><span class="line">　m2 : <span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">  　<span class="comment">//...</span></span><br><span class="line">　&#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>但是，这样的写法会暴露所有模块成员，内部状态可以被外部改写。比如，外部代码可以直接改变内部计数器的值。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">module1._count = <span class="number">5</span>;</span><br></pre></td></tr></table></figure><h2 id="封装私有变量：构造函数的写法"><a href="#封装私有变量：构造函数的写法" class="headerlink" title="封装私有变量：构造函数的写法"></a>封装私有变量：构造函数的写法</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">StringBuilder</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> buffer = [];</span><br><span class="line"></span><br><span class="line">  <span class="keyword">this</span>.add = <span class="function"><span class="keyword">function</span> (<span class="params">str</span>) </span>&#123;</span><br><span class="line">     buffer.push(str);</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">this</span>.toString = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> buffer.join(<span class="string">''</span>);</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这种方法将私有变量封装在构造函数中，违反了构造函数与实例对象相分离的原则。并且，非常耗费内存。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">StringBuilder</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>._buffer = [];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">StringBuilder.prototype = &#123;</span><br><span class="line">  <span class="keyword">constructor</span>: StringBuilder,</span><br><span class="line">  add: function (str) &#123;</span><br><span class="line">    <span class="keyword">this</span>._buffer.push(str);</span><br><span class="line">  &#125;,</span><br><span class="line">  toString: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>._buffer.join(<span class="string">''</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>这种方法将私有变量放入实例对象中，好处是看上去更自然，但是它的私有变量可以从外部读写，不是很安全。</p><h2 id="封装私有变量：立即执行函数的写法"><a href="#封装私有变量：立即执行函数的写法" class="headerlink" title="封装私有变量：立即执行函数的写法"></a>封装私有变量：立即执行函数的写法</h2><p>使用“立即执行函数”（Immediately-Invoked Function Expression，IIFE），将相关的属性和方法封装在一个函数作用域里面，可以达到不暴露私有成员的目的。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> module1 = (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">　<span class="keyword">var</span> _count = <span class="number">0</span>;</span><br><span class="line">　<span class="keyword">var</span> m1 = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">　  <span class="comment">//...</span></span><br><span class="line">　&#125;;</span><br><span class="line">　<span class="keyword">var</span> m2 = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">　　<span class="comment">//...</span></span><br><span class="line">　&#125;;</span><br><span class="line">　<span class="keyword">return</span> &#123;</span><br><span class="line">　　m1 : m1,</span><br><span class="line">　　m2 : m2</span><br><span class="line">　&#125;;</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure><p>外部代码无法读取内部的_count变量。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.info(module1._count); <span class="comment">//undefined</span></span><br></pre></td></tr></table></figure><h2 id="模块的放大模式"><a href="#模块的放大模式" class="headerlink" title="模块的放大模式"></a>模块的放大模式</h2><p>如果一个模块很大，必须分成几个部分，或者一个模块需要继承另一个模块，这时就有必要采用“放大模式”（augmentation）</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> module1 = (<span class="function"><span class="keyword">function</span> (<span class="params">mod</span>)</span>&#123;</span><br><span class="line">　mod.m3 = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">　　<span class="comment">//...</span></span><br><span class="line">　&#125;;</span><br><span class="line">　<span class="keyword">return</span> mod;</span><br><span class="line">&#125;)(module1);</span><br></pre></td></tr></table></figure><p>上面的代码为module1模块添加了一个新方法m3()，然后返回新的module1模块。</p><p>在浏览器环境中，模块的各个部分通常都是从网上获取的，有时无法知道哪个部分会先加载。如果采用上面的写法，第一个执行的部分有可能加载一个不存在空对象，这时就要采用”宽放大模式”（Loose augmentation）</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> module1 = ( <span class="function"><span class="keyword">function</span> (<span class="params">mod</span>)</span>&#123;</span><br><span class="line">　<span class="comment">//...</span></span><br><span class="line">　<span class="keyword">return</span> mod;</span><br><span class="line">&#125;)(<span class="built_in">window</span>.module1 || &#123;&#125;);</span><br></pre></td></tr></table></figure><p>与”放大模式”相比，“宽放大模式”就是“立即执行函数”的参数可以是空对象。</p><h2 id="输入全局变量"><a href="#输入全局变量" class="headerlink" title="输入全局变量"></a>输入全局变量</h2><p>独立性是模块的重要特点，模块内部最好不与程序的其他部分直接交互。</p><p>为了在模块内部调用全局变量，必须显式地将其他变量输入模块。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> module1 = (<span class="function"><span class="keyword">function</span> (<span class="params">$, YAHOO</span>) </span>&#123;</span><br><span class="line">　<span class="comment">//...</span></span><br><span class="line">&#125;)(jQuery, YAHOO);</span><br></pre></td></tr></table></figure><p>上面的<code>module1</code>模块需要使用<code>jQuery</code>库和<code>YUI</code>库，就把这两个库（其实是两个模块）当作参数输入module1。这样做除了保证模块的独立性，还使得模块之间的依赖关系变得明显。</p><p>立即执行函数还可以起到命名空间的作用。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params">$, window, document</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">go</span>(<span class="params">num</span>) </span>&#123;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">handleEvents</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">initialize</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">dieCarouselDie</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//attach to the global scope</span></span><br><span class="line">  <span class="built_in">window</span>.finalCarousel = &#123;</span><br><span class="line">    init : initialize,</span><br><span class="line">    destroy : dieCouraselDie</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;)( jQuery, <span class="built_in">window</span>, <span class="built_in">document</span> );</span><br></pre></td></tr></table></figure><p>上面代码中，<code>finalCarousel</code>对象输出到全局，对外暴露<code>init</code>和<code>destroy</code>接口，内部方法<code>go</code>、<code>handleEvents</code>、<code>initialize</code>、<code>dieCarouselDie</code>都是外部无法调用的。</p>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ES5中继承的几种方式</title>
      <link href="/ES5%E4%B8%AD%E7%BB%A7%E6%89%BF%E7%9A%84%E5%87%A0%E7%A7%8D%E6%96%B9%E5%BC%8F/"/>
      <url>/ES5%E4%B8%AD%E7%BB%A7%E6%89%BF%E7%9A%84%E5%87%A0%E7%A7%8D%E6%96%B9%E5%BC%8F/</url>
      
        <content type="html"><![CDATA[<p>继承是oop语言中的一个最为人津津乐道的概念。许多oop语言都支持两种继承方式: 接口继承和实现继承。接口继承只继承方法签名，而实现继承则继承实际的方可去。由于函数没有签名，在ECMAScript 中无法实现接口继承。ECMAScript 只支持实现继承，而且其实现继承主要是依靠<strong>原型链</strong>来实现的。</p><a id="more"></a><h2 id="1-原型链"><a href="#1-原型链" class="headerlink" title="1.原型链"></a>1.原型链</h2><p>ECMAScript 中描述了原型链的概念，并将原型链作为实现继承的主要方法。其基本思想是利用原型让一个引用类型继承另一个引用英裂的属性和方法。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// 父类构造函数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Parent</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="keyword">this</span>.name = <span class="string">'person'</span>;</span><br><span class="line">   <span class="keyword">this</span>.age = <span class="number">30</span>;</span><br><span class="line">   colors = [<span class="string">'red'</span>, <span class="string">'green'</span>, <span class="string">'blue'</span>];</span><br><span class="line">&#125;</span><br><span class="line">Parent.prototype.sayParentName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">this</span>.name,<span class="keyword">this</span>.age);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> parent = <span class="keyword">new</span> Parent();</span><br><span class="line"></span><br><span class="line"><span class="comment">//子类构造函数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Child</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="keyword">this</span>.name = <span class="string">'child'</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//继承 原型被重新</span></span><br><span class="line">Child.prototype = parent;</span><br><span class="line"></span><br><span class="line">Child.prototype.sayChildName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> child = <span class="keyword">new</span> Child();</span><br><span class="line"><span class="built_in">console</span>.log(child.sayParentName()) <span class="comment">//'child',30</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 原型继承指向</span></span><br><span class="line"><span class="built_in">console</span>.log(</span><br><span class="line">child.__proto__ === Child.prototype,</span><br><span class="line">Child.prototype === parent,</span><br><span class="line">parent.__proto__ === Parent.prototype</span><br><span class="line">)</span><br><span class="line"><span class="comment">// true, true, true</span></span><br><span class="line"><span class="built_in">console</span>.log(child.constructor === Parent) <span class="comment">//true 原型被重写</span></span><br></pre></td></tr></table></figure><p>以上代码定义了两个类型: Parent 和Child 每个类型分别有一个属性和一个方法。它们的主要区别是Child 继承了Parent ，而继承是通过创建Parent的实例，并将该实例赋给Child.prototype 实现的。实现的本质是重写原型对象，代之以一个新类型的实例。换句话说，原来存在于Parent的实例中的所有属性和方法，现在也存在子Child.prototype中了。</p><p>调用child.sayParentName()方法要经过3层对象：</p><ol><li>child对象自身属性上找，没找到</li><li>child的原型(即parent对象)上找,没找到</li><li>parent的原型上找，ok</li></ol><blockquote><p>child的原型 指向Child的prototype， Child 的prototype又指向Parent的实例parent对象，parent的原型又指向Parent的prototype，最后Parent的prototype，的原型对象是Object.prototype。</p></blockquote><h3 id="确定原型和实例的关系"><a href="#确定原型和实例的关系" class="headerlink" title="确定原型和实例的关系"></a>确定原型和实例的关系</h3><ol><li>第一种方式是使用instanceof 操作符，只要用这个操作符来测试实例与原型链中出现过的构造函数，<strong>instanceof判断构造函数的prototype属性是否存在实例对象的原型链上</strong></li><li>第二种方式是使用isprototypeOf()方法。</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* instanceof */</span></span><br><span class="line"><span class="built_in">console</span>.log(child <span class="keyword">instanceof</span> Child) <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(child <span class="keyword">instanceof</span> Parent) <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(child <span class="keyword">instanceof</span> <span class="built_in">Object</span>) <span class="comment">//true</span></span><br><span class="line"><span class="comment">/* isprototypeOf() */</span></span><br><span class="line"><span class="built_in">console</span>.log(Child.prototype.isPrototypeOf(child)) <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(Parent.prototype.isPrototypeOf(child)) <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.prototype.isPrototypeOf(child)) <span class="comment">// true</span></span><br></pre></td></tr></table></figure><h3 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h3><ol><li>最主要的问题来自包含引用类型值的原型。引用类型在原型中会被共享，比如在parent的实例中有个数组color = [],如果实例child.color.push(‘red’),那么在child2中可以读取child2.color[0] === ‘red’。</li><li>第二个问题在创建子类型的实例时，不能向越类型的构造函数中传递参数。</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> child1 = <span class="keyword">new</span> Child()</span><br><span class="line"><span class="keyword">var</span> child2 = <span class="keyword">new</span> Child()</span><br><span class="line">child1.colors.push(<span class="string">'black'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(child2.colors); <span class="comment">// ['red', 'green', 'blue', 'black']</span></span><br></pre></td></tr></table></figure><h2 id="2-借用构造函数"><a href="#2-借用构造函数" class="headerlink" title="2.借用构造函数"></a>2.借用构造函数</h2><p>在解决原型中包含引用类型值所带来问题的过程中，开发人员开始使用一种叫做借用构造函数( constructor stealing )的技术(有时候也叫做伪造对象或经典继承)。这种技术的基本思想相当简单，即<strong>在子类型构造函数的内部调用超类型构造函数。</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 父类构造函数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Parent</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="keyword">this</span>.name = <span class="string">'person'</span>;</span><br><span class="line">   <span class="keyword">this</span>.age = <span class="number">30</span>;</span><br><span class="line">   <span class="keyword">this</span>.colors = [<span class="string">'red'</span>, <span class="string">'green'</span>, <span class="string">'blue'</span>];</span><br><span class="line">&#125;</span><br><span class="line">Parent.prototype.sayParentName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">this</span>.name,<span class="keyword">this</span>.age);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> parent = <span class="keyword">new</span> Parent();</span><br><span class="line"><span class="comment">//子类构造函数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Child</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="keyword">this</span>.name = <span class="string">'child'</span>;</span><br><span class="line">   <span class="comment">// 继承 子类中调用父类构造函数,</span></span><br><span class="line">   <span class="comment">// 使父类中的this指向子类实例对象</span></span><br><span class="line">   Parent.call(<span class="keyword">this</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Child.prototype.sayChildName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> child1 = <span class="keyword">new</span> Child();</span><br><span class="line"><span class="keyword">var</span> child2 = <span class="keyword">new</span> Child();</span><br><span class="line">child1.colors.push(<span class="string">'black'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(child2.colors) <span class="comment">// 没有被改变 ['red', 'green', 'blue']</span></span><br></pre></td></tr></table></figure><p>通过使用call()方法(或apply()方法也可以)，我们实际上是在(未来将要)Child 实例的环境下调用了Parent构造函数。这样一来，就会在新Child 对象上执行Parent()函数中定义的所有对象初始化代码。结果，Child的每个实例就都会具有自己的colors 属性的副本了。</p><h3 id="传递参数"><a href="#传递参数" class="headerlink" title="传递参数"></a>传递参数</h3><p>相对于原型链而言，借用构造函数有一个很大的优势，即可以在子类型构造函数中向超类型构造函数传递参数。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Parent</span>(<span class="params">name</span>)</span>&#123;</span><br><span class="line"><span class="keyword">this</span>.name = name;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Child</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="keyword">this</span>.name = <span class="string">'child'</span>;</span><br><span class="line">Person.call(<span class="keyword">this</span>,<span class="string">'parent'</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> child1 = <span class="keyword">new</span> Child();</span><br><span class="line"><span class="built_in">console</span>.log(child1.name) <span class="comment">// 'parent';</span></span><br></pre></td></tr></table></figure><p>在Child构造函数内部调用Parent构造函数时，实际上是为Child的实例设置了name 属性。为了确保Parent构造函数不会重写子类型的属性，可以在调用超类型构造函数后，再添加应该在子类型中定义的属性。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Child</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">Person.apply(<span class="keyword">this</span>,[<span class="string">'parent'</span>]);<span class="comment">// 相当于 this.name = 'perent'</span></span><br><span class="line">   <span class="keyword">this</span>.name = <span class="string">'child'</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="问题-1"><a href="#问题-1" class="headerlink" title="问题"></a>问题</h3><ol><li>如果仅仅是借用掏造函数，那么也将无法避免构造函数模式存在的问题<strong>方法都在构造函数中定义</strong>，因此函数复用就无从谈起了。</li><li>在超类型的原型中定义的方法，对子类型而言也是不可见的，结果所有类型都只能使用构造函数模式。借用构造函数的技术也是很少单独使用的。</li></ol><h2 id="3-组合继承"><a href="#3-组合继承" class="headerlink" title="3.组合继承"></a>3.组合继承</h2><p>组合继承(combination inheritance)，有时候也叫做伪经典继承，指的是将<strong>原型链</strong>和<strong>借用构造函数</strong>的技术组合到一块， 从而发挥二者之长的一种继承模式。其背后的思路是使用原型链实现对原型属性和方法的继承，而通过借用构造函数米实现对实例属’性的继承。这样，既通过在原型上定义方法实现了函数复用，又能够保证每个实例都有它自己的属性。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 父类构造函数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Parent</span>(<span class="params">name</span>)</span>&#123;</span><br><span class="line"><span class="keyword">this</span>.name = name;</span><br><span class="line">   <span class="keyword">this</span>.colors = [<span class="string">'red'</span>, <span class="string">'green'</span>, <span class="string">'blue'</span>];</span><br><span class="line">&#125;</span><br><span class="line">Parent.prototype.sayParentName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">this</span>.name, <span class="keyword">this</span>.age);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> parent = <span class="keyword">new</span> Parent();</span><br><span class="line"></span><br><span class="line"><span class="comment">//子类构造函数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Child</span>(<span class="params">name, age</span>)</span>&#123;</span><br><span class="line"><span class="comment">// 继承属性 子类中调用父类构造函数,</span></span><br><span class="line">   <span class="comment">// 使父类中的this指向子类实例对象</span></span><br><span class="line"> Parent.call(<span class="keyword">this</span>, name); <span class="comment">// 相当于 this.name = name</span></span><br><span class="line">   <span class="keyword">this</span>.age = age</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 继承方法</span></span><br><span class="line">Child.prototype = <span class="keyword">new</span> Parent()</span><br><span class="line"></span><br><span class="line">Child.prototype.sayAge = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">this</span>.age);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> child1 = <span class="keyword">new</span> Child(<span class="string">'张三'</span>, <span class="number">18</span>);</span><br><span class="line"><span class="keyword">var</span> child2 = <span class="keyword">new</span> Child(<span class="string">'王五'</span>, <span class="number">17</span>);</span><br><span class="line">child1.colors.push(<span class="string">'black'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(child2.colors) <span class="comment">// 没有被改变 ['red', 'green', 'blue']</span></span><br><span class="line">child1.sayAge() <span class="comment">//18</span></span><br><span class="line">child2.sayParentName() <span class="comment">// '王五' 17</span></span><br></pre></td></tr></table></figure><p>在这个例子中，Parent构造函数定义了两个属性: name 和colors Parent的原型定义了一个方法sayName()。 Child构造函数在调用Parent构造函数时传入了name参数.紧接着又定义了它自己的属性age。然后，将Parent的实例赋值给Child 的原型.然后又在该新原型上定义了方法sayAge()。这样一来，就可以让两个不同的Child实例既分别拥有自己属性–包括colors 属性，又可以使用相同的方法了。</p><p>组合继承避免了原型链和借用构造函数的缺陆， 融合了它们的优点，成为JavaScript 中<strong>最常用的继<br>承模式</strong>。而且. instanceof和isPrototyOf()也能够用于识别基于组合继承创建的对象。</p><h2 id="4-原型式继承"><a href="#4-原型式继承" class="headerlink" title="4.原型式继承"></a>4.原型式继承</h2><p>道格拉斯·克罗克福德在2伽年写了一篇文章，题为JavaScript<br>中的原型式继承。在这篇文章中.他介绍了一种实现继承的方法，这种方法并没有使用严格意义上的构造函数。他的想法是借助原型可以基于已有的对象创建新对象， 同时还不必因此创建自定义类型。为<br>了达到这个目的，他给出了如下函数。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">object</span>(<span class="params">o</span>) </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">F</span>(<span class="params"></span>) </span>&#123;&#125;;</span><br><span class="line">   F.prototype = o;</span><br><span class="line">   <span class="keyword">return</span> <span class="keyword">new</span> F();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>在object()函数内部，先创建了一个临时性的构造函数，然后将传入的对象作为这个构造函数的原型，最后返回了这个临时类型的一个新实例。从本质上讲， obj ect()对传入其中的对象执行了一次浅复制。来看下面的例子。</p><h3 id="Object-create"><a href="#Object-create" class="headerlink" title="Object.create()"></a>Object.create()</h3><p>ECMAScript5 通过新增Object.create()方法规范化了原型式继承。这个方法接收两个参数: 一个用作新对象原型的对象和( 可选的) 一个为新对象定义额外属性的对象。在传入一个参数的情况下,Object.create()与object()方法的行为相同。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> person = &#123;</span><br><span class="line">name: <span class="string">'person'</span>,</span><br><span class="line">   colors: [<span class="string">'red'</span>, <span class="string">'green'</span>, <span class="string">'blue'</span>]</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> onePerson = <span class="built_in">Object</span>.create(person);</span><br><span class="line">onePerson.name = <span class="string">'Greg'</span>;</span><br><span class="line">onePerson.colors.push(<span class="string">'black'</span>);</span><br><span class="line"><span class="keyword">var</span> twoPerson = <span class="built_in">Object</span>.create(person);</span><br><span class="line">twoPerson.name = <span class="string">'Linda'</span>;</span><br><span class="line">twoPerson.colors.push(<span class="string">'tan'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(person.colors); <span class="comment">//['red', 'green', 'blue', 'black', 'tan'];</span></span><br></pre></td></tr></table></figure><p>Object.create()方法的第二个参数与Object.defineProperties()方法的第二个参数格式相同:每个属性都是通过自己的描述符定义的。以这种方式指定的任何属件都会覆盖原型对象上的同名属性。例如:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> apple = &#123;</span><br><span class="line">name: <span class="string">'Apple'</span>,</span><br><span class="line">   colors: [<span class="string">'red'</span>, <span class="string">'green'</span>, <span class="string">'blue'</span>]</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> oneApple = <span class="built_in">Object</span>.create(apple, &#123;</span><br><span class="line">name: &#123;</span><br><span class="line">   value: <span class="string">'oneApple'</span> </span><br><span class="line">   &#125;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(oneApple.name) <span class="comment">// 'oneApple'</span></span><br></pre></td></tr></table></figure><h3 id="组合继承-Object-create"><a href="#组合继承-Object-create" class="headerlink" title="组合继承(Object.create())"></a>组合继承(Object.create())</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Parent</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Parent.prototype.play = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Child</span>(<span class="params">name, age</span>) </span>&#123;</span><br><span class="line">    Parent.call(<span class="keyword">this</span>, name);</span><br><span class="line">    <span class="keyword">this</span>.age = age;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 继承方法</span></span><br><span class="line">Child.prototype = <span class="built_in">Object</span>.create(Parent.prototype);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 多态</span></span><br><span class="line">Child.prototype.play = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    Parent.prototype.play.call(<span class="keyword">this</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.age);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>和<strong>原型链 &amp; 借用构造函数</strong>相同不过在继承方法使用Object.create()代替更加可行。</p><h2 id="5-寄生式继承"><a href="#5-寄生式继承" class="headerlink" title="5.寄生式继承"></a>5.寄生式继承</h2><p>寄生式( parasitic )继承是与原型式继承紧密相关的一种思路，并且同样也是由克罗克福德推而广之的。寄生式继承的思路与寄生构造函数和工厂模式类似，即创建一个仅用于封装继承过程的函数，该函数在内部以某种方式来增强对象，最后再像真地是它做了所有工作}样返回对象。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createObj</span>(<span class="params">o</span>)</span>&#123;</span><br><span class="line"><span class="keyword">var</span> clone = <span class="built_in">Object</span>(o);</span><br><span class="line">   clone.sayName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">       alert(<span class="string">'hi'</span>);</span><br><span class="line">       <span class="built_in">console</span>.log(<span class="keyword">this</span>.name)</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">return</span> clone;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> person = &#123;</span><br><span class="line">name: <span class="string">'Nicho'</span>,</span><br><span class="line">   colors: [<span class="string">'red'</span>, <span class="string">'green'</span>, <span class="string">'blue'</span>]</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> p1 = createObj(person);</span><br><span class="line"><span class="keyword">var</span> p2 = createObj(person);</span><br><span class="line">p1.sayName(); <span class="comment">// 'Nicho'</span></span><br><span class="line">p1.colors.push(<span class="string">'black'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(p2.colors) <span class="comment">// ['red', 'green', 'blue', 'black']</span></span><br></pre></td></tr></table></figure><h2 id="6-寄生组合式继承"><a href="#6-寄生组合式继承" class="headerlink" title="6.寄生组合式继承"></a>6.寄生组合式继承</h2><p>前面说过，组合继承是JavaScript 最常用的继承模式;不过，它也有自己的不足。组合继承最大的问题就是无论什么情况下，都会调用<strong>两次</strong>超类型构造函数: 一次是在创建子类型原型的时候， 另一次是在子类型构造函数内部。没错，子类型最终会包含越类型对象的全部实例属性，但我们不得不在调用子类型构造画面数时重写这些属性。</p><p>所谓寄生组合式继承，<strong>即通过借用构造踊数来继承属性，通过原型链的棍成形式来继承方法</strong>。其背后的基本思路是:<strong>不必为了指定子类型的原型而调用超类型的构造函数</strong>，我们所需要的无非就是超类型原型的一个副本而已。本质上，就是使用寄生式继承来继承超类型的原型，然后再将结果指定给子类型的原型。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">inheritPrototype</span>(<span class="params">Child, Parent</span>)</span>&#123;</span><br><span class="line"><span class="keyword">var</span> prototype = <span class="built_in">Object</span>(Parent.prototype);</span><br><span class="line">   prototype.constructor = Child;</span><br><span class="line">   Child.prototype = prototype;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 父类构造函数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Parent</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">    <span class="keyword">this</span>.colors: [<span class="string">'red'</span>, <span class="string">'green'</span>, <span class="string">'blue'</span>]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Parent.prototype.sayName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 子类构造函数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Child</span>(<span class="params">name, age</span>) </span>&#123;</span><br><span class="line"><span class="comment">// 继承属性</span></span><br><span class="line">   Parent.call(<span class="keyword">this</span>, name);</span><br><span class="line">   <span class="keyword">this</span>.age = age;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 继承方法</span></span><br><span class="line"><span class="comment">//与Child.prototype = Object.create(Parent.prototype)相同</span></span><br><span class="line">inheritPrototype(Child, Parent);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 多态</span></span><br><span class="line">Child.prototype.sayName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    Parent.prototype.sayName.call(<span class="keyword">this</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.age);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这个例子的高效率体现在它只调用了一次Parent构造函数， 并且因此避免了在Child.prototype上创建不必要的、多余的属性。与此同时，原型链还能保持不变;因此，还能够正常使用instanceof和isPrototypeOf() 。开发人员普遍认为<strong>寄生组合式继承是引用类型最理想的继承范式。</strong></p><p>参考 <a href="https://github.com/shihyu/JavaScript/blob/master/books/JavaScript高级程序设计（第3版）】中文%20高清%20完整%20详细书签版.pdf" target="_blank" rel="noopener">&lt;&lt; JavaScript高级程序设计第三版 &gt;&gt;</a></p>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ES5中创建对象的几种方式</title>
      <link href="/ES5%E4%B8%AD%E5%88%9B%E5%BB%BA%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%87%A0%E7%A7%8D%E6%96%B9%E6%B3%95/"/>
      <url>/ES5%E4%B8%AD%E5%88%9B%E5%BB%BA%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%87%A0%E7%A7%8D%E6%96%B9%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<p>JavaScript创建对象的方式有很多，通过Object构造函数或对象字面量的方式也可以创建单个对象，显然这两种方式会产生大量的重复代码，并不适合量产。接下来介绍七种非常经典的创建对象的方式，他们也各有优缺点。</p><a id="more"></a><h2 id="1-对象字面量Object模式"><a href="#1-对象字面量Object模式" class="headerlink" title="1.对象字面量Object模式"></a>1.对象字面量Object模式</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> o1 = &#123;&#125;; <span class="comment">//字面量表达式</span></span><br><span class="line"><span class="keyword">var</span> o2 = <span class="keyword">new</span> <span class="built_in">Object</span>;</span><br><span class="line"><span class="keyword">var</span> o3 = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line"><span class="keyword">var</span> o4 = <span class="keyword">new</span> <span class="built_in">Object</span>(<span class="literal">null</span>);</span><br><span class="line"><span class="keyword">var</span> o5 = <span class="keyword">new</span> <span class="built_in">Object</span>(<span class="literal">undefined</span>);</span><br><span class="line"><span class="comment">// 等价于 var o = &#123;&#125;;//即以 Object.prototype 对象为一个原型模板,新建一个以这个原型模板为原型的对象</span></span><br><span class="line"><span class="keyword">var</span> o6 = <span class="built_in">Object</span>.create(<span class="built_in">Object</span>.prototype);</span><br><span class="line"><span class="comment">//区别</span></span><br><span class="line"><span class="keyword">var</span> o7 = <span class="built_in">Object</span>.create(<span class="literal">null</span>);<span class="comment">//创建一个原型为 null 的对象</span></span><br></pre></td></tr></table></figure><p><img src="http://p09g3b06f.bkt.clouddn.com/ES5%E4%B8%AD%E5%88%9B%E5%BB%BA%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%87%A0%E7%A7%8D%E6%96%B9%E6%B3%95Object%E5%88%9B%E5%BB%BA%E5%AF%B9%E8%B1%A1.png" alt="img"></p><blockquote></blockquote><p>可以看出前6种模式创建出来的对象都是一样的,第七种不同点在于其虽然也为 Object 对象但其无任何属性(包括没有任何可以继承的属性,因为创建的时候没有指定其原型)</p><p>虽然Object 构造函数或对象字面量都可以用来创建单个对象，但这些方式有个明显的缺点:<br>使用同一个接口创建很多对象，会产生大量的重复代码。为解决这个问题，人们开始使用工厂模式的一种变体。</p><h2 id="2-工厂模式"><a href="#2-工厂模式" class="headerlink" title="2. 工厂模式"></a>2. 工厂模式</h2><p>工厂模式是软件工程领域一种广为人知的设计模式，这种模式抽象了创建具体对象的过程。考虑到在ECMAScript 中无法创建类，开发人员<br>就发明了一种函数，用函数来封装以特定接口创建对象的细节。</p><p>工厂方法1 通过一个方法来创建对象 利用 arguments 对象获取参数设置属性(参数不直观,容易出现问题)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">   <span class="keyword">var</span> o = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line">   o.name = argumennts[<span class="number">0</span>];</span><br><span class="line">   o.age = argumennts[<span class="number">1</span>];</span><br><span class="line">   o.getName = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">     <span class="built_in">console</span>.log(<span class="keyword">this</span>.name,<span class="keyword">this</span>.age);</span><br><span class="line">   &#125;;</span><br><span class="line">   <span class="keyword">return</span> o;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> person = Person(<span class="string">'xiaohong '</span>,<span class="number">18</span>);</span><br><span class="line">person.getName() <span class="comment">//'xiaohong' 18</span></span><br></pre></td></tr></table></figure><p>可以无数次调用这个工厂函数，每次都会返回一个包含两个属性和一个方法的对象</p><blockquote><p>缺点：对象无法识别，因为所有的实例都指向一个原型</p></blockquote><p>工厂方法2 通过传参设置属性(参数直观明了)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name, age</span>) </span>&#123;</span><br><span class="line">   <span class="keyword">var</span> o = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line">   o.name = name;</span><br><span class="line">   o.age = age;</span><br><span class="line">   o.getName = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">     <span class="built_in">console</span>.log(<span class="keyword">this</span>.name,<span class="keyword">this</span>.age);</span><br><span class="line">   &#125;;</span><br><span class="line">   <span class="keyword">return</span> o;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> person1 = Person(<span class="string">'xiaohong'</span>,<span class="number">18</span>);</span><br></pre></td></tr></table></figure><p>函数Person()能够根据接受的参数来构建一个包含所有必要信息的Person 对象。可以无数次地调用这个函数，而每次它都会返回一个包含主个属性一个方法的对象。工厂模式虽然解决了创建多个相似对象的问题，但却没有解决对象识别的问题(怎样知道一个对象的类型)。</p><h2 id="3-构造函数模式"><a href="#3-构造函数模式" class="headerlink" title="3.构造函数模式"></a>3.构造函数模式</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">    <span class="keyword">this</span>.getName = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> person1 = <span class="keyword">new</span> Person(<span class="string">'xiaohong'</span>);</span><br><span class="line"><span class="keyword">var</span> person2 = <span class="keyword">new</span> Person(<span class="string">'xiaoming'</span>);</span><br></pre></td></tr></table></figure><p>没有显示的创建对象，使用new来调用这个构造函数，使用new后会自动执行如下操作</p><ul><li>创建一个新对象</li><li>这个新对象会被执行[[prototype]]链接</li><li>这个新对象会绑定到函数调用的this</li><li>返回这个对象</li></ul><p>在前面例子的最后，personl和person2分别保存着Person的一个不同的实例。这两个对象都有一个constructor (构造函数)属性，</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(person1.constructor === Person) <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(person2.constructor === Person) <span class="comment">// true</span></span><br></pre></td></tr></table></figure><p>对象的constructor属性最初是用来标识对象类型的。但是，提到检测对象类型，还是instanceof操作符要更可靠一些。我们在这个例子中创建的所有对象既是Object的实例.同时也是Person的实例，这一点通过instanceof 操作符可以得到验证。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(person1 <span class="keyword">instanceof</span> <span class="built_in">Object</span>) <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(person1 <span class="keyword">instanceof</span> Person) <span class="comment">// true</span></span><br></pre></td></tr></table></figure><blockquote><p>优点：解决了每个方法都要被重新创建的问题<br> 缺点：但是使用构造函数创建对象，每个方法都要在每个实例上重新创建一次</p></blockquote><h2 id="4-原型模式"><a href="#4-原型模式" class="headerlink" title="4.原型模式"></a>4.原型模式</h2><p>我们创建的每个函数都有-个prototype (原型)属性，这个属性是一个指针，指向一个对象，而这个对象的用途是包含可以由特定类型的所有实例共享的属性和方法。如果按照字面意思来理解，那么prototype 就是通过调用构造函数而创建的那个对象实例的原型对象。使用原型对象的好处是可以<br>让所有对象实例共享它所包含的属性和方法。换句话说，不必在构造函数中定义对象实例的信息，而是可以将这些信息直接添加到原型对象中。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Person.prototype = &#123;</span><br><span class="line">    name: <span class="string">'xiaohong'</span>,</span><br><span class="line">    getName: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> person1 = <span class="keyword">new</span> Person();</span><br></pre></td></tr></table></figure><h3 id="原型与in-操作符"><a href="#原型与in-操作符" class="headerlink" title="原型与in 操作符"></a>原型与in 操作符</h3><p>有两种方式使用in 操作符:单独使用和在for - in 循环中使用。在单独使用时. in 操作符会在通过对象能够坊问给定属性时返回true ，<strong>无论该属性存在于实例中还是原型中</strong>。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">function F()&#123;</span><br><span class="line">&#125;</span><br><span class="line">F.prototype.age = 22;</span><br><span class="line">var p = new F();</span><br><span class="line">p.name = &apos;jone&apos;;</span><br><span class="line">console.log(name in p) // true</span><br><span class="line">console.log(age in p) // true</span><br><span class="line">console.log(p.hasOwnProperty(name)) // true</span><br><span class="line">console.log(p.hasOwnProperty(age)) // true</span><br></pre></td></tr></table></figure><p>同时使用hasOwnProperty()方法和in 操作符，就可以确定该属性到底是存在于对象中，还是存在于原型中</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isOwnProperty</span>(<span class="params">obj,name</span>)</span>&#123;</span><br><span class="line"><span class="keyword">return</span> obj.hasOwnProperty(name) &amp;&amp; (name <span class="keyword">in</span> obj);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>在使用for - in 循环时，返回的是所有能够通过对象访问的、<strong>可枚举的( enumeratcd )属性</strong>，其中既包括存在于实例中的属性.也包括存在于原型中的属性。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">for(name in p)&#123;</span><br><span class="line">console.log(name)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>要取得对象上所有可枚举的实例厨险，可以使用ECMAScript 5 的Object.keys( )方法。这个方法接收一个对象作为参数， 返回一个包含所有可枚举属性的字符串数组。<br>如果你想要得到所有实例属性，无论它是否可枚举，都可以使用Object.getOwnPropertyNames()</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var keys = Object.keys(p);</span><br><span class="line">var keys = Object.getOwnPropertyNammes(p)</span><br></pre></td></tr></table></figure><p>将信息直接添加到原型对象上。使用原型的好处是可以让所有的实例对象共享它所包含的属性和方法，不必在构造函数中定义对象实例信息。</p><blockquote><p>优点：方法不会重新创建<br>缺点：1. 所有的属性和方法都共享 2. 不能初始化参数</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Person.prototype = &#123;</span><br><span class="line"><span class="keyword">constructor</span>: Person,</span><br><span class="line">   name: 'xiaohong',</span><br><span class="line">   getName: function () &#123;</span><br><span class="line">     <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> person1 = <span class="keyword">new</span> Person();</span><br></pre></td></tr></table></figure><p>不过这种方式还是不够好，应为constructor属性默认是不可枚举的，这样直接设置，它将是可枚举的。所以可以时候，Object.defineProperty方法</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Object</span>.defineProperty(Person.prototype, ‘<span class="keyword">constructor</span>’, &#123;</span><br><span class="line">  enumerable: <span class="literal">false</span>,</span><br><span class="line">  value: Person</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><blockquote><p>优点：封装性好了一点<br>缺点：原型模式该有的缺点还是有</p></blockquote><h2 id="5-组合模式-构造函数与原型模式"><a href="#5-组合模式-构造函数与原型模式" class="headerlink" title="5.组合模式(构造函数与原型模式)"></a>5.组合模式(构造函数与原型模式)</h2><p>这是使用最为广泛、认同度最高的一种创建自定义类型的方法。它可以解决上面那些模式的缺点</p><p>使用此模式可以让每个实例都会有自己的一份实例属性副本，但同时又共享着对方法的引用</p><p>这样的话，即使实例属性修改引用类型的值，也不会影响其他实例的属性值了</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Person.prototype = &#123;</span><br><span class="line">    <span class="keyword">constructor</span>: Person,</span><br><span class="line">    getName: function () &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> person = <span class="keyword">new</span> Person(<span class="string">'xiaoming'</span>);</span><br></pre></td></tr></table></figure><blockquote><p>优点：该共享的共享，该私有的私有，使用最广泛的方式<br>缺点：有的人就是希望全部都写在一起，即更好的封装性</p></blockquote><h2 id="6-动态原型模式"><a href="#6-动态原型模式" class="headerlink" title="6.动态原型模式"></a>6.动态原型模式</h2><p>动态原型模式将所有信息都封装在了构造函数中，初始化的时候，通过检测某个应该存在的方法时候有效，来决定是否需要初始化原型</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="keyword">this</span>.getName != <span class="string">"function"</span>) &#123;</span><br><span class="line">        Person.prototype.getName = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> person = <span class="keyword">new</span> Person();</span><br></pre></td></tr></table></figure><blockquote><p>使用动态原型模式时，不能用对象字面量重写原型</p></blockquote><h2 id="7-寄生构造函数模式"><a href="#7-寄生构造函数模式" class="headerlink" title="7.寄生构造函数模式"></a>7.寄生构造函数模式</h2><p>这种模式的基本思想就是创建一个函数，该函数的作用仅仅是封装创建对象的代码，然后再返回新建的对象</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> o = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line">    o.name = name;</span><br><span class="line">    o.getName = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> o;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> person = <span class="keyword">new</span> Person(<span class="string">'xiaohong'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(person <span class="keyword">instanceof</span> Person) <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(person <span class="keyword">instanceof</span> <span class="built_in">Object</span>)  <span class="comment">// true</span></span><br></pre></td></tr></table></figure><blockquote><p>寄生-构造函数-模式，也就是说寄生在构造函数的一种方法。<br>这样方法可以在特殊情况下使用。比如我们想创建一个具有额外方法的特殊数组，但是又不想直接修改Array构造函数</p></blockquote><h2 id="8-稳妥构造函数模式"><a href="#8-稳妥构造函数模式" class="headerlink" title="8.稳妥构造函数模式"></a>8.稳妥构造函数模式</h2><p>首先明白稳妥对象指的是没有公共属性，而且其方法也不引用this。</p><p>稳妥对象最适合在一些安全环境中（这些环境会禁止使用this和new），或防止数据被其他应用程序改动时使用</p><p>稳妥构造函数模式和寄生模式类似，有两点不同:一是创建对象的实例方法不引用this，而是不使用new操作符调用构造函数</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">person</span>(<span class="params">name</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> o = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line">    o.sayName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(name);</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">return</span> o;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> person = person(<span class="string">'xiaohong'</span>);</span><br><span class="line"></span><br><span class="line">person.sayName(); <span class="comment">// xiaohong</span></span><br><span class="line"></span><br><span class="line">person.name = <span class="string">"daming"</span>;</span><br><span class="line"></span><br><span class="line">person.sayName(); <span class="comment">// xiaohong</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(person.name); <span class="comment">// daming</span></span><br></pre></td></tr></table></figure><blockquote></blockquote><p>所谓稳妥对象，指的是没有公共属性，而且其方法也不引用 this 的对象。</p><p>与寄生构造函数模式有两点不同：</p><ol><li>新创建的实例方法不引用 this</li><li>不使用 new 操作符调用构造函数<br>稳妥对象最适合在一些安全的环境中。<br>稳妥构造函数模式也跟工厂模式一样，无法识别对象所属类型。</li></ol><p>推荐:<br><a href="https://segmentfault.com/a/1190000003862596" target="_blank" rel="noopener">浅谈 JS 创建对象的 8 种模式</a><br><a href="https://github.com/mqyqingfeng/Blog/issues/15" target="_blank" rel="noopener">JavaScript深入之创建对象的多种方式以及优缺点</a><br><a href="https://xxxgitone.github.io/2017/06/10/JavaScript创建对象的七种方式/" target="_blank" rel="noopener">avaScript创建对象的七种方式</a></p>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>line-height和vertical-align的理解</title>
      <link href="/line-height%E5%92%8Cvertical-align%E7%9A%84%E7%90%86%E8%A7%A3/"/>
      <url>/line-height%E5%92%8Cvertical-align%E7%9A%84%E7%90%86%E8%A7%A3/</url>
      
        <content type="html"><![CDATA[<p>line-height 和 vertical-align 都是简单的 CSS 属性，以致于大多数人自以为知道这两个属性的工作原理。<br>但实际上这两个属性非常复杂，也许算得上是 CSS 里最难的两个属性，<br>因为这两个属性和 CSS 里一个鲜为人知的特性息息相关：内联格式化上下文（IFC）。</p><a id="more"></a><h2 id="基础概念"><a href="#基础概念" class="headerlink" title="基础概念"></a>基础概念</h2><ul><li>box(盒子)</li><li>line-box(行盒)</li><li>inline-box(行内盒)</li><li>line boxes(行框)</li><li>inline boxes(行内框)</li><li>content area(内容区域)</li><li>virtual area(虚拟区域)</li><li>containing boxes(包含块)</li><li>顶线、中线、基线、底线</li><li>行间距，半行间距</li></ul><blockquote></blockquote><p>关系：<br>在containing boxes里，一个一个的inline boxes组成了line boxes<br>所有line boxes的高度组成了containing boxes的高度<br>行高的大小等于contennt area 加上 virtual area。</p><h2 id="line-height行高是什么"><a href="#line-height行高是什么" class="headerlink" title="line-height行高是什么"></a>line-height行高是什么</h2><p>line-height是两行文本基线间的距离<br><img src="http://p09g3b06f.bkt.clouddn.com/line-height%E5%92%8Cvertical-align%E7%9A%84%E7%90%86%E8%A7%A3css%E8%A1%8C%E9%AB%98%E5%9B%BE%E8%A7%A3.png" alt="css line-height"></p><p>参考:<a href="http://www.cnblogs.com/fengzheng126/archive/2012/05/18/2507632.html" target="_blank" rel="noopener">深入了解css的行高Line Height属性</a></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>The <span class="tag">&lt;<span class="name">em</span>&gt;</span>emphasis<span class="tag">&lt;/<span class="name">em</span>&gt;</span>element is defined as 'inlinne'<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure><p>这段代码中共有4个类型的盒子box,</p><p><img src="http://upload-images.jianshu.io/upload_images/2077106-71e4c703cdea1f62.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/376" alt></p><ol><li>段落p就是一种containing box 它包含了其他的box</li><li>在段落中，有一系列的inline box(2个匿名inline box和em的inline box)</li><li>inline box 在containing box里一个接一个组成了line box</li><li>content area是围绕着文字的看不见的一种 box 它的高取决于font-size和font-family</li></ol><h2 id="line-height行高的特性"><a href="#line-height行高的特性" class="headerlink" title="line-height行高的特性"></a>line-height行高的特性</h2><ol><li>行高由于其继承性，影响无处不在，即使单行文本也不例外；</li><li>行高只是幕后黑手，高度的表现不是行高，而是内容区域和行间距</li><li>只是 内容区域的高度 + 行间距的高度 = 行高的值(不是说就是行高)  </li><li>content area + vertical spacing = line-height</li><li>内容区域(content area) 高度只与 字号(font-size) 和 字体(font-family)有关，与line-height没有任何关系</li><li>在simsun(宋体)字体下，内容区域高度等于文字大小,所以在simsun字体下有：font-size + 行间距 = line-height</li></ol><blockquote></blockquote><p>总结：行高决定内联盒子的高度；行间距可大可小(甚至负值)，保障高度正好等于行高。<br>如果行框盒子line boxes里面有很多个不同的行高的内联盒子，行框盒子的高度不是由最<br>高的行内框盒子高度决定</p><h2 id="line-height的值"><a href="#line-height的值" class="headerlink" title="line-height的值"></a>line-height的值</h2><p>行高的值：normal，百分比，em,rem,px<br>注意：<br>line-height:1.5 所有可继承的元素根据font-size重新计算<br>line-height: 150%/1.5em 当前元素根据font-size计算行高，继承给下面的元素。</p><h2 id="行高图片的表现"><a href="#行高图片的表现" class="headerlink" title="行高图片的表现"></a>行高图片的表现</h2><ol><li>行高会不会影响图片的实际占据的高度</li><li>隐匿文本节点</li><li>如何消除图片底部间隙</li></ol><p>图片块状化 - 无基线对齐<br>img {display: block}<br>图片底线对齐<br>img {vertical-align:bottom}<br>行高足够小-基线位置上移<br>.box {line-height:0}</p><h2 id="line-height行高的实际应用"><a href="#line-height行高的实际应用" class="headerlink" title="line-height行高的实际应用"></a>line-height行高的实际应用</h2><ol><li>大小不固定的图片、多行文字垂直居中</li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box"</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> /&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box"</span>&gt;</span><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"text"</span>&gt;</span>文字<span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span> &#123; <span class="attribute">line-height</span>:<span class="number">250px</span>;<span class="attribute">text-align</span>:center&#125;</span><br><span class="line"><span class="selector-class">.box</span> &gt; <span class="selector-class">.text</span> &#123;</span><br><span class="line"><span class="attribute">display</span>:inline-block;<span class="attribute">line-height</span>:normal;</span><br><span class="line"><span class="attribute">text-align</span>: left; <span class="attribute">vertical-aligin</span>:middle;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="2"><li>代替height,；避免ie6/ie7下的haslayout</li></ol><hr><h2 id="vertical-align是什么"><a href="#vertical-align是什么" class="headerlink" title="vertical-align是什么"></a>vertical-align是什么</h2><p>vertical-align影响inline-level元素和table-cell元素垂直方向上的布局。根据<a href="https://developer.mozilla.org/en-US/docs/Web/CSS/vertical-align" target="_blank" rel="noopener">MDN</a>描述，vertical-align对::first-letter和::first-line同样适用</p><h2 id="vertical-align的值"><a href="#vertical-align的值" class="headerlink" title="vertical-align的值"></a>vertical-align的值</h2><table><thead><tr><th>值</th><th>说明</th></tr></thead><tbody><tr><td>长度</td><td>通过距离升高（正值）或降低（负值）元素。’0cm’等同于’baseline’</td></tr><tr><td>百分值 – %</td><td>通过距离（相对于1line-height1值的百分大小）升高（正值）或降低（负值）元素。’0%’等同于’baseline’</td></tr><tr><td>baseline</td><td>默认。元素的基线与父元素的基线对齐。</td></tr><tr><td>sub</td><td>降低元素的基线到父元素合适的下标位置。</td></tr><tr><td>super</td><td>升高元素的基线到父元素合适的上标位置。</td></tr><tr><td>top</td><td>把对齐的子元素的顶端与line box顶端对齐。</td></tr><tr><td>text-top</td><td>把元素的顶端与父元素内容区域的顶端对齐。</td></tr><tr><td>middle</td><td>元素的中垂点与 父元素的基线加1/2父元素中字母x的高度 对齐。</td></tr><tr><td>bottom</td><td>把对齐的子元素的底端与line box底端对齐。</td></tr><tr><td>text-bottom</td><td>把元素的底端与父元素内容区域的底端对齐。</td></tr><tr><td>inherit</td><td>采用父元素相关属性的相同的指定值。</td></tr></tbody></table><h2 id="vertical-align的规则"><a href="#vertical-align的规则" class="headerlink" title="vertical-align的规则"></a>vertical-align的规则</h2><ol><li>inline-table元素的baseline是它的table第一行的baseline。</li><li>父元素【line box】的baseline是最后一个inline box 的baseline。 </li><li>inline-block元素的baseline确定规则<blockquote></blockquote></li><li>规则1：inline-block元素，如果内部有line-box，则inline-block元素的baseline就是最后一个作为内容存在的元素(inline box)的baseline，而这个元素的baseline的确定就要根据它自身来定了。</li><li>规则2：inline-block元素，如果其内部没有line-box或它的overflow属性不是visible，那么baseline将是这个inline-block元素的底margin边界。</li></ol><h3 id="栗子"><a href="#栗子" class="headerlink" title="栗子"></a>栗子</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box"</span>&gt;</span></span><br><span class="line">xx<span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"s1"</span>&gt;</span>xxx<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"s2"</span>&gt;</span>xxbbc<span class="tag">&lt;/<span class="name">span</span>&gt;</span>xx<span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"s3"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span> <span class="selector-tag">span</span> &#123;</span><br><span class="line"><span class="attribute">display</span>: inline-block;</span><br><span class="line"><span class="attribute">width</span>: <span class="number">50px</span>;</span><br><span class="line"><span class="attribute">height</span>: <span class="number">50px</span>;</span><br><span class="line">/* line-height: 80px */;</span><br><span class="line"><span class="selector-tag">border</span>: 1<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-tag">red</span>;</span><br><span class="line"><span class="selector-tag">margin</span>: 10<span class="selector-tag">px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box</span> <span class="selector-class">.s2</span> &#123;</span><br><span class="line"><span class="attribute">overflow</span>: hidden;</span><br><span class="line"><span class="attribute">height</span>: <span class="number">60px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box</span> <span class="selector-class">.s3</span> &#123;</span><br><span class="line"><span class="attribute">height</span>: <span class="number">80px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="http://p09g3b06f.bkt.clouddn.com/line-height%E5%92%8Cvertical-align%E7%9A%84%E7%90%86%E8%A7%A3vertical%E6%A0%97%E5%AD%90%E5%9B%BE.png" alt="效果图"></p><blockquote><p>这个栗子中：</p></blockquote><ol><li>首先line-box的基线是以line-box中最后一个inline-box的基线，所以为 s3 的基线</li><li>s3的基线由于规则2中不具有任何内容，所以基线就是margin-bottom的边。</li><li>s2的基线也是规则2中属性设置了overflow:hidden;所以基线也是margin-bottom的边。</li><li>s1的基线由于规则1中具有line-box，所以最后一个元素的inline-box的基线作为s1的基线在这里就是内容中文字x的下边线。</li><li>由于默认的vertical-align是以基线对齐的，因此这三个(s1,s2,s3) inline-box对齐以3个的基线对齐，所以s1和s2才会下移动保障,他们的基线对齐line-box的基线(即最后一个inline-box的基线)。</li></ol><p>推荐：</p><ul><li><a href="https://www.w3cplus.com/css/css-font-metrics-line-height-and-vertical-align.html" target="_blank" rel="noopener">深入了解CSS字体度量，行高和vertical-align</a>  </li><li><a href="http://www.zhangxinxu.com/wordpress/2009/11/css%E8%A1%8C%E9%AB%98line-height%E7%9A%84%E4%B8%80%E4%BA%9B%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%E5%8F%8A%E5%BA%94%E7%94%A8/" target="_blank" rel="noopener">css行高line-height的一些深入理解及应用</a></li><li><a href="http://www.cnblogs.com/starof/p/4512284.html" target="_blank" rel="noopener">深入理解css中vertical-align属性</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> CSS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CSS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>层叠顺序与堆栈上下文</title>
      <link href="/%E5%B1%82%E5%8F%A0%E9%A1%BA%E5%BA%8F%E4%B8%8E%E5%A0%86%E6%A0%88%E4%B8%8A%E4%B8%8B%E6%96%87/"/>
      <url>/%E5%B1%82%E5%8F%A0%E9%A1%BA%E5%BA%8F%E4%B8%8E%E5%A0%86%E6%A0%88%E4%B8%8A%E4%B8%8B%E6%96%87/</url>
      
        <content type="html"><![CDATA[<h2 id="简要"><a href="#简要" class="headerlink" title="简要"></a>简要</h2><p>在CSS的盒模型中，所有的元素除了可以再屏幕上自由摆放外，还可以沿着 <strong>z轴</strong> 进行摆放，特别是当元素为止互相重叠的时候，了解z轴的摆放顺序非常重要。使用 <code>z-index</code> 可以改变元素在 z轴 的上下层级，但是 <code>z-index</code> 具体是如何影响元素的层级呢？为什么有时候它并不生效。</p><a id="more"></a><h2 id="层叠顺序（stacking-level）"><a href="#层叠顺序（stacking-level）" class="headerlink" title="层叠顺序（stacking level）"></a>层叠顺序（stacking level）</h2><blockquote></blockquote><p><code>z-index</code> 看上去其实很简单，根据 <code>z-index</code> 的高低决定层叠的优先级，实则深入进去，会发现内有乾坤。<br>看看下面这题，定义两个 div A 和 B，被包括在同一个父 div 标签下。HTML结构如下:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"inline-block"</span>&gt;</span>#divA display:inline-block<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"float"</span>&gt;</span> #divB float:left<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>它们的 <code>CSS</code> 定义如下：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span>&#123;</span><br><span class="line">    <span class="attribute">position</span>:relative;</span><br><span class="line">    <span class="attribute">background</span>:<span class="number">#ddd</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.container</span> &gt; <span class="selector-tag">div</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">height</span>:<span class="number">200px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.float</span>&#123;</span><br><span class="line">    <span class="attribute">float</span>:left;</span><br><span class="line">    <span class="attribute">background-color</span>:deeppink;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.inline-block</span>&#123;</span><br><span class="line">    <span class="attribute">display</span>:inline-block;</span><br><span class="line">    <span class="attribute">background-color</span>:yellowgreen;</span><br><span class="line">    <span class="attribute">margin-left</span>:-<span class="number">100px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>拥有共同父容器的两个 <code>DIV</code> 重叠在一起，是 display:inline-block 叠在上面，还是<code>float:left</code> 叠在上面？<br>注意这里 <code>DOM</code> 的顺序，是先生成 <code>display:inline-block</code> ，再生成 <code>float:left</code> 。当然也可以把两个的 DOM 顺序调转如下:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"float"</span>&gt;</span> #divB float:left<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"inline-block"</span>&gt;</span>#divA display:inline-block<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong><font style="font-size:18px;color:Sienna;">会发现，无论顺序如何，始终是 <code>display:inline-block</code> 的 <code>div</code> 叠在上方。</font></strong></p><p><img src="http://p09g3b06f.bkt.clouddn.com/%E5%B1%82%E5%8F%A0%E9%A1%BA%E5%BA%8F%E4%B8%8E%E5%A0%86%E6%A0%88%E4%B8%8A%E4%B8%8B%E6%96%87%5CA%E5%92%8CB%E9%A1%BA%E5%BA%8F.png" alt="demo"></p><p><a href="http://codepen.io/Chokcoco/pen/gwLYNy" target="_blank" rel="noopener">Demo</a><br>这里其实是涉及了所谓的层叠水平（stacking level)，有一张图可以很好的诠释：<br><img src="http://p09g3b06f.bkt.clouddn.com/%E5%B1%82%E5%8F%A0%E9%A1%BA%E5%BA%8F%E4%B8%8E%E5%A0%86%E6%A0%88%E4%B8%8A%E4%B8%8B%E6%96%87/css%E5%B1%82%E5%8F%A0%E9%A1%BA%E5%BA%8F.png" alt="七成层叠水平"></p><p><code>inline-blcok</code> 的 stacking level 比之 <code>float</code> 要高，所以无论 DOM 的先后顺序都堆叠在上面。</p><p>按照 W3官方 的说法，准确的 7 层为：</p><ol><li>形成堆叠上下文环境的元素的背景与边框</li><li>拥有负 z-index 的子堆叠上下文元素 （负的越高越堆叠层级越低）</li><li>正常流式布局，非 inline-block，无 position 定位（static除外）的子元素</li><li>无 position 定位（static除外）的 float 浮动元素</li><li>正常流式布局， inline-block元素，无 position 定位（static除外）的子元素（包括 display:table 和 display:inline ）</li><li>拥有 z-index:0 的子堆叠上下文元素</li><li>拥有正 z-index: 的子堆叠上下文元素（正的越低越堆叠层级越低）</li></ol><blockquote><p>所以我们的两个 div 的比较是基于上面所列出来的 4 和 5 。5 的 stacking level 更高，所以叠得更高。</p></blockquote><h2 id="堆栈上下文（stacking-context）"><a href="#堆栈上下文（stacking-context）" class="headerlink" title="堆栈上下文（stacking context）"></a>堆栈上下文（stacking context）</h2><blockquote><p>层叠上下文(stacking context)，是HTML中一个三维的概念。在CSS2.1规范中，每个盒模型的位置是三维的，分别是平面画布上的X轴，Y轴以及表示层叠的Z轴。一般情况下，元素在页面上沿X轴Y轴平铺，我们察觉不到它们在Z轴上的层叠关系。而一旦元素发生堆叠，这时就能发现某个元素可能覆盖了另一个元素或者被另一个元素覆盖。</p></blockquote><p>上面的比较是基于两个 <code>div</code> 都没有形成 堆叠上下文 这个为基础的。下面我们修改一下题目，给两个 <code>div</code> ，增加一个 <code>opacity</code>:</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span>&#123;</span><br><span class="line">    <span class="attribute">position</span>:relative;</span><br><span class="line">    <span class="attribute">background</span>:<span class="number">#ddd</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.container</span> &gt; <span class="selector-tag">div</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">height</span>:<span class="number">200px</span>;</span><br><span class="line">    opacity:0.9; // 注意这里，增加一个 opacity</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.float</span>&#123;</span><br><span class="line">    <span class="attribute">float</span>:left;</span><br><span class="line">    <span class="attribute">background-color</span>:deeppink;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.inline-block</span>&#123;</span><br><span class="line">    <span class="attribute">display</span>:inline-block;</span><br><span class="line">    <span class="attribute">background-color</span>:yellowgreen;</span><br><span class="line">    <span class="attribute">margin-left</span>:-<span class="number">100px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="http://codepen.io/Chokcoco/pen/qaqdqA" target="_blank" rel="noopener">Demo</a></p><blockquote></blockquote><p>会看到，inline-block 的 div 不再一定叠在 float 的 div 之上，而是和 HTML 代码中 DOM 的堆放顺序有关，后添加的 div 会 叠在先添加的 div 之上。</p><blockquote></blockquote><p>这里的关键点在于，添加的 opacity:0.9 这个让两个 div 都生成了 stacking context（堆叠上下文） 的概念。此时，要对两者进行层叠排列，就需要 z-index ，z-index 越高的层叠层级越高。</p><blockquote></blockquote><p>堆叠上下文是HTML元素的三维概念，这些HTML元素在一条假想的相对于面向（电脑屏幕的）视窗或者网页的用户的 z 轴上延伸，HTML 元素依据其自身属性按照优先级顺序占用层叠上下文的空间。概念比较抽象，简单理解，<strong>记住 生成了 Stacking Context 的元素会影响该元素的层叠关系与定位关系。</strong></p><p>如何触发一个元素形成 堆叠上下文 ？方法如下，摘自 <a href="https://developer.mozilla.org/zh-CN/docs/Web/Guide/CSS/Understanding_z_index/The_stacking_context" target="_blank" rel="noopener">MDN</a>：</p><ol><li>根元素 (HTML),</li><li>z-index 值不为 “auto”的 绝对/相对定位，</li><li>一个 z-index 值不为 “auto”的 flex 项目 (flex item)，即：父元素 display: flex|inline-flex，</li><li>opacity 属性值小于 1 的元素（参考 the specification for opacity），</li><li>transform 属性值不为 “none”的元素，</li><li>mix-blend-mode 属性值不为 “normal”的元素，</li><li>filter值不为“none”的元素，</li><li>perspective值不为“none”的元素，</li><li>isolation 属性被设置为 “isolate”的元素，</li><li>position: fixed</li><li>在 will-change 中指定了任意 CSS 属性，即便你没有直接指定这些属性的值</li><li>-webkit-overflow-scrolling 属性被设置 “touch”的元素</li></ol><p>所以，上面我们给两个 <code>div</code> 添加 <code>opacity</code> 属性的目的就是为了形成 <code>stacking context</code>。也就是说添加 <code>opacity</code> 替换成上面列出来这些属性都是可以达到同样的效果。</p><p>在层叠上下文中，其子元素同样也按照上面解释的规则进行层叠。 特别值得一提的是，其子元素的 <code>z-index</code> 值只在父级层叠上下文中有意义。意思就是父元素的 <code>z-index</code> 低于父元素另一个同级元素，子元素 <code>z-index</code>再高也没用。</p><p>理解上面的 <code>stacking-level</code> 与 <code>stacking-context</code> 是理解 CSS 的层叠顺序的关键。</p><h2 id="fixed定位失效"><a href="#fixed定位失效" class="headerlink" title="fixed定位失效"></a>fixed定位失效</h2><p>当元素祖先的 transform 属性非 none 时，容器由视口改为该祖先。</p><ol><li><p>任何非 none 的 transform 值都会导致一个堆叠上下文（Stacking Context）和包含块（Containing Block）的创建。</p></li><li><p>由于堆叠上下文的创建，该元素会影响其子元素的固定定位。设置了 position:fixed 的子元素将不会基于 viewport 定位，而是基于这个父元素。</p></li><li><p>transform 属性值不为 none 的元素</p></li><li><p>设置了 transform-style: preserve-3d 的元素</p></li><li><p>perspective 值不为 none 的元素</p></li><li><p>在 will-change 中指定了任意 CSS 属性</p></li></ol><p>原文地址:<a href="http://www.cnblogs.com/coco1s/p/5899089.html" target="_blank" rel="noopener">http://www.cnblogs.com/coco1s/p/5899089.html</a></p>]]></content>
      
      
      <categories>
          
          <category> CSS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CSS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>视觉格式化中BFC和IFC的理解</title>
      <link href="/%E8%A7%86%E8%A7%89%E6%A0%BC%E5%BC%8F%E5%8C%96%E4%B8%ADBFC%E5%92%8CIFC%E7%9A%84%E7%90%86%E8%A7%A3/"/>
      <url>/%E8%A7%86%E8%A7%89%E6%A0%BC%E5%BC%8F%E5%8C%96%E4%B8%ADBFC%E5%92%8CIFC%E7%9A%84%E7%90%86%E8%A7%A3/</url>
      
        <content type="html"><![CDATA[<h2 id="简要"><a href="#简要" class="headerlink" title="简要"></a>简要</h2><p>在目前的CSS的世界中，所有的高度都是有两个CSS模型产生的，一个是box盒状模型，对应CSS为”height+padding+margin”，另外一个是line box模型，对应样式为”line-height”。前者的height属性分为明显的height值和隐藏的height值，所谓隐藏的height值是指图片的高度，一旦载入一张图片，其内在的height值就会起作用，即使您看不到”height”这个词。而后者针对于文字等这类inline boxes的元素（图片也属于inline boxes，但其height比line-height作用更凶猛，故其inline boxes高度等于其自身高度，对line-height无反应），inline boxes的高度直接受line-height控制（改变line-height文字拉开或重叠就是这个原因），而真正的高度表现则是由每行众多的inline boxes组成的line boxes（等于内部最高的inline box的高度），而这些line boxes的高度垂直堆叠形成了containing box的高度，也就是我们见到的div或是p标签之类的高度了。所以，对于line box模型的元素而言，没有inline boxes，就没有高度了，而浮动却恰恰做了这么龌龊的事情，其直接将元素的inline boxes也破坏了，于是这些元素也就没有了高度。<br>引用：<a href="http://www.zhangxinxu.com/wordpress/2010/01/css-float浮动的深入研究、详解及拓展一/" target="_blank" rel="noopener">CSS float浮动的深入研究</a></p><a id="more"></a><h2 id="视觉格式化模型"><a href="#视觉格式化模型" class="headerlink" title="视觉格式化模型"></a>视觉格式化模型</h2><p>一大波概念：</p><ol><li>包含块</li><li>块级元素(Block-level)、块元素</li><li>块级框(Block-level box)、块容器框、块框(Block box)</li><li>行内级元素(Inline-level)、行内元素</li><li>行内级框(Inline-level box)、原子行内级框、行内框(Inline-box)</li><li>匿名框</li><li>替换元素和非替换元素</li></ol><p>参考<br><a href="http://blog.doyoe.com/2015/03/09/css/视觉格式化模型中的各种框/#containing-block" target="_blank" rel="noopener">视觉格式化模型中的各种框</a></p><h3 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h3><p>CSS 视觉格式化模型(visual formatting model)是用来处理文档并将它显示在视觉媒体上的机制。这是 CSS 的一个基础概念。 视觉格式化模型根据 CSS 盒模型为文档的每个元素生成 0，1 或多个盒</p><p><img src="http://p09g3b06f.bkt.clouddn.com/%E8%A7%86%E8%A7%89%E6%A0%BC%E5%BC%8F%E5%8C%96%E4%B8%ADBFC%E5%92%8CIFC%E7%9A%84%E7%90%86%E8%A7%A3box%E6%A8%A1%E5%9E%8B.jpg" alt="box模型"></p><h2 id="BFC-块级格式化上下文"><a href="#BFC-块级格式化上下文" class="headerlink" title="BFC 块级格式化上下文"></a>BFC 块级格式化上下文</h2><h3 id="什么是BFC"><a href="#什么是BFC" class="headerlink" title="什么是BFC"></a>什么是BFC</h3><p>块级格式化上下文，Block formatting context(简称BFC)，规定了块级盒子的渲染布局方式，他在计算盒子高度，margin值计算等地方有区别于其他环境。</p><h3 id="BFC的特点"><a href="#BFC的特点" class="headerlink" title="BFC的特点"></a>BFC的特点</h3><blockquote></blockquote><ol><li>内部盒子会在垂直方向排列</li><li>同一个BFC中的元素可能会发生margin collapse；</li><li>BFC就是页面上的一个隔离的独立容器，里外互相不影响</li><li>计算BFC的高度时，考虑BFC所包含的所有子元素，连浮动元素也参与计算；</li><li>当元素不是BFC的子元素的时候，浮动元素高度不参与BFC计算（既是常见的盒子塌陷问题）</li></ol><h3 id="怎样产生一个新的BFC"><a href="#怎样产生一个新的BFC" class="headerlink" title="怎样产生一个新的BFC"></a>怎样产生一个新的BFC</h3><blockquote></blockquote><ol><li>根元素 <code>&lt;html&gt;</code></li><li>float属性不为none</li><li>position为absolute或fixed</li><li>display为inline-block, table-cell, table-caption, flex, inline-flex</li><li>overflow不为visible</li></ol><h3 id="BFC可以做什么"><a href="#BFC可以做什么" class="headerlink" title="BFC可以做什么"></a>BFC可以做什么</h3><blockquote></blockquote><ol><li>清除浮动</li><li>阻止边距折叠</li><li>用于布局，什么两栏自适应高度之类的</li></ol><h2 id="IFC-行内级格式化上下文"><a href="#IFC-行内级格式化上下文" class="headerlink" title="IFC 行内级格式化上下文"></a>IFC 行内级格式化上下文</h2><h3 id="什么是IFC"><a href="#什么是IFC" class="headerlink" title="什么是IFC"></a>什么是IFC</h3><ul><li>行内级格式化上下文用来规定行内级盒子的格式化规则。</li><li>IFC 只有在一个块级元素中<strong>仅包含</strong>内联级别元素时才会生成。</li></ul><blockquote><p>在行内格式化上下文中，框(boxes)一个接一个地水平排列，起点是包含块的顶部。水平方向上的 margin ， border 和 padding 在框之间得到保留。框在垂直方向上可以以不同的方式对齐：它们的顶部或底部对齐，或根据其中文字的基线对齐。包含那些框的长方形区域，会形成一行，叫做行框。</p></blockquote><h3 id="主要影响IFC内布局的css"><a href="#主要影响IFC内布局的css" class="headerlink" title="主要影响IFC内布局的css"></a>主要影响IFC内布局的css</h3><blockquote></blockquote><ol><li>font-size</li><li>line-height</li><li>height</li><li>vertical-aligin</li></ol><h3 id="line-height-amp-height"><a href="#line-height-amp-height" class="headerlink" title="line-height &amp; height"></a>line-height &amp; height</h3><p>在一个由多个内联元素组成的块状容器内，’line-height’为内联元素的行盒模型指定了一个最低高度。 这个最低高度是分别由基线上的最小高度和基线下的最小深度组成。</p><p><img src="http://p09g3b06f.bkt.clouddn.com/%E8%A7%86%E8%A7%89%E6%A0%BC%E5%BC%8F%E5%8C%96%E4%B8%ADBFC%E5%92%8CIFC%E7%9A%84%E7%90%86%E8%A7%A3css%E8%A1%8C%E9%AB%98%E5%9B%BE%E8%A7%A3.png" alt="css行高图解"></p><p>从上到下四条线分别是顶线、中线、基线、底线。 那么行高是指上下文本行的基线间的垂直距离，即图中两条红线间垂直距离（实际在数值上，行高也等于其它相同颜色间的距离）。</p><h3 id="ifc布局规则"><a href="#ifc布局规则" class="headerlink" title="ifc布局规则"></a>ifc布局规则</h3><ol><li><p>内部的盒子会在水平方向，一个接一个地放置。</p></li><li><p>这些盒子垂直方向的起点从包含块盒子的顶部开始。</p></li><li><p>摆放这些盒子的时候，它们在水平方向上的 padding、border、margin 所占用的空间都会被考虑在内。</p></li><li><p>在垂直方向上，这些框可能会以不同形式来对齐（vertical-align）：它们可能会使用底部或顶部对齐，也可能通过其内部的文本基线（baseline）对齐。</p></li><li><p>能把在一行上的框都完全包含进去的一个矩形区域，被称为该行的行框（line box）。行框的宽度是由包含块（containing box）和存在的浮动来决定。</p></li><li><p>IFC中的 line box 一般左右边都贴紧其包含块，但是会因为float元素的存在发生变化。float 元素会位于IFC与与 line box 之间，使得 line box 宽度缩短。</p></li><li><p>IFC 中的 line box 高度由 CSS 行高计算规则来确定，同个 IFC 下的多个 line box 高度可能会不同（比如一行包含了较高的图片，而另一行只有文本）</p></li><li><p>当 inline-level boxes 的总宽度少于包含它们的 line box 时，其水平渲染规则由 text-align 属性来确定，如果取值为 justify，那么浏览器会对 inline-boxes（注意不是inline-table 和 inline-block boxes）中的文字和空格做出拉伸。</p></li><li><p>当一个 inline box 超过 line box 的宽度时，它会被分割成多个boxes，这些 boxes 被分布在多个 line box 里。如果一个 inline box 不能被分割（比如只包含单个字符，或 word-breaking 机制被禁用，或该行内框受 white-space 属性值为 nowrap 或 pre 的影响），那么这个 inline box 将溢出这个 line box。</p></li></ol><h3 id="IFC-的具体实用在何处呢？"><a href="#IFC-的具体实用在何处呢？" class="headerlink" title="IFC 的具体实用在何处呢？"></a>IFC 的具体实用在何处呢？</h3><ol><li><p>水平居中：当一个块要在环境中水平居中时，设置其为 inline-block 则会在外层产生 IFC，通过设置父容器 text-align:center 则可以使其水平居中。</p></li><li><p>垂直居中：创建一个IFC，用其中一个元素撑开父元素的高度，然后设置其 vertical-align:middle，其他行内元素则可以在此父元素下垂直居中。</p></li></ol><h2 id="其它FC"><a href="#其它FC" class="headerlink" title="其它FC"></a>其它FC</h2><blockquote></blockquote><ul><li>GFC（Grid Formatting Contexts）栅格格式化上下文</li><li>FFC（Flex Formatting Contexts）Flex格式化上下文</li></ul><p>弹性容器不是块容器，下列适用于块布局的属性不适用于弹性布局：</p><ol><li>在CSS3多列布局模块中定义的 column-* 属性不适用于弹性容器。</li><li>float 和 clear 属性对于弹性项没有作用，并不会把它带离文档流（或相反）。然而，浮动属性仍然会通过影响display属性的计算值而影响box的生成。</li><li>vertical-align 属性对于弹性项没有作用</li><li>::first-line 和 ::first-letter 伪元素不适用于弹性容器，而且弹性容器不为他们的祖先提供第一个格式化的行或第一个字母。</li></ol><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ul><li><a href="https://segmentfault.com/a/1190000005116275" target="_blank" rel="noopener">想要清晰的明白（一）： CSS视觉格式化模型|盒模型|定位方案|BFC</a></li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/Guide/CSS/Visual_formatting_model" target="_blank" rel="noopener">MDN-视觉格式化模型</a></li><li><a href="http://blog.doyoe.com/2015/03/09/css/视觉格式化模型中的各种框/#containing-block" target="_blank" rel="noopener">视觉格式化模型中的各种框</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> CSS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CSS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSS布局方案总结</title>
      <link href="/CSS%E5%B8%83%E5%B1%80%E6%96%B9%E6%A1%88%E6%80%BB%E7%BB%93/"/>
      <url>/CSS%E5%B8%83%E5%B1%80%E6%96%B9%E6%A1%88%E6%80%BB%E7%BB%93/</url>
      
        <content type="html"><![CDATA[<p>css布局方案总结笔记</p><p>CSS书写顺序<br>位置属性(position, top, right, z-index, display, float等)<br>大小(width, height, padding, margin)<br>文字系列(font, line-height, letter-spacing, color- text-align等)<br>背景(background, border等)<br>其他(animation, transition等)</p><h2 id="1-两栏布局"><a href="#1-两栏布局" class="headerlink" title="1. 两栏布局"></a>1. 两栏布局</h2><h3 id="一列定宽，一列自适应"><a href="#一列定宽，一列自适应" class="headerlink" title="一列定宽，一列自适应"></a>一列定宽，一列自适应</h3><h4 id="float-overflow"><a href="#float-overflow" class="headerlink" title="float + overflow"></a>float + overflow</h4><blockquote><p>左栏固定宽度右栏自适应</p></blockquote><a id="more"></a><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"> <span class="comment">&lt;!-- HTML 结构 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"parent"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"child left"</span>&gt;</span>left<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"child right"</span>&gt;</span>right<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  </span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span></span><br><span class="line"><span class="css">  <span class="selector-class">.parent</span> &#123;</span></span><br><span class="line"><span class="css">  <span class="selector-tag">background</span>:<span class="selector-id">#ccc</span>;</span></span><br><span class="line">  &#125;</span><br><span class="line"><span class="css">  <span class="selector-class">.parent</span> <span class="selector-class">.child</span> &#123;</span></span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"><span class="css">  <span class="selector-class">.parent</span> <span class="selector-class">.left</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">float</span><span class="selector-pseudo">:left</span>;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">width</span><span class="selector-pseudo">:100px</span>;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">height</span><span class="selector-pseudo">:100px</span>;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">background</span><span class="selector-pseudo">:tan</span>;</span></span><br><span class="line">  &#125;</span><br><span class="line"><span class="css">  <span class="selector-class">.parent</span> <span class="selector-class">.right</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">overflow</span><span class="selector-pseudo">:auto</span>; <span class="comment">/* 关键 */</span></span></span><br><span class="line"><span class="css">    <span class="selector-tag">height</span><span class="selector-pseudo">:90px</span>;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">background</span><span class="selector-pseudo">:pink</span>;</span></span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>右栏固定宽度左栏自适应<br>同上，把float改成right</p></blockquote><h4 id="float-margin"><a href="#float-margin" class="headerlink" title="float + margin"></a>float + margin</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="selector-class">.left</span>&#123;</span><br><span class="line">   <span class="attribute">float</span>: left;</span><br><span class="line">   <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.right</span>&#123;</span><br><span class="line">   <span class="attribute">margin-left</span>: <span class="number">120px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>此方案对于定宽布局比较好</p></blockquote><h4 id="table-推荐"><a href="#table-推荐" class="headerlink" title="table(推荐)"></a>table(推荐)</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="selector-class">.parent</span>&#123;</span><br><span class="line">   <span class="attribute">display</span>: table; <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">   <span class="attribute">table-layout</span>: fixed;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.left</span>,<span class="selector-class">.right</span>&#123;</span><br><span class="line">   <span class="attribute">display</span>: table-cell;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.left</span>&#123;</span><br><span class="line">   <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">   <span class="attribute">padding-right</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>此方案不管是多列定宽或是不定宽，都可以完美实现，同时可以实现登高布局</p></blockquote><h4 id="flex"><a href="#flex" class="headerlink" title="flex"></a>flex</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.parent</span>&#123;</span><br><span class="line">   <span class="attribute">display</span>: flex;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.left</span>&#123;</span><br><span class="line">   <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">   <span class="attribute">padding-right</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.right</span>&#123;</span><br><span class="line">   <span class="attribute">flex</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>flex布局兼容性差</p></blockquote><h2 id="2-三栏布局"><a href="#2-三栏布局" class="headerlink" title="2. 三栏布局"></a>2. 三栏布局</h2><h3 id="圣杯布局"><a href="#圣杯布局" class="headerlink" title="圣杯布局"></a>圣杯布局</h3><ol><li>左栏固定，右边自适应</li><li>右边固定，左边自适应</li><li>左右固定，中间自适应</li><li>左右在左边固定，中间在右边自适应</li><li>左右在右边固定，中间在左边自适应</li></ol><p><a href="http://www.cnblogs.com/lyzg/p/5160570.html#_label0" target="_blank" rel="noopener">圣杯布局传统实现</a></p><p><img src="http://p09g3b06f.bkt.clouddn.com/CSS%E5%B8%83%E5%B1%80%E6%96%B9%E6%A1%88%E6%80%BB%E7%BB%93/%E5%9C%A3%E6%9D%AF%E5%B8%83%E5%B1%80%E6%96%B9%E5%BC%8F.png" alt="text"></p><blockquote><p>圣杯：父盒子包含三个子盒子（左，中，右）</p></blockquote><ul><li>中间盒子的宽度设置为 width: 100%; 独占一行；</li><li>使用负边距(均是 margin-left)把左右两边的盒子都拉上去和中间盒子同一行；</li><li>.left {margin-left:-100%;} 把左边的盒子拉上去</li><li>.right {margin-left：-右边盒子宽度px;} 把右边的盒子拉上去</li><li>父盒子设置左右的 padding 来为左右盒子留位置；</li><li>对左右盒子使用相对布局来占据 padding 的空白，避免中间盒子的内容被左右盒子覆盖；</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"> <span class="comment">&lt;!-- 圣杯的 HTML 结构 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container clearfix"</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 中间的 div 必须写在最前面 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"middle col"</span>&gt;</span>中间弹性区<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"left col"</span>&gt;</span>左边栏<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"right col"</span>&gt;</span>右边栏<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 圣杯的 CSS 样式 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">  <span class="selector-class">.container</span> &#123;<span class="attribute">padding</span>: <span class="number">0</span> <span class="number">100px</span> <span class="number">0</span> <span class="number">100px</span>;&#125; <span class="comment">/* 关键 */</span></span></span><br><span class="line"><span class="css">  <span class="selector-class">.container</span> <span class="selector-class">.col</span> &#123;<span class="attribute">float</span>:left;&#125;</span></span><br><span class="line"><span class="css">  <span class="selector-class">.main</span> &#123;<span class="attribute">width</span>: <span class="number">100%</span>;<span class="attribute">height</span>: <span class="number">200px</span>;&#125;</span></span><br><span class="line"><span class="css">  <span class="selector-class">.left</span> &#123;<span class="attribute">width</span>: <span class="number">100px</span>; <span class="attribute">height</span>: <span class="number">200px</span>; <span class="attribute">margin-left</span>: -<span class="number">100%</span>;<span class="attribute">left</span>: -<span class="number">100px</span>; <span class="comment">/* 关键 */</span>&#125;</span></span><br><span class="line"><span class="css">  <span class="selector-class">.right</span> &#123;<span class="attribute">width</span>: <span class="number">100px</span>; <span class="attribute">height</span>: <span class="number">200px</span>; <span class="attribute">margin-left</span>: -<span class="number">100px</span>; <span class="attribute">right</span>: -<span class="number">100px</span>; <span class="comment">/* 关键 */</span>&#125;</span></span><br><span class="line"><span class="css">  <span class="selector-class">.clearfix</span><span class="selector-pseudo">::after</span> &#123;<span class="attribute">content</span>: <span class="string">""</span>; <span class="attribute">display</span>: block; <span class="attribute">clear</span>: both; <span class="attribute">visibility</span>: hidden; <span class="attribute">height</span>: <span class="number">0</span>; <span class="attribute">overflow</span>: hidden;&#125;</span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span></span><br></pre></td></tr></table></figure><h3 id="双飞翼布局"><a href="#双飞翼布局" class="headerlink" title="双飞翼布局"></a>双飞翼布局</h3><blockquote><p>双飞翼：父盒子包含三个子盒子（左，中，右），中间的子盒子里再加一个子盒子。</p></blockquote><ul><li>中间盒子的宽度设置为 width: 100%; 独占一行；</li><li>使用负边距(均是 margin-left)把左右两边的盒子都拉上去和中间盒子同一行；</li><li>在中间盒子里面再添加一个 div，然后对这个 div 设置 margin-left 和 margin-right来为左右盒子留位置；</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 双飞翼的 HTML 结构 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container clearfix"</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 中间的 div 必须写在最前面 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"middle col"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"middle-inner"</span>&gt;</span>中间弹性区<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"left col"</span>&gt;</span>左边栏<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"right col"</span>&gt;</span>右边栏<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 双飞翼的 CSS 样式 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">  <span class="selector-class">.col</span> &#123;<span class="attribute">float</span>: left;&#125;</span></span><br><span class="line"><span class="css">  <span class="selector-class">.middle</span> &#123;<span class="attribute">width</span>: <span class="number">100%</span>;&#125;</span></span><br><span class="line"><span class="css">  <span class="selector-class">.middle-inner</span> &#123;<span class="attribute">margin</span>: <span class="number">0</span> <span class="number">100px</span> <span class="number">0</span> <span class="number">100px</span>; <span class="attribute">width</span>:auto; <span class="attribute">height</span>: <span class="number">200px</span>;&#125;</span></span><br><span class="line"><span class="css">  <span class="selector-class">.left</span> &#123;<span class="attribute">width</span>: <span class="number">100px</span>; <span class="attribute">height</span>: <span class="number">200px</span>; <span class="attribute">margin-left</span>: -<span class="number">100%</span>;&#125;</span></span><br><span class="line"><span class="css">  <span class="selector-class">.right</span> &#123;<span class="attribute">width</span>: <span class="number">100px</span>; <span class="attribute">height</span>: <span class="number">200px</span>; <span class="attribute">margin-left</span>: -<span class="number">100px</span>;&#125;</span></span><br><span class="line"><span class="css">  <span class="selector-class">.clearfix</span><span class="selector-pseudo">::after</span> &#123;<span class="attribute">content</span>: <span class="string">""</span>; <span class="attribute">display</span>: block; <span class="attribute">clear</span>: both; <span class="attribute">visibility</span>: hidden; <span class="attribute">height</span>: <span class="number">0</span>; <span class="attribute">overflow</span>: hidden;&#125;</span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span></span><br></pre></td></tr></table></figure><h3 id="圣杯和双飞翼异同"><a href="#圣杯和双飞翼异同" class="headerlink" title="圣杯和双飞翼异同"></a>圣杯和双飞翼异同</h3><blockquote><p>圣杯布局和双飞翼布局解决的问题是一样的，<strong>都是两边定宽，中间自适应的三栏布局，中间栏要在放在文档流前面以优先渲染。</strong></p></blockquote><ul><li>两种方法基本思路都相同：首先让中间盒子 100% 宽度占满同一高度的空间，在左右两个盒子被挤出中间盒子所在区域时，使用 margin-left 的负值将左右两个盒子拉回与中间盒子同一高度的空间。接下来进行一些调整避免中间盒子的内容被左右盒子遮挡。</li><li>主要区别在于 如何使中间盒子的内容不被左右盒子遮挡</li><li>圣杯布局的方法：设置父盒子的 padding 值为左右盒子留出空位，再利用相对布局对左右盒子调整位置占据 padding 出来的空位；双飞翼布局的方法：在中间盒子里再增加一个子盒子，直接设置这个子盒子的 margin 值来让出空位，而不用再调整左右盒子。</li><li>简单说起来就是双飞翼布局比圣杯布局多创建了一个 div，但不用相对布局了，少设置几个属性。</li></ul><h3 id="无名布局-定位"><a href="#无名布局-定位" class="headerlink" title="无名布局(定位)"></a>无名布局(定位)</h3><blockquote><p>简单的绝对定位即可解决问题，为啥还要搞什么圣杯和双飞翼</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"header"</span>&gt;</span>header<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"wrapper"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"main col"</span>&gt;</span></span><br><span class="line">    main</span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"left col"</span>&gt;</span></span><br><span class="line">    left</span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"right col"</span>&gt;</span></span><br><span class="line">    right</span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"footer"</span>&gt;</span>footer<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">  <span class="selector-class">.wrapper</span> &#123; <span class="attribute">position</span>: relative; &#125;</span></span><br><span class="line"><span class="css">  <span class="selector-class">.main</span> &#123; <span class="attribute">margin</span>:<span class="number">0</span> <span class="number">100px</span>;&#125;</span></span><br><span class="line"><span class="css">  <span class="selector-class">.left</span> &#123; <span class="attribute">position</span>: absolute; <span class="attribute">left</span>: <span class="number">0</span>; <span class="attribute">top</span>: <span class="number">0</span>; <span class="attribute">width</span>: <span class="number">100px</span>;&#125;</span></span><br><span class="line"><span class="css">  <span class="selector-class">.right</span> &#123; <span class="attribute">position</span>: absolute; <span class="attribute">right</span>: <span class="number">0</span>; <span class="attribute">top</span>: <span class="number">0</span>; <span class="attribute">width</span>: <span class="number">100px</span>;&#125;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>这里的左中右三个div的顺序是可以任意调整的，这与剩下的两中方法就不一样了，需要注意一下。<br>此方法的优点是，理解容易，上手简单，受内部元素影响而破坏布局的概率低，就是比较经得起折腾。</p></blockquote><h3 id="利用浮动实现"><a href="#利用浮动实现" class="headerlink" title="利用浮动实现"></a>利用浮动实现</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 浮动实现的 HTML 结构 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container clearfix"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"left"</span>&gt;</span>左边栏<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"right"</span>&gt;</span>右边栏<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 中间的 div 必须写在最后面 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"middle"</span>&gt;</span>中间弹性区<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 浮动实现的 CSS 样式 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">  <span class="selector-class">.left</span> &#123;</span></span><br><span class="line">    float: left;</span><br><span class="line">    width: 100px;</span><br><span class="line">    height: 100px;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="css">  <span class="selector-class">.right</span> &#123;</span></span><br><span class="line">    float: right;</span><br><span class="line">    width: 100px;</span><br><span class="line">    height: 100px;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="css">  <span class="selector-class">.middle</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">width</span><span class="selector-pseudo">:auto</span>;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">padding</span><span class="selector-pseudo">:0</span> 100<span class="selector-tag">px</span>;</span></span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>左边盒子左浮动，右边盒子右浮动，中间盒子利用 <code>margin-left</code> 和 <code>margin-right</code> 来为左右盒子留位置<br>同时父盒子设置 <code>overflow: auto</code>; 来避免子盒子溢出。</p></blockquote><h2 id="3-居中布局"><a href="#3-居中布局" class="headerlink" title="3. 居中布局"></a>3. 居中布局</h2><blockquote><p><a href="http://www.cnblogs.com/star91/p/5723802.html" target="_blank" rel="noopener">CSS实现元素水平垂直居中—喜欢对称美，这病没得治</a></p></blockquote><blockquote><p><a href="https://segmentfault.com/a/1190000016675252" target="_blank" rel="noopener">如何居中一个元素(终结版)</a></p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"parent"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"child"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="水平居中"><a href="#水平居中" class="headerlink" title="水平居中"></a>水平居中</h3><h4 id="inline-block-text-align"><a href="#inline-block-text-align" class="headerlink" title="inline-block + text-align"></a>inline-block + text-align</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="selector-class">.parent</span> &#123;<span class="attribute">text-align</span>: center&#125;</span><br><span class="line"><span class="selector-class">.child</span> &#123;<span class="attribute">display</span>: inline-block&#125;</span><br></pre></td></tr></table></figure><blockquote><p>此方案兼容性较好，可兼容至IE8，对于IE567并不支持<code>inline-block</code>，需要使用css hack进行兼容</p></blockquote><h4 id="absolute-transform-或负margin"><a href="#absolute-transform-或负margin" class="headerlink" title="absolute + transform(或负margin)"></a>absolute + transform(或负margin)</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="selector-class">.parent</span>&#123;</span><br><span class="line">   <span class="attribute">position</span>: relative;</span><br><span class="line">   <span class="attribute">height</span>:<span class="number">1.5em</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.child</span>&#123;</span><br><span class="line">   <span class="attribute">position</span>: absolute;</span><br><span class="line">   <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">   <span class="attribute">transform</span>: <span class="built_in">translateX</span>(-<span class="number">50%</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>此方案兼容至IE9，因为<code>transform</code>兼容性限制，如果.child为定宽元素，可以使用以下写法，兼容性极佳</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="selector-class">.parent</span>&#123;</span><br><span class="line">   <span class="attribute">position</span>: relative;</span><br><span class="line">   <span class="attribute">height</span>:<span class="number">1.5em</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.child</span>&#123;</span><br><span class="line">   <span class="attribute">position</span>: absolute;</span><br><span class="line">   <span class="attribute">width</span>:<span class="number">100px</span>;</span><br><span class="line">   <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">   <span class="attribute">margin-left</span>:-<span class="number">50px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>此方案兼容性较好,但是要固定child元素的宽度</p></blockquote><h4 id="flex-justify-content"><a href="#flex-justify-content" class="headerlink" title="flex + justify-content"></a>flex + justify-content</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="selector-class">.parent</span>&#123;</span><br><span class="line">   <span class="attribute">display</span>: flex;</span><br><span class="line">   <span class="attribute">justify-content</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.child</span>&#123;</span><br><span class="line">   <span class="attribute">margin</span>: <span class="number">0</span> auto;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>flex是一个强大的<code>css</code>，生而为布局，它可以轻松的满足各种居中、对其、平分的布局要求，但由于现浏览器兼容性问题，<br>此方案很少在<strong>pc</strong>被使用，但是值得期待浏览器兼容性良好但那一天！</p></blockquote><h3 id="垂直居中"><a href="#垂直居中" class="headerlink" title="垂直居中"></a>垂直居中</h3><h4 id="table-cell-vertial-align"><a href="#table-cell-vertial-align" class="headerlink" title="table-cell + vertial-align"></a>table-cell + vertial-align</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="selector-class">.parent</span> &#123;<span class="attribute">display</span>:table;&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.child</span> &#123;</span><br><span class="line">   <span class="attribute">display</span>: table-cell;</span><br><span class="line">   <span class="attribute">vertical-align</span>: middle;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>可替换成<code>&lt;table /&gt;</code>布局，兼容性良好</p></blockquote><h4 id="absolute-transform-或负margin-1"><a href="#absolute-transform-或负margin-1" class="headerlink" title="absolute + transform(或负margin)"></a>absolute + transform(或负margin)</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="selector-class">.parent</span>&#123;</span><br><span class="line">   <span class="attribute">position</span>: relative;</span><br><span class="line">   <span class="attribute">height</span>:<span class="number">1.5em</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.child</span>&#123;</span><br><span class="line">   <span class="attribute">position</span>: absolute;</span><br><span class="line">   <span class="attribute">top</span>: <span class="number">50%</span>;</span><br><span class="line">   <span class="attribute">transform</span>: <span class="built_in">translateY</span>(-<span class="number">50%</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.parent</span>&#123;</span><br><span class="line">   <span class="attribute">position</span>: relative;</span><br><span class="line">   <span class="attribute">height</span>:<span class="number">1.5em</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.child</span>&#123;</span><br><span class="line">   <span class="attribute">position</span>: absolute;</span><br><span class="line">   <span class="attribute">width</span>:<span class="number">100px</span>;</span><br><span class="line">   <span class="attribute">height</span>:<span class="number">100px</span>;</span><br><span class="line">   <span class="attribute">top</span>: <span class="number">50%</span>;</span><br><span class="line">   <span class="attribute">margin-top</span>:-<span class="number">50px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>此方案兼容性较好,但是要固定child元素的宽度</p></blockquote><h4 id="flex-align-items"><a href="#flex-align-items" class="headerlink" title="flex + align-items"></a>flex + align-items</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="selector-class">.parent</span>&#123;</span><br><span class="line">   <span class="attribute">display</span>: flex;</span><br><span class="line">   <span class="attribute">align-items</span>: center;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>高版本浏览器兼容，低版本不适用</p></blockquote><h3 id="水平垂直居中"><a href="#水平垂直居中" class="headerlink" title="水平垂直居中"></a>水平垂直居中</h3><h4 id="inline-block-table-cell-text-align-vertical-align"><a href="#inline-block-table-cell-text-align-vertical-align" class="headerlink" title="inline-block + table-cell + text-align + vertical-align"></a>inline-block + table-cell + text-align + vertical-align</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="selector-class">.parent</span>&#123;</span><br><span class="line"><span class="attribute">text-align</span>: center;</span><br><span class="line">   <span class="attribute">display</span>: table-cell;</span><br><span class="line">   <span class="attribute">vertical-align</span>: middle;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.child</span>&#123;</span><br><span class="line">   <span class="attribute">display</span>: inline-block;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>此方案兼容性较好,兼容至IE8</p></blockquote><h4 id="absolute-transform-或负margin-2"><a href="#absolute-transform-或负margin-2" class="headerlink" title="absolute + transform(或负margin)"></a>absolute + transform(或负margin)</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="selector-class">.parent</span>&#123;</span><br><span class="line"><span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.child</span>&#123;</span><br><span class="line"><span class="attribute">position</span>: absolute;</span><br><span class="line">   <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">   <span class="attribute">top</span>: <span class="number">50%</span>;</span><br><span class="line">   <span class="attribute">transform</span>: <span class="built_in">translate</span>(-<span class="number">50%</span>,-<span class="number">50%</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>兼容性稍差，兼容IE10以上</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="selector-class">.parent</span>&#123;</span><br><span class="line">   <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.child</span>&#123;</span><br><span class="line">   <span class="attribute">position</span>: absolute;</span><br><span class="line">   <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">   <span class="attribute">top</span>: <span class="number">50%</span>;</span><br><span class="line">   <span class="attribute">width</span>:<span class="number">100px</span>;</span><br><span class="line">   <span class="attribute">height</span>:<span class="number">100px</span>;</span><br><span class="line">   <span class="attribute">transform</span>: <span class="built_in">translate</span>(-<span class="number">50%</span>,-<span class="number">50%</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>此方案兼容性较好,但是要固定child元素的宽度</p></blockquote><h4 id="absolute-margin"><a href="#absolute-margin" class="headerlink" title="absolute + margin"></a>absolute + margin</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="selector-class">.child</span> &#123;</span><br><span class="line"><span class="attribute">width</span>:<span class="number">100px</span>;</span><br><span class="line"><span class="attribute">height</span>:<span class="number">100px</span>;</span><br><span class="line"><span class="attribute">position</span>:absolute;</span><br><span class="line"><span class="attribute">left</span>:<span class="number">0</span>;</span><br><span class="line"><span class="attribute">right</span>:<span class="number">0</span>;</span><br><span class="line"><span class="attribute">top</span>:<span class="number">0</span>;</span><br><span class="line"><span class="attribute">bottom</span>:<span class="number">0</span>;</span><br><span class="line"><span class="attribute">marginN</span>:auto;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>此方案兼容性较好,但是要固定child元素的宽度</p></blockquote><h4 id="flex-1"><a href="#flex-1" class="headerlink" title="flex"></a>flex</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.parent</span>&#123;</span><br><span class="line">   <span class="attribute">display</span>: flex;</span><br><span class="line">   <span class="attribute">justify-content</span>: center;</span><br><span class="line">   <span class="attribute">align-items</span>: center;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>兼容差</p></blockquote><h4 id="文字垂直水平居中"><a href="#文字垂直水平居中" class="headerlink" title="文字垂直水平居中"></a>文字垂直水平居中</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"text"</span>&gt;</span>hello<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="selector-class">.text</span> &#123;</span><br><span class="line"><span class="attribute">width</span>:<span class="number">100px</span>;</span><br><span class="line"><span class="attribute">height</span>:<span class="number">50px</span>;</span><br><span class="line"><span class="attribute">text-align</span>:center; <span class="comment">/* 水平居中 */</span></span><br><span class="line"><span class="attribute">line-height</span>:<span class="number">50px</span>; <span class="comment">/* 垂直居中 */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="多行文本或按钮居中"><a href="#多行文本或按钮居中" class="headerlink" title="多行文本或按钮居中"></a>多行文本或按钮居中</h4><blockquote><p>可以用一个span标签将所有的文字封装起来，设置文字与图片相同的display属性（inline-block属性），<br>然后用处理图片垂直居中的方式处理文字的垂直居中即可。<br>//外部div标签：</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line"><span class="attribute">display</span>:table-cell; </span><br><span class="line"><span class="attribute">width</span>:<span class="number">550px</span>; </span><br><span class="line"><span class="attribute">height</span>:<span class="number">1.14em</span>;</span><br><span class="line"><span class="attribute">padding</span>:<span class="number">0</span> <span class="number">0.1em</span>; </span><br><span class="line"><span class="attribute">border</span>:<span class="number">4px</span> solid <span class="number">#beceeb</span>; </span><br><span class="line"><span class="attribute">color</span>:<span class="number">#069</span>; </span><br><span class="line"><span class="attribute">font-size</span>:<span class="number">10em</span>; </span><br><span class="line"><span class="attribute">vertical-align</span>:middle;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//内部span标签：</span><br><span class="line"><span class="selector-tag">span</span> &#123;</span><br><span class="line"><span class="attribute">display</span>:inline-block;</span><br><span class="line"><span class="attribute">font-size</span>:<span class="number">0.1em</span>;</span><br><span class="line"><span class="attribute">vertical-align</span>:middle;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="4-等分布局"><a href="#4-等分布局" class="headerlink" title="4. 等分布局"></a>4. 等分布局</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"parent"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="float-margin-1"><a href="#float-margin-1" class="headerlink" title="float + margin"></a>float + margin</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="selector-class">.parent</span> &#123;</span><br><span class="line"><span class="attribute">overflow</span>: hidden;</span><br><span class="line">   <span class="attribute">margin-left</span>: -<span class="number">20px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.col</span> &#123;</span><br><span class="line">   <span class="attribute">float</span>: left;</span><br><span class="line">   <span class="attribute">width</span>: <span class="number">25%</span>;</span><br><span class="line">   <span class="attribute">padding-left</span>: <span class="number">20px</span>;</span><br><span class="line">   <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="table-margin"><a href="#table-margin" class="headerlink" title="table + margin"></a>table + margin</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="selector-class">.parent-fix</span> &#123;</span><br><span class="line">   <span class="attribute">margin-left</span>: -<span class="number">20px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.parent</span> &#123;</span><br><span class="line">   <span class="attribute">display</span>: table;</span><br><span class="line">   <span class="attribute">width</span>:<span class="number">100%</span>;</span><br><span class="line">   <span class="attribute">table-layout</span>: fixed;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.col</span> &#123;</span><br><span class="line">   <span class="attribute">display</span>: table-cell;</span><br><span class="line">   <span class="attribute">padding-left</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="flex-2"><a href="#flex-2" class="headerlink" title="flex"></a>flex</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="selector-class">.parent</span> &#123;</span><br><span class="line">   <span class="attribute">display</span>: flex;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.col</span> &#123;</span><br><span class="line">   <span class="attribute">flex</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.col</span> + <span class="selector-class">.col</span> &#123;</span><br><span class="line">   <span class="attribute">margin-left</span>:<span class="number">20px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="inline-block"><a href="#inline-block" class="headerlink" title="inline-block"></a>inline-block</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.parent</span>&#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">margin-right</span>: -<span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.col</span>&#123;</span><br><span class="line">    <span class="attribute">display</span>:inline-block;</span><br><span class="line">    <span class="attribute">vertical-align</span>: top;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">20%</span>;</span><br><span class="line">    <span class="attribute">padding-right</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">    <span class="attribute">background-clip</span>: content-box;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">16px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="inline-block-text-align-justify"><a href="#inline-block-text-align-justify" class="headerlink" title="inline-block/text-align:justify"></a>inline-block/text-align:justify</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"parent"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">""</span> /&gt;</span><span class="tag">&lt;<span class="name">div</span>&gt;</span>this is a tit<span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">""</span> /&gt;</span><span class="tag">&lt;<span class="name">div</span>&gt;</span>this is a tit<span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">""</span> /&gt;</span><span class="tag">&lt;<span class="name">div</span>&gt;</span>this is a tit<span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">""</span> /&gt;</span><span class="tag">&lt;<span class="name">div</span>&gt;</span>this is a tit<span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">""</span> /&gt;</span><span class="tag">&lt;<span class="name">div</span>&gt;</span>this is a tit<span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">""</span> /&gt;</span><span class="tag">&lt;<span class="name">div</span>&gt;</span>this is a tit<span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">""</span> /&gt;</span><span class="tag">&lt;<span class="name">div</span>&gt;</span>this is a tit<span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">""</span> /&gt;</span><span class="tag">&lt;<span class="name">div</span>&gt;</span>this is a tit<span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">""</span> /&gt;</span><span class="tag">&lt;<span class="name">div</span>&gt;</span>this is a tit<span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.parent</span> &#123;</span><br><span class="line"><span class="attribute">width</span>:<span class="number">500px</span>;</span><br><span class="line">   <span class="attribute">text-align</span>:justify;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.parent</span> <span class="selector-tag">li</span> &#123;</span><br><span class="line"><span class="attribute">display</span>: inline-block;</span><br><span class="line"><span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">   <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">   <span class="attribute">margin-bottom</span>: <span class="number">10px</span>;</span><br><span class="line">   <span class="attribute">text-align</span>:left; </span><br><span class="line">   <span class="attribute">vertical-align</span>:top;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.parent</span> <span class="selector-tag">li</span><span class="selector-pseudo">:last-child</span> &#123;</span><br><span class="line"><span class="attribute">overflow</span>: hidden;</span><br><span class="line"><span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">   <span class="attribute">height</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="grid方案"><a href="#grid方案" class="headerlink" title="grid方案"></a>grid方案</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.parent</span>&#123;</span><br><span class="line">    <span class="attribute">display</span>: grid;</span><br><span class="line">    <span class="attribute">grid-template-columns</span>:<span class="built_in">repeat</span>(<span class="number">4</span>,<span class="number">1</span>fr);</span><br><span class="line">    <span class="attribute">grid-gap</span>:<span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="5-等高布局"><a href="#5-等高布局" class="headerlink" title="5. 等高布局"></a>5. 等高布局</h2><h3 id="float-overflow-1"><a href="#float-overflow-1" class="headerlink" title="float + overflow"></a>float + overflow</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="selector-class">.parent</span>&#123;</span><br><span class="line">   <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.left</span>,<span class="selector-class">.right</span>&#123;</span><br><span class="line">   <span class="attribute">padding-bottom</span>: <span class="number">9999px</span>;</span><br><span class="line">   <span class="attribute">margin-bottom</span>: -<span class="number">9999px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.left</span>&#123;</span><br><span class="line">   <span class="attribute">float</span>: left;</span><br><span class="line">   <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.right</span>&#123;</span><br><span class="line">   <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="table"><a href="#table" class="headerlink" title="table"></a>table</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="selector-class">.parent</span>&#123;</span><br><span class="line">   <span class="attribute">display</span>: table; </span><br><span class="line">   <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.left</span>&#123;</span><br><span class="line">   <span class="attribute">display</span>:table-cell; </span><br><span class="line">   <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">   <span class="attribute">margin-right</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.right</span>&#123;</span><br><span class="line">   <span class="attribute">display</span>:table-cell; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="flex-3"><a href="#flex-3" class="headerlink" title="flex"></a>flex</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="selector-class">.parent</span>&#123;</span><br><span class="line">   <span class="attribute">display</span>:flex;</span><br><span class="line">   <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.left</span>&#123;</span><br><span class="line">   <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.right</span>&#123;</span><br><span class="line">   <span class="attribute">flex</span>:<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="6-两端对齐justify"><a href="#6-两端对齐justify" class="headerlink" title="6. 两端对齐justify"></a>6. 两端对齐justify</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box"</span>&gt;</span>这里对文字使用两端对齐<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line"> <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">display</span>:block;</span><br><span class="line">    <span class="attribute">text-align</span>:justify;</span><br><span class="line">    <span class="attribute">text-align-last</span>:justify</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box</span><span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">''</span>;</span><br><span class="line">    <span class="attribute">display</span>:inline-block;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">100%</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="7-负边距margin用法"><a href="#7-负边距margin用法" class="headerlink" title="7. 负边距margin用法"></a>7. 负边距margin用法</h2><ul><li><p><a href="https://www.w3cplus.com/css/the-definitive-guide-to-using-negative-margins.html" target="_blank" rel="noopener">负margin用法权威指南</a>：<a href="https://www.smashingmagazine.com/2009/07/the-definitive-guide-to-using-negative-margins/" target="_blank" rel="noopener">The Definitive Guide to Using Negative Margins</a> 的译文,介绍了负 magin 的一些性质和很多实用技巧</p></li><li><p><a href="http://www.jianshu.com/p/549aaa5fabaa" target="_blank" rel="noopener">简书 - margin为负值产生的影响和常见布局应用</a>：包括对自身的影响，对文档流的影响，以及一些在布局中的应用技巧(比如去除列表右边框，负边距+定位实现水平垂直居中，去除列表最后一个 li 元素的 border-bottom，多列等高)</p></li><li><p><a href="http://www.cnblogs.com/2050/archive/2012/08/13/2636467.html#2457812" target="_blank" rel="noopener">博客园 - CSS布局奇淫巧计之-强大的负边距</a>：和上文内容差不多</p></li></ul><ul><li>不使用 float 的话，负 margin 元素是不会破坏页面的文档流。所以如果你使用负 margin 上移一个元素，所有跟随的元素都会被上移(而 relative 定位的元素则不同，会保留原位置，影响文档流)。</li><li>当 static 元素的 margin-top/margin-left 被赋予负值时，元素将被拉进指定的方向。</li><li>如果你设置 margin-bottom/right 为负数，元素并不会如你所想的那样向下/右移动，而是将后续的元素拖拉进来，覆盖本来的元素。</li><li>当元素不存在 width 属性或者 width: auto 的时候，负 margin 会增加元素的宽度,此时的margin的作用就像padding一样。</li><li>margin-top 为负值不会增加高度，只会产生向上位移;margin-bottom 为负值不会产生位移，会减少自身的供 CSS读取的高度，影响下方的元素位置；上下相邻的元素两者均为负时，效果不叠加，取负值更多的那个效果。</li></ul><p><img src="http://p09g3b06f.bkt.clouddn.com/CSS%E5%B8%83%E5%B1%80%E6%96%B9%E6%A1%88%E6%80%BB%E7%BB%93/%E8%B4%9Fmargin.jpg" alt="负margin"></p><p><a href="http://www.cnblogs.com/jscode/archive/2012/08/28/2660078.html" target="_blank" rel="noopener">负值之美：负值在页面布局中的应用</a></p><h2 id="8-清除浮动"><a href="#8-清除浮动" class="headerlink" title="8. 清除浮动"></a>8. 清除浮动</h2><blockquote><p>清除浮动主要是为了解决高度塌陷问题。而简单的 clear: both 并不能解决这个问题，所以引出了许多解决方案。<br><a href="http://www.iyunlu.com/view/css-xhtml/55.html" target="_blank" rel="noopener">那些年我们一起清除过的浮动</a>,<br>神文，把“清除浮动”定义为“闭合浮动”，把问题由来和解决方案都讲清楚了，并且分析了各种解决方案的优劣。</p></blockquote><ol><li>通过在浮动元素的末尾添加一个空元素，设置 clear: both 属性，after 伪元素其实也是通过 content 在元素的后面生成了内容为一个点的块级元素.</li><li>通过设置父元素 overflow 或者 display: table 属性来闭合浮动</li></ol><h2 id="9-响应式设计"><a href="#9-响应式设计" class="headerlink" title="9. 响应式设计"></a>9. 响应式设计</h2><blockquote><p>响应式设计（Responsive Design)” 是一种让网站针对不同的浏览器和设备“呈现”不同显示效果的策略,<br><strong>媒体查询(Media Queries)</strong>是做此事所需的最强大的工具。</p></blockquote><blockquote><p>注： Responsive Web Design ＝ RWD，Adaptive Web Design ＝ AWD</p></blockquote><h2 id="10-flex布局"><a href="#10-flex布局" class="headerlink" title="10. flex布局"></a>10. flex布局</h2><ol><li><a href="https://segmentfault.com/a/1190000002910324" target="_blank" rel="noopener">SegmentFault - Flexbox详解</a></li><li><a href="https://www.w3cplus.com/css3/a-visual-guide-to-css3-flexbox-properties.html" target="_blank" rel="noopener">w3cplus - 图解CSS3 Flexbox属性</a></li><li><a href="http://www.w3cplus.com/css3/flexbox-basics.html" target="_blank" rel="noopener">w3cplus - Flexbox——快速布局神器</a></li></ol><h2 id="meta标签"><a href="#meta标签" class="headerlink" title="meta标签"></a>meta标签</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span>  H5标准声明，使用 HTML5 doctype，不区分大小写</span><br><span class="line"><span class="tag">&lt;<span class="name">head</span> <span class="attr">lang</span>=<span class="string">”en”</span>&gt;</span> 标准的 lang 属性写法</span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">’utf-8′</span>&gt;</span>    声明文档使用的字符编码</span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">”X-UA-Compatible”</span> <span class="attr">content</span>=<span class="string">”IE</span>=<span class="string">edge,chrome</span>=<span class="string">1″/</span>&gt;</span>   优先使用 IE 最新版本和 Chrome</span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">”description”</span> <span class="attr">content</span>=<span class="string">”不超过150个字符”/</span>&gt;</span>       页面描述</span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">”keywords”</span> <span class="attr">content</span>=<span class="string">””/</span>&gt;</span>      页面关键词</span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">”author”</span> <span class="attr">content</span>=<span class="string">”name,</span> <span class="attr">email</span>@<span class="attr">gmail.com</span>”/&gt;</span>    网页作者</span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">”robots”</span> <span class="attr">content</span>=<span class="string">”index,follow”/</span>&gt;</span>      搜索引擎抓取</span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">”viewport”</span> <span class="attr">content</span>=<span class="string">”initial-scale</span>=<span class="string">1,</span> <span class="attr">maximum-scale</span>=<span class="string">3,</span> <span class="attr">minimum-scale</span>=<span class="string">1,</span> <span class="attr">user-scalable</span>=<span class="string">no”</span>&gt;</span> 为移动设备添加 viewport</span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">”apple-mobile-web-app-title”</span> <span class="attr">content</span>=<span class="string">”标题”</span>&gt;</span> iOS 设备 begin</span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">”apple-mobile-web-app-capable”</span> <span class="attr">content</span>=<span class="string">”yes”/</span>&gt;</span>  添加到主屏后的标题（iOS 6 新增）</span><br><span class="line">是否启用 WebApp 全屏模式，删除苹果默认的工具栏和菜单栏</span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">”apple-itunes-app”</span> <span class="attr">content</span>=<span class="string">”app-id</span>=<span class="string">myAppStoreID,</span> <span class="attr">affiliate-data</span>=<span class="string">myAffiliateData,</span> <span class="attr">app-argument</span>=<span class="string">myURL”</span>&gt;</span></span><br><span class="line">添加智能 App 广告条 Smart App Banner（iOS 6+ Safari）</span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">”apple-mobile-web-app-status-bar-style”</span> <span class="attr">content</span>=<span class="string">”black”/</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">”format-detection”</span> <span class="attr">content</span>=<span class="string">”telphone</span>=<span class="string">no,</span> <span class="attr">email</span>=<span class="string">no”/</span>&gt;</span>  设置苹果工具栏颜色</span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">”renderer”</span> <span class="attr">content</span>=<span class="string">”webkit”</span>&gt;</span>  启用360浏览器的极速模式(webkit)</span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">”X-UA-Compatible”</span> <span class="attr">content</span>=<span class="string">”IE</span>=<span class="string">edge”</span>&gt;</span>     避免IE使用兼容模式</span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">”Cache-Control”</span> <span class="attr">content</span>=<span class="string">”no-siteapp”</span> /&gt;</span>    不让百度转码</span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">”HandheldFriendly”</span> <span class="attr">content</span>=<span class="string">”true”</span>&gt;</span>     针对手持设备优化，主要是针对一些老的不识别viewport的浏览器，比如黑莓</span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">”MobileOptimized”</span> <span class="attr">content</span>=<span class="string">”320″</span>&gt;</span>   微软的老式浏览器</span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">”screen-orientation”</span> <span class="attr">content</span>=<span class="string">”portrait”</span>&gt;</span>   uc强制竖屏</span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">”x5-orientation”</span> <span class="attr">content</span>=<span class="string">”portrait”</span>&gt;</span>    QQ强制竖屏</span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">”full-screen”</span> <span class="attr">content</span>=<span class="string">”yes”</span>&gt;</span>              UC强制全屏</span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">”x5-fullscreen”</span> <span class="attr">content</span>=<span class="string">”true”</span>&gt;</span>       QQ强制全屏</span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">”browsermode”</span> <span class="attr">content</span>=<span class="string">”application”</span>&gt;</span>   UC应用模式</span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">”x5-page-mode”</span> <span class="attr">content</span>=<span class="string">”app”</span>&gt;</span>    QQ应用模式</span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">”msapplication-tap-highlight”</span> <span class="attr">content</span>=<span class="string">”no”</span>&gt;</span>    windows phone 点击无高光</span><br><span class="line">设置页面不缓存</span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">”pragma”</span> <span class="attr">content</span>=<span class="string">”no-cache”</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">”cache-control”</span> <span class="attr">content</span>=<span class="string">”no-cache”</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">”expires”</span> <span class="attr">content</span>=<span class="string">”0″</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ul><li>【整理】CSS布局方案: <a href="https://segmentfault.com/a/1190000010989110" target="_blank" rel="noopener">https://segmentfault.com/a/1190000010989110</a></li><li>CSS 布局经典问题初步整理: <a href="https://segmentfault.com/a/1190000009473132#articleHeader9" target="_blank" rel="noopener">https://segmentfault.com/a/1190000009473132#articleHeader9</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> CSS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CSS </tag>
            
            <tag> 布局 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HTTP协议(转)</title>
      <link href="/HTTP%E5%8D%8F%E8%AE%AE(%E8%BD%AC)/"/>
      <url>/HTTP%E5%8D%8F%E8%AE%AE(%E8%BD%AC)/</url>
      
        <content type="html"><![CDATA[<h2 id="http介绍"><a href="#http介绍" class="headerlink" title="http介绍"></a>http介绍</h2><p>HTTP协议是Hyper Text Transfer Protocol（超文本传输协议）的缩写,<br>是用于从万维网（WWW:World Wide Web ）服务器传输超文本到本地浏览器的传送协议。<br>HTTP是一个基于TCP/IP通信协议来传递数据（HTML 文件, 图片文件, 查询结果等）。<br>HTTP是一个属于应用层的面向对象的协议，由于其简捷、快速的方式，适用于分布式超媒体信息系统。<br>它于1990年提出，经过几年的使用与发展，得到不断地完善和扩展。目前在WWW中使用的是HTTP/1.0的第六版，<br>HTTP/1.1的规范化工作正在进行之中，而且HTTP-NG(Next Generation of HTTP)的建议已经提出。<br>HTTP协议工作于客户端-服务端架构为上。浏览器作为HTTP客户端通过URL向HTTP服务端即WEB服务器发送所有请求。<br>Web服务器根据接收到的请求后，向客户端发送响应信息。</p><a id="more"></a><h2 id="特点"><a href="#特点" class="headerlink" title="特点"></a>特点</h2><ul><li>简单快速：客户向服务器请求服务时，只需传送请求方法和路径。请求方法常用的有GET、HEAD、POST。每种方法规定了客户与服务器联系的类型不同。由于HTTP协议简单，使得HTTP服务器的程序规模小，因而通信速度很快。</li><li>灵活：HTTP允许传输任意类型的数据对象。正在传输的类型由Content-Type加以标记。</li><li>无连接：无连接的含义是限制每次连接只处理一个请求。服务器处理完客户的请求，并收到客户的应答后，即断开连接。采用这种方式可以节省传输时间。</li><li>无状态：HTTP协议是无状态协议。无状态是指协议对于事务处理没有记忆能力。缺少状态意味着如果后续处理需要前面的信息，则它必须重传，这样可能导致每次连接传送的数据量增大。另一方面，在服务器不需要先前信息时它的应答就较快。</li><li>支持B/S及C/S模式。</li></ul><h2 id="HTTP中URL"><a href="#HTTP中URL" class="headerlink" title="HTTP中URL"></a>HTTP中URL</h2><p>HTTP使用统一资源标识符（Uniform Resource Identifiers, URI）来传输数据和建立连接。URL是一种特殊类型的URI，包含了用于查找某个资源的足够的信息</p><p>URL,全称是UniformResourceLocator, 中文叫统一资源定位符,是互联网上用来标识某一处资源的地址。以下面这个URL为例，介绍下普通URL的各部分组成：<br><code>http://www.aspxfans.com:8080/news/index.aspboardID=5&amp;ID=24618&amp;page=1#name</code></p><p>一个完整的URL包括以下几部分:</p><ol><li>协议部分<br>该URL的协议部分为“http：”，这代表网页使用的是HTTP协议。在Internet中可以使用多种协议，如HTTP，FTP等等本例中使用的是HTTP协议。在”HTTP”后面的“//”为分隔符</li><li>域名部分<br>该URL的域名部分为“<a href="http://www.aspxfans.com”。一个URL中，也可以使用IP地址作为域名使用" target="_blank" rel="noopener">www.aspxfans.com”。一个URL中，也可以使用IP地址作为域名使用</a></li><li>端口部分<br>该URL的域名部分为“8080”。端口不是一个URL必须的部分，如果省略端口部分，将采用默认端口</li><li>路径部分(目录和文件)<br>该URL的路径部分为“/news/index.asp” 如果省略 则使用默认的文件名</li><li>参数部分<br>该URL的参数部分为“boardID=5&amp;ID=24618&amp;page=1” 参数可以允许有多个参数，参数与参数之间用“&amp;”作为分隔符。</li><li>锚部分(作者名)<br>“#”开始到最后，都是锚部分。不是必须的。</li></ol><h2 id="URI和URL的区别"><a href="#URI和URL的区别" class="headerlink" title="URI和URL的区别"></a>URI和URL的区别</h2><h3 id="URI"><a href="#URI" class="headerlink" title="URI:"></a>URI:</h3><p>URI是uniform resource identifier，统一资源标识符，用来唯一的标识一个资源。<br>Web上可用的每种资源如HTML文档、图像、视频片段、程序等都是一个来URI来定位的<br>URI一般由三部组成：<br>①访问资源的命名机制<br>②存放资源的主机名<br>③资源自身的名称，由路径表示，着重强调于资源。</p><h3 id="URL"><a href="#URL" class="headerlink" title="URL:"></a>URL:</h3><p>URL是uniform resource locator，统一资源定位器，它是一种具体的URI，<br>即URL可以用来标识一个资源，而且还指明了如何locate这个资源。</p><p>URL是Internet上用来描述信息资源的字符串，主要用在各种WWW客户程序和服务器程序上，<br>特别是著名的Mosaic。<br>采用URL可以用一种统一的格式来描述各种信息资源，包括文件、<br>服务器的地址和目录等。URL一般由三部组成：<br>①协议(或称为服务方式)<br>②存有该资源的主机IP地址(有时也包括端口号)<br>③主机资源的具体地址。如目录和文件名等</p><h3 id="URN"><a href="#URN" class="headerlink" title="URN:"></a>URN:</h3><p>uniform resource name，统一资源命名，是通过名字来标识资源，<br>比如:mailto:<a href="mailto:java-net@java.sun.com" target="_blank" rel="noopener">java-net@java.sun.com</a>。</p><h3 id="区别："><a href="#区别：" class="headerlink" title="区别："></a>区别：</h3><p>URI是以一种抽象的，高层次概念定义统一资源标识，而URL和URN则是具体的资源标识的方式。URL和URN都是一种URI。笼统地说，每个 URL 都是 URI，但不一定每个 URI 都是 URL。这是因为 URI 还包括一个子类，即统一资源名称 (URN)，它命名资源但不指定如何定位资源。上面的 mailto、news 和 isbn URI 都是 URN 的示例。</p><h2 id="HTTP之请求消息Request"><a href="#HTTP之请求消息Request" class="headerlink" title="HTTP之请求消息Request"></a>HTTP之请求消息Request</h2><p><strong>请求行（request line）、请求头部（header）、空行和请求数据四个部分组成。</strong></p><ol><li><p>请求行，用来说明请求类型,要访问的资源以及所使用的HTTP版本</p></li><li><p>请求头部，紧接着请求行（即第一行）之后的部分，用来说明服务器要使用的附加信息</p></li><li><p>空行，请求头部后面的空行是必须的</p></li><li><p>请求数据也叫主体，可以添加任意的其他数据。</p></li></ol><h2 id="HTTP之响应消息Response"><a href="#HTTP之响应消息Response" class="headerlink" title="HTTP之响应消息Response"></a>HTTP之响应消息Response</h2><p><strong>HTTP响应也由四个部分组成，分别是：状态行、消息报头、空行和响应正文。</strong></p><ol><li><p>状态行，由HTTP协议版本号， 状态码， 状态消息 三部分组成。</p></li><li><p>消息报头，用来说明客户端要使用的一些附加信息</p></li><li><p>空行，消息报头后面的空行是必须的</p></li><li><p>响应正文，服务器返回给客户端的文本信息。</p></li></ol><h2 id="HTTP之状态码"><a href="#HTTP之状态码" class="headerlink" title="HTTP之状态码"></a>HTTP之状态码</h2><p>状态代码有三位数字组成，第一个数字定义了响应的类别，共分五种类别:</p><ul><li>1xx：指示信息–表示请求已接收，继续处理</li><li>2xx：成功–表示请求已被成功接收、理解、接受</li><li>3xx：重定向–要完成请求必须进行更进一步的操作</li><li>4xx：客户端错误–请求有语法错误或请求无法实现</li><li>5xx：服务器端错误–服务器未能实现合法的请求</li></ul><blockquote><p>常见状态码：</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">200 OK                        //客户端请求成功</span><br><span class="line">400 Bad Request               //客户端请求有语法错误，不能被服务器所理解</span><br><span class="line">401 Unauthorized              //请求未经授权，这个状态代码必须和WWW-Authenticate报头域一起使用 </span><br><span class="line">403 Forbidden                 //服务器收到请求，但是拒绝提供服务</span><br><span class="line">404 Not Found                 //请求资源不存在，eg：输入了错误的URL</span><br><span class="line">500 Internal Server Error     //服务器发生不可预期的错误</span><br><span class="line">503 Server Unavailable        //服务器当前不能处理客户端的请求，一段时间后可能恢复正常</span><br></pre></td></tr></table></figure><p><a href="http://www.runoob.com/http/http-status-codes.html" target="_blank" rel="noopener">更多状态码</a></p><h2 id="HTTP请求方法"><a href="#HTTP请求方法" class="headerlink" title="HTTP请求方法"></a>HTTP请求方法</h2><p>根据HTTP标准，HTTP请求可以使用多种请求方法。<br>HTTP1.0定义了三种请求方法： <strong>GET, POST 和 HEAD方法。</strong><br>HTTP1.1新增了五种请求方法：<strong>OPTIONS, PUT, DELETE, TRACE 和 CONNECT 方法。</strong></p><ul><li>GET     请求指定的页面信息，并返回实体主体。</li><li>HEAD     类似于get请求，只不过返回的响应中没有具体的内容，用于获取报头</li><li>POST     向指定资源提交数据进行处理请求（例如提交表单或者上传文件）。数据被包含在请求体中。POST请求可能会导致新的资源的建立和/或已有资源的修改。</li><li>PUT     从客户端向服务器传送的数据取代指定的文档的内容。</li><li>DELETE      请求服务器删除指定的页面。</li><li>CONNECT     HTTP/1.1协议中预留给能够将连接改为管道方式的代理服务器。</li><li>OPTIONS     允许客户端查看服务器的性能。</li><li>TRACE     回显服务器收到的请求，主要用于测试或诊断。</li></ul><h2 id="HTTP工作原理"><a href="#HTTP工作原理" class="headerlink" title="HTTP工作原理"></a>HTTP工作原理</h2><p>HTTP协议定义Web客户端如何从Web服务器请求Web页面，以及服务器如何把Web页面传送给客户端。HTTP协议采用了<code>请求/响应模型</code>。客户端向服务器发送一个请求报文，请求报文包含请求的<strong>方法、URL、协议版本、请求头部和请求数据。</strong>服务器以一个状态行作为响应，响应的内容包括<strong>协议的版本、成功或者错误代码、服务器信息、响应头部和响应数据。</strong></p><ol><li><p>客户端连接到Web服务器<br>一个HTTP客户端，通常是浏览器，与Web服务器的HTTP端口（默认为80）<br>建立一个TCP套接字连接。例如，<a href="http://www.baidu.com。" target="_blank" rel="noopener">http://www.baidu.com。</a></p></li><li><p>发送HTTP请求<br>通过TCP套接字，客户端向Web服务器发送一个文本的请求报文，<br>一个请求报文由请<code>求行、请求头部、空行和请求数据</code>4部分组成。</p></li><li><p>服务器接受请求并返回HTTP响应<br>Web服务器解析请求，定位请求资源。服务器将资源复本写到TCP套接字，<br>由客户端读取。一个响应由状态行、响应头部、空行和响应数据4部分组成。</p></li><li><p>释放连接TCP连接<br>若connection 模式为close，则服务器主动关闭TCP连接，<br>客户端被动关闭连接，释放TCP连接;若connection 模式为keepalive，则该连接会保持一段时间，在该时间内可以继续接收请求;</p></li><li><p>客户端浏览器解析HTML内容<br>客户端浏览器首先解析状态行，查看表明请求是否成功的状态代码。<br>然后解析每一个响应头，响应头告知以下为若干字节的HTML文档和文档的字符集。<br>客户端浏览器读取响应数据HTML，根据HTML的语法对其进行格式化，并在浏览器窗口中显示</p></li></ol><blockquote><p>例如：在浏览器地址栏键入URL，按下回车之后会经历以下流程：</p></blockquote><ol><li>浏览器向 DNS 服务器请求解析该 URL 中的域名所对应的 IP 地址;</li><li>解析出 IP 地址后，根据该 IP 地址和默认端口 80，和服务器建立TCP连接;</li><li>浏览器发出读取文件(URL 中域名后面部分对应的文件)的HTTP 请求，该请求报文作为 TCP 三次握手的第三个报文的数据发送给服务器;</li><li>服务器对浏览器请求作出响应，并把对应的 html 文本发送给浏览器;</li><li>释放 TCP连接;</li><li>浏览器将该 html 文本并显示内容;</li></ol><h2 id="GET和POST请求的区别"><a href="#GET和POST请求的区别" class="headerlink" title="GET和POST请求的区别"></a>GET和POST请求的区别</h2><h3 id="GET请求"><a href="#GET请求" class="headerlink" title="GET请求:"></a>GET请求:</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">GET /books/?sex=man&amp;name=Professional HTTP/1.1</span><br><span class="line">Host: www.wrox.com</span><br><span class="line">User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.6)</span><br><span class="line">Gecko/20050225 Firefox/1.0.1</span><br><span class="line">Connection: Keep-Alive</span><br><span class="line">注意最后一行是空行</span><br></pre></td></tr></table></figure><h3 id="POST请求"><a href="#POST请求" class="headerlink" title="POST请求:"></a>POST请求:</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">POST / HTTP/1.1</span><br><span class="line">Host: www.wrox.com</span><br><span class="line">User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.6)</span><br><span class="line">Gecko/20050225 Firefox/1.0.1</span><br><span class="line">Content-Type: application/x-www-form-urlencoded</span><br><span class="line">Content-Length: 40</span><br><span class="line">Connection: Keep-Alive</span><br><span class="line"></span><br><span class="line">name=Professional%20Ajax&amp;publisher=Wiley</span><br></pre></td></tr></table></figure><h3 id="提交"><a href="#提交" class="headerlink" title="提交"></a>提交</h3><p>GET提交，<br>请求的数据会附在URL之后（就是把数据放置在HTTP协议头中），<br>以?分割URL和传输数据，多个参数用&amp;连接；例 如：login.action?name=hyddd&amp;password=idontknow&amp;verify=%E4%BD%A0 %E5%A5%BD。<br>如果数据是英文字母/数字，原样发送，如果是空格，转换为+，如果是中文/其他字符，则直接把字符串用BASE64加密，<br>得出如： %E4%BD%A0%E5%A5%BD，其中％XX中的XX为该符号以16进制表示的ASCII。<br>POST提交：把提交的数据放置在是HTTP包的包体中。上文示例中红色字体标明的就是实际的传输数据</p><p><strong>因此，GET提交的数据会在地址栏中显示出来，而POST提交，地址栏不会改变</strong></p><ol><li><p>传输数据的大小：<br>首先声明：HTTP协议没有对传输的数据大小进行限制，<br>HTTP协议规范也没有对URL长度进行限制。</p></li><li><p>安全性<br>POST的安全性要比GET的安全性高。比如：通过GET提交数据，<br>用户名和密码将明文出现在URL上，因为(1)登录页面有可能被浏览器缓存；<br>(2)其他人查看浏览器的历史纪录，那么别人就可以拿到你的账号和密码了，<br>除此之外，使用GET提交数据还可能会造成Cross-site request forgery攻击</p></li><li><p>Http get,post,soap协议都是在http上运行的<br>Http协议定义了很多与服务器交互的方法，最基本的有4种，分别是GET,POST,PUT,DELETE. 一个URL地址用于描述一个网络上的资源，而HTTP中的GET, POST, PUT, DELETE就对应着对这个资源的查，改，增，删4个操作。 我们最常见的就是GET和POST了。GET一般用于获取/查询资源信息，而POST一般用于更新资源信息.</p></li></ol><h3 id="GET和POST的区别"><a href="#GET和POST的区别" class="headerlink" title="GET和POST的区别"></a>GET和POST的区别</h3><ol><li><p>GET提交的数据会放在URL之后，以?分割URL和传输数据，参数之间以&amp;相连，如EditPosts.aspx?name=test1&amp;id=123456. POST方法是把提交的数据放在HTTP包的Body中.</p></li><li><p>GET提交的数据大小有限制（因为浏览器对URL的长度有限制），而POST方法提交的数据没有限制.</p></li><li><p>GET方式需要使用Request.QueryString来取得变量的值，而POST方式通过Request.Form来获取变量的值。</p></li><li><p>ET方式提交数据，会带来安全问题，比如一个登录页面，通过GET方式提交数据时，用户名和密码将出现在URL上，如果页面可以被缓存或者其他人可以访问这台机器，就可以从历史记录获得该用户的账号和密码.</p></li></ol><h2 id="有状态的WEB应用"><a href="#有状态的WEB应用" class="headerlink" title="有状态的WEB应用"></a>有状态的WEB应用</h2><p>HTTP 协议是无状态的。换句话说，在你的各次请求之间，服务器是不会保留你的 “状态” 信息。<br>每一次请求都被认为是一次全新的请求，不同的请求之间并不知道对方的存在.这种” 无状态性 “使得 HTTP 和互联网都是 “去中心化” 的，不会轻易被人掌控。</p><p>web 开发者常用的实现 “有状态” 体验的技术手段,主要包括：</p><ol><li>会话（ session ）</li><li>Cookies</li><li>异步 javascript 调用（ AJAX ）</li></ol><h3 id="会话（session）"><a href="#会话（session）" class="headerlink" title="会话（session）"></a>会话（session）</h3><p>人们可以把这个无状态的HTTP 协议通过某种方式保持状态。<br>在客户端（一般就是指浏览器）的帮助下，HTTP 的行为会让人觉得它会在客户端与服务器之间维护一个有状态的连接，尽管实际并没有。达到这种效果的一个办法就是， 服务器在发送响应数据给客户端的时候带一个唯一的令牌（英文叫 token，就是一串数）。随后不论何时客户端向服务器发起请求的时候都把这个令牌附加在后面，让服务器能够辨识这个客户端。在 web 开发领域我们把这个来回传递的令牌叫做会话标识符（ session identifier ）。</p><p>这种在客户端与服务器之间传递会话 id的机制，能让服务器创建一种各次请求之间的持续连接状态。Web 开发人员利用这种人造的状态，来构建复杂的应用程序。即使这样，每一个请求严格上来说还是无状态的，各次请求之间并不知道彼此的存在。</p><p>这种人造状态，会有几个后果。第一，必须检查每个请求，查看它是否包含会话标识符。第二，如果请求有会话标识符，也就是有一个会话 id，服务器必须检查每一个会话 id ，确保这些会话 id 是没有过期的，也就是服务器需要维护一些关于如何处理会话过期，如何存储会话数据的规则。第三，服务器要基于这个会话 id 取出这个会话的数据。最后，服务器要根据取出的会话数据重新创建应用程序的状态（ 比如，一个请求对应的 HTML )，然后将其作为响应返回给客户端。</p><p>这就意味着服务器必须非常辛勤的工作，来模拟这个有状态的用户体验。每一个请求都会有一个独立的响应，哪怕这次的响应跟前一个响应没有任何区别。<br>举个例子，如果你登录到 Facebook 上，服务器会给你一个响应，生成你看到的主页。这个响应是一个十分复杂的 HTML 页面。Facebook 的服务器会把页面上所有照片和留言的赞和评论都组合起来，然后显示在你的时间线上。生成这样一个页面的成本非常高。现在，如果你点了某个照片下面的” 赞 “链接，理论上，Facebook 会重新生成整个页面，它会把你赞过的照片的被赞数加 1，然后把整个 HTML 作为响应返回给你，尽管除了这个赞数以外大部分内容都没有改变。 庆幸的是，实际中 Facebook 使用 Ajax 代替了全页面刷新。不然的话，刷新一个页面会花费很长时间。</p><p>服务器使用了很多先进的技术来优化会话和实现安全机制，不过这些话题都超出了本书的范围，暂且放下。现在我们来聊一个常用的存储会话信息的方法: 浏览器 cookie 。</p><h3 id="Cookies"><a href="#Cookies" class="headerlink" title="Cookies"></a>Cookies</h3><p>cookie 就是在一个请求/响应周期内，服务器发送给客户端（通常就是浏览器），并存储在客户端的一段数据。Cookies 或者 HTTP cookies，就是存储在浏览器里包含着会话信息的小文件。<br>默认情况下，大部分浏览器的 cookies 都是启用的。当你第一次访问一个网站的时候，服务器会给你发送会话信息并将其存储在你本地电脑浏览器的 cookie 里。要注意的是真正的会话数据是存在服务器上的。在客户端发起每一个请求的时候，服务器就会比对客户端的 cookie 和服务器上的会话数据，用来标识当前的会话。通过这种方法，当你再次访问同一个网站的时候，服务器就会通过 cookie 和里面的信息来认出你的会话。<br><strong>会话数据是由服务器生成并存储在服务器上，会话 id 以 cookie 的形式发送到客户端上。</strong></p><h3 id="AJAX"><a href="#AJAX" class="headerlink" title="AJAX"></a>AJAX</h3><p>AJAX 是”异步 javascript 和 XML “ 的简称（ Asynchronous JavaScript and XML ）。它的主要特点就是允许浏览器发送请求和处理响应的时候不用刷新整个页面。<br>举个例子，如果你登录到 Facebook 上，服务器会给你一个响应，生成你看到的主页。 这个响应是一个十分复杂的 HTML 页面。Facebook 的服务器会把各种信息组合起来，显示在你的时间线上。在前面的讨论中，我们知道，为每一个请求都重新生成一次页面的成本是非常高的（记住，你的每一个动作，点个链接，提交个表单，都会发起一个新的请求）。<br>当使用 AJAX 的时候，所有客户端发送的请求都是异步的，就是说页面不会刷新。<br>AJAX 请求就像是普通请求：发送到服务器的请求依然跟普通请求一样有着一个 HTTP 请求该有的所有组成部分，并且服务器处理 AJAX 请求的方法跟处理普通请求也是一样的。唯一不同就是，不是通过浏览器刷新来处理响应，而通常由客户端的一些 javascript 代码来处理。</p><h2 id="HTTPS安全"><a href="#HTTPS安全" class="headerlink" title="HTTPS安全"></a>HTTPS安全</h2><ol><li>(安全的HTTP)<br>在客户端和服务器互相发送请求和响应的时候，所有的请求和响应里的信息都是通过明文字符串发送的。如果一个恶意的黑客连接到同一网络，他就可以利用数据包嗅探技术来读取来回发送的消息。<br>正如我们已知道的，请求可以包含会话 id ，它唯一地标识你到服务器之间的联系，所以如果别人复制了这个会话 id ，他们可以手动创建到服务器的请求，伪装成你的客户端，甚至都不需要你的用户名和密码就可以自动登陆。</li></ol><p>这种情况就需要安全的 HTTP 也就是 HTTPS 来帮忙啦。通过 HTTPS 访问资源的时候，通常以 https:// 开头而不是 http:// ，而且通常在边上都会有个小锁子的图标：</p><p>通过 HTTPS 发送的请求和响应在发送前都会被加密。这意味着如果一个恶意的黑客监听 HTTP 通信，他得到的信息都是加密的和无用的。HTTPS 通过一个叫做 TLS 的加密协议来加密消息。在 TLS 开发完成前，早期 HTTPS 使用 SSL （ Secure Sockets Layer ）。这些加密协议在加密数据之前，需要先使用证书来与远程服务器进行通信来交换安全密钥。</p><ol start="2"><li>同源策略（ Same-origin policy ）<br>同源策略是一个重要的概念，它允许来自同一站点的资源进行互相访问而不受限制，但是会阻止其他不同站点对文档/资源的访问。换句话说它可以阻止另一个站点通过脚本来操纵本站点的文档。</li></ol><p><strong>同源的文档必须有相同的协议，主机名和端口号。</strong></p><p>举个例子，<a href="http://www.test.com/aboutus.html" target="_blank" rel="noopener">http://www.test.com/aboutus.html</a> 上的 HTML 文档可以嵌入 <a href="http://www.test.com/fancy.js" target="_blank" rel="noopener">http://www.test.com/fancy.js</a> 这个 javascript 文件，因为它们是同源的，有相同的协议，主机名和端口号(默认的 80) 。<br>反过来说，这就意味着 <a href="http://www.test.com" target="_blank" rel="noopener">http://www.test.com</a> 上的文档不能嵌入 <a href="http://www.example.com" target="_blank" rel="noopener">http://www.example.com</a> 上的文档，因为它们不是同源的。<br>同源策略是防范会话劫持的重要手段，并作为 web 应用安全的基石。<br>同源策略涉及的是访问文件内容，而不是链接，你可以随意链接到任何 URL。<br>虽然这样很安全，但是有时 web 开发人员需要进行跨域的内容访问就会很麻烦，所以就有了跨域资源共享技术CORS 。</p><ol start="3"><li><p>跨域资源共享技术 CORS<br>CORS是一种机制，允许我们绕过同源策略，从一个域名向另一个域名的资源发起请求。CORS的原理是添加新的 HTTP头部，来对一些域名授权，那这些域名就可以发起对本页面资源的请求。</p></li><li><p>会话劫持（ Session Hijacking ）<br>会话在维持 HTTP 的状态上扮演着重要的角色。我们也知道会话 id 作为一个唯一的令牌来唯一标识一个会话。通常，会话 id 是作为 cookie 存储在计算机上的一个随机字符串. 会话 id 随着每一个到服务器的请求被送往服务器用于唯一标识这个会话。<br>事实上，这也就是很多 web 应用的用户认证系统所在做的事情，当用户的用户名和密码匹配之后，会话 id 会存储在用户的浏览器里，这样他们的下一个请求就不用重新认证了。</p></li></ol><p>不幸的是，如果一个攻击者拿到了这个会话 id ，他就会跟用户共享这一个会话，同时也就能访问这个 web 应用了。在会话劫持攻击中，用户根本意识不到一个攻击者甚至不用知道她的用户名和密码就可以访问她的会话了。</p><ol start="5"><li>会话劫持的对策</li></ol><ul><li>重置会话。也就是对于一个用户认证系统来说，一次成功的登录包括验证旧的会话 id 和生成一个新的会话id完成此步骤后，在下一个请求里，会要求受害者进行身份验证。然后会话 id 就会改变，这样攻击者就无法访问到这个会话了。很多网站都采取这种办法，当用户在进行敏感操作的时候保证用户身份的正确性，比如给信用卡充值或者删除账户的时候。</li><li>给会话设置过期时间。那些不会过期的会话给了攻击者太多的时间去伪装成一个合法用户。如果设置了过期时间，比如 30 分钟，这样一来攻击者就不会那么从容的进行攻击了。</li><li>整站使用 HTTPS 把攻击者能得到会话 id 的可能性降至最低。</li></ul><ol start="6"><li>跨站脚本攻击 (XSS)<br>当你允许用户输入的 HTML 和 javascript 在你自己的网站上直接显示的时候，就有可能遭受这种攻击。</li></ol><p>如果服务器端对于用户的输入不做任何无害处理的话，这些内容就会注入到网页的内容中去，然后浏览器就会解释执行这些 HTML 和 javascript 代码。<br>恶意用户可以使用 HTML 和 javascript 代码对服务器或者以后访问这个页面的用户发起毁灭性的攻击。举个例子，一个攻击者可以使用 javascript 代码去获取所有在他之后访问这个页面的用户的会话 id ，然后伪装成其他用户。而这一切都发生在受害者一无所知的情况下。而且要注意的是，这种攻击也能绕过同源策略，因为这段恶意代码是存在于当前这个网站上的。</p><blockquote><p>跨站脚本攻击的解决方案:</p></blockquote><ul><li><p>总是对用户输入的内容做无害处理。消除有问题的输入，比如script标签，或者使用一个更安全的输入格式，比如 Markdown，这样就可以阻止 HTML 和 javascript 同时出现在用户的输入里。</p></li><li><p>在显示之前转义用户输入的所有数据.如果你需要用户能够输入 HTML 和 javascript 代码，那么当你显示这些输入内容的时候要确保它们被正确转义，这样浏览器就不会把它们当做代码给执行了。</p></li></ul><blockquote><h2 id="推荐："><a href="#推荐：" class="headerlink" title="推荐："></a>推荐：</h2><p>前端之http状态码：<a href="https://my.oschina.net/liuyongfov/blog/747731" target="_blank" rel="noopener">https://my.oschina.net/liuyongfov/blog/747731</a><br>HTTP协议及相关知识: <a href="https://xifengxx.github.io/2016/03/03/HTTP%E5%8D%8F%E8%AE%AE%E7%9F%A5%E5%A4%9A%E5%B0%91/" target="_blank" rel="noopener">https://xifengxx.github.io/2016/03/03/HTTP%E5%8D%8F%E8%AE%AE%E7%9F%A5%E5%A4%9A%E5%B0%91/</a><br>网络协议基础知识:<a href="http://blog.csdn.net/shenxin870409/article/details/40000183" target="_blank" rel="noopener">http://blog.csdn.net/shenxin870409/article/details/40000183</a><br>HTTP协议详解: <a href="http://www.cnblogs.com/TankXiao/archive/2012/02/13/2342672.html" target="_blank" rel="noopener">http://www.cnblogs.com/TankXiao/archive/2012/02/13/2342672.html</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 网络协议 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HTTP </tag>
            
            <tag> 转载文章 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>js算法收集</title>
      <link href="/js%E7%AE%97%E6%B3%95%E6%94%B6%E9%9B%86/"/>
      <url>/js%E7%AE%97%E6%B3%95%E6%94%B6%E9%9B%86/</url>
      
        <content type="html"><![CDATA[<h2 id="js排序算法"><a href="#js排序算法" class="headerlink" title="js排序算法"></a>js排序算法</h2><blockquote><p><a href="http://www.cnblogs.com/JChen666/p/3360853.html" target="_blank" rel="noopener">原文</a></p></blockquote><blockquote><p>推荐：<br><a href="http://www.qcyoung.com/2016/12/18/JavaScript%20%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%E6%B1%87%E6%80%BB/#suan-fa-yuan-li-1" target="_blank" rel="noopener">JavaScript 排序算法汇总</a><br><a href="http://louiszhai.github.io/2016/12/23/sort/" target="_blank" rel="noopener">JS中可能用得到的全部的排序算法</a></p></blockquote><a id="more"></a><h3 id="封装原型方法"><a href="#封装原型方法" class="headerlink" title="封装原型方法"></a>封装原型方法</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Function</span>.prototype.method = <span class="function"><span class="keyword">function</span>(<span class="params">name, func</span>)</span>&#123;</span><br><span class="line">   <span class="keyword">this</span>.prototype[name] = func;</span><br><span class="line">   <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="冒泡排序"><a href="#冒泡排序" class="headerlink" title="冒泡排序"></a>冒泡排序</h3><blockquote><p>通过在无序区的相邻元素的比较和替换，使较小的元素浮到最上面。</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.method(<span class="string">'bubbleSort'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> len = <span class="keyword">this</span>.lenght,</span><br><span class="line">        i, j, tmp;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;len; i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(j=len<span class="number">-1</span>; j&gt;i; j--)&#123;</span><br><span class="line">            <span class="keyword">if</span>(<span class="keyword">this</span>[j] &gt; <span class="keyword">this</span>[j<span class="number">-1</span>])&#123;</span><br><span class="line">                tmp = <span class="keyword">this</span>[j<span class="number">-1</span>];</span><br><span class="line">                <span class="keyword">this</span>[j<span class="number">-1</span>] = <span class="keyword">this</span>[j];</span><br><span class="line">                <span class="keyword">this</span>[j] = tmp;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="冒泡排序-改进"><a href="#冒泡排序-改进" class="headerlink" title="冒泡排序(改进)"></a>冒泡排序(改进)</h3><blockquote><p>如果在某次的排序中没有出现交换的情况，那么说明在无序的元素现在已经是有序了，就可以直接返回了。</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.method(<span class="string">'rBubbleSort'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> len = <span class="keyword">this</span>.length,</span><br><span class="line">        i, j, tmp, exchange;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;len; i++)&#123;</span><br><span class="line">        exchange = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(j=len<span class="number">-1</span>; j&gt;i; j--)&#123;</span><br><span class="line">            <span class="keyword">if</span>(<span class="keyword">this</span>[j] &lt; <span class="keyword">this</span>[j<span class="number">-1</span>])&#123;</span><br><span class="line">                tmp = <span class="keyword">this</span>[j];</span><br><span class="line">                <span class="keyword">this</span>[j] = <span class="keyword">this</span>[j<span class="number">-1</span>];</span><br><span class="line">                <span class="keyword">this</span>[j<span class="number">-1</span>] = tmp;</span><br><span class="line">                exchange = <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(!exchange) <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="选择排序"><a href="#选择排序" class="headerlink" title="选择排序"></a>选择排序</h3><blockquote><p>在无序区中选出最小的元素，然后将它和无序区的第一个元素交换位置。</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.method(<span class="string">'selectSort'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> len = <span class="keyword">this</span>.length,</span><br><span class="line">        i, j, k, tmp;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;len; i++)&#123;</span><br><span class="line">        k = i;</span><br><span class="line">        <span class="keyword">for</span>(j=i+<span class="number">1</span>; j&lt;len; j++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(<span class="keyword">this</span>[j] &lt; <span class="keyword">this</span>[k]) k = j;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(k!=i)&#123;</span><br><span class="line">            tmp = <span class="keyword">this</span>[k];</span><br><span class="line">            <span class="keyword">this</span>[k] = <span class="keyword">this</span>[i];</span><br><span class="line">            <span class="keyword">this</span>[i] = tmp;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="插入排序"><a href="#插入排序" class="headerlink" title="插入排序"></a>插入排序</h3><blockquote><p>从无序区的第一个元素开始和它前面有序区的元素进行比较，如果比前面的元素小，那么前面的元素向后移动，否则就将此元素插入到相应的位置。</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.method(<span class="string">'insertSort'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> len = <span class="keyword">this</span>.length,</span><br><span class="line">        i, j, tmp;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">1</span>; i&lt;len; i++)&#123;</span><br><span class="line">        tmp = <span class="keyword">this</span>[i];</span><br><span class="line">        j = i - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>(j&gt;=<span class="number">0</span> &amp;&amp; tmp &lt; <span class="keyword">this</span>[j])&#123;</span><br><span class="line">            <span class="keyword">this</span>[j+<span class="number">1</span>] = <span class="keyword">this</span>[j];</span><br><span class="line">            j--;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">this</span>[j+<span class="number">1</span>] = tmp;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="二分插入排序"><a href="#二分插入排序" class="headerlink" title="二分插入排序"></a>二分插入排序</h3><blockquote><p>先在有序区通过二分查找的方法找到移动元素的起始位置，然后通过这个起始位置将后面所有的元素后移。</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.method(<span class="string">'bInsertSort'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> len = <span class="keyword">this</span>.length,</span><br><span class="line">        i, j, tmp, low, high, mid;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">1</span>; i&lt;len; i++)&#123;</span><br><span class="line">        tmp = <span class="keyword">this</span>[i];</span><br><span class="line">        low = <span class="number">0</span>;</span><br><span class="line">        high = i - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>(low &lt;= high)&#123;</span><br><span class="line">            mid = (low+high)/<span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span>(tmp &lt; <span class="keyword">this</span>[mid]) high = mid - <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span> low = mid + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(j=i<span class="number">-1</span>; j&gt;=high+<span class="number">1</span>; j--)&#123;</span><br><span class="line">            <span class="keyword">this</span>[j+<span class="number">1</span>] = <span class="keyword">this</span>[j];            </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">this</span>[j+<span class="number">1</span>] = tmp;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="希尔排序"><a href="#希尔排序" class="headerlink" title="希尔排序"></a>希尔排序</h3><blockquote><p>我们在第 i 次时取gap = n/(2的i次方)，然后将数组分为gap组(从下标0开始，每相邻的gap个元素为一组)，接下来我们对每一组进行直接插入排序。</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.method(<span class="string">'shellSort'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> len = <span class="keyword">this</span>.length, gap = <span class="built_in">parseInt</span>(len/<span class="number">2</span>), </span><br><span class="line">        i, j, tmp;</span><br><span class="line">    <span class="keyword">while</span>(gap &gt; <span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">for</span>(i=gap; i&lt;len; i++)&#123;</span><br><span class="line">            tmp = <span class="keyword">this</span>[i];</span><br><span class="line">            j = i - gap;</span><br><span class="line">            <span class="keyword">while</span>(j&gt;=<span class="number">0</span> &amp;&amp; tmp &lt; <span class="keyword">this</span>[j])&#123;</span><br><span class="line">                <span class="keyword">this</span>[j+gap] = <span class="keyword">this</span>[j];</span><br><span class="line">                j = j - gap;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">this</span>[j + gap] = tmp;</span><br><span class="line">        &#125;</span><br><span class="line">        gap = <span class="built_in">parseInt</span>(gap/<span class="number">2</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="归并排序"><a href="#归并排序" class="headerlink" title="归并排序"></a>归并排序</h3><blockquote><ol><li>归并<br>从两个有序表R[low…mid]和R[mid+1…high]，每次从左边依次取出一个数进行比较，将较小者放入tmp数组中，最后将两段中剩下的部分直接复制到tmp中。<br>这样tmp是一个有序表，再将它复制加R中。(其中要考虑最后一个子表的长度不足length的情况)</li></ol></blockquote><blockquote><ol start="2"><li>排序<br>自底向上的归并，第一回：length=1；第二回：length=2 * length …</li></ol></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.method(<span class="string">'merge'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">low, mid, high</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> tmp = <span class="keyword">new</span> <span class="built_in">Array</span>(), i = low, j=mid+<span class="number">1</span>, k=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(i&lt;=mid &amp;&amp; j&lt;=high)&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">this</span>[i] &lt;= <span class="keyword">this</span>[j])&#123;<span class="comment">//比较第一部分和第二部分，取较小者</span></span><br><span class="line">            tmp[k] = <span class="keyword">this</span>[i];</span><br><span class="line">            i++;</span><br><span class="line">            k++;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            tmp[k] = <span class="keyword">this</span>[j];</span><br><span class="line">            j++;</span><br><span class="line">            k++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(i&lt;=mid)&#123;</span><br><span class="line">        tmp[k] = <span class="keyword">this</span>[i];</span><br><span class="line">        i++;</span><br><span class="line">        k++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(j&lt;=high)&#123;</span><br><span class="line">        tmp[k] = <span class="keyword">this</span>[j];</span><br><span class="line">        j++;</span><br><span class="line">        k++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(k=<span class="number">0</span>,i=low; i&lt;=high; k++,i++) <span class="keyword">this</span>[i] = tmp[k];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">Array</span>.method(<span class="string">'mergePass'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">length, n</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> i;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>; i+<span class="number">2</span>*length<span class="number">-1</span>&lt;n; i=i+<span class="number">2</span>*length) <span class="keyword">this</span>.merge(i, i+length<span class="number">-1</span>, i+<span class="number">2</span>*length<span class="number">-1</span>);</span><br><span class="line">    <span class="keyword">if</span>(i+length<span class="number">-1</span> &lt; n) <span class="keyword">this</span>.merge(i, i+length<span class="number">-1</span>, n<span class="number">-1</span>); <span class="comment">//考虑到最后一个子表的长度可能小于length，所以要特殊处理一下</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="built_in">Array</span>.method(<span class="string">'mergeSort'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> len = <span class="keyword">this</span>.length,</span><br><span class="line">        length;</span><br><span class="line">    <span class="keyword">for</span>(length=<span class="number">1</span>; length&lt;len; length=<span class="number">2</span>*length) <span class="keyword">this</span>.mergePass(length, len);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="快速排序"><a href="#快速排序" class="headerlink" title="快速排序"></a>快速排序</h3><blockquote></blockquote><ol><li>假设第一个元素为基准元素 </li><li>把所有比基准元素小的记录放置在前一部分，把所有比基准元素大的记录放置在后一部分，并把基准元素放在这两部分的中间(i=j的位置)</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.method(<span class="string">'quickSort'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">s, t</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> i=s, j=t,</span><br><span class="line">        tmp;</span><br><span class="line">    <span class="keyword">if</span>(s &lt; t)&#123;</span><br><span class="line">        tmp = <span class="keyword">this</span>[s];</span><br><span class="line">        <span class="keyword">while</span>(i!=j)&#123;</span><br><span class="line">            <span class="keyword">while</span>(j&gt;i &amp;&amp; <span class="keyword">this</span>[j]&gt;tmp) j--;<span class="comment">//右—&gt;左</span></span><br><span class="line">            R[i] = R[j];</span><br><span class="line">            <span class="keyword">while</span>(i&lt;j &amp;&amp; <span class="keyword">this</span>[j]&lt;tmp) i++;<span class="comment">//左—&gt;右</span></span><br><span class="line">            R[j] = R[i]; </span><br><span class="line">        &#125;</span><br><span class="line">        R[i] = tmp;</span><br><span class="line">        <span class="keyword">this</span>.quickSort(s, i<span class="number">-1</span>);</span><br><span class="line">        <span class="keyword">this</span>.quickSort(i+<span class="number">1</span>, t);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><blockquote><p>堆排序是一种树形选择排序方法(注意下标是从1开始的，也就是R[1…n])。</p></blockquote><blockquote><ol><li>初始堆：<br>将原始数组调整成大根堆的方法——筛选算法：<br>比较R[2i]、R[2i+1]和R[i]，将最大者放在R[i]的位置上(递归调用此方法到结束)</li></ol></blockquote><blockquote><ol start="2"><li>堆排序：<br>每次将堆顶元素与数组最后面的且没有被置换的元素互换。</li></ol></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.method(<span class="string">'createHeap'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">low, high</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> i=low, j=<span class="number">2</span>*i, tmp=<span class="keyword">this</span>[i];</span><br><span class="line">    <span class="keyword">while</span>(j&lt;=high)&#123;</span><br><span class="line">        <span class="keyword">if</span>(j&lt; high &amp;&amp; <span class="keyword">this</span>[j]&lt;<span class="keyword">this</span>[j+<span class="number">1</span>]) j++; <span class="comment">//从左右子节点中选出较大的节点</span></span><br><span class="line">        <span class="keyword">if</span>(tmp &lt; <span class="keyword">this</span>[j])&#123;                    <span class="comment">//根节点(tmp)&lt;较大的节点</span></span><br><span class="line">            <span class="keyword">this</span>[i] = <span class="keyword">this</span>[j];</span><br><span class="line">            i = j;</span><br><span class="line">            j = <span class="number">2</span>*i;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">this</span>[i] = tmp;                            <span class="comment">//被筛选的元素放在最终的位置上</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="built_in">Array</span>.method(<span class="string">'heapSort'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> i, tmp, len=<span class="keyword">this</span>.length<span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="built_in">parseInt</span>(len/<span class="number">2</span>); i&gt;=<span class="number">1</span>; i--) <span class="keyword">this</span>.createHeap(i, len);</span><br><span class="line">    <span class="keyword">for</span>(i=len; i&gt;=<span class="number">2</span>; i--)&#123;</span><br><span class="line">        tmp = <span class="keyword">this</span>[<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">this</span>[<span class="number">1</span>] = <span class="keyword">this</span>[i];</span><br><span class="line">        <span class="keyword">this</span>[i] = tmp;</span><br><span class="line">        <span class="keyword">this</span>.createHeap(<span class="number">1</span>, i<span class="number">-1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> out = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">arguments</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> test = [<span class="number">0</span>,<span class="number">1</span>,<span class="number">7</span>,<span class="number">6</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">9</span>,<span class="number">8</span>];</span><br><span class="line">out(test.insertSort(), <span class="string">'insertSort'</span>);</span><br><span class="line"><span class="keyword">var</span> test = [<span class="number">0</span>,<span class="number">1</span>,<span class="number">7</span>,<span class="number">6</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">9</span>,<span class="number">8</span>];</span><br><span class="line">out(test.bInsertSort(), <span class="string">'bInsertSort'</span>);</span><br><span class="line"><span class="keyword">var</span> test = [<span class="number">0</span>,<span class="number">1</span>,<span class="number">7</span>,<span class="number">6</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">9</span>,<span class="number">8</span>];</span><br><span class="line">out(test.shellSort(), <span class="string">'shellSort'</span>);</span><br><span class="line"><span class="keyword">var</span> test = [<span class="number">0</span>,<span class="number">1</span>,<span class="number">7</span>,<span class="number">6</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">9</span>,<span class="number">8</span>];</span><br><span class="line">out(test.bubbleSort(), <span class="string">'bubbleSort'</span>);</span><br><span class="line"><span class="keyword">var</span> test = [<span class="number">0</span>,<span class="number">1</span>,<span class="number">7</span>,<span class="number">6</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">9</span>,<span class="number">8</span>];</span><br><span class="line">out(test.rBubbleSort(), <span class="string">'rBubbleSort'</span>);</span><br><span class="line"><span class="keyword">var</span> test = [<span class="number">0</span>,<span class="number">1</span>,<span class="number">7</span>,<span class="number">6</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">9</span>,<span class="number">8</span>];</span><br><span class="line">out(test.quickSort(<span class="number">0</span>, test.length<span class="number">-1</span>), <span class="string">'quickSort'</span>);</span><br><span class="line"><span class="keyword">var</span> test = [<span class="number">0</span>,<span class="number">1</span>,<span class="number">7</span>,<span class="number">6</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">9</span>,<span class="number">8</span>];</span><br><span class="line">out(test.selectSort(), <span class="string">'selectSort'</span>);</span><br><span class="line"><span class="keyword">var</span> test = [<span class="number">0</span>,<span class="number">1</span>,<span class="number">7</span>,<span class="number">6</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">9</span>,<span class="number">8</span>];</span><br><span class="line">out(test.heapSort(), <span class="string">'heapSort'</span>);</span><br><span class="line"><span class="keyword">var</span> test = [<span class="number">0</span>,<span class="number">1</span>,<span class="number">7</span>,<span class="number">6</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">9</span>,<span class="number">8</span>];</span><br><span class="line">out(test.mergeSort(), <span class="string">'mergeSort'</span>);</span><br></pre></td></tr></table></figure><h2 id="JS数组去重算法"><a href="#JS数组去重算法" class="headerlink" title="JS数组去重算法"></a>JS数组去重算法</h2><blockquote><p><a href="http://www.cnblogs.com/wteam-xq/p/4732351.html" target="_blank" rel="noopener">原文</a></p></blockquote><blockquote><p>推荐：<br><a href="http://www.siguoya.name/pc/home/article/45" target="_blank" rel="noopener">JS算法之去掉数组中的重复元素</a><br><a href="https://yuzmb.github.io/2016/11/03/%E7%AC%94%E8%AF%95%E7%BB%8F%E5%B8%B8%E5%87%BA%E7%8E%B0%E7%9A%84js%E6%95%B0%E7%BB%84%E6%8E%92%E5%BA%8F%E4%B8%8E%E5%8E%BB%E9%87%8D%E7%AE%97%E6%B3%95/" target="_blank" rel="noopener">笔试中经常出现的js数组排序与去重算法</a></p></blockquote><h3 id="遍历数组法"><a href="#遍历数组法" class="headerlink" title="遍历数组法"></a>遍历数组法</h3><blockquote><p>新建一新数组，遍历传入数组，值不在新数组就加入该新数组中；注意点：判断值是否在数组的方法“indexOf”是ECMAScript5 方法，IE8以下不支持，需多写一些兼容低版本浏览器代码</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 最简单数组去重法</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">unique1</span>(<span class="params">array</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> n = []; <span class="comment">//一个新的临时数组</span></span><br><span class="line">  <span class="comment">//遍历当前数组</span></span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; array.length; i++)&#123;</span><br><span class="line">    <span class="comment">//如果当前数组的第i已经保存进了临时数组，那么跳过，</span></span><br><span class="line">    <span class="comment">//否则把当前项push到临时数组里面</span></span><br><span class="line">    <span class="keyword">if</span> (n.indexOf(array[i]) == <span class="number">-1</span>) n.push(array[i]);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> n;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 判断浏览器是否支持indexOf ，indexOf 为ecmaScript5新方法 IE8以下（包括IE8， IE8只支持部分ecma5）不支持</span></span><br><span class="line"><span class="keyword">if</span> (!<span class="built_in">Array</span>.prototype.indexOf)&#123;</span><br><span class="line">  <span class="comment">// 新增indexOf方法</span></span><br><span class="line">  <span class="built_in">Array</span>.prototype.indexOf = <span class="function"><span class="keyword">function</span>(<span class="params">item</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> result = <span class="number">-1</span>, a_item = <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.length == <span class="number">0</span>)&#123;</span><br><span class="line">      <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>, len = <span class="keyword">this</span>.length; i &lt; len; i++)&#123;</span><br><span class="line">      a_item = <span class="keyword">this</span>[i];</span><br><span class="line">      <span class="keyword">if</span> (a_item === item)&#123;</span><br><span class="line">        result = i;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">      &#125;  </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="对象键值对法"><a href="#对象键值对法" class="headerlink" title="对象键值对法"></a>对象键值对法</h3><blockquote><p>该方法执行的速度比其他任何方法都快， 就是占用的内存大一些；实现思路：新建一js对象以及新数组，遍历传入数组时，判断值是否为js对象的键，不是的话给对象新增该键并放入新数组。注意点： 判断是否为js对象键时，会自动对传入的键执行“toString()”，不同的键可能会被误认为一样；例如： a[1]、a[“1”] 。解决上述问题还是得调用“indexOf”。</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 速度最快， 占空间最多（空间换时间）</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">unique2</span>(<span class="params">array</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> n = &#123;&#125;, r = [], len = array.length, val, type;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; array.length; i++) &#123;</span><br><span class="line">        val = array[i];</span><br><span class="line">        type = <span class="keyword">typeof</span> val;</span><br><span class="line">        <span class="keyword">if</span> (!n[val]) &#123;</span><br><span class="line">            n[val] = [type];</span><br><span class="line">            r.push(val);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (n[val].indexOf(type) &lt; <span class="number">0</span>) &#123;</span><br><span class="line">            n[val].push(type);</span><br><span class="line">            r.push(val);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> r;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="数组下标判断法"><a href="#数组下标判断法" class="headerlink" title="数组下标判断法"></a>数组下标判断法</h3><blockquote><p>还是得调用“indexOf”性能跟方法1差不多，实现思路：如果当前数组的第i项在当前数组中第一次出现的位置不是i，那么表示第i项是重复的，忽略掉。否则存入结果数组。</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">unique3</span>(<span class="params">array</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> n = [array[<span class="number">0</span>]]; <span class="comment">//结果数组</span></span><br><span class="line">  <span class="comment">//从第二项开始遍历</span></span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">1</span>; i &lt; array.length; i++) &#123;</span><br><span class="line">    <span class="comment">//如果当前数组的第i项在当前数组中第一次出现的位置不是i，</span></span><br><span class="line">    <span class="comment">//那么表示第i项是重复的，忽略掉。否则存入结果数组</span></span><br><span class="line">    <span class="keyword">if</span> (array.indexOf(array[i]) == i) n.push(array[i]);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> n;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="排序后相邻去除法"><a href="#排序后相邻去除法" class="headerlink" title="排序后相邻去除法"></a>排序后相邻去除法</h3><blockquote><p>虽然原生数组的”sort”方法排序结果不怎么靠谱，但在不注重顺序的去重里该缺点毫无影响。实现思路：给传入数组排序，排序后相同值相邻，然后遍历时新数组只加入不与前一值重复的值。</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">/ 将相同的值相邻，然后遍历去除重复值</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">unique4</span>(<span class="params">array</span>)</span>&#123;</span><br><span class="line">  array.sort(); </span><br><span class="line">  <span class="keyword">var</span> re=[array[<span class="number">0</span>]];</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">1</span>; i &lt; array.length; i++)&#123;</span><br><span class="line">    <span class="keyword">if</span>( array[i] !== re[re.length<span class="number">-1</span>])</span><br><span class="line">    &#123;</span><br><span class="line">      re.push(array[i]);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> re;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="优化遍历数组法"><a href="#优化遍历数组法" class="headerlink" title="优化遍历数组法"></a>优化遍历数组法</h3><blockquote><p>获取没重复的最右一值放入新数组。（检测到有重复值时终止当前循环同时进入顶层循环的下一轮判断）</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 思路：获取没重复的最右一值放入新数组</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">unique5</span>(<span class="params">array</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> r = [];</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>, l = array.length; i &lt; l; i++) &#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> j = i + <span class="number">1</span>; j &lt; l; j++)</span><br><span class="line">      <span class="keyword">if</span> (array[i] === array[j]) j = ++i;</span><br><span class="line">    r.push(array[i]);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> r;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ES6-Map和Set结构法"><a href="#ES6-Map和Set结构法" class="headerlink" title="ES6 Map和Set结构法"></a>ES6 Map和Set结构法</h3><blockquote><p>Set 也是ES6 提供的新的数据结构。它类似于数组，但是成员的值都是唯一的，没有重复的值。</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">uniMap</span> (<span class="params">arr</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> [...new <span class="built_in">Set</span>(arr)];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="string">'1'</span>, <span class="literal">NaN</span>, <span class="literal">NaN</span>, <span class="literal">null</span>, <span class="literal">null</span>, <span class="literal">undefined</span>, <span class="literal">undefined</span>, &#123;&#125;, &#123;&#125;];</span><br><span class="line"><span class="built_in">console</span>.log(uniMap(arr));  <span class="comment">// [ 1, 2, 3, '1', NaN, null, undefined, &#123;&#125;, &#123;&#125; ]</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> s = <span class="keyword">new</span> <span class="built_in">Set</span>();</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">uniMap</span>(<span class="params">arr</span>)  </span>&#123;</span><br><span class="line">    arr.forEach( <span class="function"><span class="params">item</span> =&gt;</span> s.add(item));</span><br><span class="line">    <span class="keyword">return</span> [...s];  <span class="comment">// [ 1, 2, 3, '1' ]</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// main</span></span><br><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="string">'1'</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>];</span><br><span class="line"><span class="built_in">console</span>.log(uniMap(arr));</span><br></pre></td></tr></table></figure><blockquote><p>Array.from也是ES6中的新方法可以将 Set 结构转为数组。这就引出第三种使用set的数组去重方法：</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">uniMap</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Array</span>.from(<span class="keyword">new</span> <span class="built_in">Set</span>(arr));</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="string">'1'</span>, <span class="literal">NaN</span>, <span class="literal">NaN</span>, <span class="literal">null</span>, <span class="literal">null</span>, <span class="literal">undefined</span>, <span class="literal">undefined</span>, &#123;&#125;, &#123;&#125;];</span><br><span class="line"><span class="built_in">console</span>.log(uniMap(arr));  <span class="comment">// [ 1, 2, 3, '1', NaN, null, undefined, &#123;&#125;, &#123;&#125; ]</span></span><br></pre></td></tr></table></figure><blockquote><p>Map是es6中新增的数据结构，它类似于对象，也是键值对的集合，但是“键”的范围不限于字符串，各种类型的值（包括对象）都可以当作键。<br>Map的has方法用于判断map是否含有该键。set 和get 方法分别为添加成员方法和得到键值方法。</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">unique</span> (<span class="params">arr</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> seen = <span class="keyword">new</span> <span class="built_in">Map</span>()</span><br><span class="line">  <span class="keyword">return</span> arr.filter(<span class="function">(<span class="params">a</span>) =&gt;</span> !seen.has(a) &amp;&amp; seen.set(a, <span class="number">1</span>))</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="string">'1'</span>, <span class="literal">NaN</span>, <span class="literal">NaN</span>, <span class="literal">null</span>, <span class="literal">null</span>, <span class="literal">undefined</span>, <span class="literal">undefined</span>, &#123;&#125;, &#123;&#125;];</span><br><span class="line"><span class="built_in">console</span>.log(unique(arr));  <span class="comment">//[ 1, 2, 3, '1', NaN, null, undefined, &#123;&#125;, &#123;&#125; ]</span></span><br></pre></td></tr></table></figure><h2 id="js数组操作"><a href="#js数组操作" class="headerlink" title="js数组操作"></a>js数组操作</h2><h3 id="1-根据相同属性值将一个一维对象数组转为二维数组"><a href="#1-根据相同属性值将一个一维对象数组转为二维数组" class="headerlink" title="1. 根据相同属性值将一个一维对象数组转为二维数组"></a>1. 根据相同属性值将一个一维对象数组转为二维数组</h3><blockquote><p>将一个一维对象数组，根据相同的属性值，转化成一个二维数组</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arrayFirst = [&#123;</span><br><span class="line">    code: <span class="number">1</span>,</span><br><span class="line">    datas: <span class="string">'a网吧'</span></span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line">    code: <span class="number">1</span>,</span><br><span class="line">    datas: <span class="string">'b网吧'</span></span><br><span class="line">&#125;, &#123;</span><br><span class="line">    code: <span class="number">2</span>,</span><br><span class="line">    datas: <span class="string">'a酒店'</span></span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line">    code: <span class="number">2</span>,</span><br><span class="line">    datas: <span class="string">'b酒店'</span></span><br><span class="line">&#125;]</span><br></pre></td></tr></table></figure><p><strong>es6方法：</strong>  </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 转换后的二维数组</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">convert</span> (<span class="params">arr, attr</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> arrayTwo = <span class="built_in">Object</span>.values(arr.reduce(<span class="function">(<span class="params">res, item</span>) =&gt;</span> &#123;</span><br><span class="line">      res[item[attr]] ? res[item[attr]].push(item) : res[item[attr]] = [item];</span><br><span class="line">      <span class="keyword">return</span> res;</span><br><span class="line">    &#125;, &#123;&#125;));</span><br><span class="line">    <span class="built_in">console</span>.log(arrayTwo)</span><br><span class="line">    <span class="keyword">return</span> arrayTwo</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> newArr = convert(arrayFirst, <span class="string">'code'</span>); </span><br><span class="line"><span class="comment">/*[</span></span><br><span class="line"><span class="comment">    [&#123;code: 1, datas: "a网吧"&#125;,&#123;code: 1, datas: "b网吧"&#125;],</span></span><br><span class="line"><span class="comment">    [&#123;code: 2, datas: "a酒店"&#125;,&#123;code: 2, datas: "b酒店"&#125;]</span></span><br><span class="line"><span class="comment">]*/</span></span><br></pre></td></tr></table></figure><p><strong>es5方法：</strong>  </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 转换后的二维数组</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">convert</span> (<span class="params">arr, attr</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> obj = &#123;&#125;;</span><br><span class="line">    <span class="keyword">while</span>(arr.length) &#123;</span><br><span class="line">        <span class="keyword">var</span> current = arr.pop(); <span class="comment">// 会影响原数组</span></span><br><span class="line">        obj[current[attr]] = obj[current[attr]] || [];</span><br><span class="line">        obj[current[attr]].push(current);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Object</span>.keys(obj).map(<span class="function"><span class="keyword">function</span>(<span class="params">key</span>)</span>&#123;<span class="keyword">return</span> obj[key]&#125;);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> arrayTwo = convert(arrayFirst)</span><br></pre></td></tr></table></figure><h3 id="数组去重"><a href="#数组去重" class="headerlink" title="数组去重"></a>数组去重</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 最简单数组去重法</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">unique5</span>(<span class="params">array</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> r = [];</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>, l = array.length; i &lt; l; i++) &#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> j = i + <span class="number">1</span>; j &lt; l; j++)</span><br><span class="line">      <span class="keyword">if</span> (array[i] === array[j]) j = ++i;</span><br><span class="line">    r.push(array[i]);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> r;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// es6</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">uniMap</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Array</span>.from(<span class="keyword">new</span> <span class="built_in">Set</span>(arr)); <span class="comment">//或 [...new Set(arr)]</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="根据数组总相同的某个元素重新组成新的数组"><a href="#根据数组总相同的某个元素重新组成新的数组" class="headerlink" title="根据数组总相同的某个元素重新组成新的数组"></a>根据数组总相同的某个元素重新组成新的数组</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 例如</span></span><br><span class="line">arr = [</span><br><span class="line">    &#123;<span class="attr">key</span>: <span class="number">1</span>, <span class="attr">name</span>: <span class="string">'a'</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">key</span>: <span class="number">1</span>, <span class="attr">name</span>: <span class="string">'b'</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">key</span>: <span class="number">2</span>, <span class="attr">name</span>: <span class="string">'c'</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">key</span>: <span class="number">3</span>, <span class="attr">name</span>: <span class="string">'e'</span>&#125;,</span><br><span class="line">    &#123;<span class="attr">key</span>: <span class="number">2</span>, <span class="attr">name</span>: <span class="string">'f'</span>&#125;,</span><br><span class="line">]</span><br><span class="line"><span class="comment">// 根据key相同的元素组成新的数组为：</span></span><br><span class="line">newArr = [</span><br><span class="line">    &#123;</span><br><span class="line">        key: <span class="number">1</span>, </span><br><span class="line">        list: [</span><br><span class="line">            &#123;<span class="attr">key</span>: <span class="number">1</span>, <span class="attr">name</span>: <span class="string">'a'</span>&#125;,</span><br><span class="line">            &#123;<span class="attr">key</span>: <span class="number">1</span>, <span class="attr">name</span>: <span class="string">'b'</span>&#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        key: <span class="number">2</span>,</span><br><span class="line">        list: [</span><br><span class="line">            &#123;<span class="attr">key</span>: <span class="number">2</span>, <span class="attr">name</span>: <span class="string">'c'</span>&#125;,</span><br><span class="line">            &#123;<span class="attr">key</span>: <span class="number">2</span>, <span class="attr">name</span>: <span class="string">'f'</span>&#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        key: <span class="number">3</span>,</span><br><span class="line">        list: [</span><br><span class="line">            &#123;<span class="attr">key</span>: <span class="number">3</span>, <span class="attr">name</span>: <span class="string">'e'</span>&#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br><span class="line"><span class="string">`</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">trees</span>(<span class="params">data, key, list=<span class="string">'list'</span></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> obj = &#123;&#125;;</span><br><span class="line">    <span class="keyword">var</span> newArr = [];</span><br><span class="line">    data.map(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (!obj[item[key]]) &#123;</span><br><span class="line">            obj[item[key]] = &#123;&#125;;</span><br><span class="line">            obj[item[key]][key] = item[key];</span><br><span class="line">            obj[item[key]][list] = [];</span><br><span class="line">            obj[item[key]][list].push(item);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            obj[item[key]][list].push(item);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">for</span> (i <span class="keyword">in</span> obj) &#123;</span><br><span class="line">        newArr.push(obj[i])</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> newArr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="js取出多个数组中不同的元素"><a href="#js取出多个数组中不同的元素" class="headerlink" title="js取出多个数组中不同的元素"></a>js取出多个数组中不同的元素</h3><p><strong>取出多个数组的不同元素</strong>  </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr1 = [<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>];</span><br><span class="line"><span class="keyword">var</span> arr2 = [<span class="number">0</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">9</span>];</span><br><span class="line"><span class="comment">// 取出2个数组不同元素</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getArrDifference</span>(<span class="params">arr1, arr2</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> arr1.concat(arr2).filter(<span class="function"><span class="keyword">function</span>(<span class="params">v, i, arr</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> arr.indexOf(v) === arr.lastIndexOf(v);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 取出多个数组不同元素</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getArrDifference</span>(<span class="params">...arrs</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> newArr = arrs.flat(<span class="literal">Infinity</span>) <span class="comment">// 转变为一维数组</span></span><br><span class="line">    <span class="keyword">return</span> newArr.filter(<span class="function"><span class="keyword">function</span>(<span class="params">v, i, arr</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> arr.indexOf(v) === arr.lastIndexOf(v);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(getArrDifference(arr1,arr2));</span><br><span class="line"> </span><br><span class="line"> <span class="comment">//输出：(4) [2, 5, 6, 9]</span></span><br></pre></td></tr></table></figure><p><strong>取出两个数组的相同元素</strong></p><pre><code class="js"><span class="keyword">var</span> arr1 = [<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>];<span class="keyword">var</span> arr2 = [<span class="number">0</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">9</span>];<span class="function"><span class="keyword">function</span> <span class="title">getArrEqual</span>(<span class="params">arr1, arr2</span>) </span>{        <span class="keyword">let</span> newArr = [];        <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; arr2.length; i++) {            <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; arr1.length; j++) {                <span class="keyword">if</span>(arr1[j] === arr2[i]){                    newArr.push(arr1[j]);                }        }     }     <span class="keyword">return</span> newArr;}<span class="comment">//输出：(4) [0, 4, 1, 3]</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
            <tag> 前端收集 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux系统发行版</title>
      <link href="/Linux%E7%B3%BB%E7%BB%9F%E5%8F%91%E8%A1%8C%E7%89%88/"/>
      <url>/Linux%E7%B3%BB%E7%BB%9F%E5%8F%91%E8%A1%8C%E7%89%88/</url>
      
        <content type="html"><![CDATA[<h2 id="linux发行版推荐："><a href="#linux发行版推荐：" class="headerlink" title="linux发行版推荐："></a>linux发行版推荐：</h2><ol><li><a href="https://www.debian.org/" target="_blank" rel="noopener">Debian</a> 最适合系统管理员的发行版</li><li><a href="http://cn.ubuntu.com/" target="_blank" rel="noopener">Ubuntu</a> (ubuntu LTS,Lubuntu,Ubuntu Server,Ubuntu Core[树莓派])</li><li><a href="https://www.centos.org/" target="_blank" rel="noopener">Centos</a> 免费服务端系统</li><li><a href="https://www.archlinux.org/" target="_blank" rel="noopener">Arch Linux</a> 包管理最好的发行版(Manjaro Linux)</li><li><a href="https://clearlinux.org/" target="_blank" rel="noopener">Clear Linux</a> 性能最好的发行版</li><li><a href="https://linuxmint.com/" target="_blank" rel="noopener">Linux Mint</a> 一个免费、高效、易用、高雅的桌面操作系统</li><li><a href="https://lubuntu.net/" target="_blank" rel="noopener">Lubuntu</a> 最好的轻量级发行版</li><li><a href="https://elementary.io/zh_CN/" target="_blank" rel="noopener">Elementary OS</a> 最好看的桌面发行版以及稳定</li><li><a href="https://www.deepin.org/zh/" target="_blank" rel="noopener">Deepin</a>    国内最好的发行版</li><li><a href="https://ezgolinux.org/" target="_blank" rel="noopener">Ezgo Linux</a> 最好的教育发行版，开源、公益、免费、面向教育的Linux发行版</li><li><a href="https://www.ubuntu.com/download/server" target="_blank" rel="noopener">Ubuntu Server</a> 最好的服务器发行版</li><li><a href="https://www.parrotsec.org/" target="_blank" rel="noopener">Parrot Linux</a> 是一个面向安全的 GNU/Linux 操作系统</li><li><a href="https://www.opensuse.org/" target="_blank" rel="noopener">openSUSE</a> 系统管理员、开发者和桌面用户的上上之选</li><li><a href="https://www.gentoo.org/" target="_blank" rel="noopener">Gentoo</a> 得益于一种称为Portage的技术，Gentoo能成为理想的安全服务器、开发工作站、专业桌面<a id="more"></a></li></ol><blockquote><p>注：推荐没有顺序</p></blockquote><blockquote><p><a href="https://zhuanlan.zhihu.com/p/33771775" target="_blank" rel="noopener">2018 最佳 Linux 发行版排行榜</a></p></blockquote><h2 id="Linux-软件包管理器"><a href="#Linux-软件包管理器" class="headerlink" title="Linux 软件包管理器"></a>Linux 软件包管理器</h2><h3 id="1-DPKG-Debian包管理系统"><a href="#1-DPKG-Debian包管理系统" class="headerlink" title="1. DPKG - Debian包管理系统"></a>1. DPKG - Debian包管理系统</h3><p>Dpkg 是 Debian Linux 家族的基础包管理系统，它用于安装、删除、存储和提供deb包的信息。<br>这是一个低层面的工具，并且有多个前端工具可以帮助用户从远程的仓库获取包，或处理复杂的包关系的工具，包括如下：</p><p><span class="f18"><a href="http://www.howtoing.com/dpkg-command-examples/" target="_blank" rel="noopener">dpkg的命令”基于Debian发行版15个实际的例子</a></span></p><h4 id="APT-高级打包工具"><a href="#APT-高级打包工具" class="headerlink" title="APT (高级打包工具)"></a>APT (高级打包工具)</h4><blockquote><p>这个是一个 dpkg 包管理系统的前端工具，它是一个非常受欢迎的、自由而强大的，有用的命令行包管理器系统。<br>Debian 及其衍生版，例如 <code>Ubuntu</code> 和 <code>Linux Mint</code> 的用户应该非常熟悉这个包管理工具。</p></blockquote><span class="f18">[如何在Ubuntu的/ Debian的使用新的高级包管理工具（APT）15例](http://www.howtoing.com/apt-advanced-package-command-examples-in-ubuntu/)[25个有用的基本命令apt-get和APT-CACHE的包管理](http://www.howtoing.com/useful-basic-commands-of-apt-get-and-apt-cache-for-package-management/)</span><h4 id="Aptitude-包管理器"><a href="#Aptitude-包管理器" class="headerlink" title="Aptitude 包管理器"></a>Aptitude 包管理器</h4><blockquote><p>这个也是 <code>Debian Linux</code> 家族一个非常出名的命令行前端包管理工具，它工作方式类似 APT ，它们之间有很多可以比较的地方，不过，你应该两个都试试才知道哪个工作的更好。<br>它最初为 <code>Debian</code> 及其衍生版设计的，但是现在它的功能延伸到 <code>RHEL</code> 家族。<br>你可以参考这个指南了解更多关于 <code>APT</code> 和 <code>Aptitude</code>。</p></blockquote><p><span class="f18"><a href="http://www.howtoing.com/difference-between-apt-and-aptitude/" target="_blank" rel="noopener"> 什么是APT和能力倾向？ 和他们真正的区别是什么？</a></span></p><h4 id="Synaptic-包管理器"><a href="#Synaptic-包管理器" class="headerlink" title="Synaptic 包管理器"></a>Synaptic 包管理器</h4><blockquote><p><code>Synaptic</code>是一个基于GTK+的APT的<code>可视化</code>包管理器，对于一些不想使用命令行的用户，它非常好用。</p></blockquote><h3 id="2-RPM-红帽包管理器"><a href="#2-RPM-红帽包管理器" class="headerlink" title="2. RPM - 红帽包管理器"></a>2. RPM - 红帽包管理器</h3><p>这个是红帽创建的<code>Linux</code>基本标准（LSB）打包格式和基础包管理系统。<br>基于这个底层系统，有多个前端包管理工具可供你使用，但我们应该只看那些最好的，那就是：</p><h4 id="YUM-（黄狗更新器，修改版）"><a href="#YUM-（黄狗更新器，修改版）" class="headerlink" title="YUM （黄狗更新器，修改版）"></a>YUM （黄狗更新器，修改版）</h4><blockquote><p>这个是一个开源、流行的命令行包管理器，它是用户使用 <code>RPM</code> 的界面（之一）。<br>你可以把它和 <code>Debian Linux</code> 系统中的 APT 进行对比，它和 APT 拥有相同的功能。你可以从这个 HOW TO 指南中的例子更加清晰的理解YUM:</p></blockquote><span class="f18">    [20个包管理的Linux YUM命令](http://www.howtoing.com/20-linux-yum-yellowdog-updater-modified-commands-for-package-mangement/)</span><h4 id="DNF（优美的-Yum）"><a href="#DNF（优美的-Yum）" class="headerlink" title="DNF（优美的 Yum）"></a>DNF（优美的 Yum）</h4><blockquote><p>这个也是一个用于基于 RPM 的发行版的包管理器，<code>Fedora 18</code> 引入了它，它是下一代 YUM。<br>如果你用 <code>Fedora 22</code> 及更新版本，你肯定知道它是默认的包管理器。这里有一些链接，将为你提供更多关于 DNF 的信息和如何使用它:</p></blockquote><span class="f18">    [DNF -下一代软件包管理的基于RPM的分布](http://www.howtoing.com/dnf-next-generation-package-management-utility-for-linux/)    [ 27“地下城与勇士”命令的例子来管理Fedora的软件包管理](http://www.howtoing.com/dnf-commands-for-fedora-rpm-package-management/)</span><h3 id="3-Pacman-包管理器-–-Arch-Linux"><a href="#3-Pacman-包管理器-–-Arch-Linux" class="headerlink" title="3. Pacman 包管理器 – Arch Linux"></a>3. Pacman 包管理器 – Arch Linux</h3><p>这个是一个流行的、强大而易用的包管理器，它用于 <code>Arch Linux</code> 和其他的一些小众发行版。它提供了一些其他包管理器提供的基本功能,包括安装、自动解决依赖关系、升级、卸载和降级软件。但是最大的用处是，它为 <code>Arch</code> 用户创建了一个简单易用的包管理方式。你可以阅读 <code>Pacman</code> 概览，它会解释上面提到的一些功能。</p><h3 id="4-Zypper-包管理器-–-openSUSE"><a href="#4-Zypper-包管理器-–-openSUSE" class="headerlink" title="4. Zypper 包管理器 – openSUSE"></a>4. Zypper 包管理器 – openSUSE</h3><p>这个是一个使用 <code>libzypp</code> 库制作的用于 <code>OpenSUSE</code> 系统上的命令行包管理器，它的常用功能包括访问仓库、安装包、解决依赖问题和其他功能。<br>更重要的是，它也可以支持存储库扩展功能，如模式、补丁和产品。新的 OpenSUSE 用户可以参考下面的链接来掌控它。</p><span class="f18">    [45个zypper的命令来掌握的OpenSUSE软件包管理](http://www.howtoing.com/zypper-commands-to-manage-suse-linux-package-management/)</span><h3 id="5-Portage-包管理器-–-Gentoo"><a href="#5-Portage-包管理器-–-Gentoo" class="headerlink" title="5. Portage 包管理器 – Gentoo"></a>5. Portage 包管理器 – Gentoo</h3><p>这是<code>Gentoo</code>的 ，不太流行的<code>Linux</code>发行，截至目前的软件包管理器，但是这不会限制它在Linux中最好包管理器之一。<code>Portage</code>项目的主要目的是创建一个简单和无故障的包管理系统，包括向后兼容性，自动化等功能。 为了更好地理解，尝试阅读<code>Portage</code>的项目页面。</p><h2 id="推荐："><a href="#推荐：" class="headerlink" title="推荐："></a>推荐：</h2><ol><li><a href="https://www.ibm.com/developerworks/cn/linux/l-cn-rpmdpkg/" target="_blank" rel="noopener">Linux 平台上的软件包管理</a></li><li><a href="http://blog.51cto.com/lanlian/1259359" target="_blank" rel="noopener">Linux软件包管理器之rpm和yum详解原创</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>window 软件推荐</title>
      <link href="/window%E8%BD%AF%E4%BB%B6%E6%8E%A8%E8%8D%90/"/>
      <url>/window%E8%BD%AF%E4%BB%B6%E6%8E%A8%E8%8D%90/</url>
      
        <content type="html"><![CDATA[<p>个人在使用windows过程中的一些实用性软件推荐。</p><h2 id="windows-扩展工具"><a href="#windows-扩展工具" class="headerlink" title="windows 扩展工具"></a>windows 扩展工具</h2><h3 id="1-Listary"><a href="#1-Listary" class="headerlink" title="1. Listary"></a>1. Listary</h3><blockquote><p><strong>Listary</strong>是一款用于<a href="https://zh.wikipedia.org/wiki/Microsoft_Windows" target="_blank" rel="noopener">Windows</a>的文件名定位/搜索辅助软件。它为Windows传统低效的文件打开/保存对话框提供了便捷、人性化的文件（夹）定位方式，同时改善了常见文件管理器中文件夹切换的效率。</p></blockquote><p>下载地址：<a href="http://www.listary.com/download" target="_blank" rel="noopener">Download</a></p><a id="more"></a><h3 id="2-Fences3"><a href="#2-Fences3" class="headerlink" title="2. Fences3"></a>2. Fences3</h3><blockquote><p> <strong>Fences</strong>是一个<a href="https://zh.wikipedia.org/wiki/Windows" target="_blank" rel="noopener">Windows</a>平台下的桌面管理软件，简洁实用，可以有效的管理桌面应用程序和文件。</p></blockquote><p>下载地址：<a href="https://www.stardock.com/products/fences/download" target="_blank" rel="noopener">Download</a></p><h3 id="3-Wox"><a href="#3-Wox" class="headerlink" title="3. Wox"></a>3. Wox</h3><blockquote><p>在日常的电脑操作中，我们常常花很多时间重复做着一件事情：退回桌面/开始菜单-&gt;寻找软件图标-&gt;点击启动。但如果你喜欢高效的[键盘]操作，那么你需要一款好用的<strong>快速启动器软件</strong>。Listary比起Wox功能上更专注于文件的搜索</p></blockquote><p>下载地址：<a href="http://www.getwox.com/" target="_blank" rel="noopener">Download</a></p><h3 id="4-Everything"><a href="#4-Everything" class="headerlink" title="4. Everything"></a>4. Everything</h3><blockquote><p>Everything是voidtools开发的一款文件搜索工具</p></blockquote><p>下载地址：<a href="https://www.voidtools.com/downloads/" target="_blank" rel="noopener">Download</a></p><h3 id="5-Clover"><a href="#5-Clover" class="headerlink" title="5.  Clover"></a>5.  Clover</h3><blockquote><p>Clover 就是给资源管理器增加类似谷歌 Chrome 浏览器的多标签页功能，软件本身是免费的，当然也少不了双击关闭标签页功能</p></blockquote><p>下载地址：<a href="http://cn.ejie.me/" target="_blank" rel="noopener">Download</a></p><h3 id="6-Total-Command"><a href="#6-Total-Command" class="headerlink" title="6. Total Command"></a>6. Total Command</h3><blockquote><p>Total Commander 是一款应用于 Windows 平台的文件管理器 ，它包含两个并排的窗口，这种设计可以让用户方便地对不同位置的“文件或文件夹”进行操作，例如复制、移动、删除、比较等，相对 Windows 资源管理器而言方便很多，极大地提高了文件操作的效率，被广大软件爱好者亲切地简称为：TC<br>它拥有文件快速预览、快速搜索、多标签、文件比较、批量重命名、FTP 客户端等诸多实用的功能，并可通过大量的插件进行个性化配置。</p></blockquote><p>下载地址：<a href="https://www.ghisler.com/" target="_blank" rel="noopener">Download</a></p><h3 id="7-Directory-Opus"><a href="#7-Directory-Opus" class="headerlink" title="7. Directory Opus"></a>7. Directory Opus</h3><blockquote><p>一个功能非常强大的文件管理工具，程序采用和windows资源管理器相似的界面。<br>同TC类似，不过多用与鼠标操作</p></blockquote><p>下载地址：<a href="https://www.gpsoft.com.au/DScripts/download.asp" target="_blank" rel="noopener">Download</a></p><h3 id="8-AutoHotkey"><a href="#8-AutoHotkey" class="headerlink" title="8. AutoHotkey"></a>8. AutoHotkey</h3><blockquote><p>AutoHotkey是一个小工具软件，可以简化你的重复性工作,只需提前写好一个脚本，一键自动化启动或运行程序，甚至帮你自动登陆某个论坛，这里也推荐善用佳软的教程：<a href="http://xbeta.info/autohotkey-guide.htm" target="_blank" rel="noopener">AutoHotkey 0级入门教程:让重复工作一键完成</a></p></blockquote><p>下载地址：<a href="https://autohotkey.com/download/" target="_blank" rel="noopener">Download</a></p><h3 id="9-cmder"><a href="#9-cmder" class="headerlink" title="9. cmder"></a>9. cmder</h3><blockquote><p>至少要比Windows原生Cmd好出了天际。因为好用，所以“必备”<br>她把<a href="https://conemu.github.io/" target="_blank" rel="noopener">ConEmu</a> ，msysgit和clink打包在一起，让你无需配置就能使用一个真正干净的Linux终端！她甚至还附带了漂亮的monokai配色主题。）;作为一个压缩档的存在, 可即压即用。你甚至可以放到USB就可以虽时带着走，连调整过的设定都会放在这个目录下，不会用到系统机码(Registry)，所以也很适合放在Dropbox / Google Drive / OneDrive共享于多台电脑。<br><a href="http://www.jianshu.com/p/7a706c0a3411" target="_blank" rel="noopener">安装和设置</a></p></blockquote><p>下载地址：<a href="http://cmder.net/" target="_blank" rel="noopener">Download</a><br>类似：<br><a href="https://conemu.github.io/" target="_blank" rel="noopener">ConEmu</a><br><a href="http://www.powercmd.com/" target="_blank" rel="noopener">PowerCmd</a><br><a href="https://github.com/cbucher/console" target="_blank" rel="noopener">ConsoleZ</a><br><a href="http://babun.github.io/" target="_blank" rel="noopener">Babun</a></p><h3 id="10-Glary-Utilities"><a href="#10-Glary-Utilities" class="headerlink" title="10. Glary Utilities"></a>10. Glary Utilities</h3><blockquote><p> Glary Utilities 一站式电脑优化解决方案。它允许你清理系统垃圾文件，无效的注册表键值，上网记录，<br>管理和删除IE插件，分析磁盘空间使用情况，查找重复文件，优化内存，查找、修理或删除快捷方式，<br>管理windows启动程序，卸载软件，安全删除文件，查找空目录,右键菜单管理，包括超过20<br>+系统实用程序来提高你的计算机的性能。支持简体中文等多语系界面。</p></blockquote><p>下载地址：<a href="http://www.glarysoft.com/" target="_blank" rel="noopener">Download</a></p><h3 id="11-QuickLook-Seer"><a href="#11-QuickLook-Seer" class="headerlink" title="11. QuickLook/Seer"></a>11. QuickLook/Seer</h3><blockquote><p>它可以为 Win 增加与 Mac 相似的空白键快速预览功能</p></blockquote><p>下载地址：<a href="https://pooi.moe/QuickLook/" target="_blank" rel="noopener">QuickLook</a> <a href="http://1218.io/" target="_blank" rel="noopener">Seer</a></p><h3 id="12-火萤酱"><a href="#12-火萤酱" class="headerlink" title="12. 火萤酱"></a>12. 火萤酱</h3><blockquote><p>类似于listary</p></blockquote><p>下载地址：<a href="https://j.huoying666.com/" target="_blank" rel="noopener">火萤酱</a></p><h2 id="PC软件"><a href="#PC软件" class="headerlink" title="PC软件"></a>PC软件</h2><h3 id="浏览器"><a href="#浏览器" class="headerlink" title="浏览器"></a>浏览器</h3><ul><li><p><a href="https://www.google.com/intl/zh-CN/chrome/browser/desktop/index.html" target="_blank" rel="noopener">chrome</a> 谷歌浏览器</p></li><li><p><a href="http://www.firefox.com.cn/" target="_blank" rel="noopener">firefox</a> 火狐浏览器</p></li><li><p><a href="http://www.opera.com/zh-cn" target="_blank" rel="noopener">Opear</a>  Opera 浏览器</p></li></ul><h3 id="音视频软件"><a href="#音视频软件" class="headerlink" title="音视频软件"></a>音视频软件</h3><ul><li><p><a href="http://www.aimp.ru/" target="_blank" rel="noopener">aimp3</a> 出色的皮肤和小巧的界面功能的Music播放器</p></li><li><p><a href="https://potplayer.daum.net/" target="_blank" rel="noopener">potplayer</a> 简洁美观功能强大的视频播放器</p></li><li><p><a href="http://player.qq.com/" target="_blank" rel="noopener">QQ影音</a> 腾讯开发的本地功能强大视频播放器</p></li><li><p><a href="https://music.163.com/" target="_blank" rel="noopener">网易云音乐</a> 一个免费的在线云音乐播放器</p></li></ul><h3 id="解压缩工具"><a href="#解压缩工具" class="headerlink" title="解压缩工具"></a>解压缩工具</h3><ul><li><p><a href="http://www.7-zip.org/" target="_blank" rel="noopener">7-zip</a> 7-zip轻量的解压工具，比起<a href="http://www.winrar.com.cn/download.htm" target="_blank" rel="noopener">winrar</a> 独有特点</p></li><li><p><a href="http://www.winrar.com.cn/download.htm" target="_blank" rel="noopener">winrar</a> windows上功能强大使用最广泛的解压缩工具</p></li><li><p><a href="https://www.bandisoft.com/bandizip/cn/" target="_blank" rel="noopener">Bandizip</a> Bandizip 是一款可靠和快速的压缩软件，它支持 WinZip、7-Zip 和 WinRAR 以及其它压缩格式。<br>它拥有非常快速的压缩和解压缩的算法，适用于多核心压缩、快速拖放、高速压缩等功能。</p></li></ul><h3 id="远程软件"><a href="#远程软件" class="headerlink" title="远程软件"></a>远程软件</h3><ul><li><p><a href="https://lai.yuweining.cn/archives/1001/" target="_blank" rel="noopener">FlashFXP</a> FlashFxp – 老牌 FTP/FXP 传输必备软件，功能强大最常用的 FTP，FXP，FTPS，SFTP 上传下载</p></li><li><p><a href="https://lai.yuweining.cn/archives/157/" target="_blank" rel="noopener">AnyDesk</a> AnyDesk 是一款号称速度最快的免费远程连接,据说是前 TeamViewer 开发小组人员自立门户的产品</p></li><li><p><a href="https://www.teamviewer.com/Zhcn/" target="_blank" rel="noopener">TeamViewer</a> Teamviewer：专业、功能强大，使用简单，对个人用户免费的远程控制软件。</p></li><li><p><a href="http://www.netsarang.com/products/xsh_overview.html" target="_blank" rel="noopener">xshell</a> Xshell 是一个强大的安全终端模拟软件，它支持SSH1, SSH2, 以及Microsoft Windows 平台的TELNET 协议。</p></li></ul><h3 id="数据工具"><a href="#数据工具" class="headerlink" title="数据工具"></a>数据工具</h3><ul><li><p><a href="https://www.ccleaner.com/RECUVA" target="_blank" rel="noopener">Recuva</a> Recuva 来自 piriform 梨子公司产品，免费的数据恢复工具</p></li><li><p><a href="https://www.ontrack.com/products/data-recovery-software/" target="_blank" rel="noopener">EasyRecovery</a>  价格不菲的数据恢复软件</p></li><li><p><a href="https://lai.yuweining.cn/archives/1729/" target="_blank" rel="noopener">易我数据恢复软件</a> 它可以全面恢复删除丢失数据</p></li><li><p><a href="https://lai.yuweining.cn/archives/1705/" target="_blank" rel="noopener">R-STUDIO</a> Win 平台数据恢复神器</p></li><li><p><a href="http://rufus.akeo.ie/?locale=zh_CN" target="_blank" rel="noopener">Rufus</a> 个可以帮助格式化和创建可引导USB闪存盘的工具支持EFI</p></li><li><p><a href="http://www.isotousb.com/" target="_blank" rel="noopener">iso to usb</a>  iso写入usb工具</p></li><li><p><a href="http://www.diskgenius.cn/" target="_blank" rel="noopener">DiskGenius</a> pe上常用的数据恢复分区工具</p></li><li><p><a href="https://www.disktool.cn/" target="_blank" rel="noopener">分区助手</a> 分区助手是一款免费、专业级的无损分区工具，提供简单、易用的磁盘分区管理操作和数据备份</p></li></ul><h3 id="其它工具"><a href="#其它工具" class="headerlink" title="其它工具"></a>其它工具</h3><ul><li><p><a href="https://justgetflux.com/" target="_blank" rel="noopener">f.lux</a> 护眼软件 <a href="https://zhuanlan.zhihu.com/p/20938392" target="_blank" rel="noopener">使用设置</a></p></li><li><p><a href="http://www.internetdownloadmanager.com/" target="_blank" rel="noopener">idm</a> 一款下载软件，推荐使用破解版，之前用迅雷，无法忍受迅雷高速通道那个进程。</p></li><li><p><a href="http://www.faststone.org/FSCaptureDetail.htm" target="_blank" rel="noopener">Fsatone Captrue</a> 好用的截图软件</p></li><li><p><a href="https://zh.snipaste.com/" target="_blank" rel="noopener">Snipaste</a> 免费. 免安装. 可个性定制良心无广告 截图+贴图软件</p></li><li><p><a href="https://calibre-ebook.com/download" target="_blank" rel="noopener">calibre</a> Calibre(电子阅读器) 是一个完整的电子图书馆, 格式转换, 新闻, 将材料转换为电子书, 以及电子书阅读器同步功能</p></li><li><p><a href="http://www.chuyu.me/zh-Hans/index.html" target="_blank" rel="noopener">Dism++</a> 色软件。封装了系统命令行等复杂的功能，将其UI化</p></li><li><p><a href="https://www.iobit.com/en/advanceduninstaller.php" target="_blank" rel="noopener">IObit Uninstaller</a> 强力程序卸载</p></li><li><p><a href="https://otp.landian.la/zh-cn/" target="_blank" rel="noopener">Office Tool Plus</a> Office 从下载到卸载一站式工具。还可以自定义安装。</p></li><li><p><a href="http://www.foxmail.com/" target="_blank" rel="noopener">Foxmail</a> Foxmail是由华中科技大学(原华中理工大学)张小龙开发的一款优秀的国产电子邮件客户端软件,2005年3月16日被腾讯收购 </p></li><li><p><a href="https://lai.yuweining.cn/archives/2232/" target="_blank" rel="noopener">utorrent Pro</a> utorrent 是知名的 BT、磁力下载工具</p></li><li><p><a href="https://lai.yuweining.cn/archives/2213/" target="_blank" rel="noopener">KMS激活</a></p></li><li><p><a href="https://lai.yuweining.cn/archives/2044/" target="_blank" rel="noopener">Win10Activation.zip</a> Win10 激活批处理版</p></li><li><p><a href="https://www.rainmeter.net/" target="_blank" rel="noopener">Rainmeter</a> Rainmeter 可以说是 Windows 平台上最知名、最老牌的桌面美化拓展软件了，得益于它极其强大的可定制性，不论是或简约或炫酷的皮肤主题，亦或者极客范的系统状态监视及拓展功能，Rainmeter 只被你的想象力局限。</p></li></ul><h3 id="开发工具"><a href="#开发工具" class="headerlink" title="开发工具"></a>开发工具</h3><h4 id="代码编辑器"><a href="#代码编辑器" class="headerlink" title="代码编辑器"></a>代码编辑器</h4><ul><li><p><a href="http://www.sublimetext.com/" target="_blank" rel="noopener">sublime</a>  使用python开发的编辑器，Sublime Text具有漂亮的用户界面和强大的功能，支持插件扩展。</p></li><li><p><a href="https://code.visualstudio.com/" target="_blank" rel="noopener">vs code</a>  2015年微软开发的跨平台编辑器它采用经典的VS的UI布局，功能强大，扩展性很强</p></li><li><p><a href="https://atom.io/" target="_blank" rel="noopener">Atom</a>  是 <a href="https://github.com/atom/atom" target="_blank" rel="noopener">Github</a> 上开源的外观特别漂亮的代码编辑器,基于Node-Webkit,插件特别多。使用js开发的编辑器，缺点在速度上比较卡</p></li><li><p><a href="https://www.editplus.com/download.html" target="_blank" rel="noopener">editplus</a>  EditPlus是一款由韩国 Sangil Kim （ES-Computing）出品的小巧但是功能强大的可处理文本<a href="http://www.jb51.net/tools/editplus/" target="_blank" rel="noopener">注册码</a></p></li><li><p><a href="https://notepad-plus-plus.org/zh/" target="_blank" rel="noopener">Notepad++</a>  Notepad++是旨在替代Windows默认的notepad而生，比notepad的功能强大很多很多</p></li></ul><h4 id="Markdown编辑器"><a href="#Markdown编辑器" class="headerlink" title="Markdown编辑器"></a>Markdown编辑器</h4><ul><li><p><a href="https://typora.io/" target="_blank" rel="noopener">typora</a>  跨平台的markdown编辑器，外观简洁漂亮，功能特别强大，支持多种主题</p></li><li><p><a href="http://www.appinn.com/miu-markdown-editor/" target="_blank" rel="noopener">miu</a>  一款模仿mou 的windows平台markdown编辑器界面美观，功能不够成熟</p></li><li><p><a href="https://www.zybuluo.com/mdeditor" target="_blank" rel="noopener">Cmd Markdown</a>  作业部落出品，也是一款不错的工具和博客平台兼顾的产品。全平台且提供web版</p></li><li><p><a href="https://ivarptr.github.io/yu-writer.site/" target="_blank" rel="noopener">Yu Writer</a> 国人开发的跨平台 Markdown 编辑器。可惜暂时不支持中文</p></li></ul><h4 id="IDE编辑软件"><a href="#IDE编辑软件" class="headerlink" title="IDE编辑软件"></a>IDE编辑软件</h4><ul><li><p><a href="https://www.jetbrains.com/" target="_blank" rel="noopener">JetBrains</a> 截至2017年6月，该公司工发布了24款开发工具与及相关产品。包括<em>IDEA,phpstorm，webstorm，pycharm</em>等多款ide。软件是由java开发，所以建议先安装64位<a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html" target="_blank" rel="noopener">jdk</a>。<br><a href="http://idea.lanyus.com/" target="_blank" rel="noopener">IntelliJ IDEA 注册码</a></p></li><li><p><a href="https://www.visualstudio.com/zh-hans/" target="_blank" rel="noopener">Visual Studio</a>  由微软开发主要用于<strong>c# .net</strong>编辑，据说是最强大的IDE编辑软件</p></li><li><p><a href="https://netbeans.org/" target="_blank" rel="noopener">NetBeans</a> NetBeans是Sun公司 2009年被<a href="https://baike.baidu.com/item/%E7%94%B2%E9%AA%A8%E6%96%87" target="_blank" rel="noopener">甲骨文</a>收购在2000年创立的开放源代码供开发人员和客户社区的家园，旨在构建世界级的<strong>Java</strong> <a href="https://baike.baidu.com/item/IDE/8232086" target="_blank" rel="noopener">IDE</a></p></li><li><p><a href="https://wingware.com/" target="_blank" rel="noopener">Wing ide</a>  <strong>Wing IDE是</strong>一个<strong>Python</strong>语言的<strong>IDE</strong>，其中包括大量语法标签的高亮显示。 …<strong>WingIDE</strong>是个相当优秀的<strong>IDE</strong>；虽然它只是个面向<strong>Python</strong> 的工具。</p></li><li><p><a href="http://www.eclipse.org/" target="_blank" rel="noopener">eclipse</a>  Eclipse 是一个开源的、基于<strong>Java</strong>的可扩展开发平台。</p></li><li><p><a href="https://www.dcloud.io/index.html" target="_blank" rel="noopener">HBuilder</a> <strong>HBuilder</strong>是<strong>DCloud</strong>（数字天堂）推出的一款支持<em>HTML5的Web</em>开发IDE。这是一个国内开发的前端IDE。</p></li></ul><h4 id="思维导图"><a href="#思维导图" class="headerlink" title="思维导图"></a>思维导图</h4><ul><li><p><a href="http://www.xmindchina.net/" target="_blank" rel="noopener">XMind</a>  流行思维导图软件，打造易用、美观、高效的可视化思维管理工具</p></li><li><p><a href="http://naotu.baidu.com/" target="_blank" rel="noopener">百度脑图</a> 免安装 云存储 易分享舒适的体验 丰富的功能</p></li></ul><h4 id="比较两个文件内容异同"><a href="#比较两个文件内容异同" class="headerlink" title="比较两个文件内容异同"></a>比较两个文件内容异同</h4><ul><li><a href="http://www.beyondcompare.cc/xiazai.html/" target="_blank" rel="noopener">beyondcompare</a> Beyond Compare被应用于版本控制及数据同步的工作上 <a href="http://wm.makeding.com/iclk/?zoneid=19006" target="_blank" rel="noopener">下载</a></li></ul><h3 id="Adobe软件"><a href="#Adobe软件" class="headerlink" title="Adobe软件"></a>Adobe软件</h3><ul><li><p><a href="https://creative.adobe.com/zh-cn/products/download/creative-cloud" target="_blank" rel="noopener">Creative Cloud</a>  Adobe软件管理工具和同步工具</p></li><li><p><a href="https://www.adobe.com/cn/products/photoshop/free-trial-download.html" target="_blank" rel="noopener">Photoshop</a>  图像编辑和合成。</p></li><li><p><a href="https://www.adobe.com/cn/products/illustrator/free-trial-download.html" target="_blank" rel="noopener">Illustrator</a>  矢量图形和插图。</p></li><li><p><a href="https://creative.adobe.com/zh-cn/products/download/acrobat" target="_blank" rel="noopener">Acrobat Pro DC</a>  支持随时随地开展工作的完整 PDF 解决方案。</p></li><li><p><a href="https://get.adobe.com/cn/reader/" target="_blank" rel="noopener">Acrobat Reader DC</a>  PDF阅读软件</p></li><li><p><a href="https://www.adobe.com/cn/products/photoshop-lightroom/free-trial-download.html" target="_blank" rel="noopener">Photoshop Lightroom</a>  数字照片处理和编辑。</p></li><li><p><a href="https://www.adobe.com/cn/products/dreamweaver/free-trial-download.html" target="_blank" rel="noopener">Dreamweaver</a>  网站、应用程序设计和编码。</p></li><li><p><a href="https://www.adobe.com/cn/products/indesign/free-trial-download.html" target="_blank" rel="noopener">InDesign</a>  页面设计、布局和出版。</p></li><li><p><a href="https://www.adobe.com/cn/products/premiere/free-trial-download.html" target="_blank" rel="noopener">Premiere Pro</a>  视频制作和编辑。</p></li><li><p><a href="https://www.adobe.com/cn/products/aftereffects/free-trial-download.html" target="_blank" rel="noopener">After Effects</a>  电影般的视觉效果和动态图形。</p></li><li><p><a href="https://www.adobe.com/cn/products/audition.html" target="_blank" rel="noopener">Audition</a> 录音、混音和复原</p></li><li><p><a href="https://www.adobe.com/cn/products/incopy.html" target="_blank" rel="noopener">InCopy</a>  与文案和编辑人员合作</p></li></ul><h3 id="切图标注"><a href="#切图标注" class="headerlink" title="切图标注"></a>切图标注</h3><ul><li><p><a href="http://www.fancynode.com.cn/pxcook" target="_blank" rel="noopener">Pxcook 像素大厨</a> 工具除了标注功能外，还多了一个 PSD 文件切图，也就是传说中的一键切图功能。</p></li><li><p><a href="http://www.getmarkman.com/" target="_blank" rel="noopener">MarkMan 马克鳗</a> 高效的设计稿标注、测量工具￥60/y</p></li></ul><h4 id="ps插件"><a href="#ps插件" class="headerlink" title="ps插件"></a>ps插件</h4><ul><li><p><a href="http://hostinfo.cafe24.com/serviceExpire/servicestop.html" target="_blank" rel="noopener">Assistor PS</a><br>一个功能比较强大的标注插件，除了标注功能，还有参考线自动生成、单位换算、圆角生成等功能，算是集中了好几个插件于一身。它的最大的特色就是可以快速的自动标注</p></li><li><p><a href="http://www.cutterman.cn/zh" target="_blank" rel="noopener">Cutterman</a> 一款PS的插件，切图非常方便，但不支持绿色免安装版本PS，而且对PS版本要求比较高</p></li></ul><h3 id="翻墙软件"><a href="#翻墙软件" class="headerlink" title="翻墙软件"></a>翻墙软件</h3><ul><li><p><a href="https://getlantern.org/zh_CN/" target="_blank" rel="noopener">Lantern</a> 免费500m每月的流量</p></li><li><p><a href="https://shadowsocks.org/en/download/clients.html" target="_blank" rel="noopener">shadowsocks</a> 需要ss帐号，可以去各大网站购买</p></li><li><p><a href="https://s3.amazonaws.com/psiphon/web/mjr4-p23r-puwl/zh/download.html#direct" target="_blank" rel="noopener">赛风</a> 一款免费的翻墙软件</p></li></ul><h2 id="chrome浏览器插件"><a href="#chrome浏览器插件" class="headerlink" title="chrome浏览器插件"></a>chrome浏览器插件</h2><ul><li><p><a href="https://chrome.google.com/webstore/detail/%E4%B8%80%E9%94%AE%E7%AE%A1%E7%90%86%E6%89%80%E6%9C%89%E6%89%A9%E5%B1%95/niemebbfnfbjfojajlmnbiikmcpjkkja?utm_source=chrome-app-launcher-info-dialog" target="_blank" rel="noopener">插件管理</a> 谷歌插件管理工具</p></li><li><p><a href="https://shuax.com/portfolio/greenchrome/" target="_blank" rel="noopener">GreenChrome</a> 谷歌浏览器增强插件，包括手势操作，双击关闭等</p></li><li><p><a href="https://adblockplus.org/" target="_blank" rel="noopener">Adblock Plus</a> 强大的网页广告清理插件</p></li><li><p><a href="https://wappalyzer.com/categories/ecommerce" target="_blank" rel="noopener">Wappalyzer</a> 可以查看访问网站使用了什么技术</p></li><li><p><a href="https://www.whatruns.com/" target="_blank" rel="noopener">whatruns</a> 以查看访问网站使用了什么技术</p></li><li><p><a href="https://userstyles.org/" target="_blank" rel="noopener">stylish</a> 可以自定义访问网站的样式</p></li><li><p><a href="https://github.com/buunguyen/octotree" target="_blank" rel="noopener">Octotree</a> github上可以文件树访问文件</p></li><li><p><a href="https://chrome.google.com/webstore/detail/vimium/dbepggeogbaibhgnhhndojpepiihcmeb" target="_blank" rel="noopener">Vimium</a> 浏览器上使用vim键盘操作<a href="http://www.jianshu.com/p/5b627a24f7aa" target="_blank" rel="noopener">使用教程</a></p></li><li><p><a href="https://www.baidufe.com/fehelper" target="_blank" rel="noopener">fehelper</a> FeHelper，Chrome浏览器插件，包含一些前端实用的工具集合</p></li><li><p><a href="https://github.com/Selection-Translator/crx-selection-translate" target="_blank" rel="noopener">划词翻译</a> 非常好用的翻译软件</p></li><li><p><a href="https://chrome.google.com/webstore/detail/cssviewer/ggfgijbpiheegefliciemofobhmofgce" target="_blank" rel="noopener">CSSViewer</a>  SSViewer是一个简单的CSS属性查看器。它有一个浮动面板，指明鼠标所在处信息，提供其字体、文本、颜色、背景、框、定位和效果属性的说明。 CSSViewer可以快速提供需要的基本CSS信息。</p></li><li><p><a href="https://chrome.google.com/webstore/detail/json-handle/iahnhfdhidomcpggpaimmmahffihkfnj?hl=zh-CN" target="_blank" rel="noopener">Json-Handle</a>  她可以帮助你在浏览器中查看 JSON 数据，并以优美的树视图姿势，展示出对应数据；</p></li><li><p><a href="https://chrome.google.com/webstore/detail/postman/fhbjgbiflinjbdggehcddcbncdddomop" target="_blank" rel="noopener">Postman</a> 口碑极好的一款接口调试工具；</p></li><li><p><a href="https://chrome.google.com/webstore/detail/holmes/gokficnebmomagijbakglkcmhdbchbhn" target="_blank" rel="noopener">Holmes</a> 书签太多可以用它搜索</p></li><li><p><a href="https://chrome.google.com/webstore/detail/bookmark-sidebar/jdbnofccmhefkmjbkkdkfiicjkgofkdh" target="_blank" rel="noopener">书签侧边栏</a> 好用的书签管理工具，能快速访问书签。</p></li></ul><h2 id="开发环境"><a href="#开发环境" class="headerlink" title="开发环境"></a>开发环境</h2><ul><li><p><a href="https://git-scm.com/" target="_blank" rel="noopener">git</a> git托管服务使用可以安装<a href="https://tortoisegit.org/download/" target="_blank" rel="noopener">git乌龟</a>配合使用 <a href="http://rogerdudler.github.io/git-guide/index.zh.html" target="_blank" rel="noopener">git教程</a></p></li><li><p><a href="https://tortoisesvn.net/downloads.zh.html" target="_blank" rel="noopener">svn</a> svn代码托管服务</p></li><li><p><a href="https://nodejs.org/en/" target="_blank" rel="noopener">nodejs</a> nodejs环境安装包</p></li><li><p><a href="https://www.python.org/downloads/" target="_blank" rel="noopener">python</a> python环境安装包</p></li><li><p><a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html" target="_blank" rel="noopener">java</a> java环境安装包，JDK下载</p></li><li><p><a href="http://www.phpstudy.net/phpstudy/phpStudy2017.zip" target="_blank" rel="noopener">phpstudy</a> php集成环境安装包，包括php各个版本的切换，和服务器的配合。<a href="http://www.phpstudy.net/" target="_blank" rel="noopener">官网</a></p></li><li><p><a href="http://koala-app.com/index-zh.html" target="_blank" rel="noopener">koala</a> koala是一个前端预处理器语言图形编译工具，支持Less、Sass、Compass、CoffeeScript，帮助web开发者更高效地使用它们进行开发。</p></li></ul><h2 id="虚拟机软件"><a href="#虚拟机软件" class="headerlink" title="虚拟机软件"></a>虚拟机软件</h2><h3 id="VirtualBox"><a href="#VirtualBox" class="headerlink" title="VirtualBox"></a>VirtualBox</h3><blockquote><p>VirtualBox 是一款开源虚拟机软件。VirtualBox号称是最强的免费虚拟机软件，它不仅具有丰富的特色，而且性能也很优异！它简单易用。</p></blockquote><p>下载地址：<a href="https://www.virtualbox.org/wiki/Downloads" target="_blank" rel="noopener">download</a></p><h3 id="VMware-Workstation-14"><a href="#VMware-Workstation-14" class="headerlink" title="VMware Workstation 14"></a>VMware Workstation 14</h3><p>VMware Workstation是VMware公司推出的一款桌面虚拟计算软件，具有Windows、Linux 版本。此软件可以提供虚拟机功能，使计算机可以同时运行多个不同操作系统。2015年，VMware Workstation发表12版，VMware Player转型为VMware Workstation的免费版并改名为VMware Workstation Player，VMware Workstation的付费版定名为VMware Workstation Pro。</p><p>下载地址：<a href="https://my.vmware.com/web/vmware/downloads" target="_blank" rel="noopener">download</a></p><h2 id="windows10-相关优化设置"><a href="#windows10-相关优化设置" class="headerlink" title="windows10 相关优化设置"></a>windows10 相关优化设置</h2><h3 id="解决Task-Scheduler造成CPU占用100-问题"><a href="#解决Task-Scheduler造成CPU占用100-问题" class="headerlink" title="解决Task Scheduler造成CPU占用100%问题"></a>解决Task Scheduler造成CPU占用100%问题</h3><p>在此电脑右键选择管理-计算机管理-系统工具-任务计划程序（也可以从控制面版里的管理工具进入，不过我喜欢直接从此电脑右键选择管理进入，方便。）<br>定位到：任务计划程序库\Microsoft\Windows\customer experience improvement program<br>可以看到这里有三个计划任务，都是微软的客户体验改差计划!全部选择禁止或者删除，这样下次电脑再启动之后就不会有这三个计划了。<br><img src="http://wx2.sinaimg.cn/large/70328609gy1fftd2ypeisj20qn0fjt94.jpg" alt="图片"></p><h3 id="关闭Windows-Defender安全中心"><a href="#关闭Windows-Defender安全中心" class="headerlink" title="关闭Windows Defender安全中心"></a>关闭Windows Defender安全中心</h3><ol><li>在Cortana搜索栏中输入regedit，按回车键进入注册表编辑器。</li><li>定位到HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\SecurityHealthService</li><li>在右侧找到DWORD（32位）值，命名为Start。</li><li>修改数值数据为4。</li><li>重启文件资源管理器，或注销再登录/重启系统。</li></ol><p><img src="http://img.xitongcheng.com/upload/2017/04/24/1703/1493024632475489926020.jpg" alt="img"></p><h3 id="解决Win10-CPU占用高："><a href="#解决Win10-CPU占用高：" class="headerlink" title="解决Win10 CPU占用高："></a>解决Win10 CPU占用高：</h3><p><a href="http://www.pconline.com.cn/win10/928/9287464.html" target="_blank" rel="noopener">http://www.pconline.com.cn/win10/928/9287464.html</a><br>Defender本身不应该会占据如此之多的CPU资源，可能和你目前所安装的某些软件有冲突，从而导致了目前的问题。<br>你能大致介绍下你安装过哪些软件么？特别是安全类软件。<br>同时，你可以尝试下以下步骤，暂时禁用一些第三方程序，确认结果：</p><ol><li>点击开始，在搜索程序和文件夹中输入msconfig，</li><li>点击服务，选择隐藏所有Microsof服务，然后点击全部禁用。</li><li>点击启动，点击全部禁用。</li><li>点击应用，点击确定，重新启动后再次检查问题。</li></ol><h2 id="windows10-设置打开快捷命令"><a href="#windows10-设置打开快捷命令" class="headerlink" title="windows10 设置打开快捷命令"></a>windows10 设置打开快捷命令</h2><ol><li>eventvwr        事件查看器</li><li>cmd         cmd命令端</li><li>msconfig 系统配置</li><li>control  控制面板</li><li>regedit     注册表</li><li>calc        启动计算器</li><li>appwiz.cpl     程序和功能</li><li>cleanmgr     打开磁盘清理工具</li><li>devmgmt.msc     设备管理器</li><li>desk.cpl     屏幕分辨率</li><li>diskmgmt.msc 磁盘管理</li><li>explorer    打开资源管理器</li><li>Firewall.cpl    Windows防火墙</li><li>gpedit.msc         组策略</li><li>chdwwiz.cpl        设备管理器</li><li>logoff        注销命令</li><li>main.cpl    鼠标属性</li><li>msinfo32 系统信息</li><li>mspaint  画图</li><li>Msra     远程协助</li><li>mstsc  远程桌面连接</li><li>ncpa.cpl 网络连接</li><li>notepad     打开记事本</li><li>OptionalFeatures 打开或关闭Windows功能</li><li>osk    打开屏幕键盘</li><li>powercfg.cpl 电源管理</li><li>snippingtool 截图工具</li><li>sysdm        系统属性</li><li>winver        关于Windows</li></ol><blockquote><p><a href="http://3y.uu456.com/bp_3z3757qluj47hq610ef7_1.html" target="_blank" rel="noopener">参考1</a><br><a href="http://3y.uu456.com/ss_01f01j02f02x03201d01cgotfl0hlzg2w_1.html" target="_blank" rel="noopener">参考2</a></p></blockquote><h2 id="windows10激活"><a href="#windows10激活" class="headerlink" title="windows10激活"></a>windows10激活</h2><p><a href="https://lai.yuweining.cn/archives/2213/" target="_blank" rel="noopener">参考</a><br><a href="https://v0v.bid/" target="_blank" rel="noopener">win激活</a><br>管理员cmd运行：  </p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">slmgr /skms kms.v0v.bid &amp;&amp; slmgr /ato</span><br></pre></td></tr></table></figure><p>备用服务器： </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">k01.v0v.bid - k13.v0v.bid</span><br></pre></td></tr></table></figure><h2 id="小众软件"><a href="#小众软件" class="headerlink" title="小众软件"></a>小众软件</h2><p><a href="https://love.appinn.com" target="_blank" rel="noopener">https://love.appinn.com</a></p><h2 id="微软系统和工具"><a href="#微软系统和工具" class="headerlink" title="微软系统和工具"></a>微软系统和工具</h2><p><strong>windows7系统推荐<a href="http://www.newxitong.com/" target="_blank" rel="noopener">专注于win7</a></strong><br>一个链接就够了，微软所有的工具和软件都可以在里面找到。如果您觉得不错<br>可以捐助一下站长<br>链接地址：<br><a href="https://msdn.itellyou.cn/" target="_blank" rel="noopener">https://msdn.itellyou.cn/</a></p>]]></content>
      
      
      <categories>
          
          <category> Windows </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Windows </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>win10子系统linux安装</title>
      <link href="/win10%E5%AD%90%E7%B3%BB%E7%BB%9Flinux%E5%AE%89%E8%A3%85/"/>
      <url>/win10%E5%AD%90%E7%B3%BB%E7%BB%9Flinux%E5%AE%89%E8%A3%85/</url>
      
        <content type="html"><![CDATA[<h2 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h2><p>微软在Windows10 1607版中提供了一个Linux子系统，用户不需要虚拟机就可以直接运行Linux命令，是一个对开发者非常方便的功能。目前服务器领域基本都是Linux的天下，但是在个人桌面领域，windows还是独大。可怜的开发者或者使用虚拟机或者用windows上阉割版的程序。有了Linux子系统，苦逼的开发者可以不离开舒服的windows环境，又可以直接使用Linux强大的各种开源软件，听起来是一个两全的方案。<br>Windows subsystem for linux（wsl）是基于Ubuntu的，类似于cygwin的实现方案，看起来可以支持除了desktop外的所有功能。Linux的desktop本来就不强，强大的是那些开源工具和产品。<br>实际试用下来，速度有点点慢，尝试装了下java，慢的无法忍受。但整体还是很满意。</p><blockquote><p>windows 10 1703（创新者更新）提供了新的Ubuntu 16.04， 建议大家用 lxrun重新安装wsl</p></blockquote><a id="more"></a><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><h3 id="启用linux子系统"><a href="#启用linux子系统" class="headerlink" title="启用linux子系统"></a>启用linux子系统</h3><p>在程序与功能中，选择启用或者关闭Windows功能，然后勾上“适用于LInux的Windows子系统”后确定即安装。如下图所示：</p><p><img src="http://upload-images.jianshu.io/upload_images/1697920-b56c65f562e7a6b8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="text all"></p><h3 id="允许开发者功能"><a href="#允许开发者功能" class="headerlink" title="允许开发者功能"></a>允许开发者功能</h3><p>在更新和安全中，打开开发人员模式。如下图<br>注意:有可能会看到一个 <font color="red"> 开发人员模式程序包无法安装.错误代码0x80004005 </font> ,出现这个问题一般不影响后续步骤,但是建议运行Windows 更新,获取最新的更新包</p><p><img src="http://upload-images.jianshu.io/upload_images/1697920-e44b7ba8eb5954fd.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="text all"></p><blockquote><p>注意,需要打开windows update服务<br>您可以尝试以下操作，删除Windows 更新缓存文件：<br>按Windows键+X，选择“命令提示符（管理员）”；<br>输入：net stop wuauserv，回车（此处会提醒服务停止）；<br>在C:\Windows\SoftwareDistribution文件夹中，找到并删除Download和DataStore文件夹中的所有文件；<br>输入：net start wuauserv，回车（此处会提醒服务开启）；<br>最后在Windows Update中，尝试检查更新。</p></blockquote><h3 id="安装细节"><a href="#安装细节" class="headerlink" title="安装细节"></a>安装细节</h3><blockquote></blockquote><ol><li>系统升级到一周年正式版及以上(1607)</li><li>依次在设置-更新与安全-针对开发人员选项中，启用”开发人员模式”</li><li>在资源管理器中打开控制面板\所有控制面板项\程序和功能,打开”启用或关闭 Windows功能”,勾选”适用于Linux的Windows子系统(Beta)”</li><li>重启电脑</li><li>命令行运行lxrun /install /y(或输入bash)开始安装</li><li>安装速度取决于网络情况，下载的文件在%localappdata%\lxss目录下lxss.tar.gz(181M)，解压后大概500M,rootfs目录即为子系统根目录。</li><li>命令行运行bash进入Ubuntu</li><li>默认使用的root帐号登录，通过指令passwd设置密码。</li><li>毕竟爱折腾，难免会把子系统环境(lxss目录)玩坏掉，因此干正事前最好先备份下以便快速还原。注意，不要直接右键复制或者打包，可能会导致文件权限丢失的。xcopy %localappdata%\lxss %localappdata%\lxss.bak /E</li><li>当然，如果你比较任性也可以不执行上一步的备份操作，通过命令行运行lxrun /uninstall /full轻松卸载子系统，重复上面的步骤即可重装，不过要注意下载速度时好时坏哦。</li></ol><h2 id="查看Ubuntu的版本"><a href="#查看Ubuntu的版本" class="headerlink" title="查看Ubuntu的版本"></a>查看Ubuntu的版本</h2><blockquote></blockquote><ol><li>使用命令：cat /proc/version 查看(linux内核版本)</li><li>使用命令：uname -a 查看</li><li>使用命令：lsb_release -a 查看(ubuntu版本)</li></ol><h2 id="设置更换数据源"><a href="#设置更换数据源" class="headerlink" title="设置更换数据源"></a>设置更换数据源</h2><p>在Ubuntu下我们可以通过apt-get命令很方便的安装/卸载软件，由于默认的软件包仓库是位于国外的，安装软件的时候就可能遇到各种网络问题或者下载到的一些资源不完整，因此就需要切换数据源为国内的镜像站点来改善。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"># 1.备份原来的数据源配置文件</span><br><span class="line">cp /etc/apt/sources.list /etc/apt/sources.list_backup</span><br><span class="line"># 2.编辑数据源配置文件</span><br><span class="line">vim /etc/apt/sources.list</span><br><span class="line"># 在这里我使用的是阿里云的数据源：</span><br><span class="line">#==============================================================================================</span><br><span class="line"># deb cdrom:[Ubuntu 16.04 LTS _Xenial Xerus_ - Release amd64 (20160420.1)]/ xenial main restricted</span><br><span class="line">deb-src http://archive.ubuntu.com/ubuntu xenial main restricted #Added by software-properties</span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ xenial main restricted</span><br><span class="line">deb-src http://mirrors.aliyun.com/ubuntu/ xenial main restricted multiverse universe #Added by software-properties</span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ xenial-updates main restricted</span><br><span class="line">deb-src http://mirrors.aliyun.com/ubuntu/ xenial-updates main restricted multiverse universe #Added by software-properties</span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ xenial universe</span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ xenial-updates universe</span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ xenial multiverse</span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ xenial-updates multiverse</span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ xenial-backports main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.aliyun.com/ubuntu/ xenial-backports main restricted universe multiverse #Added by software-properties</span><br><span class="line">deb http://archive.canonical.com/ubuntu xenial partner</span><br><span class="line">deb-src http://archive.canonical.com/ubuntu xenial partner</span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ xenial-security main restricted</span><br><span class="line">deb-src http://mirrors.aliyun.com/ubuntu/ xenial-security main restricted multiverse universe #Added by software-properties</span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ xenial-security universe</span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ xenial-security multiverse</span><br><span class="line">#===============================================================================================</span><br><span class="line"># 3.更新配置</span><br><span class="line">apt-get update</span><br></pre></td></tr></table></figure><h2 id="功能开启"><a href="#功能开启" class="headerlink" title="功能开启"></a>功能开启</h2><h3 id="启用ssh"><a href="#启用ssh" class="headerlink" title="启用ssh"></a>启用ssh</h3><blockquote></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"># 1.安装ssh(一般不需要这步)</span><br><span class="line">apt-get install openssh-server</span><br><span class="line"># 2.修改配置文件</span><br><span class="line">cp /etc/ssh/sshd_config /etc/ssh/sshd_config.bak</span><br><span class="line">vim /etc/ssh/sshd_config</span><br><span class="line">#=======(修改以下选项内容)=========#</span><br><span class="line"># Port 23（22端口已被占用）        #</span><br><span class="line"># (取消注释)ListenAddress 0.0.0.0 #</span><br><span class="line"># UsePrivilegeSeparation no      #</span><br><span class="line"># PermitRootLogin yes            #</span><br><span class="line"># （注释）StrictModes yes         #</span><br><span class="line"># PasswordAuthentication yes     #</span><br><span class="line">#================================#</span><br><span class="line"># 3.启动ssh</span><br><span class="line">service ssh start</span><br><span class="line"># 4.如果提示“sshd error: could not load host key”，则用下面的命令重新生成</span><br><span class="line">rm /etc/ssh/ssh*key</span><br><span class="line">dpkg-reconfigure openssh-server</span><br></pre></td></tr></table></figure><h3 id="X11图形界面"><a href="#X11图形界面" class="headerlink" title="X11图形界面"></a>X11图形界面</h3><p>Linux作为服务器使用，基本好了，但是有时候我们还是想看看Linux下的图形界面的。那么就要依靠X11了。<br>首先安装<a href="https://zh.osdn.net/projects/sfnet_xming/releases/" target="_blank" rel="noopener">Xming</a>;</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get x11-apps</span><br></pre></td></tr></table></figure><p>然后再windows宿主机器上安装Xming-6-9-0-31-setup，安装好以后，运行Xming，回到Shell，执行</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#Xming的地址</span><br><span class="line">export DISPLAY=localhost:0.0</span><br><span class="line">#一个研究的小程序</span><br><span class="line">xeyes</span><br></pre></td></tr></table></figure><blockquote></blockquote><ol><li>安装完直接打开Xming即可</li><li>安装一个firefox测试<br>apt-get install firefox</li><li>运行(在程序指令前加上”DISPLAY=:0 “)<br>DISPLAY=:0 firefox</li><li>简化配置<br>每次运行程序都要输入DISPLAY=:0挺累的，执行下列指令后重启bash即可省这个步骤<br>echo “export DISPLAY=:0.0” &gt;&gt; ~/.bashrc</li></ol><blockquote><p>Sublime Text 3安装</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">cd /</span><br><span class="line"># 下载</span><br><span class="line">wget https://download.sublimetext.com/sublime-text_build-3143_amd64.deb</span><br><span class="line"># 安装</span><br><span class="line">dpkg -i sublime-text_build-3143_amd64.deb</span><br><span class="line"># 运行</span><br><span class="line">subl</span><br><span class="line">报错：</span><br><span class="line">缺少依赖包：</span><br><span class="line">apt-get -y install libgtk2.0-0</span><br></pre></td></tr></table></figure><h3 id="启动xfce桌面环境"><a href="#启动xfce桌面环境" class="headerlink" title="启动xfce桌面环境"></a>启动xfce桌面环境</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># 1.安装xfce4</span><br><span class="line">apt-get install xfce4</span><br><span class="line"># 2.安装xubuntu桌面及附带应用</span><br><span class="line">apt-get install xubuntu-desktop</span><br><span class="line"># 3.启动</span><br><span class="line">xfce4-session</span><br></pre></td></tr></table></figure><p><img src="http://upload-images.jianshu.io/upload_images/1836534-54cf992844fd2486.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="text all"></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed -i 's$&lt;listen&gt;.*&lt;/listen&gt;$&lt;listen&gt;tcp:host=localhost,port=0&lt;/listen&gt;$' /etc/dbus-1/session.conf</span><br></pre></td></tr></table></figure><p><img src="http://upload-images.jianshu.io/upload_images/1836534-5fc9d7ad3f87daf5.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="text all"></p>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>(转)javascript 奇淫巧技44招</title>
      <link href="/javascript-%E5%A5%87%E6%B7%AB%E5%B7%A7%E6%8A%8044%E6%8B%9B(%E8%BD%AC)/"/>
      <url>/javascript-%E5%A5%87%E6%B7%AB%E5%B7%A7%E6%8A%8044%E6%8B%9B(%E8%BD%AC)/</url>
      
        <content type="html"><![CDATA[<h2 id="1、首次为变量赋值时务必使用var关键字"><a href="#1、首次为变量赋值时务必使用var关键字" class="headerlink" title="1、首次为变量赋值时务必使用var关键字"></a>1、首次为变量赋值时务必使用var关键字</h2><p>变量没有声明而直接赋值得话，默认会作为一个新的全局变量，要尽量避免使用全局变量。</p><h2 id="2、使用-取代"><a href="#2、使用-取代" class="headerlink" title="2、使用===取代=="></a>2、使用===取代==</h2><p>==和!=操作符会在需要的情况下自动转换数据类型。但===和!==不会，它们会同时比较值和数据类型，这也使得它们要比==和!=快。</p><a id="more"></a><p>复制代码<br>[10] === 10    // is false<br>[10]  == 10    // is true<br>‘10’ == 10     // is true<br>‘10’ === 10    // is false<br> []   == 0     // is true<br> [] ===  0     // is false<br> ‘’ == false   // is true but true == “a” is false<br> ‘’ === false  // is false<br>复制代码</p><h2 id="3、underfined、null、0、false、NaN、空字符串的逻辑结果均为false"><a href="#3、underfined、null、0、false、NaN、空字符串的逻辑结果均为false" class="headerlink" title="3、underfined、null、0、false、NaN、空字符串的逻辑结果均为false"></a>3、underfined、null、0、false、NaN、空字符串的逻辑结果均为false</h2><h2 id="4、行尾使用分号"><a href="#4、行尾使用分号" class="headerlink" title="4、行尾使用分号"></a>4、行尾使用分号</h2><p>实践中最好还是使用分号，忘了写也没事，大部分情况下JavaScript解释器都会自动添加。对于为何要使用分号，可参考文章JavaScript中关于分号的真相。</p><h2 id="5、使用对象构造器"><a href="#5、使用对象构造器" class="headerlink" title="5、使用对象构造器"></a>5、使用对象构造器</h2><p>function Person(firstName, lastName){<br>    this.firstName =  firstName;<br>    this.lastName = lastName;<br>}<br>var Saad = new Person(“Saad”, “Mousliki”);</p><h2 id="6、小心使用typeof、instanceof和contructor"><a href="#6、小心使用typeof、instanceof和contructor" class="headerlink" title="6、小心使用typeof、instanceof和contructor"></a>6、小心使用typeof、instanceof和contructor</h2><p>typeof：JavaScript一元操作符，用于以字符串的形式返回变量的原始类型，注意，typeof null也会返回object，大多数的对象类型（数组Array、时间Date等）也会返回object<br>contructor：内部原型属性，可以通过代码重写<br>instanceof：JavaScript操作符，会在原型链中的构造器中搜索，找到则返回true，否则返回false<br>var arr = [“a”, “b”, “c”];<br>typeof arr;   // 返回 “object”<br>arr instanceof Array // true<br>arr.constructor();  //[]</p><h2 id="7、使用自调用函数"><a href="#7、使用自调用函数" class="headerlink" title="7、使用自调用函数"></a>7、使用自调用函数</h2><p>函数在创建之后直接自动执行，通常称之为自调用匿名函数（Self-Invoked Anonymous Function）或直接调用函数表达式（Immediately Invoked Function Expression ）。格式如下：</p><p>(function(){<br>    // 置于此处的代码将自动执行<br>})();<br>(function(a,b){<br>    var result = a+b;<br>    return result;<br>})(10,20)</p><h2 id="8、从数组中随机获取成员"><a href="#8、从数组中随机获取成员" class="headerlink" title="8、从数组中随机获取成员"></a>8、从数组中随机获取成员</h2><p>var items = [12, 548 , ‘a’ , 2 , 5478 , ‘foo’ , 8852, , ‘Doe’ , 2145 , 119];<br>var  randomItem = items[Math.floor(Math.random() * items.length)];</p><h2 id="9、获取指定范围内的随机数"><a href="#9、获取指定范围内的随机数" class="headerlink" title="9、获取指定范围内的随机数"></a>9、获取指定范围内的随机数</h2><p>这个功能在生成测试用的假数据时特别有数，比如介与指定范围内的工资数。</p><p>var x = Math.floor(Math.random() * (max - min + 1)) + min;</p><h2 id="10、生成从0到指定值的数字数组"><a href="#10、生成从0到指定值的数字数组" class="headerlink" title="10、生成从0到指定值的数字数组"></a>10、生成从0到指定值的数字数组</h2><p>var numbersArray = [] , max = 100;<br>for( var i=1; numbersArray.push(i++) &lt; max;);  // numbers = [1,2,3 … 100]</p><h2 id="11、生成随机的字母数字字符串"><a href="#11、生成随机的字母数字字符串" class="headerlink" title="11、生成随机的字母数字字符串"></a>11、生成随机的字母数字字符串</h2><p>function generateRandomAlphaNum(len) {<br>    var rdmString = “”;<br>    for( ; rdmString.length &lt; len; rdmString  += Math.random().toString(36).substr(2));<br>    return  rdmString.substr(0, len);<br>}</p><h2 id="12、打乱数字数组的顺序"><a href="#12、打乱数字数组的顺序" class="headerlink" title="12、打乱数字数组的顺序"></a>12、打乱数字数组的顺序</h2><p>var numbers = [5, 458 , 120 , -215 , 228 , 400 , 122205, -85411];<br>numbers = numbers.sort(function(){ return Math.random() - 0.5});<br>/* numbers 数组将类似于 [120, 5, 228, -215, 400, 458, -85411, 122205]  */<br>这里使用了JavaScript内置的数组排序函数，更好的办法是用专门的代码来实现（如Fisher-Yates算法），可以参见StackOverFlow上的这个讨论。</p><h2 id="13、字符串去空格"><a href="#13、字符串去空格" class="headerlink" title="13、字符串去空格"></a>13、字符串去空格</h2><p>Java、C#和PHP等语言都实现了专门的字符串去空格函数，但JavaScript中是没有的，可以通过下面的代码来为String对象函数一个trim函数：</p><p>tring.prototype.trim = function(){return this.replace(/^\s+|\s+$/g, “”);};<br>新的JavaScript引擎已经有了trim()的原生实现。</p><h2 id="14、数组之间追加"><a href="#14、数组之间追加" class="headerlink" title="14、数组之间追加"></a>14、数组之间追加</h2><p>var array1 = [12 , “foo” , {name “Joe”} , -2458];<br>var array2 = [“Doe” , 555 , 100];<br>Array.prototype.push.apply(array1, array2);<br>/* array1 值为  [12 , “foo” , {name “Joe”} , -2458 , “Doe” , 555 , 100] */</p><h2 id="15、对象转换为数组"><a href="#15、对象转换为数组" class="headerlink" title="15、对象转换为数组"></a>15、对象转换为数组</h2><p>var argArray = Array.prototype.slice.call(arguments);</p><h2 id="16、验证是否是数字"><a href="#16、验证是否是数字" class="headerlink" title="16、验证是否是数字"></a>16、验证是否是数字</h2><p>function isNumber(n){<br>    return !isNaN(parseFloat(n)) &amp;&amp; isFinite(n);<br>}</p><h2 id="17、验证是否是数组"><a href="#17、验证是否是数组" class="headerlink" title="17、验证是否是数组"></a>17、验证是否是数组</h2><p>function isArray(obj){<br>    return Object.prototype.toString.call(obj) === ‘[object Array]’ ;<br>}<br>但如果toString()方法被重写过得话，就行不通了。也可以使用下面的方法：</p><p>Array.isArray(obj); // its a new Array method<br>如果在浏览器中没有使用frame，还可以用instanceof，但如果上下文太复杂，也有可能出错。</p><p>复制代码<br>var myFrame = document.createElement(‘iframe’);<br>document.body.appendChild(myFrame);<br>var myArray = window.frames[window.frames.length-1].Array;<br>var arr = new myArray(a,b,10); // [a,b,10]<br>// myArray 的构造器已经丢失，instanceof 的结果将不正常<br>// 构造器是不能跨 frame 共享的<br>arr instanceof Array; // false<br>复制代码</p><h2 id="18-获取数组中的最大值和最小值"><a href="#18-获取数组中的最大值和最小值" class="headerlink" title="18.获取数组中的最大值和最小值"></a>18.获取数组中的最大值和最小值</h2><p>var  numbers = [5, 458 , 120 , -215 , 228 , 400 , 122205, -85411];<br>var maxInNumbers = Math.max.apply(Math, numbers);<br>var minInNumbers = Math.min.apply(Math, numbers);</p><h2 id="19、清空数组"><a href="#19、清空数组" class="headerlink" title="19、清空数组"></a>19、清空数组</h2><p>var myArray = [12 , 222 , 1000 ];<br>myArray.length = 0; // myArray will be equal to [].</p><h2 id="20、不要直接从数组中delete或remove元素"><a href="#20、不要直接从数组中delete或remove元素" class="headerlink" title="20、不要直接从数组中delete或remove元素"></a>20、不要直接从数组中delete或remove元素</h2><p>如果对数组元素直接使用delete，其实并没有删除，只是将元素置为了undefined。数组元素删除应使用splice。</p><p>切忌：</p><p>var items = [12, 548 ,’a’ , 2 , 5478 , ‘foo’ , 8852, , ‘Doe’ ,2154 , 119 ];<br>items.length; // return 11<br>delete items[3]; // return true<br>items.length; // return 11<br>/* items 结果为 [12, 548, “a”, undefined × 1, 5478, “foo”, 8852, undefined × 1, “Doe”, 2154, 119] */<br>而应：</p><p>var items = [12, 548 ,’a’ , 2 , 5478 , ‘foo’ , 8852, , ‘Doe’ ,2154 , 119 ];<br>items.length; // return 11<br>items.splice(3,1) ;<br>items.length; // return 10<br>/* items 结果为 [12, 548, “a”, 5478, “foo”, 8852, undefined × 1, “Doe”, 2154, 119]<br>删除对象的属性时可以使用delete。</p><h2 id="21、使用length属性截断数组"><a href="#21、使用length属性截断数组" class="headerlink" title="21、使用length属性截断数组"></a>21、使用length属性截断数组</h2><p>前面的例子中用length属性清空数组，同样还可用它来截断数组：</p><p>var myArray = [12 , 222 , 1000 , 124 , 98 , 10 ];<br>myArray.length = 4; // myArray will be equal to [12 , 222 , 1000 , 124].<br>与此同时，如果把length属性变大，数组的长度值变会增加，会使用undefined来作为新的元素填充。length是一个可写的属性。</p><p>myArray.length = 10; // the new array length is 10<br>myArray[myArray.length - 1] ; // undefined</p><h2 id="22、在条件中使用逻辑与或"><a href="#22、在条件中使用逻辑与或" class="headerlink" title="22、在条件中使用逻辑与或"></a>22、在条件中使用逻辑与或</h2><p>var foo = 10;<br>foo == 10 &amp;&amp; doSomething(); // is the same thing as if (foo == 10) doSomething();<br>foo == 5 || doSomething(); // is the same thing as if (foo != 5) doSomething();<br>逻辑或还可用来设置默认值，比如函数参数的默认值。</p><p>function doSomething(arg1){<br>    arg1 = arg1 || 10; // arg1 will have 10 as a default value if it’s not already set<br>}</p><h2 id="23、使得map-函数方法对数据循环"><a href="#23、使得map-函数方法对数据循环" class="headerlink" title="23、使得map()函数方法对数据循环"></a>23、使得map()函数方法对数据循环</h2><p>var squares = [1,2,3,4].map(function (val) {<br>    return val * val;<br>});<br>// squares will be equal to [1, 4, 9, 16]</p><h2 id="24、保留指定小数位数"><a href="#24、保留指定小数位数" class="headerlink" title="24、保留指定小数位数"></a>24、保留指定小数位数</h2><p>var num =2.443242342;<br>num = num.toFixed(4);  // num will be equal to 2.4432<br>注意，toFixec()返回的是字符串，不是数字。</p><h2 id="25、浮点计算的问题"><a href="#25、浮点计算的问题" class="headerlink" title="25、浮点计算的问题"></a>25、浮点计算的问题</h2><p>0.1 + 0.2 === 0.3 // is false<br>9007199254740992 + 1 // is equal to 9007199254740992<br>9007199254740992 + 2 // is equal to 9007199254740994<br>为什么呢？因为0.1+0.2等于0.30000000000000004。JavaScript的数字都遵循IEEE 754标准构建，在内部都是64位浮点小数表示，具体可以参见JavaScript中的数字是如何编码的.</p><p>可以通过使用toFixed()和toPrecision()来解决这个问题。</p><h2 id="26、通过for-in循环检查对象的属性"><a href="#26、通过for-in循环检查对象的属性" class="headerlink" title="26、通过for-in循环检查对象的属性"></a>26、通过for-in循环检查对象的属性</h2><p>下面这样的用法，可以防止迭代的时候进入到对象的原型属性中。</p><p>for (var name in object) {<br>    if (object.hasOwnProperty(name)) {<br>        // do something with name<br>    }<br>}</p><h2 id="27、逗号操作符"><a href="#27、逗号操作符" class="headerlink" title="27、逗号操作符"></a>27、逗号操作符</h2><p>var a = 0;<br>var b = ( a++, 99 );<br>console.log(a);  // a will be equal to 1<br>console.log(b);  // b is equal to 99</p><h2 id="28、临时存储用于计算和查询的变量"><a href="#28、临时存储用于计算和查询的变量" class="headerlink" title="28、临时存储用于计算和查询的变量"></a>28、临时存储用于计算和查询的变量</h2><p>在jQuery选择器中，可以临时存储整个DOM元素。</p><p>var navright = document.querySelector(‘#right’);<br>var navleft = document.querySelector(‘#left’);<br>var navup = document.querySelector(‘#up’);<br>var navdown = document.querySelector(‘#down’);</p><h2 id="29-提前检查传入isFinite-的参数"><a href="#29-提前检查传入isFinite-的参数" class="headerlink" title="29.提前检查传入isFinite()的参数"></a>29.提前检查传入isFinite()的参数</h2><p>复制代码<br>isFinite(0/0) ; // false<br>isFinite(“foo”); // false<br>isFinite(“10”); // true<br>isFinite(10);   // true<br>isFinite(undefined);  // false<br>isFinite();   // false<br>isFinite(null);  // true，这点当特别注意<br>复制代码</p><h2 id="30、避免在数组中使用负数做索引"><a href="#30、避免在数组中使用负数做索引" class="headerlink" title="30、避免在数组中使用负数做索引"></a>30、避免在数组中使用负数做索引</h2><p>var numbersArray = [1,2,3,4,5];<br>var from = numbersArray.indexOf(“foo”) ;  // from is equal to -1<br>numbersArray.splice(from,2);    // will return [5]<br>注意传给splice的索引参数不要是负数，当是负数时，会从数组结尾处删除元素。</p><h2 id="31、用JSON来序列化与反序列化"><a href="#31、用JSON来序列化与反序列化" class="headerlink" title="31、用JSON来序列化与反序列化"></a>31、用JSON来序列化与反序列化</h2><p>var person = {name :’Saad’, age : 26, department : {ID : 15, name : “R&amp;D”} };<br>var stringFromPerson = JSON.stringify(person);<br>/* stringFromPerson 结果为 “{“name”:”Saad”,”age”:26,”department”:{“ID”:15,”name”:”R&amp;D”}}”   <em>/<br>var personFromString = JSON.parse(stringFromPerson);<br>/</em> personFromString 的值与 person 对象相同  */</p><h2 id="32、不要使用eval-或者函数构造器"><a href="#32、不要使用eval-或者函数构造器" class="headerlink" title="32、不要使用eval()或者函数构造器"></a>32、不要使用eval()或者函数构造器</h2><p>eval()和函数构造器（Function consturctor）的开销较大，每次调用，JavaScript引擎都要将源代码转换为可执行的代码。</p><p>var func1 = new Function(functionCode);<br>var func2 = eval(functionCode);</p><h2 id="33、避免使用with"><a href="#33、避免使用with" class="headerlink" title="33、避免使用with()"></a>33、避免使用with()</h2><p>使用with()可以把变量加入到全局作用域中，因此，如果有其它的同名变量，一来容易混淆，二来值也会被覆盖。</p><h2 id="34、不要对数组使用for-in"><a href="#34、不要对数组使用for-in" class="headerlink" title="34、不要对数组使用for-in"></a>34、不要对数组使用for-in</h2><p>避免：</p><p>var sum = 0;<br>for (var i in arrayNumbers) {<br>    sum += arrayNumbers[i];<br>}<br>而是：</p><p>var sum = 0;<br>for (var i = 0, len = arrayNumbers.length; i &lt; len; i++) {<br>    sum += arrayNumbers[i];<br>}<br>另外一个好处是，i和len两个变量是在for循环的第一个声明中，二者只会初始化一次，这要比下面这种写法快：</p><p>for (var i = 0; i &lt; arrayNumbers.length; i++)</p><h2 id="35、传给setInterval-和setTimeout-时使用函数而不是字符串"><a href="#35、传给setInterval-和setTimeout-时使用函数而不是字符串" class="headerlink" title="35、传给setInterval()和setTimeout()时使用函数而不是字符串"></a>35、传给setInterval()和setTimeout()时使用函数而不是字符串</h2><p>如果传给setTimeout()和setInterval()一个字符串，他们将会用类似于eval方式进行转换，这肯定会要慢些，因此不要使用：</p><p>setInterval(‘doSomethingPeriodically()’, 1000);<br>setTimeout(‘doSomethingAfterFiveSeconds()’, 5000);<br>而是用：</p><p>setInterval(doSomethingPeriodically, 1000);<br>setTimeout(doSomethingAfterFiveSeconds, 5000);</p><h2 id="36、使用switch-case代替一大叠的if-else"><a href="#36、使用switch-case代替一大叠的if-else" class="headerlink" title="36、使用switch/case代替一大叠的if/else"></a>36、使用switch/case代替一大叠的if/else</h2><p>当判断有超过两个分支的时候使用switch/case要更快一些，而且也更优雅，更利于代码的组织，当然，如果有超过10个分支，就不要使用switch/case了。</p><h2 id="37、在switch-case中使用数字区间"><a href="#37、在switch-case中使用数字区间" class="headerlink" title="37、在switch/case中使用数字区间"></a>37、在switch/case中使用数字区间</h2><p>其实，switch/case中的case条件，还可以这样写：</p><p>复制代码<br>function getCategory(age) {<br>    var category = “”;<br>    switch (true) {<br>        case isNaN(age):<br>            category = “not an age”;<br>            break;<br>        case (age &gt;= 50):<br>            category = “Old”;<br>            break;<br>        case (age &lt;= 20):<br>            category = “Baby”;<br>            break;<br>        default:<br>            category = “Young”;<br>            break;<br>    };<br>    return category;<br>}<br>getCategory(5);  // 将返回 “Baby”<br>复制代码</p><h2 id="38、使用对象作为对象的原型"><a href="#38、使用对象作为对象的原型" class="headerlink" title="38、使用对象作为对象的原型"></a>38、使用对象作为对象的原型</h2><p>下面这样，便可以给定对象作为参数，来创建以此为原型的新对象：</p><p>function clone(object) {<br>    function OneShotConstructor(){};<br>    OneShotConstructor.prototype = object;<br>    return new OneShotConstructor();<br>}<br>clone(Array).prototype ;  // []</p><h2 id="39、HTML字段转换函数"><a href="#39、HTML字段转换函数" class="headerlink" title="39、HTML字段转换函数"></a>39、HTML字段转换函数</h2><p>复制代码<br>function escapeHTML(text) {<br>    var replacements= {“&lt;”: “&lt;”, “&gt;”: “&gt;”,”&amp;”: “&amp;”, “&quot;“: “&quot;”};<br>    return text.replace(/[&lt;&gt;&amp;”]/g, function(character) {<br>        return replacements[character];<br>    });<br>}<br>复制代码</p><h2 id="40、不要在循环内部使用try-catch-finally"><a href="#40、不要在循环内部使用try-catch-finally" class="headerlink" title="40、不要在循环内部使用try-catch-finally"></a>40、不要在循环内部使用try-catch-finally</h2><p>try-catch-finally中catch部分在执行时会将异常赋给一个变量，这个变量会被构建成一个运行时作用域内的新的变量。</p><p>切忌：</p><p>复制代码<br>var object = [‘foo’, ‘bar’], i;<br>for (i = 0, len = object.length; i &lt;len; i++) {<br>    try {<br>        // do something that throws an exception<br>    }<br>    catch (e) {<br>        // handle exception<br>    }<br>}<br>复制代码<br>而应该：</p><p>复制代码<br>var object = [‘foo’, ‘bar’], i;<br>try {<br>    for (i = 0, len = object.length; i &lt;len; i++) {<br>        // do something that throws an exception<br>    }<br>}<br>catch (e) {<br>    // handle exception<br>}<br>复制代码</p><h2 id="41、使用XMLHttpRequests时注意设置超时"><a href="#41、使用XMLHttpRequests时注意设置超时" class="headerlink" title="41、使用XMLHttpRequests时注意设置超时"></a>41、使用XMLHttpRequests时注意设置超时</h2><p>XMLHttpRequests在执行时，当长时间没有响应（如出现网络问题等）时，应该中止掉连接，可以通过setTimeout()来完成这个工作：</p><p>复制代码<br>var xhr = new XMLHttpRequest ();<br>xhr.onreadystatechange = function () {<br>    if (this.readyState == 4) {<br>        clearTimeout(timeout);<br>        // do something with response data<br>    }<br>}<br>var timeout = setTimeout( function () {<br>    xhr.abort(); // call error callback<br>}, 60<em>1000 /</em> timeout after a minute */ );<br>xhr.open(‘GET’, url, true);<br>xhr.send();<br>复制代码<br>同时需要注意的是，不要同时发起多个XMLHttpRequests请求。</p><h2 id="42、处理WebSocket的超时"><a href="#42、处理WebSocket的超时" class="headerlink" title="42、处理WebSocket的超时"></a>42、处理WebSocket的超时</h2><p>通常情况下，WebSocket连接创建后，如果30秒内没有任何活动，服务器端会对连接进行超时处理，防火墙也可以对单位周期没有活动的连接进行超时处理。</p><p>为了防止这种情况的发生，可以每隔一定时间，往服务器发送一条空的消息。可以通过下面这两个函数来实现这个需求，一个用于使连接保持活动状态，另一个专门用于结束这个状态。</p><p>复制代码<br>var timerID = 0;<br>function keepAlive() {<br>    var timeout = 15000;<br>    if (webSocket.readyState == webSocket.OPEN) {<br>        webSocket.send(‘’);<br>    }<br>    timerId = setTimeout(keepAlive, timeout);<br>}<br>function cancelKeepAlive() {<br>    if (timerId) {<br>        cancelTimeout(timerId);<br>    }<br>}<br>复制代码<br>keepAlive()函数可以放在WebSocket连接的onOpen()方法的最后面，cancelKeepAlive()放在onClose()方法的最末尾。</p><h2 id="43、时间注意原始操作符比函数调用快，使用VanillaJS"><a href="#43、时间注意原始操作符比函数调用快，使用VanillaJS" class="headerlink" title="43、时间注意原始操作符比函数调用快，使用VanillaJS"></a>43、时间注意原始操作符比函数调用快，使用VanillaJS</h2><p>比如，一般不要这样：</p><p>var min = Math.min(a,b);<br>A.push(v);<br>可以这样来代替：</p><p>var min = a &lt; b ? a : b;<br>A[A.length] = v;</p><h2 id="44、开发时注意代码结构，上线前检查并压缩JavaScript代码"><a href="#44、开发时注意代码结构，上线前检查并压缩JavaScript代码" class="headerlink" title="44、开发时注意代码结构，上线前检查并压缩JavaScript代码"></a>44、开发时注意代码结构，上线前检查并压缩JavaScript代码</h2><p>可以使用JSLint或JSMin等工具来检查并压缩代码。</p>]]></content>
      
      
      <categories>
          
          <category> 转载文章 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
            <tag> 转载文章 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>理解JavaScript中的原型对象</title>
      <link href="/%E7%90%86%E8%A7%A3JavaScript%E4%B8%AD%E7%9A%84%E5%8E%9F%E5%9E%8B%E5%AF%B9%E8%B1%A1/"/>
      <url>/%E7%90%86%E8%A7%A3JavaScript%E4%B8%AD%E7%9A%84%E5%8E%9F%E5%9E%8B%E5%AF%B9%E8%B1%A1/</url>
      
        <content type="html"><![CDATA[<h2 id="一句话简单理解javascript中的原型对象"><a href="#一句话简单理解javascript中的原型对象" class="headerlink" title="一句话简单理解javascript中的原型对象"></a>一句话简单理解javascript中的原型对象</h2><blockquote></blockquote><p>**<br>通过构造函数F创建的对象实例p 这个对象p的原型对象是 构造函数中prototype属性指向的对象s，<br>这个对象p中也有个非标准的<strong>proto</strong>属性指向构造函数prototype属性<br>所指向的对象s，所以就有 p.<strong>proto</strong> === F.prototype;<br>在对象P的原型对象s中有个属性constructor属性，指向的是构造函数本身。<br>如果对象p的原型对象s被重写，那么P的构造函数不再是F，而是Object<br>**</p><a id="more"></a><h2 id="代码说明"><a href="#代码说明" class="headerlink" title="代码说明"></a>代码说明</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">F</span>(<span class="params"></span>)</span>&#123;&#125;;</span><br><span class="line"><span class="keyword">var</span> p = <span class="keyword">new</span> F();</span><br><span class="line"><span class="built_in">console</span>.log(p.__proto__ === F.prototype)<span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(p.constructor === F) <span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(p <span class="keyword">instanceof</span> F) <span class="comment">//true</span></span><br><span class="line">F.prototype = &#123;&#125;;<span class="comment">//重写原型对象</span></span><br><span class="line">p2 = <span class="keyword">new</span> F() <span class="comment">//重新实例一个对象p2</span></span><br><span class="line"><span class="built_in">console</span>.log(p <span class="keyword">instanceof</span> F,p2 <span class="keyword">instanceof</span> F) <span class="comment">//false,true instanceof运算符返回一个布尔值，</span></span><br><span class="line">　<span class="comment">//instanceof运算符可以用来判断某个构造函数的prototype属性是否存在另外一个要检测对象的原型链上。</span></span><br><span class="line"> <span class="comment">//instanceof 运算符用来检测 constructor.prototype 是否存在于参数 object 的原型链上。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">Instanceof的判断队则是：沿着A的__proto__这条线来找，同时沿着B的prototype这条线来找，如果两条线能找到同一个引用，即同一个对象，那么就返回true。如果找到终点还未重合，则返回false。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="built_in">console</span>.log(p.constructor === F) <span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(p2.constructor === F)<span class="comment">//false</span></span><br><span class="line"><span class="built_in">console</span>.log(p2.constructor === <span class="built_in">Object</span>)<span class="comment">//true</span></span><br><span class="line"><span class="comment">//我们重写F.prototype的时候，并没有改变p1属性prototype的指向，它指向的还是老的那个F.prototype 对象</span></span><br><span class="line"><span class="comment">//原型的动态性 强调的前提是同一个原型对象，即对象（p1）指向的原型对象和类（F）指向的原型对象是同一个，</span></span><br><span class="line"><span class="comment">//当发生原型对象重写的时候，实际上是有个两个原型对象的，一个新的，一个老的。</span></span><br></pre></td></tr></table></figure><p>instanceof 复杂用法：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Ben</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span> <span class="keyword">instanceof</span> <span class="built_in">Object</span>);     <span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Function</span> <span class="keyword">instanceof</span> <span class="built_in">Function</span>); <span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Function</span> <span class="keyword">instanceof</span> <span class="built_in">Object</span>);   <span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(Ben <span class="keyword">instanceof</span> <span class="built_in">Function</span>);      <span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">String</span> <span class="keyword">instanceof</span> <span class="built_in">String</span>);   <span class="comment">//false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Boolean</span> <span class="keyword">instanceof</span> <span class="built_in">Boolean</span>); <span class="comment">//false</span></span><br><span class="line"><span class="built_in">console</span>.log(Ben <span class="keyword">instanceof</span> Ben);         <span class="comment">//false</span></span><br></pre></td></tr></table></figure><blockquote><p>**<br>在这里构造函数F也是对象，所以F也有原型对象s2,F的原型对象s2 是 构造函数Function中原型属性prototype所指向的原型对象s2;<br>Function函数也是对象所以，Function函数的构造函数也是Function…因此所有函数都是由Function构造函数的实例（包括function Object(){}）<br>Function的原型属性prototype指向的对象和Function的原型对象<strong>proto</strong> 指向的对象相等 并且<code>Function.__proto__</code>对象是一个特殊的函数对象，不具有prototype属性**  </p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(F.__proto__ === <span class="built_in">Function</span>.prototype)<span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Function</span>.__proto__ === <span class="built_in">Function</span>.prototype) <span class="comment">//true function()&#123;&#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Function</span>.__proto__.__proto__ === <span class="built_in">Object</span>.prototype)<span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.prototype.__proto__ === <span class="literal">null</span>)<span class="comment">//true</span></span><br></pre></td></tr></table></figure><p>对象字面量产生的对象连接到Object.prototype。函数对象连接到Function.prototype(该原型对象本身连接到Object.prototype).</p><h2 id="最后盗用一张图理解Object和Function："><a href="#最后盗用一张图理解Object和Function：" class="headerlink" title="最后盗用一张图理解Object和Function："></a>最后盗用一张图理解Object和Function：</h2><p>图片原文地址<a href="http://www.cnblogs.com/wangfupeng1988/p/3977924.html" target="_blank" rel="noopener">深入理解javascript原型和闭包（完结）</a></p><p><img src="/uploads/js%E5%8E%9F%E5%9E%8B%E5%92%8C%E5%8E%9F%E5%9E%8B%E9%93%BE.png" alt="img"></p>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ES6学习笔记</title>
      <link href="/ES6%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
      <url>/ES6%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<h2 id="javaScript历史"><a href="#javaScript历史" class="headerlink" title="javaScript历史"></a>javaScript历史</h2><p>ECMAScript 1.0 是1997年发布的，接下来的两年，连续发布了 ECMAScript 2.0（1998年6月）和 ECMAScript 3.0（1999年12月）3.0版是一个巨大的成功，在业界得到广泛支持，成为通行标准，奠定了 JavaScript 语言的基本语法，以后的版本完全继承。  </p><p>2000年，ECMAScript 4.0 开始酝酿。这个版本最后没有通过，但是它的大部分内容被 ES6 继承了。因此，ES6 制定的起点其实是2000年。  </p><p>2007年10月，ECMAScript 4.0 版草案发布，本来预计次年8月发布正式版本。  </p><a id="more"></a><p>2008年7月，由于对于下一个版本应该包括哪些功能，各方分歧太大，争论过于激烈，ECMA 开会决定，中止 ECMAScript 4.0 的开发，将其中涉及现有功能改善的一小部分，发布为 ECMAScript 3.1，会后不久，ECMAScript 3.1 就改名为 ECMAScript 5。  </p><p>2009年12月，ECMAScript 5.0 版正式发布。  </p><p>2011年6月，ECMAscript 5.1 版发布，并且成为 ISO 国际标准（ISO/IEC 16262:2011）。  </p><p>2013年3月，ECMAScript 6 草案冻结，不再添加新功能。新的功能设想将被放到 ECMAScript 7。  </p><p>2013年12月，ECMAScript 6 草案发布。然后是12个月的讨论期，听取各方反馈。  </p><p>2015年6月，ECMAScript 6 正式通过，成为国际标准。从2000年算起，这时已经过去了15年。  </p><h2 id="一、新的变量声明方式-let-const"><a href="#一、新的变量声明方式-let-const" class="headerlink" title="一、新的变量声明方式 let/const"></a>一、新的变量声明方式 let/const</h2><blockquote><p>简介：<br>与var不同，新的变量声明方式带来了一些不一样的特性，<br>其中最重要的两个特性就是提供了块级作用域与不再具备变量提升。</p></blockquote><p>​<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="keyword">let</span> a = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(a); <span class="comment">// a is not defined</span></span><br><span class="line"><span class="comment">//ES5</span></span><br><span class="line"><span class="built_in">console</span>.log(a); <span class="comment">//undefined</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">3</span>;</span><br><span class="line"><span class="comment">//ES6</span></span><br><span class="line"><span class="built_in">console</span>.log(a) <span class="comment">// a is not defined</span></span><br><span class="line"><span class="keyword">let</span> a = <span class="number">3</span>;</span><br><span class="line">​</span><br></pre></td></tr></table></figure></p><blockquote><p>使用场景：</p></blockquote><p>我们常常使用let来声明一个值会被改变的变量，<br>而使用const来声明一个值不会被改变的变量，也可以称之为常量。</p><blockquote><p>let使用说明：</p></blockquote><p>let会创建块级作用域，在当前作用域中可访问<br>let声明的变量 不能 使用var、let、const重复声明,也没有变量提升。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(a) <span class="comment">//ReferenceError, a is not defined</span></span><br><span class="line">  <span class="keyword">let</span> a = <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">var</span> a = <span class="number">2</span>; <span class="comment">//报错，SyntaxError</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(a) <span class="comment">//ReferenceError, a is not defined</span></span><br></pre></td></tr></table></figure><blockquote><p>const使用说明：</p></blockquote><p>const和let一样，有块作用域，没有变量提升。<br>const 申明的是常量，常量的值是不可改变的，这个值<br>是指存在常量中的值或引用，而不是引用指向的值</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="keyword">const</span> OBJ = &#123;<span class="attr">n</span>:<span class="number">1</span>&#125;;</span><br><span class="line">  OBJ.n = <span class="number">2</span>;</span><br><span class="line">  <span class="built_in">console</span>.log(OBJ) <span class="comment">//&#123;n:2&#125;</span></span><br><span class="line">  OBJ = <span class="number">3</span> <span class="comment">//报错，TypeError</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="二、-箭头函数的使用"><a href="#二、-箭头函数的使用" class="headerlink" title="二、 箭头函数的使用"></a>二、 箭头函数的使用</h2><blockquote><p>语法：<br>        (arg1,arg2,…) =&gt; {<br>            ….<br>            return xxx;<br>        }</p></blockquote><blockquote><p>特点：</p></blockquote><ol><li>箭头函数可以替换函数表达式，但是不能替换函数声明</li><li>箭头函数中，没有this。如果你在箭头函数中使用了this，那么该this指向外层的this</li><li>因为箭头函数中没有this,我们也就无从谈起用call/apply/bind来改变this指向。</li><li>箭头函数没有arguments</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// 我们试图用ES6的写法来重构上面的对象</span></span><br><span class="line"><span class="keyword">const</span> person = &#123;</span><br><span class="line">    name: <span class="string">'tom'</span>,</span><br><span class="line">    getName: <span class="function"><span class="params">()</span> =&gt;</span> <span class="keyword">this</span>.name</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 但是编译结果却是</span></span><br><span class="line"><span class="keyword">var</span> person = &#123;</span><br><span class="line">    name: <span class="string">'tom'</span>,</span><br><span class="line">    getName: <span class="function"><span class="keyword">function</span> <span class="title">getName</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">undefined</span>.name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="三、模板字符串"><a href="#三、模板字符串" class="headerlink" title="三、模板字符串"></a>三、模板字符串</h2><blockquote><p>简介：</p></blockquote><p>模板字符串是为了解决使用+号拼接字符串的不便利而出现的。<br>它的功能非常强大，但是我们大多数时候使用它则非常简单。</p><blockquote><p>使用：</p></blockquote><p>使用 `…` 将整个字符串包裹起来，而在其中使用 ${} 来包裹一个变量或者一个表达式。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="keyword">var</span> a = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">let</span> b = <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">const</span> c = <span class="number">3</span>;</span><br><span class="line">    <span class="keyword">let</span> str = <span class="string">`<span class="subst">$&#123;a+b+c&#125;</span>`</span></span><br><span class="line">    <span class="built_in">console</span>.log(str) <span class="comment">//6</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="四、-解析结构"><a href="#四、-解析结构" class="headerlink" title="四、 解析结构"></a>四、 解析结构</h2><blockquote><p>简介：</p></blockquote><p>解析结构是一种全新的赋值方式<br>如果解构不成功，变量的值就等于undefined。</p><blockquote><p>数组中解构赋值：</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> [a, b, c] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="keyword">let</span> [ , , c] = [<span class="string">'foo'</span>, <span class="string">'bar'</span>, <span class="string">'baz'</span>];</span><br><span class="line">c <span class="comment">//'baz'</span></span><br><span class="line"><span class="keyword">let</span> [a, ...b] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];</span><br><span class="line">a <span class="comment">//1,</span></span><br><span class="line">b <span class="comment">// [2,3,,4]</span></span><br></pre></td></tr></table></figure><blockquote><p>对象中的解构赋值：</p></blockquote><p>数组的元素是按次序排列的，变量的取值由它的位置决定；<br>而对象的属性没有次序，变量必须与属性同名，才能取到正确的值</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> &#123; foo, bar &#125; = &#123; <span class="attr">foo</span>: <span class="string">"aaa"</span>, <span class="attr">bar</span>: <span class="string">"bbb"</span> &#125;;</span><br><span class="line"><span class="keyword">let</span> &#123; baz &#125; = &#123; <span class="attr">foo</span>: <span class="string">"aaa"</span>, <span class="attr">bar</span>: <span class="string">"bbb"</span> &#125;;</span><br><span class="line"><span class="keyword">var</span> &#123; <span class="attr">foo</span>: baz &#125; = &#123; <span class="attr">foo</span>: <span class="string">'aaa'</span>, <span class="attr">bar</span>: <span class="string">'bbb'</span> &#125;;</span><br><span class="line">baz <span class="comment">// "aaa"</span></span><br><span class="line"><span class="comment">//对象的解构赋值是下面形式的简写</span></span><br><span class="line"><span class="keyword">let</span> &#123; <span class="attr">foo</span>: foo, <span class="attr">bar</span>: bar &#125; = &#123; <span class="attr">foo</span>: <span class="string">"aaa"</span>, <span class="attr">bar</span>: <span class="string">"bbb"</span> &#125;;</span><br></pre></td></tr></table></figure><blockquote><p>字符串的解构赋值：</p></blockquote><p>字符串也可以解构赋值。这是因为此时，字符串被转换成了一个类似数组的对象。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">const</span> [a, b, c, d, e] = <span class="string">'hello'</span>;</span><br><span class="line">    a <span class="comment">//'h'</span></span><br><span class="line">    b <span class="comment">//'e'</span></span><br><span class="line">    ...</span><br><span class="line"><span class="keyword">let</span> &#123;<span class="attr">length</span> : len&#125; = <span class="string">'hello'</span>;</span><br><span class="line">    len <span class="comment">// 5</span></span><br></pre></td></tr></table></figure><blockquote><p>数值和布尔值的解构赋值</p></blockquote><p>解构赋值时，如果等号右边是数值和布尔值，则会先转为对象。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> &#123;<span class="attr">toString</span>: s&#125; = <span class="number">123</span>;</span><br><span class="line">s === <span class="built_in">Number</span>.prototype.toString <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> &#123;<span class="attr">toString</span>: s&#125; = <span class="literal">true</span>;</span><br><span class="line">s === <span class="built_in">Boolean</span>.prototype.toString <span class="comment">// true</span></span><br></pre></td></tr></table></figure><blockquote><p>函数参数的解构赋值</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[[<span class="number">1</span>, <span class="number">2</span>], [<span class="number">3</span>, <span class="number">4</span>]].map(<span class="function">(<span class="params">[a, b]</span>) =&gt;</span> a + b);</span><br><span class="line"><span class="comment">// [ 3, 7 ]</span></span><br></pre></td></tr></table></figure><h2 id="五、-函数默认参数"><a href="#五、-函数默认参数" class="headerlink" title="五、 函数默认参数"></a>五、 函数默认参数</h2><blockquote><p>简介：</p></blockquote><p>在实际开发中给参数添加适当的默认值，<br>可以让我们对函数的参数类型有一个直观的认知。<br>如果函数设置了默认参数，内部不能使用<strong>严格模式</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ES6之前使用：</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">x, y</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> x = x || <span class="number">20</span>;</span><br><span class="line">    <span class="keyword">var</span> y = y || <span class="number">30</span>;</span><br><span class="line">    <span class="keyword">return</span> x + y;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(add()); <span class="comment">// 50</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//ES6 的方式：</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">x = <span class="number">20</span>, y = <span class="number">30</span></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x + y;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(add()); <span class="comment">// 50</span></span><br></pre></td></tr></table></figure><h2 id="Set和Map集合"><a href="#Set和Map集合" class="headerlink" title="Set和Map集合"></a>Set和Map集合</h2><h3 id="Set"><a href="#Set" class="headerlink" title="Set"></a>Set</h3><p>ES6 提供了新的数据结构 Set。它类似于数组，但是成员的值都是唯一的，没有重复的值。<br><strong>Set 函数可以接受一个具有 iterable 接口的其他数据结构</strong>  </p><ul><li><p>add(value)：添加某个值，返回 Set 结构本身。</p></li><li><p>delete(value)：删除某个值，返回一个布尔值，表示删除是否成功。</p></li><li><p>has(value)：返回一个布尔值，表示该值是否为Set的成员。</p></li><li><p>clear()：清除所有成员，没有返回值。</p></li><li><p>size：返回Set实例的成员总数。  </p></li><li><p>keys()：返回键名的遍历器</p></li><li><p>values()：返回键值的遍历器</p></li><li><p>entries()：返回键值对的遍历器</p></li><li><p>forEach()：使用回调函数遍历每个成员</p></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 例一 set转数组</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">set</span> = new Set([1, 2, 3, 4, 4]);</span><br><span class="line">[...<span class="keyword">set</span>] </span><br><span class="line">// 或</span><br><span class="line">Array.from(<span class="keyword">set</span>)</span><br><span class="line">// [1, 2, 3, 4]</span><br><span class="line"></span><br><span class="line">// 例二 </span><br><span class="line">const items = new Set([1, 2, 3, 4, 5, 5, 5, 5]);</span><br><span class="line">items.size // 5</span><br><span class="line"></span><br><span class="line">// 例三</span><br><span class="line">const <span class="keyword">set</span> = new Set(document.querySelectorAll('div'));</span><br><span class="line"><span class="keyword">set</span>.size // 56</span><br><span class="line"></span><br><span class="line">// 类似于</span><br><span class="line">const <span class="keyword">set</span> = new Set();</span><br><span class="line">document</span><br><span class="line"> .querySelectorAll('div')</span><br><span class="line"> .forEach(div =&gt; <span class="keyword">set</span>.add(div));</span><br><span class="line"><span class="keyword">set</span>.size // 56</span><br></pre></td></tr></table></figure><p>不会发生类型转换，所以5和”5”是两个不同的值,使用的算法叫做“Same-value-zero equality”，它类似于精确相等运算符（===），主要的区别是NaN等于自身，而精确相等运算符认为NaN不等于自身。<br>Object.is()方法判断类似  </p><p>如果想在遍历操作中，同步改变原来的 Set 结构，  </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 方法一</span></span><br><span class="line"><span class="keyword">let</span> <span class="keyword">set</span> = new Set([1, 2, 3]);</span><br><span class="line"><span class="keyword">set</span> = new Set([...<span class="keyword">set</span>].map(val =&gt; val * 2));</span><br><span class="line">// <span class="keyword">set</span>的值是2, 4, 6</span><br><span class="line"></span><br><span class="line">// 方法二</span><br><span class="line">let <span class="keyword">set</span> = new Set([1, 2, 3]);</span><br><span class="line"><span class="keyword">set</span> = new Set(Array.from(<span class="keyword">set</span>, val =&gt; val * 2));</span><br><span class="line">// <span class="keyword">set</span>的值是2, 4, 6</span><br></pre></td></tr></table></figure><h3 id="Map"><a href="#Map" class="headerlink" title="Map"></a>Map</h3><p>JavaScript 的对象（Object）上只能用字符串当作键。这给它的使用带来了很大的限制。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;&#125;</span><br><span class="line"><span class="keyword">const</span> element = <span class="built_in">document</span>.getElementById(<span class="string">'myDiv'</span>); <span class="comment">// 这是一个对象</span></span><br><span class="line">data[element] = <span class="string">'hello'</span>; <span class="comment">// element调用toString()转换为字符串得到[object HTMLDivElement]</span></span><br><span class="line">data[<span class="string">'[object HTMLDivElement]'</span>] <span class="comment">// "metadata"</span></span><br></pre></td></tr></table></figure><p>由于对象只接受字符串作为键名，所以element被自动转为字符串[object HTMLDivElement]。 </p><p><strong>ES6 提供了 Map 数据结构。它类似于对象，也是键值对的集合，但是“键”的范围不限于字符串，各种类型的值（包括对象）都可以当作键。</strong><br>如果你需要“键值对”的数据结构，Map 比 Object 更合适。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> m = <span class="keyword">new</span> <span class="built_in">Map</span>();</span><br><span class="line"><span class="keyword">const</span> o = &#123;<span class="attr">p</span>: <span class="string">'Hello World'</span>&#125;;</span><br><span class="line"></span><br><span class="line">m.set(o, <span class="string">'content'</span>)</span><br><span class="line">m.get(o) <span class="comment">// "content"</span></span><br><span class="line"></span><br><span class="line">m.has(o) <span class="comment">// true</span></span><br><span class="line">m.delete(o) <span class="comment">// true</span></span><br><span class="line">m.has(o) <span class="comment">// false</span></span><br></pre></td></tr></table></figure><p><strong>任何具有 Iterator 接口、且每个成员都是一个双元素的数组的数据结构,都可以当作Map构造函数的参数。</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> map = <span class="keyword">new</span> <span class="built_in">Map</span>([</span><br><span class="line">  [<span class="string">'name'</span>, <span class="string">'张三'</span>],</span><br><span class="line">  [<span class="string">'title'</span>, <span class="string">'Author'</span>]</span><br><span class="line">]);</span><br><span class="line"></span><br><span class="line">map.size <span class="comment">// 2</span></span><br><span class="line">map.has(<span class="string">'name'</span>) <span class="comment">// true</span></span><br><span class="line">map.get(<span class="string">'name'</span>) <span class="comment">// "张三"</span></span><br><span class="line">map.has(<span class="string">'title'</span>) <span class="comment">// true</span></span><br><span class="line">map.get(<span class="string">'title'</span>) <span class="comment">// "Author"</span></span><br></pre></td></tr></table></figure><p><strong>map实例属性</strong>   </p><ul><li>set(key, val) 添加或修改键名key对应的键值为value</li><li>get(key) 读取key对应的键值，如果找不到key，返回undefined</li><li>size 返回 Map 结构的成员总数</li><li>has(key) 返回一个布尔值，表示某个键是否在当前 Map 对象之中</li><li>delete(key) delete方法删除某个键，返回true。如果删除失败，返回false。</li><li>clear() 清除所有成员，没有返回值</li></ul><p><strong>遍历方法</strong><br>需要特别注意的是，Map 的遍历顺序就是插入顺序。  </p><ul><li>keys()：返回键名的遍历器。</li><li>values()：返回键值的遍历器。</li><li>entries()：返回所有成员的遍历器。</li><li>forEach()：遍历 Map 的所有成员。 </li><li>for…of</li></ul><p><strong>Map结构转为数组结构，使用扩展运算符（…）</strong>  </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> map = <span class="keyword">new</span> <span class="built_in">Map</span>([</span><br><span class="line">  [<span class="number">1</span>, <span class="string">'one'</span>],</span><br><span class="line">  [<span class="number">2</span>, <span class="string">'two'</span>],</span><br><span class="line">  [<span class="number">3</span>, <span class="string">'three'</span>],</span><br><span class="line">]);</span><br><span class="line"></span><br><span class="line">[...map.keys()]</span><br><span class="line"><span class="comment">// [1, 2, 3]</span></span><br><span class="line"></span><br><span class="line">[...map.values()]</span><br><span class="line"><span class="comment">// ['one', 'two', 'three']</span></span><br><span class="line"></span><br><span class="line">[...map.entries()]</span><br><span class="line"><span class="comment">// [[1,'one'], [2, 'two'], [3, 'three']]</span></span><br><span class="line"></span><br><span class="line">[...map]</span><br><span class="line"><span class="comment">// [[1,'one'], [2, 'two'], [3, 'three']]</span></span><br></pre></td></tr></table></figure><p>结合数组的map方法、filter方法，可以实现 Map 的遍历和过滤（Map 本身没有map和filter方法）。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> map0 = <span class="keyword">new</span> <span class="built_in">Map</span>()</span><br><span class="line">  .set(<span class="number">1</span>, <span class="string">'a'</span>)</span><br><span class="line">  .set(<span class="number">2</span>, <span class="string">'b'</span>)</span><br><span class="line">  .set(<span class="number">3</span>, <span class="string">'c'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> map1 = <span class="keyword">new</span> <span class="built_in">Map</span>(</span><br><span class="line">  [...map0].filter(<span class="function">(<span class="params">[k, v]</span>) =&gt;</span> k &lt; <span class="number">3</span>)</span><br><span class="line">);</span><br><span class="line"><span class="comment">// 产生 Map 结构 &#123;1 =&gt; 'a', 2 =&gt; 'b'&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> map2 = <span class="keyword">new</span> <span class="built_in">Map</span>(</span><br><span class="line">  [...map0].map(<span class="function">(<span class="params">[k, v]</span>) =&gt;</span> [k * <span class="number">2</span>, <span class="string">'_'</span> + v])</span><br><span class="line">    );</span><br><span class="line"><span class="comment">// 产生 Map 结构 &#123;2 =&gt; '_a', 4 =&gt; '_b', 6 =&gt; '_c'&#125;</span></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Map 转为数组</span></span><br><span class="line"><span class="keyword">const</span> myMap = <span class="keyword">new</span> <span class="built_in">Map</span>()</span><br><span class="line">  .set(<span class="literal">true</span>, <span class="number">7</span>)</span><br><span class="line">  .set(&#123;<span class="attr">foo</span>: <span class="number">3</span>&#125;, [<span class="string">'abc'</span>]);</span><br><span class="line">[...myMap]</span><br><span class="line"><span class="comment">// [ [ true, 7 ], [ &#123; foo: 3 &#125;, [ 'abc' ] ] ]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 数组 转为 Map</span></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Map</span>([</span><br><span class="line">  [<span class="literal">true</span>, <span class="number">7</span>],</span><br><span class="line">  [&#123;<span class="attr">foo</span>: <span class="number">3</span>&#125;, [<span class="string">'abc'</span>]]</span><br><span class="line">])</span><br><span class="line"><span class="comment">// Map &#123;</span></span><br><span class="line"><span class="comment">//   true =&gt; 7,</span></span><br><span class="line"><span class="comment">//   Object &#123;foo: 3&#125; =&gt; ['abc']</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Map 转为对象</span></span><br><span class="line"><span class="comment">// 如果所有 Map 的键都是字符串，它可以无损地转为对象</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">strMapToObj</span>(<span class="params">strMap</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> obj = <span class="built_in">Object</span>.create(<span class="literal">null</span>);</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> [k,v] <span class="keyword">of</span> strMap) &#123;</span><br><span class="line">    obj[k] = v;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> obj;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> myMap = <span class="keyword">new</span> <span class="built_in">Map</span>()</span><br><span class="line">  .set(<span class="string">'yes'</span>, <span class="literal">true</span>)</span><br><span class="line">  .set(<span class="string">'no'</span>, <span class="literal">false</span>);</span><br><span class="line">strMapToObj(myMap)</span><br><span class="line"><span class="comment">// &#123; yes: true, no: false &#125;</span></span><br><span class="line"><span class="comment">// 如果有非字符串的键名，那么这个键名会被转成字符串，再作为对象的键名。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 对象转为 Map</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">objToStrMap</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> strMap = <span class="keyword">new</span> <span class="built_in">Map</span>();</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> k <span class="keyword">of</span> <span class="built_in">Object</span>.keys(obj)) &#123;</span><br><span class="line">    strMap.set(k, obj[k]);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> strMap;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">objToStrMap(&#123;<span class="attr">yes</span>: <span class="literal">true</span>, <span class="attr">no</span>: <span class="literal">false</span>&#125;)</span><br><span class="line"><span class="comment">// Map &#123;"yes" =&gt; true, "no" =&gt; false&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Map 转为 JSON</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">strMapToJson</span>(<span class="params">strMap</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">JSON</span>.stringify(strMapToObj(strMap));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> myMap = <span class="keyword">new</span> <span class="built_in">Map</span>().set(<span class="string">'yes'</span>, <span class="literal">true</span>).set(<span class="string">'no'</span>, <span class="literal">false</span>);</span><br><span class="line">strMapToJson(myMap)</span><br><span class="line"><span class="comment">// '&#123;"yes":true,"no":false&#125;'</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">mapToArrayJson</span>(<span class="params">map</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">JSON</span>.stringify([...map]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> myMap = <span class="keyword">new</span> <span class="built_in">Map</span>().set(<span class="literal">true</span>, <span class="number">7</span>).set(&#123;<span class="attr">foo</span>: <span class="number">3</span>&#125;, [<span class="string">'abc'</span>]);</span><br><span class="line">mapToArrayJson(myMap)</span><br><span class="line"><span class="comment">// '[[true,7],[&#123;"foo":3&#125;,["abc"]]]'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// JSON 转为 Map</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">jsonToStrMap</span>(<span class="params">jsonStr</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> objToStrMap(<span class="built_in">JSON</span>.parse(jsonStr));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">jsonToStrMap(<span class="string">'&#123;"yes": true, "no": false&#125;'</span>)</span><br><span class="line"><span class="comment">// Map &#123;'yes' =&gt; true, 'no' =&gt; false&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">jsonToMap</span>(<span class="params">jsonStr</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Map</span>(<span class="built_in">JSON</span>.parse(jsonStr));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">jsonToMap(<span class="string">'[[true,7],[&#123;"foo":3&#125;,["abc"]]]'</span>)</span><br><span class="line"><span class="comment">// Map &#123;true =&gt; 7, Object &#123;foo: 3&#125; =&gt; ['abc']&#125;</span></span><br></pre></td></tr></table></figure><h2 id="Iterator和for…of"><a href="#Iterator和for…of" class="headerlink" title="Iterator和for…of"></a>Iterator和for…of</h2><blockquote></blockquote><p><strong>ES6 规定，默认的 Iterator 接口部署在数据结构的Symbol.iterator属性，或者说，一个数据结构只要具有Symbol.iterator属性，就可以认为是“可遍历的”（iterable）。</strong><br>Symbol.iterator属性本身是一个函数，就是当前数据结构默认的遍历器生成函数。执行这个函数，就会返回一个遍历器。至于属性名Symbol.iterator，它是一个表达式，返回Symbol对象的iterator属性，这是一个预定义好的、类型为 Symbol 的特殊值，所以要放在方括号内</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  [<span class="built_in">Symbol</span>.iterator] : <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      next: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">          value: <span class="number">1</span>,</span><br><span class="line">          done: <span class="literal">true</span></span><br><span class="line">        &#125;;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><ul><li>Iterable 可迭代对象</li><li>Iterator 迭代器对象</li><li>Generator 生成器对象</li></ul><p>ES6 的有些数据结构原生具备 <strong>Iterator</strong></p><ul><li>Array</li><li>Map</li><li>Set</li><li>String</li><li>TypedArray</li><li>函数的 arguments 对象</li><li>NodeList 对象</li></ul><p>接口（比如数组），即不用任何处理，就可以被for…of循环遍历。原因在于，这些数据结构原生部署了Symbol.iterator属性<br><strong>凡是部署了Symbol.iterator属性的数据结构，就称为部署了遍历器接口。调用这个接口，就会返回一个遍历器对象。</strong>  </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>];</span><br><span class="line"><span class="keyword">let</span> iter = arr[<span class="built_in">Symbol</span>.iterator](); <span class="comment">//等价于==&gt; let iter = arr.values();</span></span><br><span class="line"></span><br><span class="line">iter.next() <span class="comment">// &#123; value: 'a', done: false &#125;</span></span><br><span class="line">iter.next() <span class="comment">// &#123; value: 'b', done: false &#125;</span></span><br><span class="line">iter.next() <span class="comment">// &#123; value: 'c', done: false &#125;</span></span><br><span class="line">iter.next() <span class="comment">// &#123; value: undefined, done: true &#125;</span></span><br></pre></td></tr></table></figure><p>对象（Object）之所以没有默认部署 Iterator 接口，是因为对象的哪个属性先遍历，哪个属性后遍历是不确定的，需要开发者手动指定。本质上，遍历器是一种线性处理，对于任何非线性的数据结构，部署遍历器接口，就等于部署一种线性转换。不过，严格地说，对象部署遍历器接口并不是很必要，因为这时对象实际上被当作 Map 结构使用，ES5 没有 Map 结构，而 ES6 原生提供了。</p><h2 id="Generator生成器"><a href="#Generator生成器" class="headerlink" title="Generator生成器"></a>Generator生成器</h2><p>Generator 函数是一个遍历器对象生成函数。返回的遍历器对象，可以依次遍历 Generator 函数内部的每一个状态。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">helloWorldGenerator</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">yield</span> <span class="string">'hello'</span>;</span><br><span class="line">  <span class="keyword">yield</span> <span class="string">'world'</span>;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">'ending'</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> hw = helloWorldGenerator();</span><br><span class="line"></span><br><span class="line">hw.next()</span><br><span class="line"><span class="comment">// &#123; value: 'hello', done: false &#125; value表示的是值，done表示遍历是否结束</span></span><br><span class="line">hw.next()</span><br><span class="line"><span class="comment">// &#123; value: 'world', done: false &#125;</span></span><br><span class="line">hw.next()</span><br><span class="line"><span class="comment">// &#123; value: 'ending', done: true &#125;</span></span><br><span class="line">hw.next()</span><br><span class="line"><span class="comment">// &#123; value: undefined, done: true &#125;</span></span><br></pre></td></tr></table></figure><p><strong>调用 Generator 函数后，该函数并不执行，返回的也不是函数运行结果，而是一个指向内部状态的指针对象，也就是上一章介绍的遍历器对象（Iterator Object）</strong><br>generator的写法 ；</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> * <span class="title">foo</span>(<span class="params">x, y</span>) </span>&#123; ··· &#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> *<span class="title">foo</span>(<span class="params">x, y</span>) </span>&#123; ··· &#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">foo</span>(<span class="params">x, y</span>) </span>&#123; ··· &#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span>*<span class="title">foo</span>(<span class="params">x, y</span>) </span>&#123; ··· &#125;</span><br></pre></td></tr></table></figure><p><strong>yield表达式</strong>  </p><p>yield表达式就是暂停标志  </p><ol><li>遇到yield表达式，就暂停执行后面的操作，并将紧跟在yield后面的那个表达式的值，作为返回的对象的value属性值。</li><li>下一次调用next方法时，再继续往下执行，直到遇到下一个yield表达式</li><li>如果没有再遇到新的yield表达式，就一直运行到函数结束或遇到return 的值作为value的返回值</li><li>如果该函数没有return语句，则返回的对象的value属性值为undefined。</li></ol><blockquote><p>yield表达式后面的表达式，只有当调用next方法、内部指针指向该语句时才会执行<br>yield 可以调用多次，return只能调用一次<br>yield表达式只能用在 Generator 函数里面，用在其他地方都会报错。</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">gen</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">yield</span>  <span class="number">123</span> + <span class="number">456</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// yield后面的表达式123 + 456，不会立即求值，只会在next方法将指针移到这一句时，才会求值。</span></span><br></pre></td></tr></table></figure><h2 id="六、-展开运算符"><a href="#六、-展开运算符" class="headerlink" title="六、 展开运算符"></a>六、 展开运算符</h2><blockquote><p>简介：</p></blockquote><p>在ES6中用<code>...</code>来表示展开运算符，它可以将数组方法或者对象进行展开。<br><strong>扩展运算符（…）内部使用for…of循环</strong></p><blockquote><p>数组的展开运算符</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="keyword">const</span> arr2 = [...arr1, <span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>];</span><br><span class="line"><span class="comment">// 这样，arr2 就变成了[1, 2, 3, 10, 20, 30];</span></span><br></pre></td></tr></table></figure><blockquote><p>对象的展开运算符</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj1 = &#123;</span><br><span class="line">    a: <span class="number">1</span>,</span><br><span class="line">    b: <span class="number">2</span>,</span><br><span class="line">    c: <span class="number">3</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> obj2 = &#123;</span><br><span class="line">    ...obj1,</span><br><span class="line">    d: <span class="number">4</span>,</span><br><span class="line">    e: <span class="number">5</span>,</span><br><span class="line">    a: <span class="number">88</span></span><br><span class="line">&#125;</span><br><span class="line">结果类似于 <span class="keyword">let</span> obj2 = <span class="built_in">Object</span>.assign(&#123;&#125;, obj1, &#123;<span class="attr">d</span>: <span class="number">4</span>&#125;)</span><br><span class="line"><span class="keyword">const</span> props = &#123;</span><br><span class="line">  size: <span class="number">1</span>,</span><br><span class="line">  src: <span class="string">'xxxx'</span>,</span><br><span class="line">  mode: <span class="string">'si'</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> &#123; size, ...others &#125; = props;</span><br><span class="line"><span class="built_in">console</span>.log(others)</span><br><span class="line"></span><br><span class="line">展开运算符还用在函数的参数中，来表示函数的不定参。</span><br><span class="line">只有放在最后才能作为函数的不定参，否则会报错。</span><br><span class="line"></span><br><span class="line"><span class="comment">// 所有参数之和</span></span><br><span class="line"><span class="keyword">const</span> add = <span class="function">(<span class="params">a, b, ...more</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> more.reduce(<span class="function">(<span class="params">m, n</span>) =&gt;</span> m + n) + a + b</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(add(<span class="number">1</span>, <span class="number">23</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>)) <span class="comment">// 39</span></span><br></pre></td></tr></table></figure><h2 id="七、对象字面量-与-class"><a href="#七、对象字面量-与-class" class="headerlink" title="七、对象字面量 与 class"></a>七、对象字面量 与 class</h2><blockquote><p>简介：</p></blockquote><p> ES6 提供了更接近传统语言的写法，引入了 Class（类）这个概念，作为对象的模板。通过class关键字，可以定义类。</p><h3 id="对象字面量："><a href="#对象字面量：" class="headerlink" title="对象字面量："></a>对象字面量：</h3><ul><li>当属性与值的变量同名时：</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> name = <span class="string">'Jane'</span>;</span><br><span class="line"><span class="keyword">const</span> age = <span class="number">20</span></span><br><span class="line"><span class="comment">// es6</span></span><br><span class="line"><span class="keyword">const</span> person = &#123;</span><br><span class="line">  name,</span><br><span class="line">  age</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// es5</span></span><br><span class="line"><span class="keyword">var</span> person = &#123;</span><br><span class="line">  name: name,</span><br><span class="line">  age: age</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><ul><li>当属性是函数：</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">const</span> person = &#123;</span><br><span class="line">  name,</span><br><span class="line">  age,</span><br><span class="line">  getName() &#123; <span class="comment">// 只要不使用箭头函数，this就还是我们熟悉的this</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.name</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>计算属性:</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 在对象字面量中可以使用中括号作为属性，表示属性也能是一个变量了</span></span><br><span class="line"><span class="keyword">let</span> name = <span class="string">"isName"</span>;</span><br><span class="line"><span class="keyword">let</span> age = <span class="string">"isAge"</span>;</span><br><span class="line"><span class="keyword">const</span> person = &#123;</span><br><span class="line">  [name]: <span class="literal">true</span>,</span><br><span class="line">  [age]: <span class="literal">true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="class-创建对象"><a href="#class-创建对象" class="headerlink" title="class 创建对象"></a>class 创建对象</h3><blockquote><p>例子：</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(name, age) &#123;  <span class="comment">// 构造函数</span></span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">    <span class="keyword">this</span>.age = age;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  getName() &#123;   <span class="comment">// 这种写法表示将方法添加到原型中</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.name</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">static</span> a = <span class="number">20</span>;  <span class="comment">// 等同于 Person.a = 20</span></span><br><span class="line">  c = <span class="number">20</span>;   <span class="comment">// 表示在构造函数中添加属性 在构造函数中等同于 this.c = 20</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>继承 extends</p></blockquote><p>在继承的构造函数中，我们必须如上面的例子那么调用一次super方法，<br>它表示构造函数的继承，与ES5中利用call/apply继承构造函数是一样的功能。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(name, age) &#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">    <span class="keyword">this</span>.age = age;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  getName() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.name</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Student类继承Person类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span> <span class="keyword">extends</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(name, age, gender, classes) &#123;</span><br><span class="line">    <span class="keyword">super</span>(name, age);</span><br><span class="line">    <span class="keyword">this</span>.gender = gender;</span><br><span class="line">    <span class="keyword">this</span>.classes = classes;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  getGender() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.gender;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="八、Promise"><a href="#八、Promise" class="headerlink" title="八、Promise"></a>八、Promise</h2><p><a href="/javaaScript基础三defered和promise对象">promise笔记</a></p><h2 id="九、-模块-Modules"><a href="#九、-模块-Modules" class="headerlink" title="九、 模块 Modules"></a>九、 模块 Modules</h2><blockquote><p>简介：<br>由于 ES6 模块是编译时加载，使得静态分析成为可能。有了它，就能进一步拓宽 JavaScript 的语法，比如引入宏（macro）和类型检验（type system）这些只能靠静态分析实现的功能。</p></blockquote><h3 id="export-用法"><a href="#export-用法" class="headerlink" title="export 用法"></a>export 用法</h3><p>export命令可以出现在模块的任何位置，只要处于模块顶层就可以。<br>如果处于块级作用域内，就会报错<br>export命令用于规定模块的对外接口<br>可以使用as重命名</p><blockquote><p>例如：</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 写法一</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">var</span> m = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 写法二</span></span><br><span class="line"><span class="keyword">var</span> m = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">export</span> &#123;m&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 写法三</span></span><br><span class="line"><span class="keyword">var</span> n = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">export</span> &#123;n <span class="keyword">as</span> m&#125;;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="string">'./test.js'</span></span><br><span class="line"><span class="keyword">let</span> a = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">let</span> f = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;;</span><br><span class="line"><span class="keyword">let</span> o = &#123;<span class="attr">n</span>:<span class="number">1</span>&#125;;</span><br><span class="line"><span class="keyword">let</span> d = <span class="string">"default"</span>;</span><br><span class="line"><span class="keyword">export</span> &#123;</span><br><span class="line">    a,</span><br><span class="line">    f <span class="keyword">as</span> fun,</span><br><span class="line">    o</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 还可以默认</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> d;</span><br></pre></td></tr></table></figure><h3 id="import-用法："><a href="#import-用法：" class="headerlink" title="import 用法："></a>import 用法：</h3><p>import命令用于输入其他模块提供的功能<br><strong>大括号里面的变量名，必须与被导入模块（profile.js）对外接口的名称相同。</strong><br>import命令具有提升效果，会提升到整个模块的头部，首先执行。import命令是编译阶段执行的，在代码运行之前。</p><blockquote><p>例如：</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> d,&#123;a <span class="keyword">as</span> aa, fun, o&#125; <span class="keyword">from</span> <span class="string">'./test'</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">setName</span>(<span class="params">element</span>) </span>&#123;</span><br><span class="line">element.textContent = firstName + <span class="string">' '</span> + lastName;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>import命令要使用as关键字，将输入的变量重命名。</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> d,&#123;a <span class="keyword">as</span> aa&#125; <span class="keyword">from</span> <span class="string">'./test'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(aa) <span class="comment">// 1</span></span><br></pre></td></tr></table></figure><blockquote><p>import命令输入的变量都是只读的,如果变量是对象是可以改变其属性的<br>建议凡是输入的变量，都当作完全只读，轻易不要改变它的属性。</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;o&#125; <span class="keyword">from</span> <span class="string">'./xxx.js'</span></span><br><span class="line">o = &#123;&#125;; <span class="comment">// Syntax Error : 'a' is read-only;</span></span><br><span class="line">o.n = <span class="number">2</span>; <span class="comment">// 合法操作</span></span><br></pre></td></tr></table></figure><blockquote><p>由于import是静态执行，所以不能使用表达式和变量，这些只有在运行时才能得到结果的语法结构。</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 报错</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="string">'f'</span> + <span class="string">'oo'</span> &#125; <span class="keyword">from</span> <span class="string">'my_module'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 报错</span></span><br><span class="line"><span class="keyword">let</span> <span class="built_in">module</span> = <span class="string">'my_module'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; foo &#125; <span class="keyword">from</span> <span class="built_in">module</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 报错</span></span><br><span class="line"><span class="keyword">if</span> (x === <span class="number">1</span>) &#123;</span><br><span class="line">  <span class="keyword">import</span> &#123; foo &#125; <span class="keyword">from</span> <span class="string">'module1'</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  <span class="keyword">import</span> &#123; foo &#125; <span class="keyword">from</span> <span class="string">'module2'</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote></blockquote><p>仅仅执行lodash模块，但是不输入任何值。<br>如果多次重复执行同一句import语句，那么只会执行一次</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">'lodash'</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">'lodash'</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">'lodash'</span>;</span><br><span class="line"><span class="comment">// 只执行一次</span></span><br></pre></td></tr></table></figure><blockquote><p>导入所有变量并命名：</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> circle <span class="keyword">from</span> <span class="string">'./test'</span>;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
            <tag> ES6 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>sass的使用笔记</title>
      <link href="/sass%E7%9A%84%E4%BD%BF%E7%94%A8%E7%AC%94%E8%AE%B0/"/>
      <url>/sass%E7%9A%84%E4%BD%BF%E7%94%A8%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<h2 id="安装sass"><a href="#安装sass" class="headerlink" title="安装sass"></a>安装sass</h2><p>sass基于Ruby语言开发而成，sass依赖于ruby环境,因此安装sass前需要安装Ruby。<br>先到官网下载个<a href="https://rubyinstaller.org/downloads/" target="_blank" rel="noopener">ruby</a><br>在安装的时候，请勾选Add Ruby executables to your PATH这个选项，添加环境变量，不然以后使用编译软件的时候会提示找不到ruby环境</p><p><img src="https://www.sass.hk/images/2015-08-04_55c05d4ed0a05.png" alt="Alt text"></p><a id="more"></a><p>安装完成后需测试安装有没有成功,运行CMD输入以下命令：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> ruby -v</span></span><br></pre></td></tr></table></figure><p>//如安装成功会打印<br>ruby 2.2.2p95 (2015-04-13 revision 50295) [i386-mingw32]<br>但因为国内网络的问题导致gem源间歇性中断因此我们需要更换gem源。（使用淘宝的gem源<a href="https://ruby.taobao.org/）如下：" target="_blank" rel="noopener">https://ruby.taobao.org/）如下：</a></p><p>//1.删除原gem源</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> gem sources --remove https://rubygems.org/</span></span><br></pre></td></tr></table></figure><p>//2.添加国内淘宝源</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> gem sources -a https://ruby.taobao.org/</span></span><br></pre></td></tr></table></figure><p>//3.打印是否替换成功</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> gem sources -l</span></span><br></pre></td></tr></table></figure><p>//4.更换成功后打印如下</p><p><strong>* CURRENT SOURCES *</strong><br><a href="https://ruby.taobao.org/" target="_blank" rel="noopener">https://ruby.taobao.org/</a></p><p>Ruby自带一个叫做RubyGems的系统，用来安装基于Ruby的软件。我们可以使用这个系统来 轻松地安装Sass和Compass。要安装最新版本的Sass和Compass，你需要输入下面的命令：</p><p>//安装如下(如mac安装遇到权限问题需加 sudo gem install sass)</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> gem install sass</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> gem install compass</span></span><br></pre></td></tr></table></figure><p>如果要安装beta版本的，可以在命令行中输入</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> gem install sass --pre</span></span><br></pre></td></tr></table></figure><p>如下sass常用更新、查看版本、sass命令帮助等命令：<br>/更新sass</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> gem update sass</span></span><br></pre></td></tr></table></figure><p>//查看sass版本</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> sass -v</span></span><br></pre></td></tr></table></figure><p>//查看sass帮助</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> sass -h</span></span><br></pre></td></tr></table></figure><h2 id="编译sass"><a href="#编译sass" class="headerlink" title="编译sass"></a>编译sass</h2><p>ass编译有很多种方式，如命<code>令行编译模式</code>、<code>sublime插件SASS-Build</code>、编译软件<a href="http://koala-app.com/index-zh.html" target="_blank" rel="noopener">koala</a>、前端自动化软件codekit、Grunt打造前端自动化工作流<code>grunt-sass</code>、Gulp打造前端自动化工作流<code>gulp-ruby-sass</code>等</p><h3 id="命令行编译"><a href="#命令行编译" class="headerlink" title="命令行编译"></a>命令行编译</h3><blockquote></blockquote><p>单文件转换命令<br>sass style.scss style.css<br>单文件监听命令<br>sass –watch style.scss:style.css<br>文件夹监听命令<br>sass –watch sassFileDirectory:cssFileDirectory<br>css文件转成sass/scss文件（在线转换工具css2sass）<br>sass-convert style.css style.sass<br>sass-convert style.css style.scss</p><blockquote></blockquote><p>命令行其他配置选项<br>运行命令行帮助文档，可以获得所有的配置选项<br>sass -h<br>我们一般常用的有–style，–sourcemap，–debug-info等。<br>sass –watch style.scss:style.css –style compact<br>sass –watch style.scss:style.css –sourcemap<br>sass –watch style.scss:style.css –style expanded –sourcemap<br>sass –watch style.scss:style.css –debug-info<br>–style表示解析后的css是什么格式，有四种取值分别为：nested，expanded，compact，compressed。<br>–sourcemap表示开启sourcemap调试。开启sourcemap调试后，会生成一个后缀名为.css.map文件。<br>–debug-info表示开启debug信息，升级到3.3.0之后因为sourcemap更高级，这个debug-info就不太用了。<br>四种style生成后的css</p><h3 id="koala编译"><a href="#koala编译" class="headerlink" title="koala编译"></a>koala编译</h3><p><img src="https://www.w3cplus.com/sassguide/images/koala-setting.jpg" alt="Alt text"></p><h3 id="在线编译"><a href="#在线编译" class="headerlink" title="在线编译"></a>在线编译</h3><p><a href="https://www.sass.hk/css2sass/" target="_blank" rel="noopener">https://www.sass.hk/css2sass/</a><br>开启调试<br><img src="https://www.w3cplus.com/sassguide/images/koala-setting.jpg" alt="Alt text"></p><h3 id="node-sass"><a href="#node-sass" class="headerlink" title="node-sass"></a>node-sass</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">npm install -g mirror-config-china --registry = http://registry.npm.taobao.org <span class="comment"># 从中国的镜子安装</span></span><br><span class="line">npm install node-sass</span><br><span class="line"><span class="comment"># 编译命令</span></span><br><span class="line">node-sass -o  ./ --output-style expanded --indent-type space ./ --<span class="built_in">source</span>-map <span class="literal">true</span> --<span class="built_in">source</span>-comments ./</span><br><span class="line"></span><br><span class="line">nested：嵌套缩进的css代码，它是默认值。</span><br><span class="line">expanded：没有缩进的、扩展的css代码。</span><br><span class="line">compact：简洁格式的css代码。</span><br><span class="line">compressed：压缩后的css代码。</span><br><span class="line">--<span class="built_in">source</span>-map <span class="literal">true</span> --<span class="built_in">source</span>-comments 在输出中包含调试信息</span><br><span class="line">-w 监听 -r 递归 -o 输出</span><br></pre></td></tr></table></figure><h3 id="dart-sass"><a href="#dart-sass" class="headerlink" title="dart-sass"></a>dart-sass</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i install dart-sass -g</span><br></pre></td></tr></table></figure><h2 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h2><h3 id="文件后缀名"><a href="#文件后缀名" class="headerlink" title="文件后缀名"></a>文件后缀名</h3><p>sass有两种后缀名文件：一种后缀名为sass，不使用大括号和分号；另一种就是我们这里使用的scss文件，这种和我们平时写的css文件格式差不多，使用大括号和分号。而本教程中所说的所有sass文件都指后缀名为scss的文件。在此也建议使用后缀名为scss的文件，以避免sass后缀名的严格格式要求报错。</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//文件后缀名为sass的语法</span></span><br><span class="line"><span class="selector-tag">body</span></span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#eee</span></span><br><span class="line">  font-size:<span class="number">12px</span></span><br><span class="line">p</span><br><span class="line">  background: <span class="number">#0982c1</span></span><br><span class="line"></span><br><span class="line">//文件后缀名为scss的语法</span><br><span class="line">body &#123;</span><br><span class="line">  background:<span class="number">#eee</span>;</span><br><span class="line">  <span class="attribute">font-size</span>:<span class="number">12px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">p</span>&#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#0982c1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="导入"><a href="#导入" class="headerlink" title="导入"></a>导入</h3><p>sass的导入(@import)规则和CSS的有所不同，编译时会将@import的scss文件合并进来只生成一个CSS文件。但是如果你在sass文件中导入css文件如@import ‘reset.css’，那效果跟普通CSS导入样式文件一样，导入的css文件不会合并到编译后的文件中，而是以@import方式存在。<br>所有的sass导入文件都可以忽略后缀名.scss。一般来说基础的文件命名方法以_开头，如_mixin.scss。这种文件在导入的时候可以不写下划线，可写成@import “mixin”。<br>被导入sass文件a.scss：</p><h3 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h3><p>sass有两种注释方式，一种是标准的css注释方式/* */，另一种则是//双斜杆形式的单行注释，不过这种单行注释不会被转译出来。<br>标准的css注释</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">*我是css的标准注释</span></span><br><span class="line"><span class="comment">*设置body内距</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="selector-tag">body</span>&#123;</span><br><span class="line">  <span class="attribute">padding</span>:<span class="number">5px</span>;</span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"><span class="comment">//我是双斜杠表示的单行注释</span></span><br><span class="line"><span class="comment">//设置body内距</span></span><br><span class="line"><span class="selector-tag">body</span>&#123;</span><br><span class="line">  <span class="attribute">padding</span>:<span class="number">5px</span>; <span class="comment">//5px</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h3><p>sass的变量必须是$开头，后面紧跟变量名，而变量值和变量名之间就需要使用冒号(:)分隔开（就像CSS属性设置一样），如果值后面加上!default则表示默认值。</p><p>变量名规范：<br>sass的变量名可以与css中的属性名和选择器名称相同，包括中划线和下划线<br><code>$highlight-color</code>,<code>$highlight_color</code><br>使用中划线的方式更为普遍，这也是compass和本文都用的方式。</p><h4 id="普通变量"><a href="#普通变量" class="headerlink" title="普通变量"></a>普通变量</h4><p>定义之后可以在全局范围内使用。</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//sass style</span></span><br><span class="line"><span class="comment">//-------------------------------</span></span><br><span class="line"><span class="variable">$fontSize</span>: <span class="number">12px</span>;</span><br><span class="line"><span class="selector-tag">body</span>&#123;</span><br><span class="line">    <span class="attribute">font-size</span>:<span class="variable">$fontSize</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//css style</span></span><br><span class="line"><span class="comment">//-------------------------------</span></span><br><span class="line"><span class="selector-tag">body</span>&#123;</span><br><span class="line">    <span class="attribute">font-size</span>:<span class="number">12px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="默认变量"><a href="#默认变量" class="headerlink" title="默认变量"></a>默认变量</h4><p>sass的默认变量仅需要在值后面加上!default即可。</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//sass style</span></span><br><span class="line"><span class="comment">//-------------------------------</span></span><br><span class="line"><span class="variable">$baseLineHeight</span>:        <span class="number">1.5</span> !default;</span><br><span class="line"><span class="selector-tag">body</span>&#123;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="variable">$baseLineHeight</span>; </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//css style</span></span><br><span class="line"><span class="comment">//-------------------------------</span></span><br><span class="line"><span class="selector-tag">body</span>&#123;</span><br><span class="line">    <span class="attribute">line-height</span>:<span class="number">1.5</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>sass的默认变量一般是用来设置默认值，然后根据需求来覆盖的，覆盖的方式也很简单，只需要在默认变量之前重新声明下变量即可</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$baseLineHeight</span>:        <span class="number">2</span>;</span><br><span class="line"><span class="variable">$baseLineHeight</span>:        <span class="number">1.5</span> !default;</span><br></pre></td></tr></table></figure><h4 id="特殊变量"><a href="#特殊变量" class="headerlink" title="特殊变量"></a>特殊变量</h4><p>一般我们定义的变量都为属性值，可直接使用，但是如果变量作为属性或在某些特殊情况下等则必须要以#{$variables}形式使用。</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//sass style</span></span><br><span class="line"><span class="comment">//-------------------------------</span></span><br><span class="line"><span class="variable">$borderDirection</span>:       top !default; </span><br><span class="line"><span class="variable">$baseFontSize</span>:          <span class="number">12px</span> !default;</span><br><span class="line"><span class="variable">$baseLineHeight</span>:        <span class="number">1.5</span> !default;</span><br><span class="line"></span><br><span class="line"><span class="comment">//应用于class和属性</span></span><br><span class="line"><span class="selector-class">.border-</span>#&#123;<span class="variable">$borderDirection</span>&#125;&#123;</span><br><span class="line">  <span class="attribute">border</span>-#&#123;<span class="variable">$borderDirection</span>&#125;:<span class="number">1px</span> solid <span class="number">#ccc</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//应用于复杂的属性值</span></span><br><span class="line"><span class="selector-tag">body</span>&#123;</span><br><span class="line">    <span class="attribute">font</span>:#&#123;<span class="variable">$baseFontSize</span>&#125;/#&#123;<span class="variable">$baseLineHeight</span>&#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//css style</span></span><br><span class="line"><span class="comment">//-------------------------------</span></span><br><span class="line"><span class="selector-class">.border-top</span>&#123;</span><br><span class="line">  <span class="attribute">border-top</span>:<span class="number">1px</span> solid <span class="number">#ccc</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">font</span>: <span class="number">12px</span>/<span class="number">1.5</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="多值变量"><a href="#多值变量" class="headerlink" title="多值变量"></a>多值变量</h4><p>多值变量分为list类型和map类型，简单来说list类型有点像js中的数组，而map类型有点像js中的对象。</p><h5 id="list"><a href="#list" class="headerlink" title="list"></a>list</h5><p>list数据可通过空格，逗号或小括号分隔多个值，可用nth($var,$index)取值。关于list数据操作还有很多其他函数如length($list)，join($list1,$list2,[$separator])，append($list,$value,[$separator])等，具体可参考sass Functions（搜索List Functions即可）</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//一维数据</span></span><br><span class="line"><span class="variable">$px</span>: <span class="number">5px</span> <span class="number">10px</span> <span class="number">20px</span> <span class="number">30px</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//二维数据，相当于js中的二维数组</span></span><br><span class="line"><span class="variable">$px</span>: <span class="number">5px</span> <span class="number">10px</span>, <span class="number">20px</span> <span class="number">30px</span>;</span><br><span class="line"><span class="variable">$px</span>: (<span class="number">5px</span> <span class="number">10px</span>) (<span class="number">20px</span> <span class="number">30px</span>);</span><br></pre></td></tr></table></figure><p>使用：</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">/sass style</span><br><span class="line"><span class="comment">//-------------------------------</span></span><br><span class="line"><span class="variable">$linkColor</span>:         <span class="number">#08c</span> <span class="number">#333</span> !default;<span class="comment">//第一个值为默认值，第二个鼠标滑过值</span></span><br><span class="line"><span class="selector-tag">a</span>&#123;</span><br><span class="line">  <span class="attribute">color</span>:nth(<span class="variable">$linkColor</span>,<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">  &amp;<span class="selector-pseudo">:hover</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>:nth(<span class="variable">$linkColor</span>,<span class="number">2</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//css style</span></span><br><span class="line"><span class="comment">//-------------------------------</span></span><br><span class="line"><span class="selector-tag">a</span>&#123;</span><br><span class="line">  <span class="attribute">color</span>:<span class="number">#08c</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">a</span><span class="selector-pseudo">:hover</span>&#123;</span><br><span class="line">  <span class="attribute">color</span>:<span class="number">#333</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="map"><a href="#map" class="headerlink" title="map"></a>map</h5><p>map数据以key和value成对出现，其中value又可以是list。格式为：$map: (key1: value1, key2: value2, key3: value3);。可通过map-get($map,$key)取值。关于map数据还有很多其他函数如map-merge($map1,$map2)，map-keys($map)，map-values($map)等，具体可参考sass Functions（搜索Map Functions即可）</p><p>定义和使用</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$heading</span>: (h1: <span class="number">2em</span>, h2: <span class="number">1.5em</span>, h3: <span class="number">1.2em</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//sass style</span></span><br><span class="line"><span class="comment">//-------------------------------</span></span><br><span class="line"><span class="variable">$headings</span>: (h1: <span class="number">2em</span>, h2: <span class="number">1.5em</span>, h3: <span class="number">1.2em</span>);</span><br><span class="line"><span class="keyword">@each</span> <span class="variable">$header</span>, <span class="variable">$size</span> in <span class="variable">$headings</span> &#123;</span><br><span class="line">  #&#123;<span class="variable">$header</span>&#125; &#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="variable">$size</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//css style</span></span><br><span class="line"><span class="comment">//-------------------------------</span></span><br><span class="line"><span class="selector-tag">h1</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">2em</span>; </span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">h2</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">1.5em</span>; </span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">h3</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">1.2em</span>; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="全局变量"><a href="#全局变量" class="headerlink" title="全局变量"></a>全局变量</h4><p>在变量值后面加上!global即为全局变量。这个目前还用不上，不过将会在sass 3.4后的版本中正式应用。目前的sass变量范围饱受诟病，所以才有了这个全局变量。<br>目前变量机制<br>在选择器中声明的变量会覆盖外面全局声明的变量。(这也就人们常说的sass没有局部变量)</p><h3 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h3><p>SassScript 支持 6 种主要的数据类型：</p><ul><li>数字，1, 2, 13, 10px</li><li>字符串，有引号字符串与无引号字符串，”foo”, ‘bar’, baz</li><li>颜色，blue, #04a3f9, rgba(255,0,0,0.5)</li><li>布尔型，true, false</li><li>空值，null</li><li>数组 (list)，用空格或逗号作分隔符，1.5em 1em 0 2em, Helvetica, Arial, sans-serif</li><li>maps, 相当于 JavaScript 的 object，(key1: value1, key2: value2)</li></ul><h3 id="运算-Operations"><a href="#运算-Operations" class="headerlink" title="运算 (Operations)"></a>运算 (Operations)</h3><ul><li>数字运算  (+, -, *, /, %)</li><li>关系运算  (&lt;, &gt;, &lt;=, &gt;=,==, !=)<br>如果需要使用变量，同时又要确保 / 不做除法运算而是完整地编译到 CSS 文件中，只需要用 <code>#{}</code> 插值语句将变量包裹。<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="variable">$font-size</span>: <span class="number">12px</span>;</span><br><span class="line">  <span class="variable">$line-height</span>: <span class="number">30px</span>;</span><br><span class="line">  <span class="attribute">font</span>: #&#123;<span class="variable">$font-size</span>&#125;/#&#123;<span class="variable">$line-height</span>&#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//---------------------</span></span><br><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="attribute">font</span>: <span class="number">12px</span>/<span class="number">30px</span>; &#125;</span><br></pre></td></tr></table></figure></li></ul><p>SassScript 也支持其他 CSS 属性值，比如 Unicode 字符集，或 !important 声明。然而Sass 不会特殊对待这些属性值，一律视为无引号字符串。</p><h3 id="嵌套-Nesting"><a href="#嵌套-Nesting" class="headerlink" title="嵌套(Nesting)"></a>嵌套(Nesting)</h3><p>sass的嵌套包括两种：</p><ol><li>一种是选择器的嵌套；</li><li>另一种是属性的嵌套。<br>(我们一般说起或用到的都是选择器的嵌套。)</li></ol><h4 id="选择器嵌套"><a href="#选择器嵌套" class="headerlink" title="选择器嵌套"></a>选择器嵌套</h4><p>选择器嵌套指的是在一个选择器中嵌套另一个选择器来实现继承，从而增强了sass文件的结构性和可读性。<br>在选择器嵌套中，可以使用&amp;表示父元素选择器</p><h5 id="父选择器的标识符-amp"><a href="#父选择器的标识符-amp" class="headerlink" title="父选择器的标识符&amp;"></a>父选择器的标识符&amp;</h5><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//sass style</span></span><br><span class="line"><span class="comment">//-------------------------------</span></span><br><span class="line"><span class="selector-id">#top_nav</span>&#123;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">40px</span>;</span><br><span class="line">  <span class="attribute">text-transform</span>: capitalize;</span><br><span class="line">  <span class="attribute">background-color</span>:<span class="number">#333</span>;</span><br><span class="line">  <span class="selector-tag">li</span>&#123;</span><br><span class="line">    <span class="attribute">float</span><span class="selector-pseudo">:left</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-tag">a</span>&#123;</span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line"></span><br><span class="line">    &amp;<span class="selector-pseudo">:hover</span>&#123;</span><br><span class="line">      <span class="attribute">color</span>:<span class="number">#ddd</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//css style</span></span><br><span class="line"><span class="comment">//-------------------------------</span></span><br><span class="line"><span class="selector-id">#top_nav</span>&#123;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">40px</span>;</span><br><span class="line">  <span class="attribute">text-transform</span>: capitalize;</span><br><span class="line">  <span class="attribute">background-color</span>:<span class="number">#333</span>;</span><br><span class="line">&#125;  </span><br><span class="line"><span class="selector-id">#top_nav</span> <span class="selector-tag">li</span>&#123;</span><br><span class="line">  <span class="attribute">float</span><span class="selector-pseudo">:left</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#top_nav</span> <span class="selector-tag">a</span>&#123;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#top_nav</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span>&#123;</span><br><span class="line">  <span class="attribute">color</span>:<span class="number">#ddd</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="群组选择器的嵌套"><a href="#群组选择器的嵌套" class="headerlink" title="群组选择器的嵌套"></a>群组选择器的嵌套</h5><p>群组选择器 的规则会对命中群组中任何一个选择器的元素生效</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//sass style</span></span><br><span class="line"><span class="comment">//-------------------------------</span></span><br><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">  <span class="selector-tag">h1</span>, <span class="selector-tag">h2</span>, <span class="selector-tag">h3</span> &#123;<span class="attribute">margin-bottom</span>: .<span class="number">8em</span>&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//css style</span><br><span class="line">//-------------------------------</span><br><span class="line">.container h1, .container h2, .container h3 &#123; </span><br><span class="line">  margin-bottom: .<span class="number">8em</span> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="子组合选择器和同层组合选择器：-gt-、-和"><a href="#子组合选择器和同层组合选择器：-gt-、-和" class="headerlink" title="子组合选择器和同层组合选择器：&gt;、+和~"></a>子组合选择器和同层组合选择器：<code>&gt;、+和~</code></h5><p>上边这三个组合选择器必须和其他选择器配合使用，以指定浏览器仅选择某种特定上下文中的元素</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">article</span> &#123;</span><br><span class="line">  ~ <span class="selector-tag">article</span> &#123; <span class="attribute">border-top</span>: <span class="number">1px</span> dashed <span class="number">#ccc</span> &#125;</span><br><span class="line">  &gt; section &#123; background: <span class="number">#eee</span> &#125;</span><br><span class="line">  dl &gt; &#123;</span><br><span class="line">    dt &#123; color: <span class="number">#333</span> &#125;</span><br><span class="line">    dd &#123; color: <span class="number">#555</span> &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  nav + &amp; &#123; margin-top: <span class="number">0</span> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>在sass中，不仅仅css规则可以嵌套，对属性进行嵌套也可以减少很多重复性的工作。</p><h4 id="属性嵌套"><a href="#属性嵌套" class="headerlink" title="属性嵌套"></a>属性嵌套</h4><p>所谓属性嵌套指的是有些属性拥有同一个开始单词，如border-width，border-color都是以border开头。拿个官网的实例看下：</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//sass style</span></span><br><span class="line"><span class="comment">//-------------------------------</span></span><br><span class="line"><span class="selector-class">.fakeshadow</span> &#123;</span><br><span class="line">  <span class="attribute">border</span>: &#123;</span><br><span class="line">    style: solid;</span><br><span class="line">    <span class="attribute">left</span>: &#123;</span><br><span class="line">      width: <span class="number">4px</span>;</span><br><span class="line">      <span class="attribute">color</span>: <span class="number">#888</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="attribute">right</span>: &#123;</span><br><span class="line">      width: <span class="number">2px</span>;</span><br><span class="line">      <span class="attribute">color</span>: <span class="number">#ccc</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//css style</span></span><br><span class="line"><span class="comment">//-------------------------------</span></span><br><span class="line"><span class="selector-class">.fakeshadow</span> &#123;</span><br><span class="line">  <span class="attribute">border-style</span>: solid;</span><br><span class="line">  <span class="attribute">border-left-width</span>: <span class="number">4px</span>;</span><br><span class="line">  <span class="attribute">border-left-color</span>: <span class="number">#888</span>;</span><br><span class="line">  <span class="attribute">border-right-width</span>: <span class="number">2px</span>;</span><br><span class="line">  <span class="attribute">border-right-color</span>: <span class="number">#ccc</span>; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="at-root"><a href="#at-root" class="headerlink" title="@at-root"></a>@at-root</h4><p>sass3.3.0中新增的功能，用来跳出选择器嵌套的。默认所有的嵌套，继承所有上级选择器，但有了这个就可以跳出所有上级选择器。<br>普通跳出嵌套</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//sass style</span></span><br><span class="line"><span class="comment">//-------------------------------</span></span><br><span class="line"><span class="comment">//没有跳出</span></span><br><span class="line"><span class="selector-class">.parent-1</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>:<span class="number">#f00</span>;</span><br><span class="line">  <span class="selector-class">.child</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">100px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//单个选择器跳出</span></span><br><span class="line"><span class="selector-class">.parent-2</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>:<span class="number">#f00</span>;</span><br><span class="line">  <span class="keyword">@at-root</span> .child &#123;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">200px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//多个选择器跳出</span></span><br><span class="line"><span class="selector-class">.parent-3</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>:<span class="number">#f00</span>;</span><br><span class="line">  <span class="keyword">@at-root</span> &#123;</span><br><span class="line">    <span class="selector-class">.child1</span> &#123;</span><br><span class="line">      <span class="attribute">width</span>:<span class="number">300px</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-class">.child2</span> &#123;</span><br><span class="line">      <span class="attribute">width</span>:<span class="number">400px</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//css style</span></span><br><span class="line"><span class="comment">//-------------------------------</span></span><br><span class="line"><span class="selector-class">.parent-1</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#f00</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.parent-1</span> <span class="selector-class">.child</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.parent-2</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#f00</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.child</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.parent-3</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#f00</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.child1</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.child2</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">400px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><div style="padding:15px;background:#F6F6F6">@at-root (without: ...)和@at-root (with: ...)默认@at-root只会跳出选择器嵌套，而不能跳出@media或@support，如果要跳出这两种，则需使用@at-root (without: media)，@at-root (without: support)。这个语法的关键词有四个：all（表示所有），rule（表示常规css），media（表示media），support（表示support，因为@support目前还无法广泛使用，所以在此不表）。我们默认的@at-root其实就是@at-root (without:rule)。</div><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//sass style</span></span><br><span class="line"><span class="comment">//-------------------------------</span></span><br><span class="line"><span class="comment">//跳出父级元素嵌套</span></span><br><span class="line"><span class="keyword">@media</span> print &#123;</span><br><span class="line">    <span class="selector-class">.parent1</span>&#123;</span><br><span class="line">      <span class="attribute">color</span>:<span class="number">#f00</span>;</span><br><span class="line">      <span class="keyword">@at-root</span> .child1 &#123;</span><br><span class="line">        <span class="attribute">width</span>:<span class="number">200px</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//跳出media嵌套，父级有效</span></span><br><span class="line"><span class="keyword">@media</span> print &#123;</span><br><span class="line">  <span class="selector-class">.parent2</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>:<span class="number">#f00</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">@at-root</span> (without: media) &#123;</span><br><span class="line">      <span class="selector-class">.child2</span> &#123;</span><br><span class="line">        <span class="attribute">width</span>:<span class="number">200px</span>;</span><br><span class="line">      &#125; </span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//跳出media和父级</span></span><br><span class="line"><span class="keyword">@media</span> print &#123;</span><br><span class="line">  <span class="selector-class">.parent3</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>:<span class="number">#f00</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">@at-root</span> (without: all) &#123;</span><br><span class="line">      <span class="selector-class">.child3</span> &#123;</span><br><span class="line">        <span class="attribute">width</span>:<span class="number">200px</span>;</span><br><span class="line">      &#125; </span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//sass style</span></span><br><span class="line"><span class="comment">//-------------------------------</span></span><br><span class="line"><span class="keyword">@media</span> print &#123;</span><br><span class="line">  <span class="selector-class">.parent1</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#f00</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-class">.child1</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@media</span> print &#123;</span><br><span class="line">  <span class="selector-class">.parent2</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#f00</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.parent2</span> <span class="selector-class">.child2</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@media</span> print &#123;</span><br><span class="line">  <span class="selector-class">.parent3</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#f00</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.child3</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><div style="background:#f6f6f6">@at-root与&配合使用</div><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//sass style</span></span><br><span class="line"><span class="comment">//-------------------------------</span></span><br><span class="line"><span class="selector-class">.child</span>&#123;</span><br><span class="line">    <span class="keyword">@at-root</span> .parent &amp;&#123;</span><br><span class="line">        <span class="attribute">color</span>:<span class="number">#f00</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//css style</span></span><br><span class="line"><span class="comment">//-------------------------------</span></span><br><span class="line"><span class="selector-class">.parent</span> <span class="selector-class">.child</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#f00</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><div style="background:#f6f6f6;padding:0;line-height:0">应用于@keyframe</div><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//sass style</span></span><br><span class="line"><span class="comment">//-------------------------------</span></span><br><span class="line"><span class="selector-class">.demo</span> &#123;</span><br><span class="line">    ...</span><br><span class="line">    <span class="attribute">animation</span>: motion <span class="number">3s</span> infinite;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">@at-root</span> &#123;</span><br><span class="line">        <span class="keyword">@keyframes</span> motion &#123;</span><br><span class="line">          ...</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//css style</span></span><br><span class="line"><span class="comment">//-------------------------------   </span></span><br><span class="line"><span class="selector-class">.demo</span> &#123;</span><br><span class="line">    ...   </span><br><span class="line">    <span class="attribute">animation</span>: motion <span class="number">3s</span> infinite;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@keyframes</span> motion &#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="函数-function"><a href="#函数-function" class="headerlink" title="函数(@function)"></a>函数(@function)</h3><p>sass定义了很多函数可供使用，当然你也可以自己定义函数，以@fuction开始。</p><ul><li><input checked disabled type="checkbox"> <em><a href="http://www.w3cplus.com/preprocessor/sass-mixins-function-placeholder.html" target="_blank" rel="noopener">sass揭秘之@mixin，%，@function</a></em></li><li><input checked disabled type="checkbox"> <em><a href="http://www.w3cplus.com/preprocessor/sass-color-function.html" target="_blank" rel="noopener">Sass基础——颜色函数</a></em></li><li><input checked disabled type="checkbox"> <em><a href="http://www.w3cplus.com/preprocessor/sass-other-function.html" target="_blank" rel="noopener">Sass基础——Sass函数</a></em></li></ul><h4 id="内置函数"><a href="#内置函数" class="headerlink" title="内置函数"></a>内置函数</h4><p>sass的官方函数链接为：*<a href="http://sass-lang.com/documentation/Sass/Script/Functions.html" target="_blank" rel="noopener">sass fuction</a>*，实际项目中我们使用最多的应该是颜色函数，而颜色函数中又以lighten减淡和darken加深为最，其调用方法为lighten($color,$amount)和darken($color,$amount)，它们的第一个参数都是颜色值，第二个参数都是百分比。</p><h4 id="自定义函数"><a href="#自定义函数" class="headerlink" title="自定义函数"></a>自定义函数</h4><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//sass style</span></span><br><span class="line"><span class="comment">//-------------------------------               </span></span><br><span class="line"><span class="variable">$baseFontSize</span>:      <span class="number">10px</span> !default;</span><br><span class="line"><span class="variable">$gray</span>:              <span class="number">#ccc</span> !defualt;        </span><br><span class="line"></span><br><span class="line"><span class="comment">// pixels to rems </span></span><br><span class="line"><span class="keyword">@function</span> pxToRem(<span class="variable">$px</span>) &#123;</span><br><span class="line">  <span class="keyword">@return</span> <span class="variable">$px</span> / <span class="variable">$baseFontSize</span> * <span class="number">1rem</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">body</span>&#123;</span><br><span class="line">  <span class="attribute">font-size</span>:<span class="variable">$baseFontSize</span>;</span><br><span class="line">  <span class="attribute">color</span>:lighten(<span class="variable">$gray</span>,<span class="number">10%</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.test</span>&#123;</span><br><span class="line">  <span class="attribute">font-size</span>:pxToRem(<span class="number">16px</span>);</span><br><span class="line">  <span class="attribute">color</span>:darken(<span class="variable">$gray</span>,<span class="number">10%</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//css style</span></span><br><span class="line"><span class="comment">//-------------------------------</span></span><br><span class="line"><span class="selector-tag">body</span>&#123;</span><br><span class="line">  <span class="attribute">font-size</span>:<span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">color</span>:<span class="number">#E6E6E6</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.test</span>&#123;</span><br><span class="line">  <span class="attribute">font-size</span>:<span class="number">1.6rem</span>;</span><br><span class="line">  <span class="attribute">color</span>:<span class="number">#B3B3B3</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="混合-mixin"><a href="#混合-mixin" class="headerlink" title="混合(@mixin)"></a>混合(@mixin)</h3><p>sass中使用@mixin声明混合，可以传递参数，参数名以$符号开始，多个参数以逗号分开，也可以给参数设置默认值。声明的@mixin通过@include来调用。</p><ol><li>无参数mixin</li><li>有参数mixin</li><li>多个参数mixin</li><li>多组值参数mixin</li></ol><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//sass style</span></span><br><span class="line"><span class="comment">//-------------------------------   </span></span><br><span class="line"><span class="comment">//box-shadow可以有多组值，所以在变量参数后面添加...</span></span><br><span class="line"><span class="keyword">@mixin</span> box-shadow(<span class="variable">$shadow</span>...) &#123;</span><br><span class="line">  -webkit-<span class="attribute">box-shadow</span>:<span class="variable">$shadow</span>;</span><br><span class="line">  <span class="attribute">box-shadow</span>:<span class="variable">$shadow</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box</span>&#123;</span><br><span class="line">  <span class="attribute">border</span>:<span class="number">1px</span> solid <span class="number">#ccc</span>;</span><br><span class="line">  <span class="keyword">@include</span> box-shadow(<span class="number">0</span> <span class="number">2px</span> <span class="number">2px</span> rgba(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,.<span class="number">3</span>),<span class="number">0</span> <span class="number">3px</span> <span class="number">3px</span> rgba(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,.<span class="number">3</span>),<span class="number">0</span> <span class="number">4px</span> <span class="number">4px</span> rgba(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,.<span class="number">3</span>));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//css style</span></span><br><span class="line"><span class="comment">//-------------------------------</span></span><br><span class="line"><span class="selector-class">.box</span>&#123;</span><br><span class="line">  <span class="attribute">border</span>:<span class="number">1px</span> solid <span class="number">#ccc</span>;</span><br><span class="line">  -webkit-<span class="attribute">box-shadow</span>:<span class="number">0</span> <span class="number">2px</span> <span class="number">2px</span> rgba(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,.<span class="number">3</span>),<span class="number">0</span> <span class="number">3px</span> <span class="number">3px</span> rgba(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,.<span class="number">3</span>),<span class="number">0</span> <span class="number">4px</span> <span class="number">4px</span> rgba(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,.<span class="number">3</span>);</span><br><span class="line">  <span class="attribute">box-shadow</span>:<span class="number">0</span> <span class="number">2px</span> <span class="number">2px</span> rgba(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,.<span class="number">3</span>),<span class="number">0</span> <span class="number">3px</span> <span class="number">3px</span> rgba(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,.<span class="number">3</span>),<span class="number">0</span> <span class="number">4px</span> <span class="number">4px</span> rgba(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,.<span class="number">3</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="content"><a href="#content" class="headerlink" title="@content"></a>@content</h4><p>@content在sass3.2.0中引入，可以用来解决css3的@media等带来的问题。它可以使@mixin接受一整块样式，接受的样式从@content开始。</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//sass style</span></span><br><span class="line"><span class="comment">//-------------------------------                     </span></span><br><span class="line"><span class="keyword">@mixin</span> max-screen(<span class="variable">$res</span>)&#123;</span><br><span class="line">  <span class="keyword">@media</span> <span class="keyword">only</span> screen <span class="keyword">and</span> ( max-width: <span class="variable">$res</span> )</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">@content</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@include</span> max-screen(<span class="number">480px</span>) &#123;</span><br><span class="line">  <span class="selector-tag">body</span> &#123; <span class="attribute">color</span>: red &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//css style</span><br><span class="line">//-------------------------------</span><br><span class="line">@media only screen and (max-width: <span class="number">480px</span>) &#123;</span><br><span class="line">  body &#123; color: red &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>PS：@mixin通过@include调用后解析出来的样式是以拷贝形式存在的，而下面的继承则是以联合声明的方式存在的，所以从3.2.0版本以后，建议传递参数的用@mixin，而非传递参数类的使用下面的继承%。</p></blockquote><h3 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h3><p>sass中，选择器继承可以让选择器继承另一个选择器的所有样式，并联合声明。使用选择器的继承，要使用关键词@extend，后面紧跟需要继承的选择器。</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">/sass style</span><br><span class="line"><span class="comment">//-------------------------------</span></span><br><span class="line"><span class="selector-tag">h1</span>&#123;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">4px</span> solid <span class="number">#ff9aa9</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.speaker</span>&#123;</span><br><span class="line">  <span class="keyword">@extend</span> h1;</span><br><span class="line">  <span class="attribute">border-width</span>: <span class="number">2px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//css style</span></span><br><span class="line"><span class="comment">//-------------------------------</span></span><br><span class="line"><span class="selector-tag">h1</span>,<span class="selector-class">.speaker</span>&#123;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">4px</span> solid <span class="number">#ff9aa9</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.speaker</span>&#123;</span><br><span class="line">  <span class="attribute">border-width</span>: <span class="number">2px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="占位选择器"><a href="#占位选择器" class="headerlink" title="占位选择器%"></a>占位选择器%</h3><p>从sass 3.2.0以后就可以定义占位选择器%。这种选择器的优势在于：如果不调用则不会有任何多余的css文件，避免了以前在一些基础的文件中预定义了很多基础的样式，然后实际应用中不管是否使用了@extend去继承相应的样式，都会解析出来所有的样式。占位选择器以%标识定义，通过@extend调用。</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//sass style</span></span><br><span class="line"><span class="comment">//-------------------------------</span></span><br><span class="line">%ir&#123;</span><br><span class="line">  <span class="attribute">color</span>: transparent;</span><br><span class="line">  <span class="attribute">text-shadow</span>: none;</span><br><span class="line">  <span class="attribute">background-color</span>: transparent;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">%clearfix&#123;</span><br><span class="line">  <span class="keyword">@if</span> <span class="variable">$lte7</span> &#123;</span><br><span class="line">    *zoom: <span class="number">1</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  &amp;<span class="selector-pseudo">:before</span>,</span><br><span class="line">  &amp;<span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">""</span>;</span><br><span class="line">    <span class="attribute">display</span>: table;</span><br><span class="line">    <span class="attribute">font</span>: <span class="number">0</span>/<span class="number">0</span> a;</span><br><span class="line">  &#125;</span><br><span class="line">  &amp;<span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">    <span class="attribute">clear</span>: both;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#header</span>&#123;</span><br><span class="line">  <span class="selector-tag">h1</span>&#123;</span><br><span class="line">    <span class="keyword">@extend</span> %ir;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">300px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.ir</span>&#123;</span><br><span class="line">  <span class="keyword">@extend</span> %ir;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//css style</span></span><br><span class="line"><span class="comment">//-------------------------------</span></span><br><span class="line"><span class="selector-id">#header</span> <span class="selector-tag">h1</span>,</span><br><span class="line"><span class="selector-class">.ir</span>&#123;</span><br><span class="line">  <span class="attribute">color</span>: transparent;</span><br><span class="line">  <span class="attribute">text-shadow</span>: none;</span><br><span class="line">  <span class="attribute">background-color</span>: transparent;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#header</span> <span class="selector-tag">h1</span>&#123;</span><br><span class="line">  <span class="attribute">width</span>:<span class="number">300px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>位选择器的出现，使css文件更加简练可控，没有多余。所以可以用其定义一些基础的样式文件，然后根据需要调用产生相应的css。</p><blockquote><p>ps：在@media中暂时不能@extend @media外的代码片段，以后将会可以。</p></blockquote><h3 id="运算"><a href="#运算" class="headerlink" title="运算"></a>运算</h3><p>sass具有运算的特性，可以对数值型的Value(如：数字、颜色、变量等)进行加减乘除四则运算。请注意运算符前后请留一个<span style="color:#F67280">空格</span>，不然会出错。</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$baseFontSize</span>:          <span class="number">14px</span> !default;</span><br><span class="line"><span class="variable">$baseLineHeight</span>:        <span class="number">1.5</span> !default;</span><br><span class="line"><span class="variable">$baseGap</span>:               <span class="variable">$baseFontSize</span> * <span class="variable">$baseLineHeight</span> !default;</span><br><span class="line"><span class="variable">$halfBaseGap</span>:           <span class="variable">$baseGap</span> / <span class="number">2</span>  !default;</span><br><span class="line"><span class="variable">$samllFontSize</span>:         <span class="variable">$baseFontSize</span> - <span class="number">2px</span>  !default;</span><br><span class="line"></span><br><span class="line"><span class="comment">//grid </span></span><br><span class="line">$_columns:                     <span class="number">12</span> !default;      <span class="comment">// Total number of columns</span></span><br><span class="line">$_column-<span class="attribute">width</span>:                <span class="number">60px</span> !default;   <span class="comment">// Width of a single column</span></span><br><span class="line">$_gutter:                      <span class="number">20px</span> !default;     <span class="comment">// Width of the gutter</span></span><br><span class="line">$_gridsystem-<span class="attribute">width</span>:            $_columns * ($_column-width + $_gutter); <span class="comment">//grid system width</span></span><br></pre></td></tr></table></figure><h3 id="条件判断及循环"><a href="#条件判断及循环" class="headerlink" title="条件判断及循环"></a>条件判断及循环</h3><h4 id="if判断"><a href="#if判断" class="headerlink" title="@if判断"></a>@if判断</h4><p>@if可一个条件单独使用，也可以和@else结合多条件使用</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//sass style</span></span><br><span class="line"><span class="comment">//-------------------------------</span></span><br><span class="line"><span class="variable">$lte7</span>: true;</span><br><span class="line"><span class="variable">$type</span>: monster;</span><br><span class="line"><span class="selector-class">.ib</span>&#123;</span><br><span class="line">    <span class="attribute">display</span>:inline-block;</span><br><span class="line">    <span class="keyword">@if</span> <span class="variable">$lte7</span> &#123;</span><br><span class="line">        *<span class="attribute">display</span>:inline;</span><br><span class="line">        *zoom:<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="keyword">@if</span> <span class="variable">$type</span> == ocean &#123;</span><br><span class="line">    <span class="attribute">color</span>: blue;</span><br><span class="line">  &#125; <span class="keyword">@else</span> if <span class="variable">$type</span> == matador &#123;</span><br><span class="line">    <span class="attribute">color</span>: red;</span><br><span class="line">  &#125; <span class="keyword">@else</span> if <span class="variable">$type</span> == monster &#123;</span><br><span class="line">    <span class="attribute">color</span>: green;</span><br><span class="line">  &#125; <span class="keyword">@else</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: black;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//css style</span></span><br><span class="line"><span class="comment">//-------------------------------</span></span><br><span class="line"><span class="selector-class">.ib</span>&#123;</span><br><span class="line">    <span class="attribute">display</span>:inline-block;</span><br><span class="line">    *<span class="attribute">display</span>:inline;</span><br><span class="line">    *zoom:<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: green; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="三目判断"><a href="#三目判断" class="headerlink" title="三目判断"></a>三目判断</h4><p>语法为：if($condition, $if_true, $if_false) 。三个参数分别表示：条件，条件为真的值，条件为假的值。</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">if(true, 1px, 2px) =&gt; 1px</span><br><span class="line">if(false, 1px, 2px) =&gt; 2px</span><br></pre></td></tr></table></figure><h4 id="for循环"><a href="#for循环" class="headerlink" title="for循环"></a>for循环</h4><p>for循环有两种形式，分别为：@for $var from &lt; start&gt; through &lt; end&gt;和@for $var from &lt; start&gt; to &lt; end&gt;。$i表示变量，start表示起始值，end表示结束值，这两个的区别是关键字through表示包括end这个数，而to则不包括end这个数。</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//sass style</span></span><br><span class="line"><span class="comment">//-------------------------------</span></span><br><span class="line"><span class="keyword">@for</span> <span class="variable">$i</span> from <span class="number">1</span> through <span class="number">3</span> &#123;</span><br><span class="line">  <span class="selector-class">.item-</span>#&#123;<span class="variable">$i</span>&#125; &#123; <span class="attribute">width</span>: <span class="number">2em</span> * <span class="variable">$i</span>; &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//css style</span></span><br><span class="line"><span class="comment">//-------------------------------</span></span><br><span class="line"><span class="selector-class">.item-1</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">2em</span>; </span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.item-2</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">4em</span>; </span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.item-3</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">6em</span>; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="each循环"><a href="#each循环" class="headerlink" title="@each循环"></a>@each循环</h4><p>语法为：@each $var in <list or map>。其中$var表示变量，而list和map表示list类型数据和map类型数据。sass 3.3.0新加入了多字段循环和map数据循环。</list></p><ul><li>单个字段list数据循环</li></ul><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//sass style</span></span><br><span class="line"><span class="comment">//-------------------------------</span></span><br><span class="line"><span class="variable">$animal-list</span>: puma, sea-slug, egret, salamander;</span><br><span class="line"><span class="keyword">@each</span> <span class="variable">$animal</span> in <span class="variable">$animal-list</span> &#123;</span><br><span class="line">  .#&#123;<span class="variable">$animal</span>&#125;-<span class="attribute">icon</span> &#123;</span><br><span class="line">    <span class="attribute">background-image</span>: url(<span class="string">'/images/#&#123;$animal&#125;.png'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//css style</span></span><br><span class="line"><span class="comment">//-------------------------------</span></span><br><span class="line"><span class="selector-class">.puma-icon</span> &#123;</span><br><span class="line">  <span class="attribute">background-image</span>: url(<span class="string">'/images/puma.png'</span>); </span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.sea-slug-icon</span> &#123;</span><br><span class="line">  <span class="attribute">background-image</span>: url(<span class="string">'/images/sea-slug.png'</span>); </span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.egret-icon</span> &#123;</span><br><span class="line">  <span class="attribute">background-image</span>: url(<span class="string">'/images/egret.png'</span>); </span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.salamander-icon</span> &#123;</span><br><span class="line">  <span class="attribute">background-image</span>: url(<span class="string">'/images/salamander.png'</span>); </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>多个字段list数据循环</li></ul><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//sass style</span></span><br><span class="line"><span class="comment">//-------------------------------</span></span><br><span class="line"><span class="variable">$animal-data</span>: (puma, black, default),(sea-slug, blue, pointer),(egret, white, move);</span><br><span class="line"><span class="keyword">@each</span> <span class="variable">$animal</span>, <span class="variable">$color</span>, <span class="variable">$cursor</span> in <span class="variable">$animal-data</span> &#123;</span><br><span class="line">  .#&#123;<span class="variable">$animal</span>&#125;-<span class="attribute">icon</span> &#123;</span><br><span class="line">    <span class="attribute">background-image</span>: url(<span class="string">'/images/#&#123;$animal&#125;.png'</span>);</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">2px</span> solid <span class="variable">$color</span>;</span><br><span class="line">    <span class="attribute">cursor</span>: <span class="variable">$cursor</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//css style</span></span><br><span class="line"><span class="comment">//-------------------------------</span></span><br><span class="line"><span class="selector-class">.puma-icon</span> &#123;</span><br><span class="line">  <span class="attribute">background-image</span>: url(<span class="string">'/images/puma.png'</span>);</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">2px</span> solid black;</span><br><span class="line">  <span class="attribute">cursor</span>: default; </span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.sea-slug-icon</span> &#123;</span><br><span class="line">  <span class="attribute">background-image</span>: url(<span class="string">'/images/sea-slug.png'</span>);</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">2px</span> solid blue;</span><br><span class="line">  <span class="attribute">cursor</span>: pointer; </span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.egret-icon</span> &#123;</span><br><span class="line">  <span class="attribute">background-image</span>: url(<span class="string">'/images/egret.png'</span>);</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">2px</span> solid white;</span><br><span class="line">  <span class="attribute">cursor</span>: move; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>多个字段map数据循环</li></ul><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//sass style</span></span><br><span class="line"><span class="comment">//-------------------------------</span></span><br><span class="line"><span class="variable">$headings</span>: (h1: <span class="number">2em</span>, h2: <span class="number">1.5em</span>, h3: <span class="number">1.2em</span>);</span><br><span class="line"><span class="keyword">@each</span> <span class="variable">$header</span>, <span class="variable">$size</span> in <span class="variable">$headings</span> &#123;</span><br><span class="line">  #&#123;<span class="variable">$header</span>&#125; &#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="variable">$size</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//css style</span></span><br><span class="line"><span class="comment">//-------------------------------</span></span><br><span class="line"><span class="selector-tag">h1</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">2em</span>; </span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">h2</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">1.5em</span>; </span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">h3</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">1.2em</span>; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="参考推荐"><a href="#参考推荐" class="headerlink" title="*参考推荐*"></a>*<span style="color:red">参考推荐</span>*</h2><ul><li>【sass语法】: <a href="https://www.w3cplus.com/sassguide/syntax.html" target="_blank" rel="noopener">https://www.w3cplus.com/sassguide/syntax.html</a></li><li>【sass中文网】: <a href="https://www.sass.hk/docs/" target="_blank" rel="noopener">https://www.sass.hk/docs/</a></li><li>【阮一峰sass教程】: <a href="http://www.ruanyifeng.com/blog/2012/06/sass.html" target="_blank" rel="noopener">http://www.ruanyifeng.com/blog/2012/06/sass.html</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> CSS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CSS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JavaScript基础-04事件循环机制</title>
      <link href="/JavaScript%E5%9F%BA%E7%A1%80-04%E4%BA%8B%E4%BB%B6%E5%BE%AA%E7%8E%AF%E6%9C%BA%E5%88%B6/"/>
      <url>/JavaScript%E5%9F%BA%E7%A1%80-04%E4%BA%8B%E4%BB%B6%E5%BE%AA%E7%8E%AF%E6%9C%BA%E5%88%B6/</url>
      
        <content type="html"><![CDATA[<p>单线程模式Event Loop机制: 同步，异步，任务队列(消息队列，分为mac宏任务和mic微任务)，事件循环</p><p>宏任务-&gt;执行栈-&gt;微任务  </p><p><br><br><br><img src="http://img.blog.csdn.net/20170613001549300?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvZ2l0aHViXzM5MTMzMTky/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="Alt text"><br><br></p><a id="more"></a><h2 id="单线程"><a href="#单线程" class="headerlink" title="单线程"></a>单线程</h2><p>JavaScript Engine 对 JavaScript 程序的执行是单线程的，<br>但是 JavaScript Runtime整个宿主环境）并不是单线程的；<br>而且，几乎所有的异步任务都是并发的，<br>例如多个 Job Queue、Ajax、Timer、I/O(Node)等等。</p><h2 id="事件循环"><a href="#事件循环" class="headerlink" title="事件循环"></a>事件循环</h2><ul><li><p>事件循环的顺序，决定了JavaScript代码的执行顺序。它从script(整体代码)开始第一次循环。之后全局上下文进入函数调用栈。直到调用栈清空(只剩全局)，然后执行所有的micro-task。当所有可执行的micro-task执行完毕之后。循环再次从macro-task开始，找到其中一个任务队列执行完毕，然后再执行所有的micro-task，这样一直循环下去。</p><blockquote><p>引用：<a href="http://www.jianshu.com/p/12b9f73c5a4f" target="_blank" rel="noopener">http://www.jianshu.com/p/12b9f73c5a4f</a></p></blockquote></li><li><p>JavaScript运行时，除了一个运行线程，引擎还提供一个消息队列（message queue），里面是各种需要当前程序处理的消息。新的消息进入队列的时候，会自动排在队列的尾端。</p></li><li><p>本质上，“消息队列”就是一个 “先进先出” 的数据结构js主线程它是有一个执行栈的，所有的js代码都会在执行栈里运行。</p></li><li><p>在执行代码过程中，如果遇到一些异步代码(比如setTimeout,ajax,promise.then以及用户点击等操作),那么浏览器就会将这些代码放到一个线程(在这里我们叫做幕后线程)中去等待，不阻塞主线程的执行，主线程继续执行栈中剩余的代码，当幕后线程（background thread）里的代码准备好了(比如setTimeout时间到了，ajax请求得到响应),该线程就会将它的回调函数放到任务队列中等待执行。而当主线程执行完栈中的所有代码后，它就会检查任务队列是否有任务要执行，如果有任务要执行的话，那么就将该任务放到执行栈中执行。如果当前任务队列为空的话，它就会一直循环等待任务到来。因此，这叫做事件循环。</p></li></ul><h2 id="同步"><a href="#同步" class="headerlink" title="同步"></a>同步</h2><p>同步任务指的是，在JavaScript执行进程上排队执行的任务，只有前一个任务执行完毕，才能执行后一个任务；</p><h2 id="异步"><a href="#异步" class="headerlink" title="异步"></a>异步</h2><p>异步任务指的是，不进入JavaScript执行进程、而进入“任务队列”（task queue）的任务，只有“任务队列”通知主进程，某个异步任务可以执行了，该任务（采用回调函数的形式）才会进入JavaScript进程执行。只要主线程空了，就会去读取”任务队列”，这就是JavaScript的运行机制。这个过程会不断重复。</p><h2 id="任务队列"><a href="#任务队列" class="headerlink" title="任务队列"></a>任务队列</h2><p>分为：Job Queue 和 Event Loop Queue<br>微任务放在 工作队列，宏任务放在 事件循环队列<br>每个 JavaScript Runtime 可以有多个 Job Queue，<br>但只有一个 Event Loop Queue<br>当 JavaScript Engine 处理完当前 chunk 后，<br>优先执行所有的 Job Queue，然后再处理 Event Loop Queue</p><h2 id="个人理解"><a href="#个人理解" class="headerlink" title="个人理解"></a>个人理解</h2><p>在javascript中只有单线程，<br>任务分为同步和异步执行，当开始执行时，在主线程中创建执行栈(ESC)<br>同时，将异步任务放入 “幕后线程”，然后将 “准备好的” 异步任务放入 “任务队列”，<br>只有将同步任务完成了才能到 “任务队列” 中去寻找任务把任务<br>推入主线程ESC中执行，不断循环这个步骤过程称为： “事件循环”，任务队列是 “先进先出” 和 堆栈的<br>“先进后出” 相反</p><blockquote></blockquote><p>举个例子：<br>我(主线程)是一个老板，你(工作线程)是一个员工，我这里有很多工作任务，我把其中的特殊任务(异步任务)，给你，<br>你收到了告诉我一声，我就继续做我的任务，你把任务完成后有了结果，就放到你的邮箱(任务队列)里，我完成了我<br>手里的任务，就来看你邮箱里一条任务结果，然后执行，执行完成后，我必须先完成我先交给你的任务，然后放到邮箱里(先进先出)</p><h3 id="javascript事件循环"><a href="#javascript事件循环" class="headerlink" title="javascript事件循环"></a>javascript事件循环</h3><p>当进入script代码时候，生成全局执行栈，变量对象，作用域，this的指向<br>然后开始执行，变量赋值，函数调用，当执行过程中遇到异步任务源例如setTimeout(),<br>promise时候,js引擎就会把任务放到一个’幕后线程’中执行，然后主线程继续往下执行，<br>当幕后线程有了结果就会把 任务(消息)，放到任务队列中(消息队列)中等到,js主线程把<br>当前的同步任务完成，然后才去任务队列中把一个先进的任务 推送到执行环境栈中来执行<br>一直循环从任务队列中把任务推送到主线程中来执行的过程——-事件循环</p><h3 id="任务队列："><a href="#任务队列：" class="headerlink" title="任务队列："></a>任务队列：</h3><p>一个线程中，事件循环是唯一的，但是任务队列可以拥有多个。<br>事件循环中的任务队列，分为2类<br>一类是mac宏任务(task)和另外一类是ES6中应入的mic微任务(jobs)<br>当进入script代码时，首先整个script就是宏任务，当执行到异步任务分发源，把相应的<br>任务(函数)分发到对应的任务队列中，比如setTimeout()分发到宏任务，promise分发到微<br>任务，执行完成后，先从微任务类中的一个任务队列中去取任务执行，<br>直到事件循环把当前微任务类中的所有任务队列按先进先出的顺序把任务<br>取完，执行，为空。然后再从宏任务类中去取一个任务队列中的任务开始执行。直到消息队列<br>为空</p><h2 id="setTimeout"><a href="#setTimeout" class="headerlink" title="setTimeout()"></a>setTimeout()</h2><p>接受3个参数，回调函数，延迟时间，函数的参数<br>每一个setTimeout在执行时，会返回一个唯一ID<br>setTimeout(‘console.log(2)’,1000);<br>需要注意的是，推迟执行的代码必须以字符串的形式，放入setTimeout，<br>因为引擎内部使用eval函数，将字符串转为代码。如果推迟执行的是函数，<br>则可以直接将函数名，放入setTimeout。</p><p>HTML 5标准规定，setTimeout的最短时间间隔是4毫秒<br>setTimeout只能保证在指定的时间后将任务(需要执行的函数)插入任务队列中等候，<br>但是不保证这个任务在什么时候执行。</p><p>而这个队列执行的时间，需要等待到函数调用栈清空之后才开始执行。<br>即所有可执行代码执行完毕之后，才会开始执行由setTimeout定义的操作。<br>而这些操作进入队列的顺序，则由设定的延迟时间来决定。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> start = <span class="built_in">Date</span>.now();</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"start:"</span>+start);</span><br><span class="line">setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">Date</span>.now()-start);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"aaa"</span>)</span><br><span class="line">&#125;,<span class="number">1000</span>);</span><br><span class="line"><span class="keyword">for</span>(i =<span class="number">1</span>;i&lt;=<span class="number">99999999</span>;i++)&#123;&#125;</span><br><span class="line">setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">Date</span>.now()-start);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"bbb"</span>)</span><br><span class="line">&#125;,<span class="number">1000</span>)</span><br><span class="line">setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">Date</span>.now()-start);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"ccc"</span>)</span><br><span class="line">&#125;,<span class="number">2000</span>)</span><br><span class="line">setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">Date</span>.now()-start);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"ddd"</span>)</span><br><span class="line">&#125;,<span class="number">5000</span>)</span><br><span class="line"><span class="keyword">var</span> end = <span class="built_in">Date</span>.now();</span><br><span class="line"><span class="built_in">console</span>.log(end-start) <span class="comment">//2985</span></span><br></pre></td></tr></table></figure><blockquote><p>输出顺序：</p></blockquote><ol><li><p>start // 1502767705141</p></li><li><p>end-start // 2937</p></li><li><p>aaa //2937</p></li><li><p>bbb  //3937</p></li><li><p>ccc //4937</p></li><li><p>ddd //7937</p><p>分析：<br>执行到setTimeout时候，把定时器 按照设定的时间 放入任务队列，<br>等待主线程任务完成，在执行回调。在setTimeout之前for循环执行花了一定时间<br>如果把setTimeout放在for循环之前执行，定时器时间大于 for 执行的时间，那么可以得到正确的值。<br>如果setTimeout 定时器的时间小于 for 执行的时间，那么 等于 for执行的时间</p></li></ol><h2 id="栗子"><a href="#栗子" class="headerlink" title="栗子"></a>栗子</h2><h3 id="栗子一"><a href="#栗子一" class="headerlink" title="栗子一"></a>栗子一</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"A"</span>);</span><br><span class="line"></span><br><span class="line">  setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"A - setTimeout"</span>);</span><br><span class="line">  &#125;, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve</span>) =&gt;</span> &#123;</span><br><span class="line">    resolve();</span><br><span class="line">  &#125;)</span><br><span class="line">  .then(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">console</span>.log(<span class="string">"A - Promise 1"</span>);</span><br><span class="line">  &#125;)</span><br><span class="line">  .then(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">console</span>.log(<span class="string">"B - Promise 1"</span>);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve</span>) =&gt;</span> &#123;</span><br><span class="line">    resolve();</span><br><span class="line">  &#125;)</span><br><span class="line">  .then(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">console</span>.log(<span class="string">"A - Promise 2"</span>);</span><br><span class="line">  &#125;)</span><br><span class="line">  .then(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">console</span>.log(<span class="string">"B - Promise 2"</span>);</span><br><span class="line">  &#125;)</span><br><span class="line">  .then(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">console</span>.log(<span class="string">"C - Promise 2"</span>);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"AA"</span>);</span><br></pre></td></tr></table></figure><p>输出:<br>‘A’<br>‘AA’<br>“A - Promise 1”<br>“A - Promise 2”  </p><p>“B - Promise 1”<br>“B - Promise 2”<br>“C - Promise 2”  </p><p>“A - setTimeout”  </p><h3 id="栗子二"><a href="#栗子二" class="headerlink" title="栗子二"></a>栗子二</h3><p><a href="https://segmentfault.com/g/1570000010765899/d/1560000011585660" target="_blank" rel="noopener">原文</a></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">1</span>);</span><br><span class="line">setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">2</span>);</span><br><span class="line">    <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span> (<span class="params">resolve</span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="number">10</span>);</span><br><span class="line">        resolve();</span><br><span class="line">    &#125;).then(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="number">11</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;,<span class="number">0</span>);</span><br><span class="line">setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">9</span>);</span><br><span class="line">    <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span> (<span class="params">resolve</span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="number">12</span>);</span><br><span class="line">        resolve();</span><br><span class="line">    &#125;).then(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="number">13</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;,<span class="number">0</span>);</span><br><span class="line">setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">14</span>)</span><br><span class="line">&#125;,<span class="number">0</span>)</span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span> (<span class="params">resolve</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">3</span>);</span><br><span class="line">    resolve();</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">4</span>);</span><br><span class="line">&#125;).then(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">5</span>);</span><br><span class="line">    <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span> (<span class="params">resolve</span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="number">7</span>);</span><br><span class="line">        resolve();</span><br><span class="line">    &#125;).then(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="number">8</span>); </span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">6</span>)</span><br></pre></td></tr></table></figure><p>这里加了三个定时器，并且在promise的then里还使用promise，在定时器回调里又使用promise，是为了验证”microtask优先处理完，才一个个的处理macrotask，中间出现新的microtask，就要继续优先处理microtask”这个说法。</p><p>可以看出，整个代码执行下来，首先是输出 134657的，这个没毛病，此时macrotask有三个定时器回调在准备召唤，而当前正在执行microtask唯一的一个任务，当内嵌的promise主体一执行，microtask又不为空了，于是继续打印8，2，10.其实打印完8之后micro没任务了，于是macro推出了一个任务，打印了2，10，macro剩下两个任务，但micro又有了……所以打印11，又清空了micro，又转到macro进行第二个定时器回调，输出9，12，接下去一样道理，13，14。</p><h3 id="栗子三"><a href="#栗子三" class="headerlink" title="栗子三"></a>栗子三</h3><p><a href="http://weizhan.51cto.com/article/view/58eb477cf2dd876485211273" target="_blank" rel="noopener">原文</a></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">'golb1'</span>);</span><br><span class="line"></span><br><span class="line">setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'timeout1'</span>);</span><br><span class="line">    process.nextTick(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'timeout1_nextTick'</span>);</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve</span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'timeout1_promise'</span>);</span><br><span class="line">        resolve();</span><br><span class="line">    &#125;).then(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'timeout1_then'</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">setImmediate(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'immediate1'</span>);</span><br><span class="line">    process.nextTick(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'immediate1_nextTick'</span>);</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve</span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'immediate1_promise'</span>);</span><br><span class="line">        resolve();</span><br><span class="line">    &#125;).then(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'immediate1_then'</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">process.nextTick(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'glob1_nextTick'</span>);</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'glob1_promise'</span>);</span><br><span class="line">    resolve();</span><br><span class="line">&#125;).then(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'glob1_then'</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'timeout2'</span>);</span><br><span class="line">    process.nextTick(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'timeout2_nextTick'</span>);</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve</span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'timeout2_promise'</span>);</span><br><span class="line">        resolve();</span><br><span class="line">    &#125;).then(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'timeout2_then'</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">process.nextTick(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'glob2_nextTick'</span>);</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'glob2_promise'</span>);</span><br><span class="line">    resolve();</span><br><span class="line">&#125;).then(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'glob2_then'</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">setImmediate(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'immediate2'</span>);</span><br><span class="line">    process.nextTick(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'immediate2_nextTick'</span>);</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve</span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'immediate2_promise'</span>);</span><br><span class="line">        resolve();</span><br><span class="line">    &#125;).then(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'immediate2_then'</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>输出：</p><ul><li>golb1 </li><li>glob1_promise </li><li>glob2_promise </li><li>glob1_nextTick </li><li>glob2_nextTick</li><li>glob1_then</li><li>glob2_then</li><li>timeout1</li><li>timeout1_promise</li><li>timeout2</li><li>timeout2_promise</li><li>timeout1_nextTick</li><li>timeout2_nextTick</li><li>timeout1_then</li><li>timeout2_then</li><li>immediate1</li><li>immediate1_promise</li><li>immediate2</li><li>immediate2_promise</li><li>immediate1_nextTick</li><li>immediate2_nextTick</li><li>immediate1_then</li><li>immediate2_then</li></ul><blockquote><p>micro和macro如下图，一开始先执行micro里的，处理完，micro为空，macro推出第一个回调，此时回调里使用了promise，于是下一个节点，优先处理micro，同样等micro为空时，才去执行macro的任务。</p></blockquote><p><img src="https://sfault-image.b0.upaiyun.com/221/316/2213169393-59ed8159e7ef9_articlex" alt="mic和mac任务图"></p><h2 id="推荐-参考"><a href="#推荐-参考" class="headerlink" title="推荐(参考)"></a>推荐(参考)</h2><ol start="0"><li><a href="https://juejin.im/post/59e85eebf265da430d571f89" target="_blank" rel="noopener">这一次，彻底弄懂 JavaScript 执行机制</a> (<strong>推荐</strong>)</li><li><a href="http://weizhan.51cto.com/article/view/58eb477cf2dd876485211273" target="_blank" rel="noopener">深入核心，详解事件循环机制</a> (<strong>推荐</strong>)</li><li><a href="https://zhuanlan.zhihu.com/p/22710155?refer=jscss" target="_blank" rel="noopener">JavaScript 中的异步：Event Loop</a> </li><li><a href="https://segmentfault.com/a/1190000004322358" target="_blank" rel="noopener">JavaScript：彻底理解同步、异步和事件循环(Event Loop)</a> </li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/EventLoop" target="_blank" rel="noopener">并发模型与事件循环</a></li><li><a href="http://www.ruanyifeng.com/blog/2014/10/event-loop.html" target="_blank" rel="noopener">JavaScript 运行机制详解：再谈Event Loop</a> </li><li><a href="https://segmentfault.com/g/1570000010765899/d/1560000011585660" target="_blank" rel="noopener">关于事件循环的知识点</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
            <tag> 异步 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Ubuntu软件安装和远程连接</title>
      <link href="/Ubuntu%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85%E5%92%8C%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5/"/>
      <url>/Ubuntu%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85%E5%92%8C%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5/</url>
      
        <content type="html"><![CDATA[<h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>Ubuntu是一个以桌面应用为主的Linux操作系统，其名称来自非洲南部祖鲁语或豪萨语的“ubuntu”一词（译为吾帮托或乌班图），意思是“人性”、“我的存在是因为大家的存在”，是非洲传统的一种价值观，类似华人社会的“仁爱”思想。Ubuntu基于Debian发行版和GNOME桌面环境，与Debian的不同在于它每6个月会发布一个新版本。Ubuntu的目标在于为一般用户提供一个最新的、同时又相当稳定的主要由自由软件构建而成的操作系统。Ubuntu具有庞大的社区力量，用户可以方便地从社区获得帮助。</p><a id="more"></a><h2 id="ubuntu16-04更新源"><a href="#ubuntu16-04更新源" class="headerlink" title="ubuntu16.04更新源"></a>ubuntu16.04更新源</h2><hr><p>首先编辑<code>vi /etc/apt/sources.list</code> 清空内容将找到的<a href="http://www.jianshu.com/p/c2da889759ba" target="_blank" rel="noopener">更新源</a>拷贝进去</p><p>vi编辑器的使用</p><p>或则图形设置更新源 <a href="https://mirrors.ustc.edu.cn/" target="_blank" rel="noopener">参考地址</a> </p><blockquote><p> 这里提供一个阿里云的更新源：</p></blockquote><pre style="background:#fff;color:tan;">deb http://mirrors.aliyun.com/ubuntu/ xenial main restricted universe multiversedeb http://mirrors.aliyun.com/ubuntu/ xenial-security main restricted universe multiversedeb http://mirrors.aliyun.com/ubuntu/ xenial-updates main restricted universe multiversedeb http://mirrors.aliyun.com/ubuntu/ xenial-backports main restricted universe multiverse##测试版源deb http://mirrors.aliyun.com/ubuntu/ xenial-proposed main restricted universe multiverse# 源码deb-src http://mirrors.aliyun.com/ubuntu/ xenial main restricted universe multiversedeb-src http://mirrors.aliyun.com/ubuntu/ xenial-security main restricted universe multiversedeb-src http://mirrors.aliyun.com/ubuntu/ xenial-updates main restricted universe multiversedeb-src http://mirrors.aliyun.com/ubuntu/ xenial-backports main restricted universe multiverse##测试版源deb-src http://mirrors.aliyun.com/ubuntu/ xenial-proposed main restricted universe multiverse# Canonical 合作伙伴和附加deb http://archive.canonical.com/ubuntu/ xenial partnerdeb http://extras.ubuntu.com/ubuntu/ xenial main</pre><blockquote><p>拷贝保存后执行命令</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> sudo apt-get update</span></span><br></pre></td></tr></table></figure><h2 id="ubuntu-安装软件"><a href="#ubuntu-安装软件" class="headerlink" title="ubuntu 安装软件"></a>ubuntu 安装软件</h2><hr><p><em>参考：<a href="http://man.linuxde.net/apt-get" target="_blank" rel="noopener">http://man.linuxde.net/apt-get</a></em> </p><p><code>apt-get(选项)(参数)</code></p><p><code>$ sudo -s</code>获取权限</p><h3 id="安装软件"><a href="#安装软件" class="headerlink" title="安装软件"></a>安装软件</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> apt-get install package</span></span><br></pre></td></tr></table></figure><h3 id="卸载软件"><a href="#卸载软件" class="headerlink" title="卸载软件"></a>卸载软件</h3><ol><li>卸载一个软件包(保留配置文件）</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> apt-get remove package</span></span><br></pre></td></tr></table></figure><ol start="2"><li>卸载一个软件包(删除配置文件）</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> apt-get remove package -purge</span></span><br></pre></td></tr></table></figure><ol start="3"><li>删除你已经删掉的软件</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> apt-get autoclean apt</span></span><br></pre></td></tr></table></figure><ol start="4"><li>把安装的软件的备份也删除</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> apt-get clean</span></span><br></pre></td></tr></table></figure><h3 id="更新软件"><a href="#更新软件" class="headerlink" title="更新软件"></a>更新软件</h3><ol><li>更新所有已安装的软件</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> apt-get upgrade</span></span><br></pre></td></tr></table></figure><ol start="2"><li>将系统升级到新版本</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> apt-get dist-upgrade</span></span><br></pre></td></tr></table></figure><ol start="3"><li>定期运行这个命令来清除那些已经卸载的软件包的.deb文件</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> apt-get autoclean</span></span><br></pre></td></tr></table></figure><h3 id="安装deb软件包"><a href="#安装deb软件包" class="headerlink" title="安装deb软件包"></a>安装deb软件包</h3><ol><li>安装命令<br><code>dpkg -i xxx.deb</code></li><li>删除软件包<br><code>dpkg -r xxx.deb</code></li><li>连同配置文件一起删除<br><code>dpkg -r –purge xxx.deb</code></li><li>查看软件包信息<br><code>dpkg -info xxx.deb</code></li><li>查看文件拷贝详情<br><code>dpkg -L xxx.deb</code></li><li>查看系统中已安装软件包信息<br><code>dpkg -l</code></li><li>重新配置软件包<br><code>dpkg-reconfigure xxx</code></li></ol><h2 id="安装最新nodejs和npm"><a href="#安装最新nodejs和npm" class="headerlink" title="安装最新nodejs和npm"></a>安装最新nodejs和npm</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> curl -sL https://deb.nodesource.com/setup_9.x | sudo -E bash -</span></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> sudo apt-get install -y nodejs</span></span><br></pre></td></tr></table></figure><h2 id="安装最新python"><a href="#安装最新python" class="headerlink" title="安装最新python"></a>安装最新python</h2><p><strong>安装python需要的依赖</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> sudo su</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> sudo apt-get install python3-dev build-essential libssl-dev libffi-dev libxml2 libxml2-dev libxslt1-dev zlib1g-dev</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> sudo apt-get install python3</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> sudo apt-get install python3-pip</span></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 添加ppa到系统</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> sudo add-apt-repository ppa:jonathonf/python-3.6</span></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> sudo apt-get update</span></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> sudo apt-get install python3.6</span></span><br></pre></td></tr></table></figure><p>配置只输入python3时就默认使用3.6版本:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> sudo update-alternatives --install /usr/bin/python3 python3 /usr/bin/python3.5 1</span></span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> sudo update-alternatives --install /usr/bin/python3 python3 /usr/bin/python3.6 2</span></span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> sudo update-alternatives --config python3</span></span><br></pre></td></tr></table></figure><p><strong>centos7安装python3.7</strong></p><ol><li>首先安装如下依赖包  </li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yum -y groupinstall <span class="string">"Development tools"</span></span><br><span class="line">yum -y install zlib-devel bzip2-devel openssl-devel ncurses-devel sqlite-devel readline-devel tk-devel gdbm-devel db4-devel libpcap-devel xz-devel</span><br></pre></td></tr></table></figure><ol start="2"><li>在自建目录安装    </li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mkdir /usr/<span class="built_in">local</span>/python3 </span><br><span class="line"><span class="built_in">cd</span> /usr/<span class="built_in">local</span>/python3 </span><br><span class="line">wget https://www.python.org/ftp/python/3.7.0/Python-3.7.0.tar.xz</span><br></pre></td></tr></table></figure><ol start="3"><li>解压安装  </li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">tar -xvJf  Python-3.7.0.tar.xz</span><br><span class="line"><span class="built_in">cd</span> Python-3.7.0</span><br><span class="line">./configure --prefix=/usr/<span class="built_in">local</span>/python3</span><br><span class="line">make &amp;&amp; make install</span><br></pre></td></tr></table></figure><blockquote><p>此步如果安装出错<br>以及一个比较重要的包（不装的话，python3.7安装会报错）</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yum install libffi-devel -y</span><br><span class="line">make install</span><br></pre></td></tr></table></figure><ol start="4"><li>创建软连接  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ln -s /usr/<span class="built_in">local</span>/python3/bin/python3 /usr/bin/python3</span><br><span class="line">ln -s /usr/<span class="built_in">local</span>/python3/bin/pip3 /usr/bin/pip3</span><br></pre></td></tr></table></figure></li></ol><h2 id="远程连接"><a href="#远程连接" class="headerlink" title="远程连接"></a>远程连接</h2><hr><h3 id="1-首先安装ssh服务"><a href="#1-首先安装ssh服务" class="headerlink" title="1. 首先安装ssh服务"></a>1. 首先安装ssh服务</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> apt-get install openssh-client</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> apt-get install openssh-server</span></span><br></pre></td></tr></table></figure><h3 id="2-启动服务"><a href="#2-启动服务" class="headerlink" title="2. 启动服务"></a>2. 启动服务</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> sudo /etc/init.d/ssh start</span></span><br></pre></td></tr></table></figure><blockquote><p>ssh服务默认的端口是22，可以更改端口，使用如下命令打开ssh配置文件：<br><code>sudo gedit /etc/ssh/sshd_config</code><br>修改端口号（Port）后，重启ssh服务即可生效，命令如下：<br><code>sudo /etc/init.d/ssh restart</code></p></blockquote><h3 id="3-客服端推荐使用xshell"><a href="#3-客服端推荐使用xshell" class="headerlink" title="3. 客服端推荐使用xshell"></a>3. 客服端推荐使用xshell</h3><h3 id="4-查看ubuntu的ip地址"><a href="#4-查看ubuntu的ip地址" class="headerlink" title="4. 查看ubuntu的ip地址"></a>4. 查看ubuntu的ip地址</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> ifconfig</span></span><br></pre></td></tr></table></figure><h3 id="5-使用xshell-进行ssh用户名和密码登录远程"><a href="#5-使用xshell-进行ssh用户名和密码登录远程" class="headerlink" title="5. 使用xshell 进行ssh用户名和密码登录远程"></a>5. 使用xshell 进行ssh用户名和密码登录远程</h3><ul><li>具体操作把xshell安装好后一看就明白  </li></ul><h2 id="ubuntu-远程ftp"><a href="#ubuntu-远程ftp" class="headerlink" title="ubuntu 远程ftp"></a>ubuntu 远程ftp</h2><ol><li><p>安装ftp服务</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> apt-get install vsftpd</span></span><br></pre></td></tr></table></figure></li><li><p>启动服务</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> service vsftpd start(stop,restart)</span></span><br></pre></td></tr></table></figure></li><li><p>配置ftp <code>/etc/vsftpd/vsftpd.conf</code></p></li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># 登录FTP后的欢迎信息</span><br><span class="line">ftpd_banner=welcome to phd.chorus!</span><br><span class="line">#</span><br><span class="line"># 并发客户端连接数</span><br><span class="line">max_clients=15</span><br><span class="line">#</span><br><span class="line"># 单个IP并发连接数</span><br><span class="line">max_per_ip=1</span><br><span class="line">#</span><br><span class="line"># 下载限速10Mbps</span><br><span class="line">local_max_rate=10000000</span><br></pre></td></tr></table></figure><hr><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"># 不允许匿名用户登录</span><br><span class="line">anonymous_enable=NO</span><br><span class="line">#</span><br><span class="line"># 是否允许登录用户有写权限，属于全局设置</span><br><span class="line">local_umask=022</span><br><span class="line">#</span><br><span class="line"># 允许本地用户组的用户登录</span><br><span class="line">local_enable=YES </span><br><span class="line">#</span><br><span class="line"># 允许本地用户上传文件</span><br><span class="line">write_enable=YES </span><br><span class="line">#</span><br><span class="line"># 本地用户登入时，将被切换到定义的目录下，默认值为各用户的家目录 </span><br><span class="line">local_root = /home/phdchorus</span><br><span class="line">#</span><br><span class="line"># 控制本地用户目录切换权限</span><br><span class="line"># 在默认配置下，本地用户登录FTP后可以使用cd命令切到其他目录，这样会有安全隐患</span><br><span class="line"># 通过配置chroot_list_enable | chroot_list_file | chroot_local_user这3个参数，控制用户切换目录的权限</span><br><span class="line"># 通过搭配，能实现以下几种效果</span><br><span class="line"># 1、当chroot_list_enable=YES，chroot_local_user=YES时，chroot_list_file中列出的用户，可以切换到其他目录，未在文件中列出的用户，不能切换到其他目录。</span><br><span class="line"># 2、当chroot_list_enable=YES，chroot_local_user=NO时，chroot_list_file中列出的用户，不能切换到其他目录，未在文件中列出的用户，可以切换到其他目录。</span><br><span class="line"># 3、当chroot_list_enable=NO，chroot_local_user=YES时，所有用户都不能切换到其他目录。</span><br><span class="line"># 4、当chroot_list_enable=NO，chroot_local_user=NO时，所有用户都可以切换到其他目录。</span><br><span class="line">chroot_list_enable=YES</span><br><span class="line">chroot_list_file=/etc/vsftpd.chroot_list</span><br><span class="line">chroot_local_user=YES</span><br><span class="line">#</span><br><span class="line">#</span><br><span class="line">#</span><br><span class="line"># 访问控制设置(控制用户访问)</span><br><span class="line"># 如果设置了local_enable=YES，那么所有的用户(包括root)都能通过FTP登录服务器，出于安全考虑，需要对某些用户进行限制。</span><br><span class="line"># 启用userlist后，依据userlist_deny的设置，禁止或允许vsftpd.user_list中的用户登录</span><br><span class="line">#</span><br><span class="line"># 启用userlist</span><br><span class="line">userlist_enable=YES</span><br><span class="line">#</span><br><span class="line"># 文件内容为允许登录或禁止登录的用户名，每个用户一行。 </span><br><span class="line">userlist_file=/etc/vsftpd/vsftpd.user_list</span><br><span class="line">#</span><br><span class="line"># 若该选项设为YES，系统就会deny（禁止）userlist_file中的用户登陆FTP</span><br><span class="line"># 若该选项设为NO，系统就仅允许userlist_file中的用户登陆FTP</span><br><span class="line">userlist_deny=NO </span><br><span class="line">#</span><br><span class="line">#</span><br><span class="line"># /etc/vsftpd/ftpusers文件专门用于列出禁止访问FTP服务的用户列表</span><br><span class="line"># ftpusers的优先级要高于其他配置文件</span><br><span class="line">#</span><br></pre></td></tr></table></figure><hr><pre style="color:tan">vsftpd.conf中，用户权限相关的2个参数chroot_list_enableuserlist_enable这2个参数配合以下4个文件，能实现不同的用户访问权限配置/etc/ftpusers /etc/vsftpd.chroot_list/etc/vsftpd.user_list其中以下两个文件需要自己创建/etc/vsftpd.chroot_list/etc/vsftpd.user_list</pre><hr><blockquote></blockquote><p><strong><span style="color:red">推荐地址：</span></strong></p><ul><li>【Linux命令大全】: <a href="http://man.linuxde.net/" target="_blank" rel="noopener">http://man.linuxde.net/</a></li><li>【Linux基础】: <a href="https://linuxtools-rst.readthedocs.io/zh_CN/latest/base/index.html" target="_blank" rel="noopener">https://linuxtools-rst.readthedocs.io/zh_CN/latest/base/index.html</a></li><li>【在 Ubuntu 中安装 VSFTPD 服务器】: <a href="https://linux.cn/article-8312-1.html" target="_blank" rel="noopener">https://linux.cn/article-8312-1.html</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JavaScript基础-03 deferred和promise对象</title>
      <link href="/JavaScript%E5%9F%BA%E7%A1%80-03defered%E5%92%8Cpromise%E5%AF%B9%E8%B1%A1/"/>
      <url>/JavaScript%E5%9F%BA%E7%A1%80-03defered%E5%92%8Cpromise%E5%AF%B9%E8%B1%A1/</url>
      
        <content type="html"><![CDATA[<h1 id="jQuery-中的deferred和promise对象"><a href="#jQuery-中的deferred和promise对象" class="headerlink" title="jQuery 中的deferred和promise对象"></a>jQuery 中的deferred和promise对象</h1><ul><li>1.5版本后引入<br>Promise对象其实就是deferred对象的特例，因为Promise对象不能更改异步状态，<br>而deferred对象可以。这点在他们的方法设计上，有着明显的体现。</li></ul><a id="more"></a><h2 id="promise对象"><a href="#promise对象" class="headerlink" title="promise对象"></a>promise对象</h2><ol><li>方法(主要3个)：</li></ol><p><strong>done，fail，then。</strong><br>2. dom使用promise方法：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> box=$(<span class="string">'#box'</span>);</span><br><span class="line">  box.promise().done(<span class="function"><span class="keyword">function</span>(<span class="params">ele</span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(ele);<span class="comment">//jQuery box</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><ol start="3"><li><p>ajax 默认返回promise对象</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$.post(<span class="string">'/'</span>,&#123;&#125;).done(<span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'请求成功'</span>);</span><br><span class="line">&#125;).fail(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'请求错误'</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li><li><p>promise对象不具有 resolve, reject, notify方法，不能更改状态</p></li></ol><h2 id="deferred对象"><a href="#deferred对象" class="headerlink" title="deferred对象"></a>deferred对象</h2><ol><li>对于deferred对象呢，也就是使用$.Deferred()方法，</li></ol><ul><li>以及$.when()等方法创造出来的对象，</li></ul><ol start="2"><li>deferred对象上的主要方法：</li></ol><p><strong>resolve(已完成),reject(已失败), notify(未完成)</strong> 对应方法<br><em>done, fail, progress</em></p><ul><li>另外还有promise、then和always方法。</li><li>jQuery规定，$.Deferred()可以接受一个函数名（注意，是函数名）作为参数，$.Deferred()所生成的deferred对象将作为这个函数的默认参数。</li></ul><p><strong>dtd.promise(wait);</strong></p><ul><li>这里的关键是dtd.promise(wait)这一行，它的作用就是在wait对象上部署Deferred接口。正是因为有了这一行，后面才能直接在wait上面调用done()和fail()。</li></ul><h2 id="其它特性"><a href="#其它特性" class="headerlink" title="其它特性"></a>其它特性</h2><p>此处讲讲<strong>then</strong>和 <strong>$.when</strong> 方法的使用。它们对<strong>Promise</strong>对象也适用。</p><ol><li>$.when方法接受多个deferred对象或者纯javascript对象，返回Promise对象。</li><li>then()</li></ol><ul><li>then方法依次接受三个回调，分别为deferred对象resolve,reject,notify后触发的回调，</li><li>返回一个Promise对象。注意，必须传入函数，而该函数只有返回一个Promise对象，</li><li>才能够让异步事件按照预期顺序来执行。</li></ul><h1 id="ES6-中的Promise对象"><a href="#ES6-中的Promise对象" class="headerlink" title="ES6 中的Promise对象"></a>ES6 中的Promise对象</h1><hr><h2 id="什么是Promise"><a href="#什么是Promise" class="headerlink" title="什么是Promise"></a>什么是Promise</h2><p>*console.dir(Promise)<br>Promise是一个构造函数，自己身上有all、reject、resolve这几个眼熟的方法，<br>原型上有then、catch等同样很眼熟的方法。这么说用Promise new出来的对象肯定就有then、catch方法喽</p><h2 id="promise的基本使用"><a href="#promise的基本使用" class="headerlink" title="promise的基本使用"></a>promise的基本使用</h2><blockquote><p>例如：</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">runAsync</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> p = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve, reject</span>)</span>&#123;</span><br><span class="line">        <span class="comment">//做一些异步操作</span></span><br><span class="line">        setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(isTrue)&#123;</span><br><span class="line">                <span class="built_in">console</span>.log(<span class="string">'执行完成'</span>);</span><br><span class="line">                resolve(<span class="string">'随便什么数据'</span>);</span><br><span class="line">            &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="built_in">console</span>.log(<span class="string">'执行失败'</span>);</span><br><span class="line">                resolve(<span class="string">'错误数据'</span>);</span><br><span class="line">            &#125;</span><br><span class="line">           </span><br><span class="line">        &#125;, <span class="number">2000</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">return</span> p;            </span><br><span class="line">&#125;</span><br><span class="line">runAsync().then(<span class="function">(<span class="params">data</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(data) <span class="comment">//随便什么数据</span></span><br><span class="line">&#125;,(resean,data)=&gt;&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(data) <span class="comment">//错误数据</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>Promise的构造函数接收一个参数，是函数，并且传入两个参数：resolve，reject，<br>分别表示异步操作执行成功后的回调函数和异步操作执行失败后的</p><h2 id="回调函数。"><a href="#回调函数。" class="headerlink" title="回调函数。"></a>回调函数。</h2><blockquote></blockquote><p>在runAsync()的返回上直接调用then方法，then接收一个参数，是函数，<br>并且会拿到我们在runAsync中调用resolve时传的的参数。运行这段代码，<br>会在2秒后输出“执行完成”，紧接着输出“随便什么数据”。</p><blockquote></blockquote><p>原来then里面的函数就跟我们平时的回调函数一个意思，<br>能够在runAsync这个异步任务执行完成之后被执行。这就是Promise的作用了，<br>简单来讲，就是能把原来的回调写法分离出来，在异步操作执行完后，<br>用链式调用的方式执行回调函数。</p><h2 id="promise-链式操作的用法"><a href="#promise-链式操作的用法" class="headerlink" title="promise 链式操作的用法"></a>promise 链式操作的用法</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">runAsync1()</span><br><span class="line">.then(<span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(data);</span><br><span class="line">    <span class="keyword">return</span> runAsync2();</span><br><span class="line">&#125;)</span><br><span class="line">.then(<span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(data);</span><br><span class="line">    <span class="keyword">return</span> runAsync3();</span><br><span class="line">&#125;)</span><br><span class="line">.then(<span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(data);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><pre><code>每隔两秒输出每个异步回调中的内容，在runAsync2中传给resolve的数据，能在接下来的then方法中拿到</code></pre><h3 id="catch的用法"><a href="#catch的用法" class="headerlink" title="catch的用法"></a>catch的用法</h3><ul><li><p>效果和写在then的第二个参数里面一样。不过它还有另外一个作用：在执行resolve的回调（也就是上面then中的第一个参数）时，如果抛出异常了（代码出错了），那么并不会报错卡死js，而是会进到这个catch方法中。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">getNumber()</span><br><span class="line">.then(<span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'resolved'</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(data);</span><br><span class="line">    <span class="built_in">console</span>.log(somedata); <span class="comment">//此处的somedata未定义</span></span><br><span class="line">&#125;)</span><br><span class="line">.catch(<span class="function"><span class="keyword">function</span>(<span class="params">reason</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'rejected'</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(reason);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><pre><code>输出：// &apos;resolved&apos;,&apos;4&apos;,&apos;rejected&apos;,&apos;ReferenceError:somedata is not defined(...)&apos;</code></pre></li></ul><blockquote><p>也就是说进到catch方法里面去了，而且把错误原因传到了reason参数中。<br>即便是有错误的代码也不会报错了，这与我们的try/catch语句有相同的功能。</p></blockquote><h3 id="all的用法"><a href="#all的用法" class="headerlink" title="all的用法"></a>all的用法</h3><ul><li>Promise的all方法提供了并行执行异步操作的能力，并且在所有异步操作执行完后才执行回调。all接收一个数组参数，里面的值最终都返回Promise对象<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="built_in">Promise</span></span><br><span class="line">.all([runAsync1(), runAsync2(), runAsync3()])</span><br><span class="line">.then(<span class="function"><span class="keyword">function</span>(<span class="params">results</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(results);</span><br></pre></td></tr></table></figure></li></ul><p>三个异步操作的并行执行的，等到它们都执行完后才会进到then里面。<br>那么，三个异步操作返回的数据哪里去了呢？<br>都在then里面呢，all会把所有异步操作的结果放进一个数组中传给then，<br>就是上面的results</p><h3 id="race的用法"><a href="#race的用法" class="headerlink" title="race的用法"></a>race的用法</h3><p>all方法的效果实际上是「谁跑的慢，以谁为准执行回调」<br>rece那么相对的就有另一个方法「谁跑的快，以谁为准执行回调」，</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="built_in">Promise</span></span><br><span class="line">.race([runAsync1(), runAsync2(), runAsync3()])</span><br><span class="line">.then(<span class="function"><span class="keyword">function</span>(<span class="params">results</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(results);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>输出：<br>//异步任务1完成，随便什么数据1，异步任务2完成，异步任务3完成<br>在then里面的回调开始执行时，runAsync2()和runAsync3()并没有停止，<br>仍旧再执行。于是再过1秒后，输出了他们结束的标志。</p><p>这个race有什么用呢？使用场景还是很多的，<br>比如我们可以用race给某个异步请求设置超时时间，并且在超时后执行相应的操</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//请求某个图片资源</span></span><br><span class="line">     <span class="function"><span class="keyword">function</span> <span class="title">requestImg</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">         <span class="keyword">var</span> p = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve, reject</span>)</span>&#123;</span><br><span class="line">             <span class="keyword">var</span> img = <span class="keyword">new</span> Image();</span><br><span class="line">             img.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">                 resolve(img);</span><br><span class="line">             &#125;</span><br><span class="line">             img.src = <span class="string">'xxxxxx'</span>;</span><br><span class="line">         &#125;);</span><br><span class="line">         <span class="keyword">return</span> p;</span><br><span class="line">     &#125;</span><br><span class="line"></span><br><span class="line">     <span class="comment">//延时函数，用于给请求计时</span></span><br><span class="line">     <span class="function"><span class="keyword">function</span> <span class="title">timeout</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">         <span class="keyword">var</span> p = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve, reject</span>)</span>&#123;</span><br><span class="line">             setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">                 reject(<span class="string">'图片请求超时'</span>);</span><br><span class="line">             &#125;, <span class="number">5000</span>);</span><br><span class="line">         &#125;);</span><br><span class="line">         <span class="keyword">return</span> p;</span><br><span class="line">     &#125;</span><br><span class="line"></span><br><span class="line">     <span class="built_in">Promise</span></span><br><span class="line">     .race([requestImg(), timeout()])</span><br><span class="line">     .then(<span class="function"><span class="keyword">function</span>(<span class="params">results</span>)</span>&#123;</span><br><span class="line">         <span class="built_in">console</span>.log(results);</span><br><span class="line">     &#125;)</span><br><span class="line">     .catch(<span class="function"><span class="keyword">function</span>(<span class="params">reason</span>)</span>&#123;</span><br><span class="line">         <span class="built_in">console</span>.log(reason);</span><br><span class="line">     &#125;);</span><br></pre></td></tr></table></figure><h1 id="Async-Await"><a href="#Async-Await" class="headerlink" title="Async/Await"></a>Async/Await</h1><hr><p>async 函数就是 Generator 函数的语法糖。<br><a href="https://segmentfault.com/a/1190000007116715" target="_blank" rel="noopener">翻译原文</a></p><h2 id="传统ajax"><a href="#传统ajax" class="headerlink" title="传统ajax"></a>传统ajax</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 获取产品数据</span></span><br><span class="line">ajax(<span class="string">'products.json'</span>, (products) =&gt; &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'AJAX/products &gt;&gt;&gt;'</span>, <span class="built_in">JSON</span>.parse(products));</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 获取用户数据</span></span><br><span class="line">    ajax(<span class="string">'users.json'</span>, (users) =&gt; &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'AJAX/users &gt;&gt;&gt;'</span>, <span class="built_in">JSON</span>.parse(users));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 获取评论数据</span></span><br><span class="line">        ajax(<span class="string">'products.json'</span>, (comments) =&gt; &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">'AJAX/comments &gt;&gt;&gt;'</span>, <span class="built_in">JSON</span>.parse(comments));</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h2 id="Promise写法"><a href="#Promise写法" class="headerlink" title="Promise写法"></a>Promise写法</h2><p>Promise 已经被提及已久了，也是 ES6 的一部分。Promise 能消除 callback hell 带来的厄运金字塔，相比起来代码更清晰了，但还是达不到编写同步代码的直观程度。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Promise</span></span><br><span class="line"><span class="comment">// 封装 Ajax，返回一个 Promise</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">requestP</span>(<span class="params">url</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve, reject</span>) </span>&#123;</span><br><span class="line">        ajax(url, (response) =&gt; &#123;</span><br><span class="line">            resolve(<span class="built_in">JSON</span>.parse(response));</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 获取产品数据</span></span><br><span class="line">requestP(<span class="string">'products.json'</span>).then(<span class="function">(<span class="params">products</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'Promises/products &gt;&gt;&gt;'</span>, products);</span><br><span class="line">    <span class="comment">// 获取用户数据</span></span><br><span class="line">    <span class="keyword">return</span> requestP(<span class="string">'users.json'</span>);</span><br><span class="line">&#125;).then(<span class="function">(<span class="params">users</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'Promises/users &gt;&gt;&gt;'</span>, users);</span><br><span class="line">    <span class="comment">// 获取评论数据</span></span><br><span class="line">    <span class="keyword">return</span> requestP(<span class="string">'comments.json'</span>);</span><br><span class="line">&#125;).then(<span class="function">(<span class="params">comments</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'Promises/comments &gt;&gt;&gt;'</span>, comments);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h2 id="Generators"><a href="#Generators" class="headerlink" title="Generators"></a>Generators</h2><p>Generators 也是 ES6 一个新的特性，能够 暂停/执行 代码。yield 表示暂停，iterator.next 表示执行下一步，如果你不了解 Generators 也没关系，可以忽略它直接学习 await/async。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Generators</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">request</span>(<span class="params">url</span>) </span>&#123;</span><br><span class="line">    ajax(url, (response) =&gt; &#123;</span><br><span class="line">        iterator.next(<span class="built_in">JSON</span>.parse(response));</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> *<span class="title">main</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 获取产品数据</span></span><br><span class="line">    <span class="keyword">let</span> data = <span class="keyword">yield</span> request(<span class="string">'products.json'</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 获取用户数据</span></span><br><span class="line">    <span class="keyword">let</span> users = <span class="keyword">yield</span> request(<span class="string">'users.json'</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 获取评论数据</span></span><br><span class="line">    <span class="keyword">let</span> products = <span class="keyword">yield</span> request(<span class="string">'comments.json'</span>);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'Generator/products &gt;&gt;&gt;'</span>, products);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'Generator/users &gt;&gt;&gt;'</span>, users);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'Generator/comments &gt;&gt;&gt;'</span>, comments);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> iterator = main();</span><br><span class="line">iterator.next();</span><br></pre></td></tr></table></figure><h2 id="await-async"><a href="#await-async" class="headerlink" title="await/async"></a>await/async</h2><p>与 Promise 结合使用</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 封装 Ajax，返回一个 Promise</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">requestP</span>(<span class="params">url</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve, reject</span>) </span>&#123;</span><br><span class="line">        ajax(url, (response) =&gt; &#123;</span><br><span class="line">            resolve(<span class="built_in">JSON</span>.parse(response));</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">(<span class="keyword">async</span> () =&gt; &#123;</span><br><span class="line">    <span class="comment">// 获取产品数据</span></span><br><span class="line">    <span class="keyword">let</span> data = <span class="keyword">await</span> requestP(<span class="string">'products.json'</span>);</span><br><span class="line"></span><br><span class="line">     <span class="comment">// 获取用户数据</span></span><br><span class="line">    <span class="keyword">let</span> users = <span class="keyword">await</span> requestP(<span class="string">'users.json'</span>);</span><br><span class="line"></span><br><span class="line">     <span class="comment">// 获取评论数据</span></span><br><span class="line">    <span class="keyword">let</span> products = <span class="keyword">await</span> requestP(<span class="string">'comments.json'</span>);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'ES7 Async/products &gt;&gt;&gt;'</span>, products);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'ES7 Async/users &gt;&gt;&gt;'</span>, users);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'ES7 Async/comments &gt;&gt;&gt;'</span>, comments);</span><br><span class="line">&#125;());</span><br></pre></td></tr></table></figure><p>与 Fetch API 结合使用：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">(<span class="keyword">async</span> () =&gt; &#123;</span><br><span class="line"><span class="comment">// Async/await using the fetch API</span></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line"></span><br><span class="line">         <span class="comment">// 获取产品数据</span></span><br><span class="line">        <span class="keyword">let</span> products = <span class="keyword">await</span> fetch(<span class="string">'products.json'</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Parsing products</span></span><br><span class="line">        <span class="keyword">let</span> parsedProducts = <span class="keyword">await</span> products.json();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 获取用户数据</span></span><br><span class="line">        <span class="keyword">let</span> users = <span class="keyword">await</span> fetch(<span class="string">'users.json'</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Parsing users</span></span><br><span class="line">        <span class="keyword">let</span> parsedUsers = <span class="keyword">await</span> users.json();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 获取评论数据</span></span><br><span class="line">        <span class="keyword">let</span> comments = <span class="keyword">await</span> fetch(<span class="string">'comments.json'</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Parsing comments</span></span><br><span class="line">        <span class="keyword">let</span> parsedComments = <span class="keyword">await</span> comments.json();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'ES7 Async+fetch/products &gt;&gt;&gt;'</span>, parsedProducts);</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'ES7 Async+fetch/users &gt;&gt;&gt;'</span>, parsedUsers);</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'ES7 Async+fetch/comments &gt;&gt;&gt;'</span>, parsedComments);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(error);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;());</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">(<span class="keyword">async</span> () =&gt; &#123;</span><br><span class="line">    <span class="keyword">let</span> parallelDataFetch = <span class="keyword">await</span>* [</span><br><span class="line">        (<span class="keyword">await</span> fetch(<span class="string">'products.json'</span>)).json(),</span><br><span class="line">        (<span class="keyword">await</span> fetch(<span class="string">'users.json'</span>)).json(),</span><br><span class="line">        (<span class="keyword">await</span> fetch(<span class="string">'comments.json'</span>)).json()</span><br><span class="line">    ];</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'Async parallel+fetch &gt;&gt;&gt;'</span>, parallelDataFetch);</span><br><span class="line">&#125;());</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>gulp使用笔记</title>
      <link href="/gulp%E6%95%99%E7%A8%8B/"/>
      <url>/gulp%E6%95%99%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[<h2 id="介绍："><a href="#介绍：" class="headerlink" title="介绍："></a>介绍：</h2><hr><p>Gulp是Web开发中帮你自动完成任务的工具。它可以完成的前端任务包括：<br>启动Web Server<br>当文件修改保存后，自动刷新浏览器<br>批量处理Sass或者Less文件<br>优化资源CSS, JavaScript, 和 images<br>Gulp能做的比以上更多。你甚至可以用Gulp创建一个静态站点生成器。Gulp真是非常强大的。下面我们来学习创建自己的Gulp任务。</p><p>目前最流行的构建工具有Gulp和Grunt.<br>Gulp和Grunt的主要区别在于配置工作流的不同。Gulp的配置更加简洁，运行速度更快。</p><a id="more"></a><p>安装顺序：</p><ol><li>安装node</li><li>全局安装gulp</li><li>初始化项目 npm init</li><li>本地安装gulp </li><li>gulp插件安装</li></ol><h2 id="安装gulp"><a href="#安装gulp" class="headerlink" title="安装gulp"></a>安装gulp</h2><h3 id="1-全局安装gulp"><a href="#1-全局安装gulp" class="headerlink" title="1.全局安装gulp"></a>1.全局安装gulp</h3><blockquote><p><code>$ npm install gulp -g</code></p></blockquote><h3 id="2-初始化"><a href="#2-初始化" class="headerlink" title="2.初始化"></a>2.初始化</h3><blockquote><p><code>$ npm init</code></p></blockquote><h3 id="3-本地安装gulp"><a href="#3-本地安装gulp" class="headerlink" title="3.本地安装gulp"></a>3.本地安装gulp</h3><blockquote><p><code>$ npm isnntall gulp --save-dev</code></p></blockquote><h3 id="4-在目录中创建一个gulpfile-js文件"><a href="#4-在目录中创建一个gulpfile-js文件" class="headerlink" title="4.在目录中创建一个gulpfile.js文件"></a>4.在目录中创建一个gulpfile.js文件</h3><blockquote></blockquote><p>gulpfile文件是配置gulp的插件使用文件</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">'use strict'</span>;</span><br><span class="line"><span class="comment">//引入gulp</span></span><br><span class="line"><span class="keyword">var</span> gulp = <span class="built_in">require</span>(<span class="string">'gulp'</span>);</span><br></pre></td></tr></table></figure><h2 id="gulp插件安装"><a href="#gulp插件安装" class="headerlink" title="gulp插件安装"></a>gulp插件安装</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//引入插件</span></span><br><span class="line"><span class="keyword">var</span> sass = <span class="built_in">require</span>(<span class="string">'gulp-sass'</span>);</span><br><span class="line"><span class="keyword">var</span> imagemin = <span class="built_in">require</span>(<span class="string">'gulp-imagemin'</span>);</span><br><span class="line"><span class="keyword">var</span> babel = <span class="built_in">require</span>(<span class="string">"gulp-babel"</span>);</span><br><span class="line"><span class="keyword">var</span> browserSync = <span class="built_in">require</span>(<span class="string">'browser-sync'</span>).create();</span><br></pre></td></tr></table></figure><h3 id="安装-gulp-sass"><a href="#安装-gulp-sass" class="headerlink" title="安装 gulp-sass"></a>安装 gulp-sass</h3><blockquote><p><code>$ npm install gulp-sass --save-dev</code></p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> sass = <span class="built_in">require</span>(<span class="string">'gulp-sass'</span>);</span><br><span class="line">gulp.task(<span class="string">'sass'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> gulp.src(<span class="string">'./app/sass/*.scss'</span>)</span><br><span class="line">    <span class="comment">/*nested：嵌套缩进的css代码，它是默认值。</span></span><br><span class="line"><span class="comment">　　* expanded：没有缩进的、扩展的css代码。</span></span><br><span class="line"><span class="comment">　　* compact：简洁格式的css代码。</span></span><br><span class="line"><span class="comment">　　* compressed：压缩后的css代码。</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    .pipe(sass(&#123;<span class="attr">outputStyle</span>: <span class="string">'expanded'</span>&#125;).on(<span class="string">'error'</span>, sass.logError))</span><br><span class="line">    .pipe(gulp.dest(<span class="string">'./app/css'</span>));</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="安装-gulp-imagemin-图片压缩"><a href="#安装-gulp-imagemin-图片压缩" class="headerlink" title="安装 gulp-imagemin 图片压缩"></a>安装 gulp-imagemin 图片压缩</h3><blockquote><p><code>$ npm install gulp-imagemin --save-dev</code></p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> imagemin = <span class="built_in">require</span>(<span class="string">'gulp-imagemin'</span>);</span><br><span class="line"> </span><br><span class="line">gulp.task(<span class="string">'imagemin'</span>, () =&gt;</span><br><span class="line">    gulp.src(<span class="string">'app/images/*'</span>)</span><br><span class="line">        .pipe(imagemin())</span><br><span class="line">        .pipe(gulp.dest(<span class="string">'app/images'</span>))</span><br><span class="line">);</span><br></pre></td></tr></table></figure><h3 id="安装-gulp-babel-es6转化es5"><a href="#安装-gulp-babel-es6转化es5" class="headerlink" title="安装 gulp-babel es6转化es5"></a>安装 gulp-babel es6转化es5</h3><blockquote><p><code>npm install babel-cli babel-preset-env --save-dev</code></p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> babel = <span class="built_in">require</span>(<span class="string">"gulp-babel"</span>);</span><br><span class="line">gulp.task(<span class="string">'babel'</span>, () =&gt;</span><br><span class="line">    gulp.src(<span class="string">'app/js/index.js'</span>)</span><br><span class="line">        .pipe(babel(&#123;</span><br><span class="line">            presets: [<span class="string">'env'</span>]</span><br><span class="line">        &#125;))</span><br><span class="line">        .pipe(gulp.dest(<span class="string">'app/js'</span>))</span><br><span class="line">);</span><br></pre></td></tr></table></figure><h3 id="安装-browser-sync-实现热加载"><a href="#安装-browser-sync-实现热加载" class="headerlink" title="安装 browser-sync 实现热加载"></a>安装 browser-sync 实现热加载</h3><blockquote><p><code>$ npm install browser-sync --save-dev</code></p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> browserSync = <span class="built_in">require</span>(<span class="string">'browser-sync'</span>).create();</span><br><span class="line"><span class="comment">// 静态服务器</span></span><br><span class="line">gulp.task(<span class="string">'browser-sync'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    browserSync.init(&#123;</span><br><span class="line">        server: &#123;</span><br><span class="line">            baseDir: <span class="string">"./"</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h2 id="自动监听"><a href="#自动监听" class="headerlink" title="自动监听"></a>自动监听</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//自动监听完成任务</span></span><br><span class="line">gulp.task(<span class="string">'watch'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  gulp.watch(<span class="string">'./app/sass/*.scss'</span> ,[<span class="string">'sass'</span>]);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h2 id="完整gulpfile-js配置"><a href="#完整gulpfile-js配置" class="headerlink" title="完整gulpfile.js配置"></a>完整gulpfile.js配置</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">'use strict'</span>;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@type <span class="type">&#123;Gulp&#125;</span></span></span></span><br><span class="line"><span class="comment"> * 使用插件介绍</span></span><br><span class="line"><span class="comment"> * gulp是用来帮我们执行一些重复操作的，</span></span><br><span class="line"><span class="comment"> * 一般我们将这些重复操作划分为不同的任务</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> gulp = <span class="built_in">require</span>(<span class="string">'gulp'</span>); <span class="comment">//引入gulp</span></span><br><span class="line"><span class="keyword">const</span> sourcemaps = <span class="built_in">require</span>(<span class="string">'gulp-sourcemaps'</span>); <span class="comment">// 生成map文件</span></span><br><span class="line"><span class="keyword">const</span> stylus = <span class="built_in">require</span>(<span class="string">'gulp-stylus'</span>);    <span class="comment">// 使用stylus</span></span><br><span class="line"><span class="keyword">const</span> imagemin = <span class="built_in">require</span>(<span class="string">'gulp-imagemin'</span>); <span class="comment">// 对图片压缩</span></span><br><span class="line"><span class="keyword">const</span> browserSync = <span class="built_in">require</span>(<span class="string">'browser-sync'</span>).create(); <span class="comment">// 使用browserSync</span></span><br><span class="line"><span class="keyword">const</span> cache = <span class="built_in">require</span>(<span class="string">'gulp-cached'</span>);  <span class="comment">// 缓存文件</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@postcss</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> postcss = <span class="built_in">require</span>(<span class="string">'gulp-postcss'</span>); <span class="comment">// postcss平台</span></span><br><span class="line"><span class="keyword">const</span> autoprefixer = <span class="built_in">require</span>(<span class="string">'autoprefixer'</span>); <span class="comment">// 处理浏览器私有前缀</span></span><br><span class="line"><span class="keyword">const</span> cssnano = <span class="built_in">require</span>(<span class="string">'cssnano'</span>); <span class="comment">// css压缩</span></span><br><span class="line"><span class="keyword">const</span> cssnext = <span class="built_in">require</span>(<span class="string">'cssnext'</span>); <span class="comment">// 使用未来的css</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 引入组件</span></span><br><span class="line">gulp.task(<span class="string">'test'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;<span class="comment">//第一个参数‘任务名’，第二个参数‘任务执行体’</span></span><br><span class="line">    <span class="comment">//默认的代码放在这里</span></span><br><span class="line">    <span class="comment">//这里编写一些重复性执行的代码</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'hello gulp!'</span>)</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// Stylus</span></span><br><span class="line"><span class="keyword">let</span> stylusPath = <span class="string">'./css/*.styl'</span>;</span><br><span class="line">gulp.task(<span class="string">'stylus-css'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> plugins = [</span><br><span class="line">        autoprefixer(&#123;<span class="attr">browsers</span>: [<span class="string">'last 2 versions'</span>]&#125;),</span><br><span class="line">        cssnext  <span class="comment">// 使用未来的css</span></span><br><span class="line">        <span class="comment">// cssnano // 压缩css</span></span><br><span class="line">    ];</span><br><span class="line">    <span class="keyword">return</span> gulp.src(stylusPath)</span><br><span class="line">        .pipe(cache(<span class="string">'stylus-task'</span>))</span><br><span class="line">        .pipe(sourcemaps.init())</span><br><span class="line">        .pipe(stylus(&#123;</span><br><span class="line">            compress: <span class="literal">false</span>, <span class="comment">// 是否压缩</span></span><br><span class="line">        &#125;))</span><br><span class="line">        .on(<span class="string">'error'</span>, swallowError)</span><br><span class="line">        .pipe(postcss(plugins))</span><br><span class="line">        .on(<span class="string">'error'</span>, swallowError)</span><br><span class="line">        .pipe(sourcemaps.write(<span class="string">'.'</span>))</span><br><span class="line">        .pipe(gulp.dest(<span class="string">'./css/'</span>));</span><br><span class="line">    <span class="comment">//.pipe(browserSync.reload(&#123;stream:true&#125;)); //译后的css将注入到浏览器里实现更新</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 生成map文件</span></span><br><span class="line">gulp.task(<span class="string">'sourcemaps-inline'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> gulp.src(stylusPath)</span><br><span class="line">        .pipe(sourcemaps.init())</span><br><span class="line">        .pipe(sourcemaps.write())</span><br><span class="line">        .pipe(gulp.dest(<span class="string">'./css/'</span>));</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// External sourcemaps</span></span><br><span class="line">gulp.task(<span class="string">'sourcemaps-external'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> gulp.src(stylusPath)</span><br><span class="line">        .pipe(sourcemaps.init())</span><br><span class="line">        .pipe(sourcemaps.write(<span class="string">'.'</span>))</span><br><span class="line">        .pipe(gulp.dest(<span class="string">'./css/'</span>));</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 编译watch出错不自动退出</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">swallowError</span>(<span class="params">error</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// If you want details of the error in the console</span></span><br><span class="line">    <span class="built_in">console</span>.error(error.toString())</span><br><span class="line">    <span class="keyword">this</span>.emit(<span class="string">'end'</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 图片压缩</span></span><br><span class="line">gulp.task(<span class="string">'imgmin'</span>, () =&gt;</span><br><span class="line">    gulp.src(<span class="string">'./img/**/*'</span>)</span><br><span class="line">        .pipe(imagemin())</span><br><span class="line">        .pipe(gulp.dest(<span class="string">'./img/imgmin/'</span>))</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">//自动监听完成任务</span></span><br><span class="line"><span class="comment">// browser-sync</span></span><br><span class="line"><span class="keyword">var</span> reload = browserSync.reload;</span><br><span class="line">gulp.task(<span class="string">'server'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 启动browser-sync</span></span><br><span class="line">    browserSync.init(&#123;</span><br><span class="line">        server: <span class="string">'./'</span></span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">var</span> temlateFiles = [</span><br><span class="line">        <span class="string">'./*.html'</span>,</span><br><span class="line">        <span class="string">'./css/*.css'</span>,</span><br><span class="line">        <span class="string">'./js/*.js'</span></span><br><span class="line">    ];</span><br><span class="line">    gulp.watch(<span class="string">'./css/*.styl'</span>, [<span class="string">'stylus-css'</span>]);</span><br><span class="line">    gulp.watch(temlateFiles).on(<span class="string">'change'</span>, reload);</span><br><span class="line"></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 监听</span></span><br><span class="line">gulp.task(<span class="string">'watch'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    gulp.watch(<span class="string">'./css/*.styl'</span>, [<span class="string">'stylus-css'</span>]);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h2 id="package-json文件"><a href="#package-json文件" class="headerlink" title="package.json文件"></a>package.json文件</h2><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"name"</span>: <span class="string">"web"</span>,</span><br><span class="line">  <span class="attr">"version"</span>: <span class="string">"1.0.0"</span>,</span><br><span class="line">  <span class="attr">"description"</span>: <span class="string">"Gulp and Stylus"</span>,</span><br><span class="line">  <span class="attr">"main"</span>: <span class="string">"gulpfile.js"</span>,</span><br><span class="line">  <span class="attr">"scripts"</span>: &#123;</span><br><span class="line">    <span class="attr">"start"</span>: <span class="string">"gulp server"</span>,</span><br><span class="line">    <span class="attr">"test"</span>: <span class="string">"echo \"Error: no test specified\" &amp;&amp; exit 1"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"dependencies"</span>: &#123;&#125;,</span><br><span class="line">  <span class="attr">"devDependencies"</span>: &#123;</span><br><span class="line">    <span class="attr">"autoprefixer"</span>: <span class="string">"^9.1.5"</span>,</span><br><span class="line">    <span class="attr">"browser-sync"</span>: <span class="string">"^2.24.7"</span>,</span><br><span class="line">    <span class="attr">"cssnano"</span>: <span class="string">"^4.1.0"</span>,</span><br><span class="line">    <span class="attr">"cssnext"</span>: <span class="string">"^1.8.4"</span>,</span><br><span class="line">    <span class="attr">"gulp"</span>: <span class="string">"^3.9.1"</span>,</span><br><span class="line">    <span class="attr">"gulp-cached"</span>: <span class="string">"^1.1.1"</span>,</span><br><span class="line">    <span class="attr">"gulp-imagemin"</span>: <span class="string">"^4.1.0"</span>,</span><br><span class="line">    <span class="attr">"gulp-postcss"</span>: <span class="string">"^8.0.0"</span>,</span><br><span class="line">    <span class="attr">"gulp-sourcemaps"</span>: <span class="string">"^2.6.4"</span>,</span><br><span class="line">    <span class="attr">"gulp-stylus"</span>: <span class="string">"^2.7.0"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"keywords"</span>: [</span><br><span class="line">    <span class="string">"Stylus"</span>,</span><br><span class="line">    <span class="string">"postcss"</span></span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">"author"</span>: <span class="string">"xiaozhou"</span>,</span><br><span class="line">  <span class="attr">"license"</span>: <span class="string">"MIT"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><h2 id="参考："><a href="#参考：" class="headerlink" title="参考："></a>参考：</h2></blockquote><ul><li>【gulp入门教程】：<a href="http://www.jianshu.com/p/fbf9871dc47a/" target="_blank" rel="noopener">http://www.jianshu.com/p/fbf9871dc47a/</a></li><li>【gulp中文官网】: <a href="http://www.gulpjs.com.cn/" target="_blank" rel="noopener">http://www.gulpjs.com.cn/</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> node </category>
          
      </categories>
      
      
        <tags>
            
            <tag> gulp </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>npm基本使用</title>
      <link href="/npm%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/"/>
      <url>/npm%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/</url>
      
        <content type="html"><![CDATA[<p>NPM是随同NodeJS一起安装的包管理工具，能解决NodeJS代码部署上的很多问题，常见的使用场景有以下几种：<br>允许用户从NPM服务器下载别人编写的第三方包到本地使用。<br>允许用户从NPM服务器下载并安装别人编写的命令行程序到本地使用。<br>允许用户将自己编写的包或命令行程序上传到NPM服务器供别人使用。<br>由于新版的nodejs已经集成了npm，所以之前npm也一并安装好了。同样可以通过输入 <code>npm -v</code>来测试是否成功安装。命令如下，出现版本提示表示安装成功</p><a id="more"></a><h2 id="npm-淘宝镜像安装"><a href="#npm-淘宝镜像安装" class="headerlink" title="npm 淘宝镜像安装"></a>npm 淘宝镜像安装</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> npm install -g cnpm --registry=https://registry.npm.taobao.org</span></span><br></pre></td></tr></table></figure><h2 id="npm初始化"><a href="#npm初始化" class="headerlink" title="npm初始化"></a>npm初始化</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> npm init</span></span><br></pre></td></tr></table></figure><h2 id="npm-版本号"><a href="#npm-版本号" class="headerlink" title="npm 版本号"></a>npm 版本号</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> npm -v</span></span><br></pre></td></tr></table></figure><h2 id="npm-install-安装"><a href="#npm-install-安装" class="headerlink" title="npm install 安装"></a>npm install 安装</h2><h3 id="全局安装"><a href="#全局安装" class="headerlink" title="全局安装"></a>全局安装</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> npm install package -g</span></span><br></pre></td></tr></table></figure><h3 id="本地安装"><a href="#本地安装" class="headerlink" title="本地安装"></a>本地安装</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">//写入package.json文件安装</span><br><span class="line"><span class="meta">$</span><span class="bash"> npm install</span></span><br><span class="line"></span><br><span class="line">//安装到生产环境需要的dependencies中</span><br><span class="line"><span class="meta">$</span><span class="bash"> npm install package --save(-S)</span></span><br><span class="line"></span><br><span class="line">//安装到开发环境需要的devDependencies中</span><br><span class="line"><span class="meta">$</span><span class="bash"> npm install package --save-dev(-D)</span></span><br><span class="line"></span><br><span class="line">//安装指定版本</span><br><span class="line"><span class="meta">$</span><span class="bash"> npm install package@3.2.1 --save</span></span><br><span class="line"></span><br><span class="line">//安装到可选依赖optionalDependencies中</span><br><span class="line"><span class="meta">$</span><span class="bash"> npm install package --save-optional(-O)</span></span><br><span class="line"></span><br><span class="line">//精确安装模块</span><br><span class="line"><span class="meta">$</span><span class="bash"> npm install package --save-exact(-E)</span></span><br></pre></td></tr></table></figure><h2 id="npm-uninstall-卸载"><a href="#npm-uninstall-卸载" class="headerlink" title="npm uninstall 卸载"></a>npm uninstall 卸载</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> npm unninstall gulp -g</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> npm uninstall gulp</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> npm uninstall --save</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> npm uninstall gulp --save-dev</span></span><br></pre></td></tr></table></figure><h2 id="npm-update-更新模块"><a href="#npm-update-更新模块" class="headerlink" title="npm update 更新模块"></a>npm update 更新模块</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">//更新当前目录模块</span><br><span class="line"><span class="meta">$</span><span class="bash"> npm update package</span></span><br><span class="line"></span><br><span class="line">//更新全局模块</span><br><span class="line"><span class="meta">$</span><span class="bash"> npm update -g package</span></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">// 更新某个模块为最新版本可以</span><br><span class="line">// 使用@next</span><br><span class="line"><span class="meta">$</span><span class="bash"> npm install package@next --save</span></span><br></pre></td></tr></table></figure><h3 id="检查更新-版本号对比"><a href="#检查更新-版本号对比" class="headerlink" title="检查更新(版本号对比)"></a>检查更新(版本号对比)</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// 查看当前本地是否有更新包</span><br><span class="line"><span class="meta">$</span><span class="bash"> npm outdated</span></span><br><span class="line">// 查看当前包是否有更新包</span><br><span class="line"><span class="meta">$</span><span class="bash"> npm outdated package</span></span><br><span class="line">// 查看全局所有是否有更新包</span><br><span class="line"><span class="meta">$</span><span class="bash"> npm outdated -g</span></span><br><span class="line">// 查看全局包是否有更新包</span><br><span class="line"><span class="meta">$</span><span class="bash"> npm outdated package -g</span></span><br></pre></td></tr></table></figure><h3 id="1-使用npm-check更新"><a href="#1-使用npm-check更新" class="headerlink" title="1.使用npm-check更新"></a>1.使用npm-check更新</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">// 安装npm-check</span><br><span class="line"><span class="meta">$</span><span class="bash"> npm install -g npm-check</span></span><br><span class="line">// 检查本地更新</span><br><span class="line"><span class="meta">$</span><span class="bash"> npm-check</span></span><br><span class="line">// 检查全局更新</span><br><span class="line"><span class="meta">$</span><span class="bash"> npm-check -v</span></span><br><span class="line">// 选择是否更新的本地包</span><br><span class="line"><span class="meta">$</span><span class="bash"> npm-check -u</span></span><br><span class="line">// 选择是否更新全局包</span><br><span class="line"><span class="meta">$</span><span class="bash"> npm-check -g -u</span></span><br></pre></td></tr></table></figure><h3 id="2-使用npm-upgrade更新"><a href="#2-使用npm-upgrade更新" class="headerlink" title="2.使用npm-upgrade更新"></a>2.使用npm-upgrade更新</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// 安装npm-upgrade</span><br><span class="line"><span class="meta">$</span><span class="bash"> npm install -g npm-upgrade</span></span><br><span class="line">// 选择更新包并更新</span><br><span class="line"><span class="meta">$</span><span class="bash"> npm-upgrade</span></span><br></pre></td></tr></table></figure><h2 id="npm-查看已安装包列表"><a href="#npm-查看已安装包列表" class="headerlink" title="npm 查看已安装包列表"></a>npm 查看已安装包列表</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> npm ls</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> npm ls -g</span></span><br><span class="line">//查看版本号</span><br><span class="line"><span class="meta">$</span><span class="bash"> npm list package</span></span><br><span class="line">//查看具体信息</span><br><span class="line"><span class="meta">$</span><span class="bash"> npm info package</span></span><br><span class="line">//查看模块的注册信息</span><br><span class="line"><span class="meta">$</span><span class="bash"> npm view</span></span><br></pre></td></tr></table></figure><h2 id="npm-搜索"><a href="#npm-搜索" class="headerlink" title="npm 搜索"></a>npm 搜索</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> npm search express</span></span><br></pre></td></tr></table></figure><h2 id="管理模块的缓存"><a href="#管理模块的缓存" class="headerlink" title="管理模块的缓存"></a>管理模块的缓存</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// 查看缓存</span><br><span class="line"><span class="meta">$</span><span class="bash"> npm cache ls [&lt;path&gt;]</span></span><br><span class="line">// 清除缓存</span><br><span class="line"><span class="meta">$</span><span class="bash"> npm cache clean [&lt;path&gt;]</span></span><br></pre></td></tr></table></figure><h2 id="npm-启动、停止、重启模块"><a href="#npm-启动、停止、重启模块" class="headerlink" title="npm 启动、停止、重启模块"></a>npm 启动、停止、重启模块</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// 启动</span><br><span class="line"><span class="meta">$</span><span class="bash"> npm start [-- &lt;args&gt;]</span></span><br><span class="line">// 停止</span><br><span class="line"><span class="meta">$</span><span class="bash"> npm stop [-- &lt;args&gt;]</span></span><br><span class="line">// 重启</span><br><span class="line"><span class="meta">$</span><span class="bash"> npm restart [-- &lt;args&gt;]</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> node </category>
          
      </categories>
      
      
        <tags>
            
            <tag> npm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>php基础笔记清单</title>
      <link href="/php%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0%E6%B8%85%E5%8D%95/"/>
      <url>/php%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0%E6%B8%85%E5%8D%95/</url>
      
        <content type="html"><![CDATA[<h2 id="简要"><a href="#简要" class="headerlink" title="简要"></a>简要</h2><p>PHP 继承自一个老的工程，名叫 PHP/FI。PHP/FI 在 1995 年由 Rasmus Lerdorf 创建，最初只是一套简单的 Perl 脚本，用来跟踪访问他主页的人们的信息。它给这一套脚本取名为“Personal Home Page Tools”。随着更多功能需求的增加，Rasmus 写了一个更大的 C 语言的实现，它可以访问数据库，可以让用户开发简单的动态 Web 程序。Rasmus » 发布了 PHP/FI 的源代码，以便每个人都可以使用它，同时大家也可以修正它的 Bug 并且改进它的源代码。</p><p>PHP/FI，一个专为个人主页／表单提供解释程序的程序，已经包含了今天 PHP 的一些基本功能。它有着 Perl 样式的变量，自动解释表单变量，并可以嵌入 HTML。语法本身与 Perl 很相似，但是它很有限，很简单，还稍微有些不协调。</p><a id="more"></a><p>到1997年，PHP/FI 2.0，也就是它的 C 语言实现的第二版在全世界已经有几千个用户（估计）和大约 50,000 个域名安装，大约是 Internet 所有域名的 1%。但是那时只有几个人在为该工程撰写少量当代码，它仍然只是一个人的工程。</p><p>PHP/FI 2.0 在经历了数个 beta 版本的发布后于 1997 年 11 月发布了官方正式版本。不久，PHP 3.0 的第一个 alpha 版本的发布，PHP 从此走向了成功。</p><p>1998 年的冬天，PHP 3.0 官方发布不久，Andi Gutmans 和 Zeev Suraski 开始重新编写 PHP 代码。设计目标是增强复杂程序运行时的性能和 PHP 自身代码的模块性。PHP 3.0 的新功能和广泛的第三方数据库、API的支持使得这样程序的编写成为可能，但是 PHP 3.0 没有高效处理如此复杂程序的能力。</p><p>PHP 5 在长时间的开发及多个预发布版本后，于 2004 年 7 月发布正式版本。它的核心是 Zend 引擎 2 代，引入了新的对象模型和大量新功能。</p><h2 id="一-变量"><a href="#一-变量" class="headerlink" title="一.变量"></a>一.变量</h2><h3 id="1-变量命名及规范："><a href="#1-变量命名及规范：" class="headerlink" title="1.变量命名及规范："></a>1.变量命名及规范：</h3><p>一个变量包括两方面：变量名和变量值。</p><ul><li>变量名的第一个字符必须是$。</li><li>$后的第一字符必须是 字母 或 下划线。</li><li>php命名区分大小写，最好统一小写。</li></ul><h3 id="2-创建变量："><a href="#2-创建变量：" class="headerlink" title="2.创建变量："></a>2.创建变量：</h3><blockquote><p>在php中创建变量就是变量的声明</p></blockquote><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$a = <span class="string">'hello world!'</span>;</span><br></pre></td></tr></table></figure><h2 id="二-数据类型"><a href="#二-数据类型" class="headerlink" title="二.数据类型"></a>二.数据类型</h2><h3 id="1-基本数据类型-标量数据类型"><a href="#1-基本数据类型-标量数据类型" class="headerlink" title="1.基本数据类型(标量数据类型)"></a>1.基本数据类型(标量数据类型)</h3><ul><li>Integer    整数</li><li>Float        浮点数</li><li>String     字符串</li><li>Boolean     布尔型</li></ul><h3 id="2-组合数据类型"><a href="#2-组合数据类型" class="headerlink" title="2.组合数据类型"></a>2.组合数据类型</h3><ul><li>Array     数组</li><li>Object     对象</li></ul><h3 id="3-特殊数据类型"><a href="#3-特殊数据类型" class="headerlink" title="3.特殊数据类型"></a>3.特殊数据类型</h3><ul><li>Resourse     资源类型</li><li>Null        Null类型</li></ul><h3 id="4-松散类型"><a href="#4-松散类型" class="headerlink" title="4.松散类型"></a>4.松散类型</h3><blockquote><p>php属于松散类型的语言，可以自动转换变量的数据类型</p></blockquote><h3 id="5-测试变量的类型-gettype"><a href="#5-测试变量的类型-gettype" class="headerlink" title="5.测试变量的类型 gettype();"></a>5.测试变量的类型 gettype();</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$a;</span><br><span class="line"><span class="keyword">echo</span> gettype($a); <span class="comment">//NULL</span></span><br><span class="line">$a = <span class="string">'hello'</span>;</span><br><span class="line"><span class="keyword">echo</span> gettype($a); <span class="comment">//string</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure><blockquote></blockquote><p>is_int(val),is_float(val),is_string(val);<br>is_bool(val),is_array(val),is_object(val);<br>is_resource(val),is_null(val); //返回true或false</p><h3 id="6-改变变量的数据类型"><a href="#6-改变变量的数据类型" class="headerlink" title="6.改变变量的数据类型"></a>6.改变变量的数据类型</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$a = <span class="number">8.23</span>;</span><br><span class="line">settype($a,string); <span class="comment">//"8.23"</span></span><br><span class="line">settype($a,integer) <span class="comment">//8</span></span><br><span class="line">settype($a,boolean)<span class="comment">//1</span></span><br></pre></td></tr></table></figure><h3 id="7-强制类型转换"><a href="#7-强制类型转换" class="headerlink" title="7.强制类型转换"></a>7.强制类型转换</h3><blockquote><p>变量本身的类型    并没有发生变化</p></blockquote><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$a = <span class="number">23.22</span>;</span><br></pre></td></tr></table></figure><blockquote><p>(string) $a;(int) $a;(float) $a;(boolean) $a;<br>函数转换：intval(val),floatval(val),strval(val);<br>intval()还有第二个参数为转换的基数。</p></blockquote><h2 id="三-运算符与表达式"><a href="#三-运算符与表达式" class="headerlink" title="三.运算符与表达式"></a>三.运算符与表达式</h2><h3 id="1-运算符类型"><a href="#1-运算符类型" class="headerlink" title="1.运算符类型"></a>1.运算符类型</h3><blockquote></blockquote><ol><li>算数运算符         +,-,*,/,%</li><li>赋值运算符        =,+=,-=,*=,/=</li><li>位运算            &amp;,|,^,~,&lt;&lt;,&gt;&gt;</li><li>比较运算符        &gt;,&lt;,&gt;=,&lt;=,==,===,!=,!==</li><li>错误控制</li><li>增量、减量运算符    ++,– </li><li>逻辑运算符        &amp;&amp;(and),||(or),xor,!</li><li>字符串运算符     .,.=</li></ol><h3 id="2-运算符的优先级"><a href="#2-运算符的优先级" class="headerlink" title="2.运算符的优先级"></a>2.运算符的优先级</h3><blockquote></blockquote><ol><li>算数运算符: ‘*’, ‘/‘, ‘%’, ‘+’, ‘-‘</li><li>比较运算符: ‘&lt;’, ‘&lt;=’, ‘&gt;’, ‘&gt;=’, ‘&lt;&gt;’, ‘==’, ‘!=’, ‘===’, ‘!==’</li><li>赋值运算符: ‘=’, ‘+=’, ‘-=’, ‘*=’, ‘/=’, ‘.=’, ‘%=’</li></ol><h3 id="3-常量-define"><a href="#3-常量-define" class="headerlink" title="3.常量 define();"></a>3.常量 define();</h3><blockquote></blockquote><p>php中常量不同于变量，常量名不需要以 $ 开头，最好以大写命名<br>define(MY_COUNT,22);</p><h2 id="四-选择与循环"><a href="#四-选择与循环" class="headerlink" title="四.选择与循环"></a>四.选择与循环</h2><h3 id="1-选择语句"><a href="#1-选择语句" class="headerlink" title="1.选择语句"></a>1.选择语句</h3><blockquote></blockquote><ul><li>if语句</li><li>if…else语句</li><li>if…elseif…语句</li><li>switch…case语句</li><li>三目运算符 (exp) ? exp1 : exp2;</li></ul><h3 id="2-循环语句"><a href="#2-循环语句" class="headerlink" title="2.循环语句"></a>2.循环语句</h3><blockquote></blockquote><ul><li>while循环</li><li>do…while循环 //先执行循环体再判断</li><li>for…循环</li><li>foreach()循环</li></ul><h3 id="3-break语句退出循环"><a href="#3-break语句退出循环" class="headerlink" title="3.break语句退出循环"></a>3.break语句退出循环</h3><h3 id="4-continue语句跳过本次循环"><a href="#4-continue语句跳过本次循环" class="headerlink" title="4.continue语句跳过本次循环"></a>4.continue语句跳过本次循环</h3><h3 id="5-goto语句"><a href="#5-goto语句" class="headerlink" title="5.goto语句"></a>5.goto语句</h3><h2 id="五-函数"><a href="#五-函数" class="headerlink" title="五.函数"></a>五.函数</h2><p><code>function name(arg1,arg2){...};</code></p><blockquote></blockquote><ol><li>形参和实参</li><li>按值传递  ：传递的是值得副本</li><li>按引用传递 &amp; ： 传递的是值的引用</li><li>函数返回 return： 返回变量、常量、表达式或引用</li><li>全局变量和局部变量 global和GLOBALS[‘’]; 函数内部变量为局部变量</li><li>静态变量 static ： 也是局部变量，但会把值一直保存在内存中</li></ol><h2 id="六-对象"><a href="#六-对象" class="headerlink" title="六.对象"></a>六.对象</h2><blockquote><p>栈空间段， 堆空间段，代码段， 初使化静态段，</p></blockquote><h3 id="1-面向对象设计的优点：代码与需求易融合、可重用性、模块特性"><a href="#1-面向对象设计的优点：代码与需求易融合、可重用性、模块特性" class="headerlink" title="1.面向对象设计的优点：代码与需求易融合、可重用性、模块特性"></a>1.面向对象设计的优点：代码与需求易融合、可重用性、模块特性</h3><h3 id="2-面向对象设计的基础"><a href="#2-面向对象设计的基础" class="headerlink" title="2.面向对象设计的基础"></a>2.面向对象设计的基础</h3><h4 id="2-1-类-：-对一类事物的统称"><a href="#2-1-类-：-对一类事物的统称" class="headerlink" title="2.1 类 ： 对一类事物的统称"></a>2.1 类 ： 对一类事物的统称</h4><h4 id="2-2-对象-：-对象是类的实例"><a href="#2-2-对象-：-对象是类的实例" class="headerlink" title="2.2 对象  ： 对象是类的实例"></a>2.2 对象  ： 对象是类的实例</h4><h4 id="2-3-属性-：-类的对象的特性"><a href="#2-3-属性-：-类的对象的特性" class="headerlink" title="2.3 属性  ： 类的对象的特性"></a>2.3 属性  ： 类的对象的特性</h4><h4 id="2-4-方法-：-类的行为-类的方法和属性统称为类的-成员"><a href="#2-4-方法-：-类的行为-类的方法和属性统称为类的-成员" class="headerlink" title="2.4 方法  ： 类的行为 (类的方法和属性统称为类的 成员)"></a>2.4 方法  ： 类的行为 (类的方法和属性统称为类的 成员)</h4><h3 id="3-PHP中创建类和对象"><a href="#3-PHP中创建类和对象" class="headerlink" title="3.PHP中创建类和对象"></a>3.PHP中创建类和对象</h3><blockquote></blockquote><p>对象总是按引用的方式赋值的<br>class Car{};//创建Car类<br>$car1 = new Car();//创建一个Car类的实例 把一个对象的引用赋值给 $car1</p><h3 id="4-创建和使用属性"><a href="#4-创建和使用属性" class="headerlink" title="4.创建和使用属性"></a>4.创建和使用属性</h3><h4 id="4-1-属性的可见性-公有-public-var-、保护-protected、私有-private"><a href="#4-1-属性的可见性-公有-public-var-、保护-protected、私有-private" class="headerlink" title="4.1 属性的可见性 公有:public(var)、保护:protected、私有:private"></a>4.1 属性的可见性 公有:public(var)、保护:protected、私有:private</h4><blockquote></blockquote><p>public公有属性 可被任何代码访问<br>protected保护属性 可被本类和子类访问，不被本类和类的子类外部访问<br>private私有属性 不被类的子类和类的外部访问，只能本类访问</p><h4 id="4-2-申明属性并访问属性"><a href="#4-2-申明属性并访问属性" class="headerlink" title="4.2 申明属性并访问属性"></a>4.2 申明属性并访问属性</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Myclass</span> </span>&#123;</span><br><span class="line">  <span class="keyword">public</span> $attr1 = <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">private</span> $attr2;</span><br><span class="line">  <span class="keyword">protected</span> $attr3;</span><br><span class="line">&#125;</span><br><span class="line">$c1 = <span class="keyword">new</span> Myclass();</span><br><span class="line"><span class="keyword">echo</span> $c1-&gt;attr1;</span><br></pre></td></tr></table></figure><h4 id="4-3-静态属性-static-可以看成类的全局变量"><a href="#4-3-静态属性-static-可以看成类的全局变量" class="headerlink" title="4.3 静态属性 static 可以看成类的全局变量"></a>4.3 静态属性 static 可以看成类的全局变量</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Myclass</span> </span>&#123;</span><br><span class="line"><span class="keyword">static</span> <span class="keyword">public</span> $attr1 = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line">$c1 = <span class="keyword">new</span> Myclass();</span><br><span class="line"><span class="comment">//不能使用对象来访问只能类</span></span><br><span class="line"><span class="keyword">echo</span> Myclass::$attr1;</span><br></pre></td></tr></table></figure><h4 id="4-4-类常量-const"><a href="#4-4-类常量-const" class="headerlink" title="4.4 类常量 const"></a>4.4 类常量 const</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Myclass</span> </span>&#123;</span><br><span class="line"><span class="keyword">const</span> ATTR = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line">$c1 = <span class="keyword">new</span> Myclass();</span><br><span class="line"><span class="comment">//同静态变量一样</span></span><br><span class="line"><span class="keyword">echo</span> Myclass::ATTR;</span><br></pre></td></tr></table></figure><h4 id="4-5-反射-对象-ReflectionMethod-对象-方法-invokeArgs-对象，数组参数"><a href="#4-5-反射-对象-ReflectionMethod-对象-方法-invokeArgs-对象，数组参数" class="headerlink" title="4.5 反射 对象 ReflectionMethod(对象,方法) invokeArgs(对象，数组参数)"></a>4.5 反射 对象 ReflectionMethod(对象,方法) invokeArgs(对象，数组参数)</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Myclass</span> </span>&#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">say</span><span class="params">()</span></span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">'我叫小明'</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">run</span><span class="params">($name)</span></span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="string">'我叫'</span>.$name.<span class="string">'我跑了20000公里'</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">$xiaoming = <span class="keyword">new</span> Myclass();</span><br><span class="line">$str = <span class="keyword">new</span> ReflectionMethod($xiaoming,<span class="string">"say"</span>);</span><br><span class="line"><span class="keyword">echo</span> $str-&gt; invoke($xiaoming); <span class="comment">//我叫小明</span></span><br><span class="line">$str2 = <span class="keyword">new</span> ReflectionMethod($xiaoming,<span class="string">'run'</span>);</span><br><span class="line"><span class="keyword">echo</span> $str2-&gt; invokeArgs($xiaoming,<span class="keyword">Array</span>(<span class="string">'小明'</span>));<span class="comment">//我叫小明我跑了20000公里</span></span><br></pre></td></tr></table></figure><h4 id="5-方法"><a href="#5-方法" class="headerlink" title="5.方法"></a>5.方法</h4><blockquote></blockquote><p>方法的可见性(public,private,protected)、方法的创建、方法的调用、方法的参数和返回值</p><h4 id="5-1-方法中访问对象和属性-自包含性"><a href="#5-1-方法中访问对象和属性-自包含性" class="headerlink" title="5.1 方法中访问对象和属性(自包含性)"></a>5.1 方法中访问对象和属性(自包含性)</h4><blockquote><p>在对象的方法中访问同一个对象的属性，使用$this<br>$this分别代表对象$p1、$p2、$p3<br>$this-&gt;attr;</p></blockquote><h4 id="5-2-静态方法-static"><a href="#5-2-静态方法-static" class="headerlink" title="5.2 静态方法 static"></a>5.2 静态方法 static</h4><blockquote></blockquote><p>在静态方法中只能访问静态变量，不能访问普通变量<br>static的成员是属于类的，是不属于任何对象实例<br>类里面的静态方法只能访问类的静态的属性 self::<br>非静态方法里可以访问静态成员不能使用$this,使用self::</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Car</span> </span>&#123;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> $name = <span class="string">'nice'</span>;</span><br><span class="line"><span class="keyword">const</span> AGE = <span class="number">22</span>;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="function"><span class="keyword">function</span> <span class="title">run</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">echo</span> <span class="keyword">self</span>::$name; <span class="comment">//访问$name</span></span><br><span class="line"><span class="keyword">echo</span> <span class="keyword">self</span>:AGE;<span class="comment">//访问age</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">Car::run() <span class="comment">//调用静态方法</span></span><br></pre></td></tr></table></figure><h4 id="5-3-类型提示检测方法的参数"><a href="#5-3-类型提示检测方法的参数" class="headerlink" title="5.3 类型提示检测方法的参数"></a>5.3 类型提示检测方法的参数</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Car</span> </span>&#123;</span><br><span class="line"><span class="keyword">public</span> $color;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Gar</span> </span>&#123;</span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">paint</span><span class="params">(Car $car,$color)</span></span>&#123;</span><br><span class="line">$car-&gt;color=$color;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">$car = <span class="keyword">new</span> Car();</span><br><span class="line">$gar = <span class="keyword">new</span> Gar();</span><br><span class="line">$car-&gt;color = <span class="string">'red'</span>;</span><br><span class="line">$gar-&gt;paint($car,<span class="string">'blue'</span>);</span><br><span class="line"><span class="keyword">echo</span> $car-&gt;color; <span class="comment">//blue</span></span><br></pre></td></tr></table></figure><h4 id="5-4-封装实现独立性-private"><a href="#5-4-封装实现独立性-private" class="headerlink" title="5.4 封装实现独立性 private"></a>5.4 封装实现独立性 private</h4><h4 id="5-5-构造函数和析构函数construct-destruct"><a href="#5-5-构造函数和析构函数construct-destruct" class="headerlink" title="5.5 构造函数和析构函数construct(),destruct()"></a>5.5 构造函数和析构函数<strong>construct(),</strong>destruct()</h4><blockquote><p>调用基类的构造函数 parent::__construct();</p></blockquote><h4 id="5-5-get-set-和-call-重载对象"><a href="#5-5-get-set-和-call-重载对象" class="headerlink" title="5.5 get(),set()和__call()重载对象"></a>5.5 <strong>get(),</strong>set()和__call()重载对象</h4><blockquote></blockquote><p><strong>get()和</strong>set();<br>使对象能够对不可见的属性的访问和修改</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Car</span> </span>&#123;</span><br><span class="line"><span class="keyword">private</span> $color = <span class="string">'red'</span>;</span><br><span class="line"><span class="comment">//__get()方法</span></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__get</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">isset</span>(<span class="keyword">$this</span>-&gt;color))&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">$this</span>-&gt;color;</span><br><span class="line">&#125;<span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//__set()方法</span></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__set</span><span class="params">($val)</span></span>&#123;</span><br><span class="line"><span class="keyword">$this</span>-&gt;color = $val</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>方法重载：<br>子类写和父类方法一样的名字覆盖父类方法的形式</p></blockquote><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">One</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">say</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">'One'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Two</span> <span class="keyword">extends</span> <span class="title">One</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">say</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">parent</span>::say();</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">'Two'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="5-6-final关键字-类和方法阻止-继承-和-重载"><a href="#5-6-final关键字-类和方法阻止-继承-和-重载" class="headerlink" title="5.6 final关键字 类和方法阻止 继承 和 重载"></a>5.6 final关键字 类和方法阻止 继承 和 重载</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo</span></span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="5-7-clone-克隆-clone-克隆时执行的方法"><a href="#5-7-clone-克隆-clone-克隆时执行的方法" class="headerlink" title="5.7 clone 克隆 __clone();//克隆时执行的方法"></a>5.7 clone 克隆 __clone();//克隆时执行的方法</h4><blockquote><p>$p2 = clone $p1;</p></blockquote><h4 id="5-8-抽象方法和抽象类-abstract"><a href="#5-8-抽象方法和抽象类-abstract" class="headerlink" title="5.8 抽象方法和抽象类 abstract"></a>5.8 抽象方法和抽象类 abstract</h4><blockquote><p>抽象类不能产生实例对象</p></blockquote><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo</span> </span>&#123;</span><br><span class="line">    <span class="keyword">abstract</span> <span class="function"><span class="keyword">function</span> <span class="title">fun1</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="keyword">abstract</span> <span class="function"><span class="keyword">function</span> <span class="title">fun2</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Text</span> <span class="keyword">extends</span> <span class="title">Demo</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">fun1</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">fun2</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote></blockquote><p>子类必须把父类中的抽象方法全部都实现，否则子类中还存在抽象方法，<br>那么子类还是抽象类，还是不能实例化类</p><h4 id="5-9-接口-interface"><a href="#5-9-接口-interface" class="headerlink" title="5.9 接口 interface"></a>5.9 接口 interface</h4><blockquote></blockquote><p>接口的思想是指定了一个实现了该接口的类必须实现的一系列方法<br>接口是一种特殊的抽象类，抽象类又是一种特殊的类，所以接口也是一种特殊的类，<br>接口里面所有的方法必须 都是声明为抽象方法,另外接口里面不能声明变量(但可声明常量constant)<br>而且接口里面所有的成员都是public权限的</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">One</span> </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> constant = <span class="string">'constant value'</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">fun1</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">fun2</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Two</span> <span class="keyword">extends</span> <span class="title">One</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">fun3</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">fun4</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line">继承使用 implements 关键字</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Three</span> <span class="keyword">implements</span> <span class="title">One</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">fun1</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">fun2</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 实现了全部方法，我们去可以使用子类去实例化对象了</span></span><br><span class="line">$three = <span class="keyword">new</span> Three();</span><br><span class="line"><span class="comment">// 使用implements实现多个接口</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Four</span> <span class="title">implemtns</span> 接口一, 接口二, ... </span>&#123;</span><br><span class="line">    <span class="comment">// 必须把所有接口中的方法都要实现才可以实例化对象。</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote></blockquote><p>PHP中不仅一个类可以实现多个接口，也可以在继承一个类的同时实现多个接口,<br>一定要先继承类再去实现接口；</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// 使用extends继承一个类，使用implements实现多个接口</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Four</span> <span class="keyword">extends</span> 类名一 <span class="title">implemtns</span> 接口一, 接口二, ... </span>&#123;</span><br><span class="line">    <span class="comment">// 所有接口中的方法都要实现才可以实例化对象</span></span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="6-多态"><a href="#6-多态" class="headerlink" title="6. 多态"></a>6. 多态</h3><blockquote></blockquote><p>多态就是把子类对象赋值给父类引用，然后调用父类的方法，去执行子类覆盖父类的那个方法，<br>但在PHP里是弱类型的，对象引用都是一样的不分父类引用，还是子类引用。</p><h3 id="7-串行化serialize-方法，sleep-wakeup"><a href="#7-串行化serialize-方法，sleep-wakeup" class="headerlink" title="7.串行化serialize()方法，sleep(),wakeup()"></a>7.串行化serialize()方法，<strong>sleep(),</strong>wakeup()</h3><blockquote></blockquote><p>serialize()前调用<strong>sleep()方法限制串行化的内容，<br>unserialize()后调用</strong>wakeup()方法反序列化后的结果</p><h3 id="8-自动加载类-autoload"><a href="#8-自动加载类-autoload" class="headerlink" title="8.自动加载类 __autoload();"></a>8.自动加载类 __autoload();</h3><h3 id="9-魔术方法-get-set-clone-sleep-wakeup-…"><a href="#9-魔术方法-get-set-clone-sleep-wakeup-…" class="headerlink" title="9.魔术方法 get(),set(),clone,sleep(),__wakeup()…"></a>9.魔术方法 <strong>get(),</strong>set(),<strong>clone,</strong>sleep(),__wakeup()…</h3><h3 id="10-命名空间-namespace"><a href="#10-命名空间-namespace" class="headerlink" title="10.命名空间 namespace"></a>10.命名空间 namespace</h3><p>*<span style="color:red">参考</span>*</p><ul><li><a href="http://www.cnblogs.com/xiaochaohuashengmi/archive/2010/09/10/1823042.html" target="_blank" rel="noopener">http://www.cnblogs.com/xiaochaohuashengmi/archive/2010/09/10/1823042.html</a></li><li>&lt;&lt; php入门经典 &gt;&gt;</li></ul>]]></content>
      
      
      <categories>
          
          <category> PHP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PHP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JavaScript基础-02 变量、闭包、this、作用域</title>
      <link href="/JavaScript%E5%9F%BA%E7%A1%80-02%E5%8F%98%E9%87%8F%E3%80%81%E9%97%AD%E5%8C%85%E3%80%81this%E3%80%81%E4%BD%9C%E7%94%A8%E5%9F%9F/"/>
      <url>/JavaScript%E5%9F%BA%E7%A1%80-02%E5%8F%98%E9%87%8F%E3%80%81%E9%97%AD%E5%8C%85%E3%80%81this%E3%80%81%E4%BD%9C%E7%94%A8%E5%9F%9F/</url>
      
        <content type="html"><![CDATA[<h1 id="JavaScript中的执行细节"><a href="#JavaScript中的执行细节" class="headerlink" title="JavaScript中的执行细节"></a>JavaScript中的执行细节</h1><hr><blockquote></blockquote><ul><li><input checked disabled type="checkbox"> 全局作用域</li><li><input checked disabled type="checkbox"> 全局变量</li><li><input checked disabled type="checkbox"> 函数作用域</li><li><input checked disabled type="checkbox"> 执行环境栈(执行上下文栈ECS)</li><li><input checked disabled type="checkbox"> 执行环境(执行上下文EC)</li><li><input checked disabled type="checkbox"> 变量对象(VO),活动对象(AO)</li><li><input checked disabled type="checkbox"> 作用域，作用域链,变量声明</li></ul><a id="more"></a><h2 id="执行环境栈-ECS-："><a href="#执行环境栈-ECS-：" class="headerlink" title="执行环境栈(ECS)："></a>执行环境栈(ECS)：</h2><blockquote></blockquote><p>包括 全局执行环境 和 函数执行环境<br>当JavaScript代码执行的时候，会进入不同的执行上下文，<br>这些执行上下文就构成了一个执行上下文栈（Execution context stack，ECS）<br>栈底总是全局上下文，栈顶是当前（活动的）执行上下文<br>先进后出：<br>压栈：全局EC–&gt;局部EC1–&gt;局部EC2–&gt;当前EC<br>出栈：全局EC&lt;–局部EC1&lt;–局部EC2&lt;–当前EC</p><h2 id="执行环境-EC"><a href="#执行环境-EC" class="headerlink" title="执行环境(EC):"></a>执行环境(EC):</h2><p>分为3中，全局，函数，eval<br>每个执行环境EC都有三个重要的属性被创建：</p><blockquote></blockquote><p>变量对象（Variable object，VO),<br>作用域链（Scope chain）<br>this 的指向确定</p><blockquote></blockquote><ol><li><p>执行环境（execution context），也叫执行上下文，<br>每个函数都会有自己的执行环境；当浏览器首次加载脚本时，<br>他将默认进入全局执行环境；如果接下来要调用一个内部函数，则创建一个新的执行环境，<br>并将新建的执行环境压入执行环境栈（execution context stack）的顶部，在函数执行之后，栈将其环境弹出，控制权返回给之前的执行环境。<br>当代码在一个环境中执行时，</p></li><li><p>每个执行环境都有一个与之关联的变量对象（variable object），<br>环境中定义的所有变量和函数都保存在这个对象中。<br>然后每进入一个执行环境，这个变量对象就被激活变成活动对象 （activation object），<br>就可以被访问到了。当代码在一个环境中执行时，会创建变量对象的一个作用域链，<br>作用域链作用是保证对执行环境有权访问的所有变量和函数的有序访问。</p></li><li><p>执行环境的建立：<br>创建(进入)：创建作用域链，创建变量对象(参数，函数声明，变量声明)和this的值。<br>执行：初始化变量的值和函数引用，执行代码。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">EC=&#123;</span><br><span class="line">  Scope:&#123; <span class="comment">/* VO以及所有父执行上下文中的VO */</span>&#125;,</span><br><span class="line">  VO:&#123;<span class="comment">/* 函数中的arguments对象, 参数, 内部的变量以及函数声明 */</span> &#125;,</span><br><span class="line">  <span class="keyword">this</span>:&#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>变量对象初始化顺序：函数形参 –&gt; 函数声明 –&gt; 变量声明；（也是提升顺序）<br>① 函数声明过程中如果变量对象已经包含了相同名字的属性，则替换它的值；<br>② 变量声明过程中如果变量名和已经声明的函数名或者函数的参数名相同，则不会影响已经存在的属性。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="keyword">typeof</span> a); <span class="comment">// 'function'</span></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="keyword">typeof</span> b); <span class="comment">// 'undefined'</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> a = <span class="string">'a'</span>;</span><br><span class="line">  <span class="keyword">var</span> b = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'b'</span>)</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">a</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'c'</span>)</span><br><span class="line">&#125;</span><br><span class="line">&#125;());</span><br></pre></td></tr></table></figure></li></ol><h3 id="变量对象VO-：是与执行上下文相关的数据作用域-分为-2-个阶段：创建-和-执行"><a href="#变量对象VO-：是与执行上下文相关的数据作用域-分为-2-个阶段：创建-和-执行" class="headerlink" title="变量对象VO ：是与执行上下文相关的数据作用域 分为 2 个阶段：创建 和 执行"></a>变量对象VO ：是与执行上下文相关的数据作用域 分为 2 个阶段：创建 和 执行</h3><blockquote></blockquote><p>包括定义的 变量，函数声明，和函数的参数<br>全局对象 === 全局中的变量对象<br>当JavaScript代码运行中，如果试图寻找一个变量的时候，就会首先查找VO<br>VO特殊情况：函数表达式（与函数声明相对）不包含在VO之中<br>没有使用var声明的变量（这种变量是，”全局”的声明方式，<br>只是给Global添加了一个属性，并不在VO中）</p><h3 id="AO：只有全局上下文的变量对象允许通过VO的属性名称间接访问；"><a href="#AO：只有全局上下文的变量对象允许通过VO的属性名称间接访问；" class="headerlink" title="AO：只有全局上下文的变量对象允许通过VO的属性名称间接访问；"></a>AO：只有全局上下文的变量对象允许通过VO的属性名称间接访问；</h3><blockquote></blockquote><p>在函数执行上下文中，VO是不能直接访问的，<br>此时由激活对象(Activation Object,缩写为AO)扮演VO的角色。<br>包括 callee,length,props(当前函数的引用,参数个数,参数)<br>AO是在进入函数的执行上下文时创建的，并为该对象初始化一个arguments属性，该属性的值为Arguments对象。</p><h3 id="scope"><a href="#scope" class="headerlink" title="[[scope]]:"></a>[[scope]]:</h3><blockquote></blockquote><p>JS引擎还要创建一个与EC关联的全局变量对象(Varibale Object) VO,  并把VO指向全局对象，VO中不仅包含了全局对象的原有属性，还包括在全局定义的变量x 和函数 A，与此同时，在定义函数A的时候，还为 A 添加了一个内部属性scope，并将scope指向了 VO。<br>每个函数在定义的时候，都会创建一个与之关联的scope属性，scope总是指向定义函数时所在的环境。</p><blockquote></blockquote><p>[[Scope]]是一个包含了所有上层变量对象的分层链，它属于当前函数上下文，并在函数创建的时候，保存在函数中。<br>[[Scope]]是在函数创建的时候保存起来的——静态的（不变的），只有一次并且一直都存在——直到函数销毁。<br>比方说，哪怕函数永远都不能被调用到，[[Scope]]属性也已经保存在函数对象上了。<br>Scope是EC的属性，而[[scope]]则是函数的静态属性。</p><h4 id="scope和-scope"><a href="#scope和-scope" class="headerlink" title="scope和[[scope]]:"></a>scope和[[scope]]:</h4><p>Scope是EC的属性，而[[scope]]则是函数的静态属性。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">exampelEC = &#123;</span><br><span class="line">  Scope:[</span><br><span class="line">    f2Context.AO+f2.[[scope]],</span><br><span class="line">    f1.context.AO+f1.[[scope]],</span><br><span class="line">    globalContext.VO</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote></blockquote><p>当一段JavaScript代码执行的时候，JavaScript解释器会创建Execution Context，</p><blockquote></blockquote><p>其实这里会有两个阶段：<br>创建阶段（当函数被调用，但是开始执行函数内部代码之前）</p><ol><li><p>创建Scope chain</p><blockquote><p>创建VO/AO（variables, functions and arguments）</p></blockquote></li><li><p>设置this的值</p></li><li><p>激活/代码执行阶段</p><blockquote><p>设置变量的值、函数的引用，然后解释/执行代码</p></blockquote></li></ol><h2 id="作用域和作用域链："><a href="#作用域和作用域链：" class="headerlink" title="作用域和作用域链："></a>作用域和作用域链：</h2><p>在js中除了全局作用域，只有函数作用域，函数的作用域是在函数定义时候决定的不是执行调用决定的，定义函数时同时创建 [[scope]]属性指向VO或AO对象，而VO/AO中存放的是上一级的作用域包括变量，函数，参数…，因此，函数在执行时候创建EC进入ECS顶端并执行，在查找变量时，先从自身的AO开始查找，沿着[[scope]]属性指向的变量对象查找，直到全局变量对象中没找到，返回undefine作用域链实际上就是自下而上地将所有嵌套定义的上下文所绑定的变量对象AO串接到一起</p><blockquote><p><strong>JavaScript代码的整个执行过程，分为两个阶段，代码编译阶段与代码执行阶段。编译阶段由编译器完成，将代码翻译成可执行代码，这个阶段作用域规则会确定。执行阶段由引擎完成，主要任务是执行可执行代码，执行上下文在这个阶段创建。</strong></p></blockquote><p>作用域链与一个执行上下文相关，是内部上下文所有变量对象（包括父变量对象）的列表</p><blockquote><p>Scope = VO/AO + All Parent VO/AOs</p></blockquote><blockquote></blockquote><p>作用域是一套规则在 js 编译的时候确定的不是再执行的时候确定的，作用域链是作用域的实现，是js在执行的时候确定的包括自身的VO和上级的VO</p><blockquote></blockquote><p>总结：作用域链Scope其实就是对执行上下文EC中的变量对象VO|AO有序访问的链表。能按顺序访问到VO|AO，就能访问到其中存放的变量和函数的定义。其中，AO始终在Scope的最前端，不然为啥叫活跃对象呢。</p><h2 id="this-属于EC执行环境中的对象，指向调用函数时所属的对象"><a href="#this-属于EC执行环境中的对象，指向调用函数时所属的对象" class="headerlink" title="this:属于EC执行环境中的对象，指向调用函数时所属的对象"></a>this:属于EC执行环境中的对象，指向调用函数时所属的对象</h2><ol><li>全局中的this</li><li>函数中的this</li><li>对象中的this</li><li>构造函数中的this</li><li>原型中的this</li><li>call,apply,bind改变this</li></ol><blockquote></blockquote><ol><li>如果调用者函数，被某一个对象所拥有，那么该函数在调用时，内部的this指向该对象。</li><li>如果函数独立调用，那么该函数内部的this，则指向undefined。但是在非严格模式中，当this指向undefined时，它会被自动指向全局对象。</li><li><strong>如果一个函数中有this，这个函数中包含多个对象，尽管这个函数是被最外层的对象所调用，this指向的也只是它上一级的对象，</strong></li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> o = &#123;</span><br><span class="line">  a: <span class="number">10</span>,</span><br><span class="line">  b: &#123;</span><br><span class="line">    a: <span class="number">12</span>,</span><br><span class="line">    fn: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.a); <span class="comment">//12</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">o.b.fn();</span><br></pre></td></tr></table></figure><blockquote></blockquote><p>当obj在全局声明时，无论obj.c在什么地方调用，这里的this都指向全局对象，<br>而当obj在函数环境中声明时，这个this指向undefined，在非严格模式下，<br>会自动转向全局对象。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">'use strict'</span>;</span><br><span class="line"><span class="keyword">var</span> a = <span class="number">20</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> a = <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">var</span> obj = &#123;</span><br><span class="line">    a: <span class="number">10</span>, </span><br><span class="line">    c: <span class="keyword">this</span>.a + <span class="number">20</span>,</span><br><span class="line">    fn: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.a;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> obj.c;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(foo()); <span class="comment">// 运行会报错</span></span><br></pre></td></tr></table></figure><h2 id="闭包："><a href="#闭包：" class="headerlink" title="闭包："></a>闭包：</h2><p><strong>当函数可以记住并访问所在的作用域(全局作用域除外)时，就产生了闭包，即使函数是在当前作用域之外执行。</strong></p><blockquote></blockquote><p>闭包是一种特殊的对象。<br>它由两部分组成。执行上下文(代号A)，以及在该执行上下文中创建的函数（代号B）。<br>当B执行时，如果访问了A中变量对象中的值，那么闭包就会产生。</p><ol><li>在函数内部创建新的函数</li><li>新的函数在执行时，访问了函数的变量对象；</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> fn = <span class="literal">null</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> a = <span class="number">2</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">innnerFoo</span>(<span class="params"></span>) </span>&#123; </span><br><span class="line">        <span class="built_in">console</span>.log(a);</span><br><span class="line">    &#125;</span><br><span class="line">    fn = innnerFoo; <span class="comment">// 将 innnerFoo的引用，赋值给全局变量中的fn</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    fn(); <span class="comment">// 此处的保留的innerFoo的引用</span></span><br><span class="line">&#125;</span><br><span class="line">foo();</span><br><span class="line">bar(); <span class="comment">// 2</span></span><br></pre></td></tr></table></figure><blockquote></blockquote><ol><li>闭包是在函数被调用执行的时候(执行环境创建阶段)才被确认创建的。</li><li>闭包的形成，与作用域链的访问顺序有直接关系。</li><li>只有内部函数访问了上层作用域链中的变量对象时，才会形成闭包，因此，我们可以利用闭包来访问函数内部的变量。</li><li>chrome中理解的闭包，与《你不知道的js》与《JavaScript高级编程》中的闭包理解有很大不同</li></ol><h2 id="函数与函数式编程"><a href="#函数与函数式编程" class="headerlink" title="函数与函数式编程"></a>函数与函数式编程</h2><blockquote></blockquote><p>函数声明、函数表达式、匿名函数与自执行函数</p><blockquote></blockquote><p>函数声明<br>我们知道，JavaScript中，有两种声明方式，<br>一个是使用var的变量声明，另一个是使用function的函</p><h3 id="数声明。"><a href="#数声明。" class="headerlink" title="数声明。"></a>数声明。</h3><h4 id="函数表达式"><a href="#函数表达式" class="headerlink" title="函数表达式"></a>函数表达式</h4><p>与函数声明不同，函数表达式使用了var进行声明</p><h4 id="匿名函数"><a href="#匿名函数" class="headerlink" title="匿名函数"></a>匿名函数</h4><p>就是指的没有被显示进行赋值操作的函数。</p><h4 id="函数自执行-IIFE-与块级作用域"><a href="#函数自执行-IIFE-与块级作用域" class="headerlink" title="函数自执行(IIFE)与块级作用域"></a>函数自执行(IIFE)与块级作用域</h4><p>在ES5中，没有块级作用域，因此我们常常使用函数自执行的方式来模<br>仿块级作用域，这样就提供了一个独立的执行上下文，结合闭包，就为模块化提供了基础。</p><blockquote></blockquote><ol><li>(function(){})()</li><li>!function(){}()</li><li>+function(){}()</li></ol><h2 id="js中的垃圾收集"><a href="#js中的垃圾收集" class="headerlink" title="js中的垃圾收集"></a>js中的垃圾收集</h2><blockquote><p>JavaScript中具有自动垃圾收集机制，垃圾收集器会按照固定的时间和间隔运行</p></blockquote><h3 id="垃圾收集-2-种算法："><a href="#垃圾收集-2-种算法：" class="headerlink" title="垃圾收集 2 种算法："></a>垃圾收集 2 种算法：</h3><blockquote></blockquote><p>1.执行流进入执行环境时，就把所有变量标记为清除<br>执行流进入执行环境时，就把所有变量标记为 “进入环境”，当变量离开环境时<br>就标记为 “离开环境”<br>然后它会去掉环境中的变量和环境中的变量引用的变量的标记。而被标记的变量<br>将被视为准备删除的变量，然后，垃圾收集器完成内存清除工作，释放内存。</p><blockquote></blockquote><p>2.引用计数<br>按值被引用的次数为0，就被清除，不为0就不会垃圾收集(内存泄漏)。<br>引用计数存在 循环引用的问题，在ie中dom的操作最为明显</p>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JavaScript基础-01 类型转换和原型</title>
      <link href="/JavaScript%E5%9F%BA%E7%A1%80-01%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2%E3%80%81%E5%8E%9F%E5%9E%8B/"/>
      <url>/JavaScript%E5%9F%BA%E7%A1%80-01%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2%E3%80%81%E5%8E%9F%E5%9E%8B/</url>
      
        <content type="html"><![CDATA[<p><a href="https://segmentfault.com/a/1190000016845337" target="_blank" rel="noopener">类型转换</a></p><h2 id="强制类型转换-显式转换"><a href="#强制类型转换-显式转换" class="headerlink" title="强制类型转换(显式转换)"></a>强制类型转换(显式转换)</h2><ol><li>Number</li><li>String</li><li>Boolean,</li></ol><h3 id="Number转换"><a href="#Number转换" class="headerlink" title="Number转换"></a>Number转换</h3><blockquote></blockquote><ol><li>Number() 当转换一个 对象 时，先调用 valueOf()方法，如果返回原始类型的值,则直接对该值使用Number函数。</li><li>如果valueOf()方法返回对象,则调用 toString()方法,如果toString方法返回原始类型的值，则对该值使用Number函数。</li><li>如果toString方法返回的是对象，就报错。<a id="more"></a></li></ol><p><strong>数字的进制表示</strong>   </p><ul><li>二进制使用0b或0B开头</li><li>八进制使用0或0o或0O开头</li><li>十进制没有前缀</li><li>十六进制使用0x开头<br>默认情况下，JavaScript 内部会自动将八进制、十六进制、二进制转为十进制。</li></ul><blockquote><p>注意以0开头的数值如果没有超出8进制范围则表示为一个8进制的数如果超出则表示一个十进制的数，使用0o超出则报错</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">console.log(066) // 54</span><br><span class="line">console.log(0o66) // 54</span><br><span class="line">console.log(099) // 99</span><br><span class="line">console.log(0o99) // Uncaught SyntaxError: Invalid or unexpected token</span><br></pre></td></tr></table></figure><p><strong>原始值类型的转换</strong>  </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 数值：转换后还是原来的值</span></span><br><span class="line"><span class="built_in">Number</span>(<span class="number">324</span>) <span class="comment">// 324</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 字符串：如果可以被解析为数值，则转换为相应的数值</span></span><br><span class="line"><span class="built_in">Number</span>(<span class="string">'324'</span>) <span class="comment">// 324</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 字符串：如果不可以被解析为数值，返回 NaN</span></span><br><span class="line"><span class="built_in">Number</span>(<span class="string">'324abc'</span>) <span class="comment">// NaN</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 空字符串转为0</span></span><br><span class="line"><span class="built_in">Number</span>(<span class="string">''</span>) <span class="comment">// 0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 布尔值：true 转成 1，false 转成 0</span></span><br><span class="line"><span class="built_in">Number</span>(<span class="literal">true</span>) <span class="comment">// 1</span></span><br><span class="line"><span class="built_in">Number</span>(<span class="literal">false</span>) <span class="comment">// 0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// undefined：转成 NaN</span></span><br><span class="line"><span class="built_in">Number</span>(<span class="literal">undefined</span>) <span class="comment">// NaN</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// null：转成0</span></span><br><span class="line"><span class="built_in">Number</span>(<span class="literal">null</span>) <span class="comment">// 0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// parseInt逐个解析字符，而Number函数整体转换字符串的类型。</span></span><br><span class="line"><span class="built_in">parseInt</span>(<span class="string">'42.22 cats'</span>, <span class="number">10</span>) <span class="comment">// 42 // 第二个参数表示转换成多少进制的数值</span></span><br><span class="line"><span class="built_in">parseFloat</span>(<span class="string">'42.22 cats'</span>, <span class="number">10</span>) <span class="comment">// 42.22</span></span><br><span class="line"><span class="built_in">Number</span>(<span class="string">'42 cats'</span>) <span class="comment">// NaN</span></span><br></pre></td></tr></table></figure><p><strong>对象的转换</strong>  </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 转换对象</span></span><br><span class="line"><span class="built_in">Number</span>(&#123;<span class="attr">a</span>: <span class="number">1</span>&#125;) <span class="comment">// NaN</span></span><br><span class="line"><span class="built_in">Number</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]) <span class="comment">// NaN</span></span><br><span class="line"><span class="built_in">Number</span>([<span class="number">5</span>]) <span class="comment">// 5</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">Number</span>(&#123;</span><br><span class="line">  valueOf: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">  &#125;,</span><br><span class="line">  toString: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">3</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj = &#123;<span class="attr">x</span>: <span class="number">1</span>&#125;;</span><br><span class="line"><span class="built_in">Number</span>(obj) <span class="comment">// NaN</span></span><br><span class="line"><span class="comment">// 等同于</span></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">typeof</span> obj.valueOf() === <span class="string">'object'</span>) &#123;</span><br><span class="line">  <span class="built_in">Number</span>(obj.toString());</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  <span class="built_in">Number</span>(obj.valueOf());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>转换报错</strong>  </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  valueOf: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;&#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  toString: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;&#125;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">Number</span>(obj)</span><br><span class="line"><span class="comment">// TypeError: Cannot convert object to primitive value</span></span><br></pre></td></tr></table></figure><h3 id="String转换"><a href="#String转换" class="headerlink" title="String转换"></a>String转换</h3><blockquote></blockquote><p>String() 当转换一个 对象 时，先调用 toString()方法，如果返回对象，则调用 valueOf()方法<br>String方法背后的转换规则，与Number方法基本相同，只是互换了valueOf方法和toString方法的执行顺序。<br>Object.prototype.valueOf();<br>Object.prototype.toString();<br>valueOf()方法返回的是对象的 ‘值’，默认返回对象本身；<br>toString()返回对象字符串的形式</p><p><strong>原始类型值</strong> </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">String</span>(<span class="number">123</span>) <span class="comment">// "123"</span></span><br><span class="line"><span class="built_in">String</span>(<span class="string">'abc'</span>) <span class="comment">// "abc"</span></span><br><span class="line"><span class="built_in">String</span>(<span class="literal">true</span>) <span class="comment">// "true"</span></span><br><span class="line"><span class="built_in">String</span>(<span class="literal">undefined</span>) <span class="comment">// "undefined"</span></span><br><span class="line"><span class="built_in">String</span>(<span class="literal">null</span>) <span class="comment">// "null"</span></span><br></pre></td></tr></table></figure><p><strong>对象转换</strong><br>String方法的参数如果是对象，返回一个类型字符串；如果是数组，返回该数组的字符串形式。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">String</span>(&#123;<span class="attr">a</span>: <span class="number">1</span>&#125;) <span class="comment">// "[object Object]"</span></span><br><span class="line"><span class="built_in">String</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]) <span class="comment">// "1,2,3"</span></span><br></pre></td></tr></table></figure><h3 id="toString转换"><a href="#toString转换" class="headerlink" title="toString转换"></a>toString转换</h3><blockquote><p>Number对象部署了自己的toString方法，用来将一个数值转为字符串形式。</p></blockquote><p>toString方法可以接受一个参数，表示输出的进制。如果省略这个参数，默认将数值先转为十进制，再输出字符串；<br>否则，就根据参数指定的进制，将一个数字转化成某个进制的字符串。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(<span class="number">10</span>).toString(<span class="number">2</span>) <span class="comment">// "1010"</span></span><br><span class="line">(<span class="number">10</span>).toString(<span class="number">8</span>) <span class="comment">// "12"</span></span><br><span class="line">(<span class="number">10</span>).toString(<span class="number">16</span>) <span class="comment">// "a"</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10.</span>.toString(<span class="number">2</span>)</span><br><span class="line"><span class="comment">// "1010"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 其他方法还包括</span></span><br><span class="line"><span class="number">10</span> .toString(<span class="number">2</span>) <span class="comment">// "1010"</span></span><br><span class="line"><span class="number">10.0</span>.toString(<span class="number">2</span>) <span class="comment">// "1010"</span></span><br><span class="line"><span class="number">10</span>[<span class="string">'toString'</span>](<span class="number">2</span>) <span class="comment">// "1010"</span></span><br></pre></td></tr></table></figure><blockquote><p>toString方法只能将十进制的数，转为其他进制的字符串。如果要将其他进制的数，转回十进制，需要使用parseInt方法。</p></blockquote><h3 id="Boolean转换"><a href="#Boolean转换" class="headerlink" title="Boolean转换"></a>Boolean转换</h3><blockquote><p>Boolean函数可以将任意类型的值转为布尔值。<br>它的转换规则相对简单：除了以下五个值的转换结果为false，其他的值全部为true。<br>undefined<br>null<br>-0或+0<br>NaN<br>‘’（空字符串）</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Boolean</span>(<span class="literal">undefined</span>) <span class="comment">// false</span></span><br><span class="line"><span class="built_in">Boolean</span>(<span class="literal">null</span>) <span class="comment">// false</span></span><br><span class="line"><span class="built_in">Boolean</span>(<span class="number">0</span>) <span class="comment">// false</span></span><br><span class="line"><span class="built_in">Boolean</span>(<span class="literal">NaN</span>) <span class="comment">// false</span></span><br><span class="line"><span class="built_in">Boolean</span>(<span class="string">''</span>) <span class="comment">// false</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">oolean(&#123;&#125;) <span class="comment">// true</span></span><br><span class="line"><span class="built_in">Boolean</span>([]) <span class="comment">// true</span></span><br><span class="line"><span class="built_in">Boolean</span>(<span class="keyword">new</span> <span class="built_in">Boolean</span>(<span class="literal">false</span>)) <span class="comment">// true</span></span><br></pre></td></tr></table></figure><blockquote><p>注意，所有对象（包括空对象）的转换结果都是true，甚至连false对应的布尔对象new Boolean(false)也是true</p></blockquote><h2 id="自动转换-隐式转换"><a href="#自动转换-隐式转换" class="headerlink" title="自动转换(隐式转换)"></a>自动转换(隐式转换)</h2><blockquote></blockquote><p>自动转换的规则是这样的：预期什么类型的值，就调用该类型的转换函数。比如，某个位置预期为字符串，就调用String函数进行转换。<strong>如果该位置即可以是字符串，也可能是数值，那么默认转为数值。</strong><br>由于自动转换具有不确定性，而且不易除错，建议在预期为布尔值、数值、字符串的地方，全部使用Boolean、Number和String函数进行显式转换。</p><p>三种情况JavaScript 会自动转换数据类型  </p><p><strong>1. 不同类型的数据互相运算</strong>  </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">123</span> + <span class="string">'abc'</span> <span class="comment">// "123abc"</span></span><br></pre></td></tr></table></figure><p><strong>2. 对非布尔值类型的数据求布尔值。</strong>  </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="string">'abc'</span>) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'hello'</span>)</span><br><span class="line">&#125;  <span class="comment">// "hello"</span></span><br></pre></td></tr></table></figure><p><strong>3. 对非数值类型的值使用一元运算符（即+和-）</strong>  </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">+ &#123;<span class="attr">foo</span>: <span class="string">'bar'</span>&#125; <span class="comment">// NaN</span></span><br><span class="line">- [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>] <span class="comment">// NaN</span></span><br></pre></td></tr></table></figure><h3 id="自动转换为布尔值"><a href="#自动转换为布尔值" class="headerlink" title="自动转换为布尔值"></a>自动转换为布尔值</h3><blockquote></blockquote><p>JavaScript 遇到预期为布尔值的地方（比如if语句,三元，!!exp,的条件部分），就会将非布尔值的参数自动转换为布尔值。系统内部会自动调用Boolean函数。</p><p>因此除了以下五个值，其他都是自动转为true。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="literal">undefined</span></span><br><span class="line"><span class="literal">null</span></span><br><span class="line">+<span class="number">0</span>或<span class="number">-0</span></span><br><span class="line"><span class="literal">NaN</span></span><br><span class="line"><span class="string">''</span>（空字符串）</span><br></pre></td></tr></table></figure><h3 id="自动转换为字符串"><a href="#自动转换为字符串" class="headerlink" title="自动转换为字符串"></a>自动转换为字符串</h3><blockquote><p>JavaScript 遇到预期为字符串的地方，就会将非字符串的值自动转为字符串。具体规则是，先将复合类型的值转为原始类型的值，再将原始类型的值转为字符串。<br>字符串的自动转换，主要发生在字符串的加法运算时。当一个值为字符串，另一个值为非字符串，则后者转为字符串。</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'5'</span> + <span class="number">1</span> <span class="comment">// '51'</span></span><br><span class="line"><span class="string">'5'</span> + <span class="literal">true</span> <span class="comment">// "5true"</span></span><br><span class="line"><span class="string">'5'</span> + <span class="literal">false</span> <span class="comment">// "5false"</span></span><br><span class="line"><span class="string">'5'</span> + &#123;&#125; <span class="comment">// "5[object Object]"</span></span><br><span class="line"><span class="string">'5'</span> + [] <span class="comment">// "5"</span></span><br><span class="line"><span class="string">'5'</span> + <span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;&#125; <span class="comment">// "5function ()&#123;&#125;"</span></span><br><span class="line"><span class="string">'5'</span> + <span class="literal">undefined</span> <span class="comment">// "5undefined"</span></span><br><span class="line"><span class="string">'5'</span> + <span class="literal">null</span> <span class="comment">// "5null"</span></span><br></pre></td></tr></table></figure><p><strong>这种自动转换很容易出错</strong>  </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  width: <span class="string">'100'</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">obj.width + <span class="number">20</span> <span class="comment">// "10020"</span></span><br></pre></td></tr></table></figure><h3 id="自动转换为数值"><a href="#自动转换为数值" class="headerlink" title="自动转换为数值"></a>自动转换为数值</h3><blockquote></blockquote><p>JavaScript 遇到预期为数值的地方，就会将参数值自动转换为数值。系统内部会自动调用Number函数。<br>除了加法运算符（+）有可能把运算子转为字符串，其他运算符都会把运算子自动转成数值。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'5'</span> - <span class="string">'2'</span> <span class="comment">// 3</span></span><br><span class="line"><span class="string">'5'</span> * <span class="string">'2'</span> <span class="comment">// 10</span></span><br><span class="line"><span class="literal">true</span> - <span class="number">1</span>  <span class="comment">// 0</span></span><br><span class="line"><span class="literal">false</span> - <span class="number">1</span> <span class="comment">// -1</span></span><br><span class="line"><span class="string">'1'</span> - <span class="number">1</span>   <span class="comment">// 0</span></span><br><span class="line"><span class="string">'5'</span> * []    <span class="comment">// 0</span></span><br><span class="line"><span class="literal">false</span> / <span class="string">'5'</span> <span class="comment">// 0</span></span><br><span class="line"><span class="string">'abc'</span> - <span class="number">1</span>   <span class="comment">// NaN</span></span><br><span class="line"><span class="literal">null</span> + <span class="number">1</span> <span class="comment">// 1</span></span><br><span class="line"><span class="literal">undefined</span> + <span class="number">1</span> <span class="comment">// NaN</span></span><br></pre></td></tr></table></figure><p><strong>一元运算符也会把运算子转成数值。</strong>  </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">+<span class="string">'abc'</span> <span class="comment">// NaN</span></span><br><span class="line">-<span class="string">'abc'</span> <span class="comment">// NaN</span></span><br><span class="line">+<span class="literal">true</span> <span class="comment">// 1</span></span><br><span class="line">-<span class="literal">false</span> <span class="comment">// 0</span></span><br></pre></td></tr></table></figure><blockquote><p><strong>注意：null转为数值时为0，而undefined转为数值时为NaN。</strong></p></blockquote><h2 id="Object-上的的属性有"><a href="#Object-上的的属性有" class="headerlink" title="Object 上的的属性有:"></a>Object 上的的属性有:</h2><blockquote></blockquote><p>Object.assign(target, …sources) //把任意多个的源对象自身的可枚举属性拷贝给目标对象，然后返回目标对象。<br>Object.create(proto,[propertiesobject]) //创建一个拥有指定原型和若干个指定属性的对象。<br>Object.entries(obj) //返回一个包含由给定对象所有可枚举属性的属性名和属性值组成的<br>//[属性名，属性值] 键值对的数组，数组中键值对的排列顺序和使用for…in循环遍历该对象时返回的顺序一致。<br>Object.keys(obj) //返回一个由给定对象的所有可枚举自身属性的属性名组成的数组</p><blockquote></blockquote><p>Object.getOwnPropertyNames(obj) //返回一个由指定对象的所有自身属性的属性名（包括不可枚举属性）组成的数组。<br>Object.defineProperties(obj,{‘prop1’:{},’prop2’:{}}) //在一个对象上添加或修改一个或者多个自有属性，并返回该对象。<br>Object.defineProperty(obj,’property’,{}) //直接在一个对象上定义一个新属性，或者修改一个已经存在的属性， 并返回这个对象<br>Object.getOwnPropertyDescriptor(obj, prop) //返回指定对象上一个自有属性对应的属性描述符。<br>Object.freeze(obj)  //冻结一个对象 冻结指的是不能向这个对象添加新的属性,删除、修改、属性<br>Object.getPrototypeOf(object) //返回该对象的原型。<br>Object.is(value1, value2) //判断两个值是否是同一个值。<br>Object.isExtensible(obj) //判断一个对象是否是可扩展的（是否可以在它上面添加新的属性）<br>Object.isFrozen(obj) //判断一个对象是否被冻结（frozen）<br>Object.isSealed(obj) //判断一个对象是否是密封的（sealed）<br>Object.preventExtensions(obj) //让一个对象变的不可扩展，也就是永远不能再添加新的属性。<br>Object.setPrototypeOf(obj, prototype) //将一个指定的对象的原型设置为另一个对象或者null<br>Object.values(obj) //返回一个包含指定对象所有的可枚举属性值的数组</p><h3 id="Object-prototype"><a href="#Object-prototype" class="headerlink" title="Object.prototype"></a>Object.prototype</h3><blockquote></blockquote><p>Object.prototype.writable //默认为false<br>Object.prototype.enumerable //默认为false<br>Object.prototype.configurable //默认为false<br>Object.prototype.constructor //用于创建一个对象的原型。</p><blockquote></blockquote><p>Object.prototype 上的的属性有：Object又继承自Object.prototype,所以Object上也有prototype的方法</p><blockquote></blockquote><p>Object.prototype.hasOwnProperty(‘prop’) //返回一个布尔值，表示某个对象是否含有指定的属性，而且此属性非原型链继承。<br>Object.prototype.isPrototypeOf(obj) //返回一个布尔值，表示指定的对象是否在本对象的原型链中。<br>Object.prototype.propertyIsEnumerable() //判断指定属性是否可枚举。<br>Object.prototype.toString() //返回对象的字符串表示。<br>Object.prototype.valueOf() //返回指定对象的原始值。</p><h3 id="Array-prototype-上的属性："><a href="#Array-prototype-上的属性：" class="headerlink" title="Array.prototype 上的属性："></a>Array.prototype 上的属性：</h3><p>slice(),splice(),indexOf(),join()<br>…</p><h3 id="Function-prototype-上的属性"><a href="#Function-prototype-上的属性" class="headerlink" title="Function.prototype 上的属性:"></a>Function.prototype 上的属性:</h3><blockquote></blockquote><p>Function.prototype.length //返回函数参数的个数<br>Function.prototype.call(); //改变函数调用的对象<br>Function.prototype.apply();<br>Function.prototype.bind(this,arg1,arg2); //bind方法每运行一次，就返回一个新函数</p><h3 id="自定义的函数、Object、Array、String、Number、Boolean、包括-Function-都是-Function构造出的实例"><a href="#自定义的函数、Object、Array、String、Number、Boolean、包括-Function-都是-Function构造出的实例" class="headerlink" title="自定义的函数、Object、Array、String、Number、Boolean、包括 Function 都是 Function构造出的实例"></a>自定义的函数、Object、Array、String、Number、Boolean、包括 Function 都是 Function构造出的实例</h3><blockquote></blockquote><p>所以有这些函数的<strong>proto</strong> 引用指向 Function.prototype<br>而Function<br>而 Function.prototype.<strong>proto</strong>的引用 又 指向 Object.prototype<br>Object.<strong>proto</strong>  === Function.<strong>proto</strong> === Function.prototype<br>Function.prototype.<strong>proto</strong> === Object.prototype<br>Object.<strong>proto</strong>.<strong>proto</strong> === Object.prototype<br>Object.prototype.<strong>proto</strong> === null</p><h2 id="函数："><a href="#函数：" class="headerlink" title="函数："></a>函数：</h2><blockquote></blockquote><p>arguments.callee当前函数的引用<br>arguments.callee.caller调用当前函数的函数的引用<br>length命名参数个数 和prototype属性<br>apply(this,[a1,a2])和call(this,a1,a2),bind(this,a1,a2)</p><blockquote></blockquote><p>函数中参数是按 “值” 传递的而不是按引用传递的,<br>在传递一个引用类型作为参数时，传递的是这个对象的地址，而不是引用(指针)<br>每个执行环境都有一个与之关联的 变量对象 ，环境中定义的所有变量和函数都<br>保存在这个对象中。<br>在函数中 执行环境 就是这个函数中的作用域，“活动对象” 就作为这个函数的 “变量对象”，<br>开始这个活动对象只包含 arguments对象 (在全局作用域中是不存在的)，<br>作用域中下一个变量对象就是包含 “外部的环境”，而再下一个变量对象则来自下一个包含环境。<br>这样一直延续到下一全局执行环境(全局环境中的变量对象始终是作用域链中的最后一个对象)。</p><h2 id="数组："><a href="#数组：" class="headerlink" title="数组："></a>数组：</h2><blockquote></blockquote><ol><li>队列方法：push(),pop(),unshift(),shift();</li><li>排序方法: resverse(),sort(call);</li><li>操作方法: splice(star,num,ars3…),slice(star,end),join();</li><li>位置方法: indexOf(),lastIndexOf();//返回给定元素在数组中第一次出现的位置 如果没有返回-1</li><li>迭代方法: every(),some(),map(),filter(function(val,index,arr){},this),forEach()无返回</li><li>缩小方法: reduce(),reduceRight(function(val1,val2,index.arr){},val);val累积变量初始值</li></ol><h2 id="字符串："><a href="#字符串：" class="headerlink" title="字符串："></a>字符串：</h2><blockquote></blockquote><ol><li>字符方法: charAt(),charCodeAt();</li><li>字符串操作方法: concat(),slice(),substring(),substr(),trim();</li><li>字符串位置方法: indexOf(),lastIndexOf();</li><li>匹配方法: match()返回数组,search(),splite(‘,’,num)</li></ol><h2 id="数值"><a href="#数值" class="headerlink" title="数值:"></a>数值:</h2><blockquote></blockquote><ol><li>数字转字符串方法: toString(2) 转2进制，toFixed(2) //转保留小数,toExponential 转科学计数法toPrecision(2) 转有效数字</li><li>Math方法: Math.ceil(),Math.floor().Math.pow(),Math.random()随机,PI</li></ol><h2 id="JSON"><a href="#JSON" class="headerlink" title="JSON:"></a>JSON:</h2><blockquote></blockquote><ol><li><p>字符串必须使用双引号表示，不能使用单引号。</p></li><li><p>对象的键名必须放在双引号里面</p></li><li><p>数组或对象最后一个成员的后面，不能加逗号。</p></li><li><p>复合类型的值只能是数组或对象，不能是函数、正则表达式对象、日期对象。</p></li><li><p>简单类型的值只有四种：字符串、数值（必须以十进制表示）、布尔值和null（不能使用NaN, Infinity, -Infinity和undefined）。合格的JSON值</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">"one"</span>, <span class="string">"two"</span>, <span class="string">"three"</span>]</span><br><span class="line">&#123; <span class="string">"one"</span>: <span class="number">1</span>, <span class="string">"two"</span>: <span class="number">2</span>, <span class="string">"three"</span>: <span class="number">3</span> &#125;</span><br><span class="line">&#123;<span class="string">"names"</span>: [<span class="string">"张三"</span>, <span class="string">"李四"</span>] &#125;</span><br><span class="line">[ &#123; <span class="string">"name"</span>: <span class="string">"张三"</span>&#125;, &#123;<span class="string">"name"</span>: <span class="string">"李四"</span>&#125; ]</span><br></pre></td></tr></table></figure></li><li><p><strong>JSON.stringfy()</strong> 将一个json值转为字符串 JSON字符串以 单引号’’第二个参数接受一个数组指定需要转成字符串的属性</p></li><li><p>JSON.stringify发现参数对象有toJSON方法，就直接使用这个方法的返回值作为参数，而忽略原对象的其他参数。</p></li><li><p><strong>JSON.parse</strong>方法用于将JSON字符串转化成对象。</p></li></ol><h2 id="Date对象"><a href="#Date对象" class="headerlink" title="Date对象:"></a>Date对象:</h2><ol><li><p>Date() 带有参数，Date对象作为普通函数使用时，返回的还是当前时间。</p><blockquote></blockquote><p>1&gt; Date.now() 返回当前距离1970年1月1日 00:00:00 UTC的毫秒数<br>2&gt; Date.parse() 用来解析日期字符串，返回距离1970年1月1日 00:00:00的毫秒数<br>3&gt; Date.UTC() Date.UTC方法可以返回UTC时间</p></li><li><p>new Date()</p><blockquote></blockquote><p>注意：月份从0开始计算，但是，天数从1开始计算。<br>另外，除了日期默认为1，小时、分钟、秒钟和毫秒默认都是0。<br>1&gt; 如果不加参数，生成的就是代表当前时间的对象。<br>2&gt; new Date(‘2008,4,28’)支持多种写法’-‘,’/‘<br>3&gt; new Date(2008,4) 最少需要提供两个参数（年和月）</p></li><li><p>data = new Date():<br>get类：</p><blockquote></blockquote><p>getTime()：返回距离1970年1月1日00:00:00的毫秒数，等同于valueOf方法。<br>getDate()：返回实例对象对应每个月的几号（从1开始）。<br>getDay()：返回星期几，星期日为0，星期一为1，以此类推。<br>getYear()：返回距离1900的年数。<br>getFullYear()：返回四位的年份。<br>getMonth()：返回月份（0表示1月，11表示12月）。<br>getHours()：返回小时（0-23）。<br>getMilliseconds()：返回毫秒（0-999）。<br>getMinutes()：返回分钟（0-59）。<br>getSeconds()：返回秒（0-59）。<br>getTimezoneOffset()：返回当前时间与UTC的时区差异，以分钟表示，返回结果考虑到了夏令时因素。<br>set类：<br>setDate(date)：设置实例对象对应的每个月的几号（1-31），返回改变后毫秒时间戳。<br>setYear(year): 设置距离1900年的年数。<br>setFullYear(year [, month, date])：设置四位年份。<br>setHours(hour [, min, sec, ms])：设置小时（0-23）。<br>setMilliseconds()：设置毫秒（0-999）。<br>setMinutes(min [, sec, ms])：设置分钟（0-59）。<br>setMonth(month [, date])：设置月份（0-11）。<br>setSeconds(sec [, ms])：设置秒（0-59）。<br>setTime(milliseconds)：设置毫秒时间戳。</p></li></ol><h2 id="RegExp对象"><a href="#RegExp对象" class="headerlink" title="RegExp对象:"></a>RegExp对象:</h2><ol><li>写法：字面量，构造函数<blockquote></blockquote>var regex = /xyz/i;<br>var regex = new RegExp(‘xyz’,”i”);<br>test(),exec();</li></ol><h2 id="JavaScript中的操作符顺序"><a href="#JavaScript中的操作符顺序" class="headerlink" title="JavaScript中的操作符顺序"></a>JavaScript中的操作符顺序</h2><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Operator_Precedence" target="_blank" rel="noopener">运算符优先级</a></p><ol><li><code>()</code> 运算符优先级最高，然后<code>. []</code></li><li>一元运算符：++，–，！，delete，~</li><li>算数运算符： 先 * ，/，%后+，-</li><li>判断运算符：&gt;，&gt;=，&lt;，&lt;=，后 ==，！=，===，！==</li><li>位移运算符：先&amp;，再^，后|</li><li>短路运算符：先 &amp;&amp; 后 || 在后 :?</li><li>赋值运算符：+=，-=，*=，/=，%=，=</li><li>多重求值： <code>,</code></li></ol>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vim编辑器基本用法</title>
      <link href="/vim%E7%BC%96%E8%BE%91%E5%99%A8/"/>
      <url>/vim%E7%BC%96%E8%BE%91%E5%99%A8/</url>
      
        <content type="html"><![CDATA[<p>vi编辑器通常被简称为vi，而vi又是visual editor的简称 。它在Linux上的地位就像Edit程序在DOS上一样。它可以执行输出、删除、查找、替换、块操作等众多文本操作，而且用户可以根据自己的需要对其进行定制，这是其他编辑程序所没有的。<br>vi 编辑器并不是一个排版程序，它不像Word或WPS那样可以对字体、格式、段落等其他属性进行编排，它只是一个文本编辑程序。没有菜单，只有命令，且命令繁多。vi有3种基本工作模式：命令行模式、文本输入模式和末行模式。<br>Vim是vi的加强版，比vi更容易使用。vi的命令几乎全部都可以在vim上使用。</p><a id="more"></a><h2 id="1-进入编辑模式（esc退出）"><a href="#1-进入编辑模式（esc退出）" class="headerlink" title="1.进入编辑模式（esc退出）"></a>1.进入编辑模式（esc退出）</h2><blockquote></blockquote><p>a: 光标 向后移动一位<br>i: 光标 和 所在字符 不发生任何变化<br>o: 给新起一行<br>s: 删除光标所在字符</p><h2 id="2-尾行模式的操作-esc或两次esc"><a href="#2-尾行模式的操作-esc或两次esc" class="headerlink" title="2.尾行模式的操作(esc或两次esc)"></a>2.尾行模式的操作(esc或两次esc)</h2><blockquote></blockquote><p>:q                  //quit 退出编辑器<br>:w                  //write 对修改后的内容进行保存<br>:wq                 //write quit 比保存并退出编辑器<br>:q!                 //强制退出编辑器<br>:w!                 //强制保存<br>:wq!                //强制保存并退出编辑器</p><blockquote></blockquote><p>:set number 或 nu        //设置行号<br>:set nonumber 或 nonu    //取消设置行号</p><blockquote></blockquote><p>:/内容/    或    /内容   //查找指定内容<br>                        小写n（next）下一个<br>                        大写N（next）上一个<br>:noh                    //取消查找<br>:数字                     //跳转到数字所在行<br>:m+1                    // 当前行往下移动一行<br>:m-2                    // 当前行往上移动一行</p><h2 id="3-字符串替换cont1被替换为coont2"><a href="#3-字符串替换cont1被替换为coont2" class="headerlink" title="3. 字符串替换cont1被替换为coont2"></a>3. 字符串替换cont1被替换为coont2</h2><blockquote></blockquote><p>:s/cont1/cont2/         //替换光标所在行的第一个count1<br>:s/cont1/cont2/g        //替换光标所在行的全部的count1<br>:%s/cont1/cont2/g       //替换整个文档的count1</p><h2 id="3-命令模式操作"><a href="#3-命令模式操作" class="headerlink" title="3.命令模式操作"></a>3.命令模式操作</h2><blockquote></blockquote><h3 id="1-光标的移动"><a href="#1-光标的移动" class="headerlink" title="1) 光标的移动"></a>1) 光标的移动</h3><p>① 字符级<br>    上(k) 下(j) 左(h) 右(l) 键<br>② 单词级<br>    w: word移动到下个单词的首字母<br>    e: end移动到下(本)个单词的尾字母<br>    b: before移动到上个(本)单词的首字母<br>③ 行级<br>    $: 行尾<br>    0: 行首<br>④ 段落级(翻屏)<br>    {: 上个(本)段落首部<br>    }: 下个(本)段落尾部<br>⑤ 屏幕级(不翻屏)<br>    H: 屏幕首部<br>    L: 屏幕尾部<br>⑥ 文档级<br>    G: 文档尾部<br>    1G: 文档第1行<br>    nG: 文档第n行</p><h3 id="2-内容的删除"><a href="#2-内容的删除" class="headerlink" title="2) 内容的删除"></a>2) 内容的删除</h3><blockquote></blockquote><p>dd:     删除光标当前行<br>2dd:    包括当前行在内，向后删除2行内容<br>ndd:    包括当前行在内，删除后边n行内容<br>x:      删除光标所在字符<br>c+w     从光标所在位置删除单词结尾，并进入编辑模式</p><h3 id="3-内容的复制"><a href="#3-内容的复制" class="headerlink" title="3) 内容的复制"></a>3) 内容的复制</h3><blockquote></blockquote><p>yy:     复制光标当前行<br>2yy:    包括当前行在内，向后复制2行内容<br>nyy:    包括当前行在内，复制后边n行内容<br>p:      对复制好的内容进行粘贴操作</p><h3 id="4-相关快键键操作"><a href="#4-相关快键键操作" class="headerlink" title="4) 相关快键键操作"></a>4) 相关快键键操作</h3><blockquote></blockquote><p>u:      undo撤销<br>ctrl+r  反撤销<br>J:      合并上下两行<br>r:      单个字符替换<br>.点:     重复执行上次最近的命令</p><h2 id="vi-vim编辑器配置"><a href="#vi-vim编辑器配置" class="headerlink" title="vi/vim编辑器配置"></a>vi/vim编辑器配置</h2><p>linux打开<code>vi /etc/vim/vimrc</code><br>添加:</p><h3 id="在线配置"><a href="#在线配置" class="headerlink" title="在线配置"></a>在线配置</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -qO- https://raw.github.com/ma6174/vim/master/setup.sh | sh -x</span><br></pre></td></tr></table></figure><h3 id="简单配置："><a href="#简单配置：" class="headerlink" title="简单配置："></a>简单配置：</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line">set hlsearch &quot;高亮度反白</span><br><span class="line">set backspace=2 &quot;可随时用退格键删除</span><br><span class="line">set autoindent &quot;自动缩排</span><br><span class="line">set ruler &quot;可显示最后一行的状态</span><br><span class="line">set showmode &quot;左下角那一行的状态</span><br><span class="line">set nu &quot;可以在第一行的最前面显示行号</span><br><span class="line">set bg=dark &quot;显示不同的底色色调</span><br><span class="line">syntax on &quot;进行语法检验， 颜色显示</span><br><span class="line">set cursorline &quot; 突出显示当前行</span><br><span class="line"></span><br><span class="line">set ts=4 &quot;ts是tabstop的缩写， 设Tab宽4个空格</span><br><span class="line">set expandtab</span><br><span class="line">%retab!      &quot;加!是用于处理非空白字符之后的TAB， 即所有的TAB；若不加， 则只处理行首的TAB</span><br><span class="line"></span><br><span class="line">&quot; Encoding related</span><br><span class="line">set encoding=UTF-8</span><br><span class="line">set langmenu=zh_CN.UTF-8</span><br><span class="line">set fileencodings=ucs-bom,utf-8,cp936,gb18030,big5,euc-jp,euc-kr,latin1</span><br><span class="line">set fileencoding=utf-8</span><br><span class="line"></span><br><span class="line">&quot;支持&#123;&#125;、[]、()、&quot;&quot;、&apos;&apos;自动补全</span><br><span class="line">inoremap ( &lt;c-r&gt;=OpenPair(&apos;(&apos;)&lt;CR&gt;</span><br><span class="line">inoremap ) &lt;c-r&gt;=ClosePair(&apos;)&apos;)&lt;CR&gt;</span><br><span class="line">inoremap &#123; &lt;c-r&gt;=OpenPair(&apos;&#123;&apos;)&lt;CR&gt;</span><br><span class="line">inoremap &#125; &lt;c-r&gt;=ClosePair(&apos;&#125;&apos;)&lt;CR&gt;</span><br><span class="line">inoremap [ &lt;c-r&gt;=OpenPair(&apos;[&apos;)&lt;CR&gt;</span><br><span class="line">inoremap ] &lt;c-r&gt;=ClosePair(&apos;]&apos;)&lt;CR&gt;</span><br><span class="line"></span><br><span class="line">&quot; just for xml document, but need not for now.</span><br><span class="line">&quot;inoremap &lt; &lt;c-r&gt;=OpenPair(&apos;&lt;&apos;)&lt;CR&gt;</span><br><span class="line">&quot;inoremap &gt; &lt;c-r&gt;=ClosePair(&apos;&gt;&apos;)&lt;CR&gt;</span><br><span class="line"></span><br><span class="line">function! OpenPair(char)</span><br><span class="line">    let PAIRs = &#123;</span><br><span class="line">                \ &apos;&#123;&apos; : &apos;&#125;&apos;,</span><br><span class="line">                \ &apos;[&apos; : &apos;]&apos;,</span><br><span class="line">                \ &apos;(&apos; : &apos;)&apos;,</span><br><span class="line">                \ &apos;&lt;&apos; : &apos;&gt;&apos;</span><br><span class="line">                \&#125;</span><br><span class="line">    if line(&apos;$&apos;)&gt;2000</span><br><span class="line">        let line = getline(&apos;.&apos;)</span><br><span class="line"></span><br><span class="line">        let txt = strpart(line, col(&apos;.&apos;)-1)</span><br><span class="line">    else</span><br><span class="line">        let lines = getline(1,line(&apos;$&apos;))</span><br><span class="line">        let line=&quot;&quot;</span><br><span class="line">        for str in lines</span><br><span class="line">            let line = line . str . &quot;\n&quot;</span><br><span class="line">        endfor</span><br><span class="line"></span><br><span class="line">        let blines = getline(line(&apos;.&apos;)-1, line(&quot;$&quot;))</span><br><span class="line">        let txt = strpart(getline(&quot;.&quot;), col(&apos;.&apos;)-1)</span><br><span class="line">        for str in blines</span><br><span class="line">            let txt = txt . str . &quot;\n&quot;</span><br><span class="line">        endfor</span><br><span class="line">    endif</span><br><span class="line">    let oL = len(split(line, a:char, 1))-1</span><br><span class="line">    let cL = len(split(line, PAIRs[a:char], 1))-1</span><br><span class="line"></span><br><span class="line">    let ol = len(split(txt, a:char, 1))-1</span><br><span class="line">    let cl = len(split(txt, PAIRs[a:char], 1))-1</span><br><span class="line"></span><br><span class="line">    if oL&gt;=cL || (oL&lt;cL &amp;&amp; ol&gt;=cl)</span><br><span class="line">        return a:char . PAIRs[a:char] . &quot;\&lt;Left&gt;&quot;</span><br><span class="line">    else</span><br><span class="line">        return a:char</span><br><span class="line">    endif</span><br><span class="line">endfunction</span><br><span class="line">function! ClosePair(char)</span><br><span class="line">    if getline(&apos;.&apos;)[col(&apos;.&apos;)-1] == a:char</span><br><span class="line">        return &quot;\&lt;Right&gt;&quot;</span><br><span class="line">    else</span><br><span class="line">        return a:char</span><br><span class="line">    endif</span><br><span class="line">endf</span><br></pre></td></tr></table></figure><h3 id="实用设置"><a href="#实用设置" class="headerlink" title="实用设置"></a>实用设置</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br></pre></td><td class="code"><pre><span class="line">&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;</span><br><span class="line">&quot;&quot;实用设置</span><br><span class="line">&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;</span><br><span class="line">&quot; 设置当文件被改动时自动载入</span><br><span class="line">set autoread</span><br><span class="line">&quot; quickfix模式</span><br><span class="line">autocmd FileType c,cpp map &lt;buffer&gt; &lt;leader&gt;&lt;space&gt; :w&lt;cr&gt;:make&lt;cr&gt;</span><br><span class="line">&quot;代码补全 </span><br><span class="line">set completeopt=preview,menu </span><br><span class="line">&quot;允许插件  </span><br><span class="line">filetype plugin on</span><br><span class="line">&quot;共享剪贴板  </span><br><span class="line">set clipboard+=unnamed </span><br><span class="line">&quot;从不备份  </span><br><span class="line">set nobackup</span><br><span class="line">&quot;make 运行</span><br><span class="line">:set makeprg=g++\ -Wall\ \ %</span><br><span class="line">&quot;自动保存</span><br><span class="line">set autowrite</span><br><span class="line">set ruler                   &quot; 打开状态栏标尺</span><br><span class="line">set cursorline              &quot; 突出显示当前行</span><br><span class="line">set magic                   &quot; 设置魔术</span><br><span class="line">set guioptions-=T           &quot; 隐藏工具栏</span><br><span class="line">set guioptions-=m           &quot; 隐藏菜单栏</span><br><span class="line">&quot;set statusline=\ %&lt;%F[%1*%M%*%n%R%H]%=\ %y\ %0(%&#123;&amp;fileformat&#125;\ %&#123;&amp;encoding&#125;\ %c:%l/%L%)\</span><br><span class="line">&quot; 设置在状态行显示的信息</span><br><span class="line">set foldcolumn=0</span><br><span class="line">set foldmethod=indent </span><br><span class="line">set foldlevel=3 </span><br><span class="line">set foldenable              &quot; 开始折叠</span><br><span class="line">&quot; 不要使用vi的键盘模式，而是vim自己的</span><br><span class="line">set nocompatible</span><br><span class="line">&quot; 语法高亮</span><br><span class="line">set syntax=on</span><br><span class="line">&quot; 去掉输入错误的提示声音</span><br><span class="line">set noeb</span><br><span class="line">&quot; 在处理未保存或只读文件的时候，弹出确认</span><br><span class="line">set confirm</span><br><span class="line">&quot; 自动缩进</span><br><span class="line">set autoindent</span><br><span class="line">set cindent</span><br><span class="line">&quot; Tab键的宽度</span><br><span class="line">set tabstop=4</span><br><span class="line">&quot; 统一缩进为4</span><br><span class="line">set softtabstop=4</span><br><span class="line">set shiftwidth=4</span><br><span class="line">&quot; 不要用空格代替制表符</span><br><span class="line">set noexpandtab</span><br><span class="line">&quot; 在行和段开始处使用制表符</span><br><span class="line">set smarttab</span><br><span class="line">&quot; 显示行号</span><br><span class="line">set number</span><br><span class="line">&quot; 历史记录数</span><br><span class="line">set history=1000</span><br><span class="line">&quot;禁止生成临时文件</span><br><span class="line">set nobackup</span><br><span class="line">set noswapfile</span><br><span class="line">&quot;搜索忽略大小写</span><br><span class="line">set ignorecase</span><br><span class="line">&quot;搜索逐字符高亮</span><br><span class="line">set hlsearch</span><br><span class="line">set incsearch</span><br><span class="line">&quot;行内替换</span><br><span class="line">set gdefault</span><br><span class="line">&quot;编码设置</span><br><span class="line">set enc=utf-8</span><br><span class="line">set fencs=utf-8,ucs-bom,shift-jis,gb18030,gbk,gb2312,cp936</span><br><span class="line">&quot;语言设置</span><br><span class="line">set langmenu=zh_CN.UTF-8</span><br><span class="line">set helplang=cn</span><br><span class="line">&quot; 我的状态行显示的内容（包括文件类型和解码）</span><br><span class="line">&quot;set statusline=%F%m%r%h%w\ [FORMAT=%&#123;&amp;ff&#125;]\ [TYPE=%Y]\ [POS=%l,%v][%p%%]\ %&#123;strftime(\&quot;%d/%m/%y\ -\ %H:%M\&quot;)&#125;</span><br><span class="line">&quot;set statusline=[%F]%y%r%m%*%=[Line:%l/%L,Column:%c][%p%%]</span><br><span class="line">&quot; 总是显示状态行</span><br><span class="line">set laststatus=2</span><br><span class="line">&quot; 命令行（在状态行下）的高度，默认为1，这里是2</span><br><span class="line">set cmdheight=2</span><br><span class="line">&quot; 侦测文件类型</span><br><span class="line">filetype on</span><br><span class="line">&quot; 载入文件类型插件</span><br><span class="line">filetype plugin on</span><br><span class="line">&quot; 为特定文件类型载入相关缩进文件</span><br><span class="line">filetype indent on</span><br><span class="line">&quot; 保存全局变量</span><br><span class="line">set viminfo+=!</span><br><span class="line">&quot; 带有如下符号的单词不要被换行分割</span><br><span class="line">set iskeyword+=_,$,@,%,#,-</span><br><span class="line">&quot; 字符间插入的像素行数目</span><br><span class="line">set linespace=0</span><br><span class="line">&quot; 增强模式中的命令行自动完成操作</span><br><span class="line">set wildmenu</span><br><span class="line">&quot; 使回格键（backspace）正常处理indent, eol, start等</span><br><span class="line">set backspace=2</span><br><span class="line">&quot; 允许backspace和光标键跨越行边界</span><br><span class="line">set whichwrap+=&lt;,&gt;,h,l</span><br><span class="line">&quot; 可以在buffer的任何地方使用鼠标（类似office中在工作区双击鼠标定位）</span><br><span class="line">set mouse=a</span><br><span class="line">set selection=exclusive</span><br><span class="line">set selectmode=mouse,key</span><br><span class="line">&quot; 通过使用: commands命令，告诉我们文件的哪一行被改变过</span><br><span class="line">set report=0</span><br><span class="line">&quot; 在被分割的窗口间显示空白，便于阅读</span><br><span class="line">set fillchars=vert:\ ,stl:\ ,stlnc:\</span><br><span class="line">&quot; 高亮显示匹配的括号</span><br><span class="line">set showmatch</span><br><span class="line">&quot; 匹配括号高亮的时间（单位是十分之一秒）</span><br><span class="line">set matchtime=1</span><br><span class="line">&quot; 光标移动到buffer的顶部和底部时保持3行距离</span><br><span class="line">set scrolloff=3</span><br><span class="line">&quot; 为C程序提供自动缩进</span><br><span class="line">set smartindent</span><br><span class="line">&quot; 高亮显示普通txt文件（需要txt.vim脚本）</span><br><span class="line">au BufRead,BufNewFile *  setfiletype txt</span><br><span class="line">&quot;自动补全</span><br><span class="line">:inoremap ( ()&lt;ESC&gt;i</span><br><span class="line">:inoremap ) &lt;c-r&gt;=ClosePair(&apos;)&apos;)&lt;CR&gt;</span><br><span class="line">:inoremap &#123; &#123;&lt;CR&gt;&#125;&lt;ESC&gt;O</span><br><span class="line">:inoremap &#125; &lt;c-r&gt;=ClosePair(&apos;&#125;&apos;)&lt;CR&gt;</span><br><span class="line">:inoremap [ []&lt;ESC&gt;i</span><br><span class="line">:inoremap ] &lt;c-r&gt;=ClosePair(&apos;]&apos;)&lt;CR&gt;</span><br><span class="line">:inoremap &quot; &quot;&quot;&lt;ESC&gt;i</span><br><span class="line">:inoremap &apos; &apos;&apos;&lt;ESC&gt;i</span><br><span class="line">function! ClosePair(char)</span><br><span class="line">    if getline(&apos;.&apos;)[col(&apos;.&apos;) - 1] == a:char</span><br><span class="line">        return &quot;\&lt;Right&gt;&quot;</span><br><span class="line">    else</span><br><span class="line">        return a:char</span><br><span class="line">    endif</span><br><span class="line">endfunction</span><br><span class="line">filetype plugin indent on </span><br><span class="line">&quot;打开文件类型检测, 加了这句才可以用智能补全</span><br><span class="line">set completeopt=longest,menu</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux常用指令</title>
      <link href="/Linux%E5%B8%B8%E7%94%A8%E6%8C%87%E4%BB%A4/"/>
      <url>/Linux%E5%B8%B8%E7%94%A8%E6%8C%87%E4%BB%A4/</url>
      
        <content type="html"><![CDATA[<h2 id="1-查看目录下有什么文件-目录"><a href="#1-查看目录下有什么文件-目录" class="headerlink" title="1.查看目录下有什么文件/目录"></a>1.查看目录下有什么文件/目录</h2><pre><code>&gt; ls     //list 列出目录的文件信息&gt; ls -l或ll  //list -list以详细列表形式 查看目录文件&gt; ls -   //list -all查看目录“全部”(隐藏)文件&gt; ls -al     //list -all list查看目录“全部”(隐藏)文件详细信息&gt; ls 目录  //查看指定目录下有什么文件&gt; ls -i      //查看文件的索引号码</code></pre><h2 id="2-进行目录切换"><a href="#2-进行目录切换" class="headerlink" title="2.进行目录切换"></a>2.进行目录切换</h2><pre><code>&gt; cd dirname     //进行目录切换&gt; cd ..          //上一级目录切换&gt; cd ~ 或 cd  //直接切换到当前用户对应的家目录</code></pre><a id="more"></a><h2 id="3-查看完整的操作位置"><a href="#3-查看完整的操作位置" class="headerlink" title="3.查看完整的操作位置"></a>3.查看完整的操作位置</h2><pre><code>&gt;pwd</code></pre><h2 id="4-用户切换"><a href="#4-用户切换" class="headerlink" title="4.用户切换"></a>4.用户切换</h2><pre><code>&gt; su -  或 su - root //普通用户切换root用户；&gt; exit      //退回到原先的用户&gt; su 用户名    //普通用户切换多次使用su指令，会造成用户的“叠加”</code></pre><h2 id="5-查看当前用户是谁"><a href="#5-查看当前用户是谁" class="headerlink" title="5.查看当前用户是谁"></a>5.查看当前用户是谁</h2><pre><code>&gt; whoami</code></pre><h2 id="6-图形界面-与-命令界面-切换"><a href="#6-图形界面-与-命令界面-切换" class="headerlink" title="6.图形界面 与 命令界面 切换"></a>6.图形界面 与 命令界面 切换</h2><pre><code>root用户可以切换&gt;# init 3   //图像界面 切换 命令界面&gt;# init 5   //命令界面 切换 图形界面</code></pre><h2 id="7-查看一个指令对应的执行程序文件在哪"><a href="#7-查看一个指令对应的执行程序文件在哪" class="headerlink" title="7.查看一个指令对应的执行程序文件在哪"></a>7.查看一个指令对应的执行程序文件在哪</h2><pre><code>&gt; which 指令、</code></pre><h2 id="8-目录相关操作"><a href="#8-目录相关操作" class="headerlink" title="8.目录相关操作"></a>8.目录相关操作</h2><pre><code>1) 创建目录 make directory&gt; mkdir 目录名字&gt; mkdir -p newdir/newdir/newdir     //创建多个级别关系目录  //新的多级目录数目如果大于等于2个，就要使用 -p 参数  mkdir     dir/newdir      //不用 -p 参数  mkdir     dir/newdir/newdir   //使用 -p 参数2) 移动目录(文件和目录) move&gt; mv dir1 dir2              //把dir1移动到dir2目录下&gt; mv dir1/dir2 dir3         //把dir2移动到dir3目录下&gt; mv dir1/dir2 dir3/dir4    //把dir2移动到dir4目录下&gt; mv dir1/dir2 ./           //把dir2移动到当前目录下3) 改名字&gt; mv dir1 newdir            //修改dir1的名字为newdir//mv是“移动” 和 “该名字” 合并的指令&gt; mv dir1 ./newdir          //dir1移动到当前目录下 并改名为newdir&gt; mv dir1/dir2 dir3/newdir  //dir2移动到dir3目录下，并改名为newdir&gt; mv dir1/dir2 dir3/dir4    //dir2移动到dir4目录下，并改名为原名&gt; mv dir1/dir2 dir3/dir4/newdir /dir2移动到dir4目录下，并改名为newdir4) 目录复制(文件和目录)copy    ①文件的复制&gt; cp file1 dir/newfile2     //file1被复制一份到dir目录下并改名字为newfile2&gt; cp file1 dir              //file1被复制一份到dir目录下并改名字为原名&gt; cp dir1/filea dir2/newfile //filea被复制一份到dir2录下并改名字为newfile    ②目录的复制(需要设置-r[recursive递归]参数，无视目录的层次)&gt; cp -r dir1 dir2               //dir1被复制到dir2目录下，并改名字为原名&gt; cp -r dir1/dir2 dir3/newdir   //dir2被复制到dir3目录下，并改名字为newdir;&gt; cp -r dir1 ../../newdir       //dir1被复制到上两级目录下，并改名字为newdir5）删除(文件和目录)remove&gt; rm 文件&gt; rm -r 目录          //-r 递归方式删除目录&gt; rm -rf 文件/目录      //-r force 递归强制方式删除文件和目录                        //force强制，不需要额外的提示 rm -rf /</code></pre><h2 id="9-文件操作"><a href="#9-文件操作" class="headerlink" title="9.文件操作"></a>9.文件操作</h2><pre><code>1) 查看文件内容    cat filename        //打印文件内容到输出终端    more filename       //通过敲回车的方式逐行查看文件的各个行内容                        //默认从第一行开始查看  不支持回看 q 退出查看    less                //通过“上下左右”键查看文件的各个部分内容                        //支持回看                        //q 退出查看    head -n filename    //n(数字)查看文件的前n行内容    tail -n filename    //n(数字)查看文件的最末位n行内容    wc filename         //查看文件的行数2) 创建文件    &gt; touch dir1/filename    &gt; touch filename3) 给文件追加内容  //如果文件不存在会创建文件    &gt; echo &quot;内容&quot; &gt; 文件名称      //把“内容”以覆盖写方式追加给&quot;文件&quot;    &gt; echo 内容 &gt;&gt; 文件名称           //把&quot;内容&quot; 以追加的形式写给 &quot;文件&quot;</code></pre><h2 id="10-用户的操作"><a href="#10-用户的操作" class="headerlink" title="10.用户的操作"></a>10.用户的操作</h2><pre><code>配置文件: /etc/passwd1) 创建用户 user add    &gt;# useradd    &gt;# useradd liming           //创建一个liming用户 的 同时会创建一个同名组    &gt;# useradd -g 组别编号 username     //把用户的组别设置好，避免创建同名的组出来    &gt;# useradd -g 组编号 -u 用户编号 -d 家目录 username2) 修改用户 user modify    &gt;# usermod -g 组编号 -u 用户编号 -d 家目录 -l 新名字 username    （修改家目录时需要手动创建之）3) 删除用户 user delete    &gt;# userdel username             //删除用户，不删除家目录    &gt;# userdel -r username          //删除用户同时删除家目录4）给用户设置密码，使其登陆系统    &gt; passwd username</code></pre><h2 id="11-组别的操作"><a href="#11-组别的操作" class="headerlink" title="11.组别的操作"></a>11.组别的操作</h2><pre><code>配置文件：/etc/group1) 创建组 group add    &gt;# groupadd music    &gt;# groupadd php    &gt;# groupadd movice    &gt;# groupadd -g 组编号2) 修改组 group modify    &gt;# groupmod -g gid -n 新名字 groupname3) 删除组 group delete    &gt;# groupdel groupname           //如果组别下有用户存在，禁止删除</code></pre><h2 id="12-查看指令可设置的参数"><a href="#12-查看指令可设置的参数" class="headerlink" title="12.查看指令可设置的参数"></a>12.查看指令可设置的参数</h2><pre><code>&gt; man 指令</code></pre><h2 id="13-给文件设置权限"><a href="#13-给文件设置权限" class="headerlink" title="13.给文件设置权限"></a>13.给文件设置权限</h2><pre><code>1） 字母相对方式设置权限   // 针对一个组别设置权限，其他组别权限没有变化，称为 “相对方式” 权限设置  chmod指令chmod u+rwx filename                //给filename文件的主人增加 “读、写、执行” 权限chmod g-rx filename                 //给filename文件的同组用户 去掉 “读、执行”权限chmod u+/-rwx,g+/-rwx,o+/-rwx filename说明：① 每个单元&quot;+&quot; &quot;-&quot;只能使用一个② 可以同时给一个或多个组设置权限，组别之间使用&quot;,&quot;分割③ 每个单元的权限可以是&quot;rwx&quot;中的一个或多个&gt; chmod u+w,g-rx,o+rw filename      //给filename文件主人增加 写 权限，同组删除 读、执行 权限，                                    //其他用户组增加 读、写 权限&gt; chmod u+w,u-x filename            //给filename文件的主人 “增加写权限” 同时 “删除执行权限”&gt; chmod +/-rwx filename             //无视具体组别，统一给全部的组设置权限&gt; chmod +rw filename                //给filename用户全部增加 读，写 权限2) 数字绝对方式设置权限r读:4        w写:2    x执行:10: 没有权限1：执行2：写3：写，执行4：读5：读，执行6：读，写7：读，写，执行chmod ABC filename              //ABC分别代表主人，同组，其他组用户的权限&gt; chmod 753 filename            //主人rwx;同组rx,其他组wx问：字母相对 和 数字绝对 方式权限设置取舍？修改的权限相对比较少的时候使用 &quot;字母相对&quot; 方式修改的权限相对比较多的时候使用 &quot;数字绝对&quot; 方式</code></pre><h2 id="14-在文件中查找内容"><a href="#14-在文件中查找内容" class="headerlink" title="14. 在文件中查找内容"></a>14. 在文件中查找内容</h2><pre><code>grep 被搜寻内容 文件&gt; grep hello passwd             //在passwd文件中搜索hello内容，                                //会把hello所在行的内容都打印到终端显示</code></pre><h2 id="15-计算文件占用磁盘空间大小"><a href="#15-计算文件占用磁盘空间大小" class="headerlink" title="15. 计算文件占用磁盘空间大小"></a>15. 计算文件占用磁盘空间大小</h2><pre><code>&gt; ps -A                         //查看系统活跃进程progress&gt; kill -9 pid                   //杀死指定 pid进程号 的进程&gt; du -h 目标(file/dir)            //以K,M,G为单位显示文件或目录占据磁盘空间的大小(4k)</code></pre><h2 id="16-设置系统时间"><a href="#16-设置系统时间" class="headerlink" title="16. 设置系统时间"></a>16. 设置系统时间</h2><pre><code>&gt; date                          //查看时间&gt; date -s &quot;2016-07-27 23:59:59&quot; //给系统设置 指定 时间</code></pre><h2 id="17-查看系统分区"><a href="#17-查看系统分区" class="headerlink" title="17. 查看系统分区"></a>17. 查看系统分区</h2><pre><code>&gt; df -lh                        //查看系统分区情况</code></pre><h2 id="18-文件查找"><a href="#18-文件查找" class="headerlink" title="18.文件查找"></a>18.文件查找</h2><pre><code>find 查找目录 选项 选项值 选项 选项值 ...1） -name选项 根据名字进行查找    &gt; find / -name passwd[完整名字]     //&apos;递归遍历&apos;/ 全部目录最浅极其内部深层目录，寻找passwd文件    &gt; find / -name &quot;pas*&quot;[模糊查找] //在系统全部目录中模糊查找一个文件名字是pas开始的文件    &gt; find / -name &quot;*er*&quot;           //文件名字有出现er即可，不要求位置2） 限制查找的目录层次 -maxdepth -mindepth    -maxdepth 限制查找的最深目录    -mindepth 限制查找的最浅目录    &gt; find / -maxdepth 4 -name passwd   //查找 / 全部目录 最深为4的passwd文件    &gt; find / -mindepth 3 -maxdepth 5 -name passwd   // 查找 / 全部目录最浅 3 最深 5 的passwd文件3） 根据大小为条件进行文件查找    -size +/-数字        + : 表示大小大于某个范围        - : 表示大小小于某个范围    大小单位：        -size 5         //单位是512字节 5*512字节        -size 10c       //单位是 字节  10字节        -size 3k        //单位是 千字节 3*1024字节        -size 6M        //单位是 1024*千字节 6M字节     &gt; find ./ -size 14c     //在当前目录查找大小等于14字节的文件    &gt; find ./ -size +50M    //在系统全部目录里边查找大小大于50M的文件4） 根据文件权限查找    &gt; find ./ -perm 764     //查找权限为764的文件5)  根据文件类型查找(f/d)    &gt; find ./ -type f       //查找当前类型为 文件 的    &gt; find ./ -type d       //查找当前类型为 目录 的6） 根据文件的 &quot;主人&quot; 或 &quot;组别&quot; 来查找    &gt; find ./ -user zhou        //查找当前 主人为zhou 的文件和目录    &gt; find ./ -group music       //查找当前 组别为 music 的文件和目录</code></pre><h2 id="19-创建软-硬连接"><a href="#19-创建软-硬连接" class="headerlink" title="19. 创建软/硬连接"></a>19. 创建软/硬连接</h2><pre><code>&gt; ln -s 源文件 软连接&gt; ln -s /home/zhou/animat.txt /var/ani.txt      //使用绝对路径来创建有效&gt; ln -d 源文件 硬链接// -d 可以没有&gt; ln -d animat.txt app.txt                      //创建animat.txt 的硬链接app.txt                        //硬链接只能文件，不能目录</code></pre><h2 id="20-文件主人，组别设置"><a href="#20-文件主人，组别设置" class="headerlink" title="20.文件主人，组别设置"></a>20.文件主人，组别设置</h2><pre><code>&gt; chown 主人 filename&gt; chown 主人.组别 filename&gt; chown .组别 filename&gt; chown -R 主人.组别 dir        //通过递归方式设置目录的属组信息&gt; chmod -R 765 dir              //通过递归方式设置目录的权限&gt; service network restart/stop/star         //重启网络</code></pre><h2 id="21-光驱挂载"><a href="#21-光驱挂载" class="headerlink" title="21.光驱挂载"></a>21.光驱挂载</h2><pre><code>mount 硬件 挂载点目录(普通目录)        //挂载动作    &gt; mount /dev/cdrom /home/zhou/rom       //把光驱挂载到rom目录umount 硬件或挂载点                       //卸载动作    &gt; umount /dev/cdrom                     //(硬件)卸载光驱    &gt; umount /home/zhou/rom                 //(挂载点)卸载光驱    &gt; eject                                 //弹出光盘</code></pre><h2 id="22-ftp软件以及gcc软件安装"><a href="#22-ftp软件以及gcc软件安装" class="headerlink" title="22.ftp软件以及gcc软件安装"></a>22.ftp软件以及gcc软件安装</h2><pre><code>1) ftp安装rpm方式安装（vsftpd）软件    &gt; rpm -ivh 软件包全名                //安装软件    &gt; rpm -q 软件包全名(完整)          //query查看软件是否有安装    &gt; rpm -e 软件包全名(完整)          //卸载软件    &gt; rpm -qa                           //query all 查看系统里面全部rpm方式安装的软件    &gt; rpm -qa | grep ftpd(部分名字)     //模糊查找指定软件ftpd是否有安装    软件包全名 = 软件包名 + 软件版本 + 支持的系统 + 支持的cpu型号 + 文件后缀2) ftp使用启动ftp服务：    &gt; service vsftpd start/shop/restart //控制ftp服务 启动/停止/重启    &gt;ps -A | grep ftp                   //查看ftp相关服务进程3) 关闭linux防火墙(执行指令 &gt; setup)    &gt; setup    1&gt;//首次连接 错误     &gt; vi/det/selinux/config //把enforcing改为disabled    2&gt; //对使用ftp用户的限制    // /etc/vsftpd/user_list    // /etc/vsftpd/ftpusers    //限制普通用户只访问自己的家目录     /etc/vsftpd/vsftpd.conf     第97行和99行     //创建chroot_list文件做限制访问家目录的用户的设置 输入限制用户名4) 安装gcc软件：    1.gcc-4.4...    2.gcc-c++    3.gcc-java    //软件依赖        gcc-4.4.7.. --&gt; cloog-ppl和cpp --&gt;ppl(libppl.so.7和libppl_c.so.2)                        功能依赖：cpp --&gt;libmpfr.so.1(mpfr)        gcc-c++..  --&gt; libstdc++-devel</code></pre><h2 id="23-源码编译方式安装软件"><a href="#23-源码编译方式安装软件" class="headerlink" title="23.源码编译方式安装软件"></a>23.源码编译方式安装软件</h2><pre><code>1) zlib 软件安装    1&gt;&gt; zlib 可以对许多其他软件的编译代码起着 优化、压缩 的作用    a.解压压缩包：        &gt;tar.gz -------&gt; tar zxvf               压缩包tar.gz        &gt;.tar.bz2 --------&gt; tar jxvf            压缩包tar.bz2    b.源码编译方式安装        源码状态---&gt;二进制码状态---&gt;复制到系统指定目录        ① ./configure                   //在解压软件目录内执行        相关 参数配置，软件 安装位置，依赖软件设置，软件依赖检查等        例如--prefix 是设置软件的安装位置            &gt; ./configure --help        //查看当前软件可以设置的各种参数        ② make                          //编译，根据configure的配置信息生成“二进制文件”        ③ make install                  //把生成的二进制文件复制到系统指定的目录(本质与rpm安装类似)2） appache安装    ./configure --prefix=/usr/local/http2 \    --enable-modules=all \    --enable-mods-shared=all \                  //模块共享型                                                      要把全部的功能模块代码内容都编译到apache 本身软件 内部                                                    特点：apache本身软件会稍显臃肿但是再调用相关模块的时候速度会很快                                                    相对应类型：static 静态类型                                                    apache内部要被编译进行许多模块代码，其它模块代码都                                                    独立存在，需要什么模块，就立即include引用之                                                    特点：apache软件本身会非常小巧，器运行速度会很快    --enable-so             //可以识别so模块文件3） 启动apache服务    &gt; /usr/local/http2/bin/apachectl start/stop/restart</code></pre><h2 id="24-开机自动启动服务"><a href="#24-开机自动启动服务" class="headerlink" title="24.开机自动启动服务"></a>24.开机自动启动服务</h2><pre><code>1）配置文件路径：vi /etc/rc.d/rc.local在文件中增加/usr/local/http2/bin/apachectl start/usr/local/mysql/bin/mysqld_safe --user=mysql &amp;service vsftpd start</code></pre>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>屏幕设备的一些概念</title>
      <link href="/%E5%B1%8F%E5%B9%95%E8%AE%BE%E5%A4%87%E7%9A%84%E4%B8%80%E4%BA%9B%E6%A6%82%E5%BF%B5/"/>
      <url>/%E5%B1%8F%E5%B9%95%E8%AE%BE%E5%A4%87%E7%9A%84%E4%B8%80%E4%BA%9B%E6%A6%82%E5%BF%B5/</url>
      
        <content type="html"><![CDATA[<ul><li>ppi</li><li>dip</li><li>dpr(设备相思是比)</li><li>分辨率</li><li>屏幕尺寸</li><li>设备物理像素</li><li>设备独立像素</li></ul><a id="more"></a><ul><li><input checked disabled type="checkbox"> <p>分辨率：1920px * 1080px  在这个设备上纵向上有 1920个像素点（色块)</p></li><li><input checked disabled type="checkbox"> <p>屏幕尺寸：5英寸(in) = 5 * 2.54(cm) 指的是在这个屏幕上对角线的长度使用英寸单位 这个值是每个设备固定不变的</p></li><li><input checked disabled type="checkbox"> <p>像素密度ppi: ppi和dpi 指的是一个设备上每英寸长度上有多少个像素点 ppi = 对角线上的像素数量/尺寸</p></li></ul><ul><li><input checked disabled type="checkbox"> 设备像素比dpr: 指的是一个设备上的 物理像素和独立像素的比值 dpr = 设备像素/设备独立像素(css像素)</li></ul><blockquote><p>在javascript中，可以通过<code>window.devicePixelRatio</code>获取到当前设备的dpr。<br>在css中，可以通过<code>-webkit-device-pixel-ratio</code>，<code>-webkit-min-device-pixel-ratio</code>和 <code>-webkit-max-device-pixel-ratio</code>进行媒体查询，对不同dpr的设备，做一些样式适配(这里只针对webkit内核的浏览器和webview)。</p></blockquote><ul><li><input checked disabled type="checkbox"> dpr = 设备像素/CSS像素 = 设备像素 / 设备独立像素 <code>~=</code> PPI/160 = 页面缩放比例根据dpr可以判断 一个 css像素代表多少个设备像素点 1:1, 2:1 一个css像素代表4个物理像素3:1 一个css像素代表9个物理像素</li></ul><ul><li><input checked disabled type="checkbox"> 设备像素(物理像素) : 指的就是设备的 分辨率 大小</li><li><input checked disabled type="checkbox"> 设备独立像素(逻辑像素) dip: 指的是 css的像素 ideal viewport   (dip)设备独立像素 === css像素 === 逻辑像素</li></ul><h2 id="二-css单位：px-em-rem-vw-vh"><a href="#二-css单位：px-em-rem-vw-vh" class="headerlink" title="二 css单位：px,em,rem,vw,vh:"></a>二 css单位：px,em,rem,vw,vh:</h2><ul><li>px:     相对单位 根据dpr 相对设备物理像素的 数量</li><li>em:     相对单位 根据父元素的字体大小，相对父元素的字体大小成倍</li><li>rem:    相对单位 根据根目录html的字体大小，相对html元素字体大小成倍</li><li>vw,vh:  相对单位 根据每个设备的屏幕大小，宽和高，相对屏幕分成100份 100vw,100vh为满屏</li><li>rem详细： <blockquote><p>所谓的「root element」其实不是想象的那样，一个是16，一个是18，到底取的是那个 root element 的字体大小。<br>  ok，rem 的计算的时候，px 的方式会有一个16不随系统字体大小改变<br>  1rem = 1 * (htmlFontSize / 16) * defaultFontSize。<br>  在有些 Android 手机上，浏览器或 webview 的默认字体defaultFontSize是随着系统设置的字体改变的。</p></blockquote></li></ul><h2 id="三-viewport-虚拟视窗"><a href="#三-viewport-虚拟视窗" class="headerlink" title="三 viewport 虚拟视窗"></a>三 viewport 虚拟视窗</h2><h3 id="1-layout-viewport"><a href="#1-layout-viewport" class="headerlink" title="1. layout viewport"></a>1. layout viewport</h3><p>默认虚拟视窗为980px<br>document.documentElement.clientWidth和clientHeight可以获取layout viewport的尺寸 </p><h3 id="2-visual-viewport"><a href="#2-visual-viewport" class="headerlink" title="2. visual viewport"></a>2. visual viewport</h3><p>可视的视窗相对于 ideal viewport缩放<br>window.innerWidth/Height来获取visual viewport的尺寸</p><h3 id="3-ideal-viewport"><a href="#3-ideal-viewport" class="headerlink" title="3. ideal viewport"></a>3. ideal viewport</h3><p>ideal viewport的宽度等于移动设备的屏幕宽度(即设备逻辑像素)，跟设备的物理宽度没有关系<br>ideal viewport的宽度 = 屏幕的逻辑像素宽度</p><h3 id="4-缩放因子："><a href="#4-缩放因子：" class="headerlink" title="4. 缩放因子："></a>4. 缩放因子：</h3><p>相对于ideal viewport来缩放的<br>缩放改变的是 每CSS像素单位代表的物理像素长度，而设备像素保持不变<br>zoom factor = ideal viewport width / visual viewport width</p><h3 id="rem的计算"><a href="#rem的计算" class="headerlink" title="rem的计算"></a>rem的计算</h3><p>在没有设置html的fontSize值时，获取html fontSize的计算值，得到的就是defaultFontSize：<br>window.getComputedStyle(document.documentElement, null).getPropertyValue(‘font-size’)<br>这时html fontSize的设置值为空：<br>document.documentElement.style.fontSize</p><p>修改系统的默认字体在Android某些机型上会影响计算值（但这个值是个近似值，所以使用1rem的宽度的计算值作为计算基准）。不管是css还是js，其实都是修改html fontSize的设置值，不存在覆盖的问题。</p><p>计算值有单独的算法，而rem是根据html fontSize的计算值进行计算的：</p><p>没有设置html的fontSize的时候：<br>1rem = 1 * computedFontSize = 1 * defaultFontSize；<br>将html的fontSize设置为百分百值时：<br>1rem = 1 * computedFontSize = 1 * setFontSize * defaultFontSize；<br>将html的fontSize设置为px值时：<br>1rem = 1 * computedFontSize = 1 * (setFontSize / 16) * defaultFontSize；</p><h2 id="四-移动端简单rem2px方案"><a href="#四-移动端简单rem2px方案" class="headerlink" title="四 移动端简单rem2px方案"></a>四 移动端简单rem2px方案</h2><p><strong>js实现方法</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">;(<span class="function"><span class="keyword">function</span> (<span class="params">doc, win</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 计算 rem的值</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">adbt</span>(<span class="params">designWidth, rem2px</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> d = <span class="built_in">window</span>.document.createElement(<span class="string">'div'</span>);</span><br><span class="line">        d.style.width = <span class="string">'1rem'</span>;</span><br><span class="line">        d.style.display = <span class="string">"none"</span>;</span><br><span class="line">        <span class="keyword">var</span> head = <span class="built_in">window</span>.document.getElementsByTagName(<span class="string">'head'</span>)[<span class="number">0</span>];</span><br><span class="line">        head.appendChild(d);</span><br><span class="line">        <span class="keyword">var</span> defaultFontSize = <span class="built_in">parseFloat</span>(<span class="built_in">window</span>.getComputedStyle(d, <span class="literal">null</span>).getPropertyValue(<span class="string">'width'</span>)),</span><br><span class="line">        docEl = doc.documentElement,</span><br><span class="line">        clientWidth = docEl.clientWidth,</span><br><span class="line">        resizeEvt = <span class="string">'orientationchange'</span> <span class="keyword">in</span> <span class="built_in">window</span> ? <span class="string">'orientationchange'</span> : <span class="string">'resize'</span>,</span><br><span class="line">        recalc = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">var</span> clientWidth = docEl.clientWidth;</span><br><span class="line">            <span class="keyword">if</span> (!clientWidth) <span class="keyword">return</span>;</span><br><span class="line">            <span class="keyword">if</span> (clientWidth &gt; <span class="number">750</span>) &#123;</span><br><span class="line">                docEl.style.fontSize = <span class="number">100</span> + <span class="string">'px'</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                docEl.style.fontSize = (clientWidth / designWidth * rem2px / defaultFontSize ) * <span class="number">100</span> + <span class="string">"%"</span> ;</span><br><span class="line">                <span class="built_in">console</span>.log(docEl.style.fontSize)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        docEl.style.fontSize = clientWidth / designWidth * rem2px / defaultFontSize * <span class="number">100</span> + <span class="string">"%"</span> ;</span><br><span class="line">        <span class="comment">// Abort if browser does not support addEventListener</span></span><br><span class="line">        <span class="keyword">if</span> (!doc.addEventListener) <span class="keyword">return</span>;</span><br><span class="line">        win.addEventListener(resizeEvt, recalc, <span class="literal">false</span>);</span><br><span class="line">        doc.addEventListener(<span class="string">'DOMContentLoaded'</span>, recalc, <span class="literal">false</span>);</span><br><span class="line">        <span class="keyword">return</span> defaultFontSize;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 延时，让浏览器处理完viewport造成的影响，然后再计算root font-size。</span></span><br><span class="line">    <span class="comment">//设置 设计稿的尺寸和比例</span></span><br><span class="line">    adbt(<span class="number">750</span>, <span class="number">100</span>)</span><br><span class="line"></span><br><span class="line">&#125;)(<span class="built_in">document</span>, <span class="built_in">window</span>);</span><br></pre></td></tr></table></figure><p><strong>css3实现方法</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">$vw_base = 750</span><br><span class="line"><span class="selector-tag">html</span> &#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">20px</span>; <span class="comment">/*不支持vw单位时，回退到px单位*/</span></span><br><span class="line">    <span class="attribute">font-size</span>: <span class="built_in">calc</span>(<span class="number">100</span>/($vw_base/<span class="number">100</span>)*<span class="number">1vw</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*横屏*/</span></span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">orientation:</span> landscape) &#123;</span><br><span class="line">  <span class="selector-tag">html</span> &#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="built_in">calc</span>(<span class="number">100</span>/($vw_base/<span class="number">100</span>)*<span class="number">1vh</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>适配iphoneX</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// 需要适配 iPhoneX 必须设置 viewport-fit=cover，这是适配的关键步骤。</span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, viewport-fit=cover"</span>&gt;</span></span><br><span class="line">// 根据情况设置padding或者margin</span><br><span class="line">padding-bottom: constant(safe-area-inset-bottom); /* 兼容 iOS <span class="tag">&lt; <span class="attr">11.2</span> */</span></span><br><span class="line"><span class="tag"><span class="attr">padding-bottom:</span> <span class="attr">env</span>(<span class="attr">safe-area-inset-bottom</span>); /* 兼容 <span class="attr">iOS</span> &gt;</span>= 11.2 */</span><br></pre></td></tr></table></figure><h2 id="推荐文章"><a href="#推荐文章" class="headerlink" title="推荐文章"></a>推荐文章</h2><ul><li><a href="http://www.chinaz.com/manage/2015/0902/441624.shtml/" target="_blank" rel="noopener"> 全解析屏幕尺寸，分辨率，像素，PPI之间到底什么关系？ </a></li><li><a href="http://blog.csdn.net/aiolos1111/article/details/51967744/" target="_blank" rel="noopener"> 深入理解移动端像素知识与Viewport知识 </a></li><li><a href="http://www.cnblogs.com/2050/p/3877280.html/" target="_blank" rel="noopener"> 移动前端开发之viewport的深入理解 </a></li><li><a href="http://www.cnblogs.com/lovesueee/p/4618454.html" target="_blank" rel="noopener">移动端高清、多屏适配方案</a></li><li><a href="https://github.com/hbxeagle/rem/blob/master/README.md" target="_blank" rel="noopener"> 了解真实的『REM』手机屏幕适配 </a></li></ul>]]></content>
      
      
      <categories>
          
          <category> H5 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> H5 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>博文推荐地址</title>
      <link href="/%E5%89%8D%E7%AB%AF%E5%8D%9A%E6%96%87%E6%8E%A8%E8%8D%90%E5%9C%B0%E5%9D%80/"/>
      <url>/%E5%89%8D%E7%AB%AF%E5%8D%9A%E6%96%87%E6%8E%A8%E8%8D%90%E5%9C%B0%E5%9D%80/</url>
      
        <content type="html"><![CDATA[<h3 id="深入理解JavaScript原型和闭包："><a href="#深入理解JavaScript原型和闭包：" class="headerlink" title="深入理解JavaScript原型和闭包："></a>深入理解JavaScript原型和闭包：</h3><blockquote><p><a href="http://www.cnblogs.com/wangfupeng1988/p/3977924.html" target="_blank" rel="noopener">http://www.cnblogs.com/wangfupeng1988/p/3977924.html</a></p></blockquote><h3 id="JavsScript中this的理解："><a href="#JavsScript中this的理解：" class="headerlink" title="JavsScript中this的理解："></a>JavsScript中this的理解：</h3><blockquote><p><a href="https://segmentfault.com/a/1190000008590012" target="_blank" rel="noopener">https://segmentfault.com/a/1190000008590012</a><br><a href="http://www.jianshu.com/p/d647aa6d1ae6" target="_blank" rel="noopener">http://www.jianshu.com/p/d647aa6d1ae6</a><br><a href="http://www.cnblogs.com/Wayou/p/all-this.html" target="_blank" rel="noopener">http://www.cnblogs.com/Wayou/p/all-this.html</a></p></blockquote><a id="more"></a><h3 id="JavaScript-作用域执行环境ES的理解"><a href="#JavaScript-作用域执行环境ES的理解" class="headerlink" title="JavaScript 作用域执行环境ES的理解:"></a>JavaScript 作用域执行环境ES的理解:</h3><blockquote><p><a href="http://my.csdn.net/pingfan592" target="_blank" rel="noopener">http://my.csdn.net/pingfan592</a><br><a href="https://segmentfault.com/a/1190000005807487" target="_blank" rel="noopener">(译) 你想知道的关于 JavaScript 作用域的一切</a></p></blockquote><h3 id="有趣的css题目："><a href="#有趣的css题目：" class="headerlink" title="有趣的css题目："></a>有趣的css题目：</h3><blockquote><p><a href="https://github.com/chokcoco/iCSS/issues" target="_blank" rel="noopener">https://github.com/chokcoco/iCSS/issues</a></p></blockquote><h3 id="CSS3入门详解"><a href="#CSS3入门详解" class="headerlink" title="CSS3入门详解"></a>CSS3入门详解</h3><p><a href="https://segmentfault.com/a/1190000017138873" target="_blank" rel="noopener">CSS3入门详解一</a><br><a href="https://segmentfault.com/a/1190000017138936" target="_blank" rel="noopener">CSS3入门详解二</a></p><h3 id="HTML5-入门详解"><a href="#HTML5-入门详解" class="headerlink" title="HTML5 入门详解"></a>HTML5 入门详解</h3><p><a href="https://segmentfault.com/a/1190000017097413" target="_blank" rel="noopener">https://segmentfault.com/a/1190000017097413</a></p><h3 id="前端常见算法的JS实现"><a href="#前端常见算法的JS实现" class="headerlink" title="前端常见算法的JS实现"></a>前端常见算法的JS实现</h3><blockquote><p><a href="https://segmentfault.com/a/1190000008593715" target="_blank" rel="noopener">https://segmentfault.com/a/1190000008593715</a></p></blockquote><h3 id="常见前端面试题及答案"><a href="#常见前端面试题及答案" class="headerlink" title="常见前端面试题及答案"></a>常见前端面试题及答案</h3><blockquote><p><a href="http://www.cnblogs.com/syfwhu/p/4434132.html" target="_blank" rel="noopener">http://www.cnblogs.com/syfwhu/p/4434132.html</a></p></blockquote><h3 id="JavaScript编码风格指南"><a href="#JavaScript编码风格指南" class="headerlink" title="JavaScript编码风格指南"></a>JavaScript编码风格指南</h3><blockquote><p><a href="http://www.cnblogs.com/syfwhu/p/4814435.html" target="_blank" rel="noopener">http://www.cnblogs.com/syfwhu/p/4814435.html</a></p></blockquote><h3 id="jQuery插件开发"><a href="#jQuery插件开发" class="headerlink" title="jQuery插件开发"></a>jQuery插件开发</h3><blockquote><p><a href="http://www.cnblogs.com/Wayou/p/jquery_plugin_tutorial.html" target="_blank" rel="noopener">http://www.cnblogs.com/Wayou/p/jquery_plugin_tutorial.html</a></p></blockquote><h3 id="Flex-布局教程：语法篇"><a href="#Flex-布局教程：语法篇" class="headerlink" title="Flex 布局教程：语法篇"></a>Flex 布局教程：语法篇</h3><blockquote><p><a href="http://www.ruanyifeng.com/blog/2015/07/flex-grammar.html?utm_source=tuicool" target="_blank" rel="noopener">http://www.ruanyifeng.com/blog/2015/07/flex-grammar.html?utm_source=tuicool</a></p></blockquote><h3 id="Grid-布局"><a href="#Grid-布局" class="headerlink" title="Grid 布局"></a>Grid 布局</h3><blockquote><p><a href="http://www.css88.com/archives/8510/comment-page-1" target="_blank" rel="noopener">http://www.css88.com/archives/8510/comment-page-1</a></p></blockquote><h3 id="ES6基础"><a href="#ES6基础" class="headerlink" title="ES6基础"></a>ES6基础</h3><blockquote><p><a href="http://es6.ruanyifeng.com/" target="_blank" rel="noopener">http://es6.ruanyifeng.com/</a></p></blockquote><h3 id="php面向对象-OOP-编程完全教程"><a href="#php面向对象-OOP-编程完全教程" class="headerlink" title="php面向对象(OOP)编程完全教程"></a>php面向对象(OOP)编程完全教程</h3><blockquote><p><a href="http://www.cnblogs.com/xiaochaohuashengmi/archive/2010/09/10/1823042.html" target="_blank" rel="noopener">http://www.cnblogs.com/xiaochaohuashengmi/archive/2010/09/10/1823042.html</a></p></blockquote><h3 id="python快速教程"><a href="#python快速教程" class="headerlink" title="python快速教程"></a>python快速教程</h3><blockquote><p><a href="http://www.cnblogs.com/vamei/archive/2012/09/13/2682778.html" target="_blank" rel="noopener">http://www.cnblogs.com/vamei/archive/2012/09/13/2682778.html</a></p></blockquote><h3 id="http协议"><a href="#http协议" class="headerlink" title="http协议"></a>http协议</h3><blockquote><p><a href="http://www.jianshu.com/p/80e25cb1d81a(关于HTTP协议，一篇就够了)" target="_blank" rel="noopener">http://www.jianshu.com/p/80e25cb1d81a(关于HTTP协议，一篇就够了)</a></p></blockquote><h3 id="tcp-ip协议"><a href="#tcp-ip协议" class="headerlink" title="tcp/ip协议"></a>tcp/ip协议</h3><blockquote><p><a href="http://blog.csdn.net/shenxin870409/article/category/2627701" target="_blank" rel="noopener">http://blog.csdn.net/shenxin870409/article/category/2627701</a></p></blockquote><h3 id="推荐博客"><a href="#推荐博客" class="headerlink" title="推荐博客:"></a>推荐博客:</h3><h4 id="前端"><a href="#前端" class="headerlink" title="前端"></a>前端</h4><blockquote><p><a href="http://www.cnblogs.com/xiaohuochai/" target="_blank" rel="noopener">蓝色小火柴</a><br><a href="http://www.cnblogs.com/pssp/" target="_blank" rel="noopener">追梦子</a><br><a href="http://www.cnblogs.com/best/" target="_blank" rel="noopener">张果</a><br><a href="http://www.cnblogs.com/coco1s/" target="_blank" rel="noopener">ChokCoco</a><br><a href="http://www.cnblogs.com/wangfupeng1988/" target="_blank" rel="noopener">王福朋</a><br><a href="http://www.ruanyifeng.com/blog/" target="_blank" rel="noopener">阮一峰</a><br><a href="https://yangbo5207.github.io/wutongluo" target="_blank" rel="noopener">前端进阶</a><br><a href="https://github.com/mqyqingfeng/Blog" target="_blank" rel="noopener">冴羽</a><br><a href="http://layer.layui.com/" target="_blank" rel="noopener">layer</a><br><a href="http://yanhaijing.com/categories/" target="_blank" rel="noopener">颜海镜</a><br><a href="https://segmentfault.com/u/trigkit4/bookmarks" target="_blank" rel="noopener">trigkit4</a><br><a href="http://www.cnblogs.com/tomxu/archive/2011/12/15/2288411.html" target="_blank" rel="noopener">汤姆大叔</a><br><a href="https://segmentfault.com/u/marsman_levi/articles" target="_blank" rel="noopener">Levi丶</a><br><a href="https://github.com/ljianshu/Blog" target="_blank" rel="noopener">ljianshu</a></p></blockquote><h4 id="py"><a href="#py" class="headerlink" title="py"></a>py</h4><blockquote><p><a href="https://cuiqingcai.com/tag/%E7%88%AC%E8%99%AB" target="_blank" rel="noopener">静觅</a><br><a href="http://www.liaoxuefeng.com/" target="_blank" rel="noopener">廖雪峰</a><br><a href="https://woaielf.github.io/" target="_blank" rel="noopener">数林觅风,Python思维导图</a><br><a href="http://www.cnblogs.com/vamei" target="_blank" rel="noopener">Vamei</a></p></blockquote><h3 id="推荐团队博客"><a href="#推荐团队博客" class="headerlink" title="推荐团队博客:"></a>推荐团队博客:</h3><p><a href="https://link.juejin.im?target=http%3A%2F%2Ftaobaofed.org%2F" target="_blank" rel="noopener">淘宝前端团队fed</a><br><a href="https://link.juejin.im?target=http%3A%2F%2Fwww.aliued.cn%2F" target="_blank" rel="noopener">阿里巴巴</a><br><a href="https://link.juejin.im?target=http%3A%2F%2Ffex.baidu.com%2F" target="_blank" rel="noopener">百度前端团队</a><br><a href="https://link.juejin.im?target=https%3A%2F%2F75team.com%2F" target="_blank" rel="noopener">360奇舞团</a><br><a href="https://link.juejin.im?target=https%3A%2F%2Ft.75team.com%2Fvideo" target="_blank" rel="noopener">奇舞团视频教程</a><br><a href="https://link.juejin.im?target=https%3A%2F%2Faotu.io%2F" target="_blank" rel="noopener">京东设计体验部-凹凸实验室</a><br><a href="https://link.juejin.im?target=http%3A%2F%2Fqqfe.org%2F" target="_blank" rel="noopener">腾讯网前端研发中心</a><br><a href="https://link.juejin.im?target=http%3A%2F%2Fwww.alloyteam.com%2F" target="_blank" rel="noopener">腾讯alloyteam</a><br><a href="https://link.juejin.im?target=http%3A%2F%2Fimweb.io%2F" target="_blank" rel="noopener">腾讯前端IMWEB团队</a><br><a href="https://link.juejin.im?target=http%3A%2F%2Fimweb.github.io%2F" target="_blank" rel="noopener">腾讯前端IMWEB团队-github</a><br><a href="https://link.juejin.im?target=http%3A%2F%2Ftgideas.qq.com%2F" target="_blank" rel="noopener">腾讯游戏</a><br><a href="https://link.juejin.im?target=http%3A%2F%2Fued.sina.com.cn%2F%3Fcat%3D4" target="_blank" rel="noopener">新浪UED</a><br><a href="https://link.juejin.im?target=https%3A%2F%2Fblog.ymfe.org%2F" target="_blank" rel="noopener">去哪儿网移动架构组</a><br><a href="https://link.juejin.im?target=http%3A%2F%2Fwww.daqianduan.com%2F" target="_blank" rel="noopener">大前端（饿了么）</a><br><a href="https://link.juejin.im?target=http%3A%2F%2Ff2e.souche.com%2Fblog%2F" target="_blank" rel="noopener">搜车大无线团队博客</a></p><blockquote><p>（上面的团队博客，值得关注，博文内容质量很高，但是就是更新不频繁，下面的更新会比较多，质量也不错）</p></blockquote><p><a href="https://link.juejin.im?target=https%3A%2F%2Fzhuanlan.zhihu.com%2Fdreawer" target="_blank" rel="noopener">极乐科技</a><br><a href="https://link.juejin.im?target=https%3A%2F%2Fzhuanlan.zhihu.com%2Fimweb" target="_blank" rel="noopener">IMWeb前端社区</a><br><a href="https://link.juejin.im?target=https%3A%2F%2Fzhuanlan.zhihu.com%2Flinshuai" target="_blank" rel="noopener">爱前端-知乎专栏</a><br><a href="https://link.juejin.im?target=https%3A%2F%2Fzhuanlan.zhihu.com%2Fjscss" target="_blank" rel="noopener">前端杂货铺</a><br><a href="https://link.juejin.im?target=https%3A%2F%2Fzhuanlan.zhihu.com%2FFrontendMagazine" target="_blank" rel="noopener">前端外刊评论</a><br><a href="https://link.juejin.im?target=https%3A%2F%2Fzhuanlan.zhihu.com%2FthinkingInFE" target="_blank" rel="noopener">前端解忧杂货铺</a><br><a href="https://link.juejin.im?target=https%3A%2F%2Fzhuanlan.zhihu.com%2Fddfe-weekly" target="_blank" rel="noopener">DDFE 技术周刊</a><br><a href="https://link.juejin.im?target=https%3A%2F%2Fzhuanlan.zhihu.com%2Fqianduanzhidian" target="_blank" rel="noopener">前端之巅</a><br><a href="https://link.juejin.im?target=http%3A%2F%2Ffrontenddev.org%2Fdiscover%2F" target="_blank" rel="noopener">Fed汇总</a></p><h3 id="博客社区推荐："><a href="#博客社区推荐：" class="headerlink" title="博客社区推荐："></a>博客社区推荐：</h3><ul><li><a href="https://www.cnblogs.com/" target="_blank" rel="noopener">博客园</a></li><li><a href="http://www.jianshu.com/" target="_blank" rel="noopener">简书</a></li><li><a href="https://juejin.im/" target="_blank" rel="noopener">据金</a></li><li><a href="https://segmentfault.com/blogs/hottest" target="_blank" rel="noopener">SegmentFault</a></li><li><a href="https://www.v2ex.com/" target="_blank" rel="noopener">V2EX</a></li><li><a href="http://bbs.csdn.net/forums/WebDevelop" target="_blank" rel="noopener">CSDN</a></li><li><a href="http://www.jqhtml.com/" target="_blank" rel="noopener">前端插件</a></li></ul><h3 id="代码托管推荐："><a href="#代码托管推荐：" class="headerlink" title="代码托管推荐："></a>代码托管推荐：</h3><ul><li><a href="https://github.com/" target="_blank" rel="noopener">github</a></li><li><a href="https://coding.net/" target="_blank" rel="noopener">coding</a></li><li><a href="https://bitbucket.org/" target="_blank" rel="noopener">Bitbucket</a></li><li><a href="https://git.oschina.net/" target="_blank" rel="noopener">码云</a></li></ul><h3 id="书籍推荐："><a href="#书籍推荐：" class="headerlink" title="书籍推荐："></a>书籍推荐：</h3><ol><li>&lt;&lt; JavaScript高级程序设计第3版 &gt;&gt;</li><li>&lt;&lt; css 揭秘 &gt;&gt;</li><li>&lt;&lt; 你不知道的JavaScript &gt;&gt;</li><li>&lt;&lt; 锋利的jQuery &gt;&gt;</li><li>&lt;&lt; JavaScript权威指南 &gt;&gt;</li><li>&lt;&lt; 图解HTTP协议 &gt;&gt;</li><li>&lt;&lt; JavaScript面向对象精要 &gt;&gt;</li><li>&lt;&lt; JavaScript设计模式与开发实践 &gt;&gt;</li><li>&lt;&lt; JavaScript编程精解 &gt;&gt;</li></ol>]]></content>
      
      
      <categories>
          
          <category> 前端收集 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 前端收集 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>css揭秘</title>
      <link href="/css%E6%8F%AD%E7%A7%98/"/>
      <url>/css%E6%8F%AD%E7%A7%98/</url>
      
        <content type="html"><![CDATA[<p>对querySelectorAll进行封装：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">$$</span>(<span class="params">selector, context</span>)</span>&#123;</span><br><span class="line">    context = context || <span class="built_in">document</span>;</span><br><span class="line">    <span class="keyword">var</span> elements = context.querySelectorAll(selector);</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Array</span>.prototype.slice.call(elements);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>检测某个样式属性是否被支持，核心思路是在任意元素的 <code>element.style</code> 对象上检查该属性是否存在：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">funcion testProperty(property)&#123;</span><br><span class="line">    <span class="keyword">var</span> root = <span class="built_in">document</span>.documentElement; <span class="comment">// &lt;html&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span>(property <span class="keyword">in</span> root.style)&#123;</span><br><span class="line">        root.classList.add(property.toLowerCase());</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    root.classList.add(<span class="string">"no-"</span> + property.toLowerCase());</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>检测某个具体的<strong>属性值</strong>是否支持，那就需要把它赋给对应的属性，然后再检查浏览器是不是还保存着这个值：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">testValue</span>(<span class="params">id, value, property</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> dummy = <span class="built_in">document</span>.createElement(<span class="string">"p"</span>);</span><br><span class="line">    dummy.style[property] = value;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span>(dummy.style[property])&#123;</span><br><span class="line">        root.classList.add(id);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    root.classList.add(<span class="string">"no-"</span> + id);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>如果要检测选择符和@规则的支持情况：在解析CSS代码时，浏览器总会丢弃它自己无法识别的部分，因此可以动态地应用样式并检查它是否生效，以此来判断浏览器是否可以识别某个特性。当然，<strong>浏览器可以解析某个CSS特性并不代表它已经实现（或正确实现）了这个特性。</strong></p><a id="more"></a><h2 id="第一章-引言"><a href="#第一章-引言" class="headerlink" title="第一章 引言"></a>第一章 引言</h2><h3 id="浏览器前缀"><a href="#浏览器前缀" class="headerlink" title="浏览器前缀"></a>浏览器前缀</h3><p>标准的工作组需要网页开发者这一端的输入，以确保各项规范可以处理真实的开发需求。当实验性的技术被广泛应用到生产时，工作组就被这些技术早期的、实验性的版本捆住手脚了，因此一旦这些技术有变动，那些已经在用这些技术的网站就挂了。显然，这完全否定了让开发者尝试早期标准的好处。</p><p>浏览器前缀就是解决方案之一。这个方案是指每个浏览器都可以实现这些实验性的（甚至是私有的、非标准的）特性，但要在名称前加上自己特有的前缀。<br>最终标准化的版本会有一个不同的名称（没有前缀），这样就不会与加前缀版本相冲突了。</p><p>开发者为了避免浏览器日后更新（从而支持某属性），就先发制人地加上所有可能的浏览器前缀，再把无前缀的版本放在最后，以图一劳永逸。</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">-moz-border-radius</span>: 10<span class="selector-tag">px</span>;</span><br><span class="line"><span class="selector-tag">-ms-border-radius</span>: 10<span class="selector-tag">px</span>;</span><br><span class="line"><span class="selector-tag">-o-border-radius</span>: 10<span class="selector-tag">px</span>;</span><br><span class="line"><span class="selector-tag">-webkit-border-radius</span>: 10<span class="selector-tag">px</span>;</span><br><span class="line"><span class="selector-tag">border-radius</span>: 10<span class="selector-tag">px</span>;</span><br></pre></td></tr></table></figure><p>-ms-和-o-是多余的，这两个属性从未在任何浏览器中出现过，因为IE和Opera从开始就直接实现了border-radius这个无前缀版本的。</p><p>由于开发者使用无前缀的属性是想确保代码的向前兼容，那么工作组想要修改这些无前缀语法就变得不可能了。我们基本上就跟这些半生不熟的早期规范绑在一起了。<strong>因此，浏览器前缀已是一场史诗般的失败</strong>。</p><p>最近，浏览器厂商已经很少以前缀的方式来实验性地实现新特性了。取而代之的是，通过<strong>配置开关</strong>来启用，这样可以有效防止开发者在生产环境中使用它们。</p><h3 id="CSS编码技巧"><a href="#CSS编码技巧" class="headerlink" title="CSS编码技巧"></a>CSS编码技巧</h3><p>在软件开发中，保持代码的DRY（Don’t Repeat Yourself）和可维护性是最大的挑战之一，而这句话对于CSS也是适用的。</p><p>在实践中，代码可维护性的最大要素是尽量减少改动时要编辑的地方。</p><p><strong>当某些值相互依赖时，应该把它们的相互关系用代码表达出来。</strong>如按钮的字体与行高的关系。</p><p><strong>有时，代码易维护和代码量少不可兼得。</strong>如元素的边框为10px宽，但左侧不加边框。</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">border-width</span>: 10<span class="selector-tag">px</span> 10<span class="selector-tag">px</span> 10<span class="selector-tag">px</span> 0;</span><br></pre></td></tr></table></figure><p>只需一条声明就可以达到要求了，但如果日后要改动边框的宽度，就需要修改3处。如果把它拆成两条声明，则改起来容易多了，而且可读性或许更好一些：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">border-width</span>: 10<span class="selector-tag">px</span>;</span><br><span class="line"><span class="selector-tag">border-left-width</span>: 0;</span><br></pre></td></tr></table></figure><p><strong>currentColor</strong>这个变量的值是当前元素的color值。如果当前元素没有在CSS里显示地指定一个color值，那它的颜色值就遵从CSS规则，从父级元素继承而来。该关键字<strong>兼容IE9及以上</strong>。</p><p><strong>继承</strong>：inherit可以用在任何CSS属性（可继承的），而且它总是绑定到父元素的计算值（对伪元素来说，则会取该伪元素的宿主元素）。</p><p>把表单元素的字体设定为与页面的其他部分相同，你无需重复指定字体属性，只需利用inherit即可。</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">input</span>, <span class="selector-tag">select</span>, <span class="selector-tag">button</span>&#123; <span class="attribute">font</span>: inherit; &#125;</span><br></pre></td></tr></table></figure><p>把超链接的颜色设定与页面中其它文本相同：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">a</span>&#123; <span class="attribute">color</span>: inherit; &#125;</span><br></pre></td></tr></table></figure><p>在创建提示框时，通过:before伪元素生成的小箭头能继承宿主元素的背景和边框样式：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.callout</span>&#123; <span class="attribute">position</span>: relative; &#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.callout</span><span class="selector-pseudo">:before</span>&#123;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">""</span>;</span><br><span class="line">    <span class="attribute">background</span>: inherit;</span><br><span class="line">    <span class="attribute">border</span>: inherit;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="相信你的眼睛，而不是数字"><a href="#相信你的眼睛，而不是数字" class="headerlink" title="相信你的眼睛，而不是数字"></a>相信你的眼睛，而不是数字</h3><p>人的眼睛并不是一台完美的输入设备。有时候精准的尺度看起来并不精准，而我们的设计需要顺应这种偏差。</p><ol><li>看一个完美居中的物体时，会感觉它并不居中。实际上，我们应该把这个物体从几何学的中心点再晚上稍微上挪一点。</li><li>宽度相同的圆形和正方形，圆形会显得小一点。</li></ol><p>上述视觉上的错觉在任何形式的视觉设计中都普遍存在，需要我们有针对性地进行调整。<br>常见的例子是：给一个文本容器设置内边距。无论文本多长，四边相同的内边距在实际效果看起来并不相等。原因在于，字母的形状在两端都比较整齐，而顶部和底部则往往参差不齐，从而导致你的眼睛把这些参差不齐的空缺部分感知为多出来的内边距。</p><h3 id="关于响应式设计"><a href="#关于响应式设计" class="headerlink" title="关于响应式设计"></a>关于响应式设计</h3><p>媒体查询不能以一种连续的方式来修复问题。它的工作原理基于某几个特定的断点。<br>添加的媒体查询越多，CSS代码就会变得越经不起折腾。应该把它作为最后的手段。</p><p>媒体查询的断点不应该由具体的设备来决定，而应该根据设计自身来决定。</p><p>避免不必要的媒介查询的建议：</p><ul><li>使用百分比长度来取代固定长度。若做不到这点，可尝试使用与视口相关的单位（vw、wh、vmin、vmax）。</li><li>需要在较大分辨率下取得固定宽度时，使用max-width而不是width。</li><li>不要忘记为替换元素（如img、object、video、iframe等）设置max-width：100%。</li><li>假设背景图片需要完整地铺满一个容器，不管容器尺寸如何变化，background-size:cover可以做到这点。需要注意的是，移动端带宽有限，把大图缩小显示往往不太明智。</li><li>当图片（或其他元素）以行列式进行布局时，让视口宽度来决定列的数量。</li><li>在使用多列文本时，指定column-width而不是column-count。</li></ul><p><strong>总的来说，思路是尽最大努力实现弹性可伸缩的布局，并在媒体查询的各个断点区间内指定相应的尺寸。</strong></p><h3 id="合理使用简写"><a href="#合理使用简写" class="headerlink" title="合理使用简写"></a>合理使用简写</h3><p>合理使用简写是一种良好的防卫性编码方式，可以抵御未来的风险。</p><p>如果只为某个属性提供一个值，那它会扩散并应用到列表中的每一项。如：</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">background: url(tr.png) no-repeat top right / 2em 2em,</span><br><span class="line">            url(br.png) no-repeat bottom right / 2em 2em,</span><br><span class="line">            url(bl.png) no-repeat bottom left / 2em 2em;</span><br></pre></td></tr></table></figure><p>可将重复的值从简写属性中抽出来写成一个展开式属性：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">background</span>: <span class="selector-tag">url</span>(<span class="selector-tag">tr</span><span class="selector-class">.png</span>) <span class="selector-tag">top</span> <span class="selector-tag">right</span>,</span><br><span class="line">            <span class="selector-tag">url</span>(<span class="selector-tag">br</span><span class="selector-class">.png</span>) <span class="selector-tag">bottom</span> <span class="selector-tag">right</span>,</span><br><span class="line">            <span class="selector-tag">url</span>(<span class="selector-tag">bl</span><span class="selector-class">.png</span>) <span class="selector-tag">bottom</span> <span class="selector-tag">left</span>;</span><br><span class="line"><span class="selector-tag">background-size</span>: 2<span class="selector-tag">em</span> 2<span class="selector-tag">em</span>;</span><br><span class="line"><span class="selector-tag">background-repeat</span>: <span class="selector-tag">no-repeat</span>;</span><br></pre></td></tr></table></figure><p>对于如background属性的值有歧义的属性，background-position（即使是初始值也要写出来）和background-size中间需要<code>/</code>作为分隔。</p><p>对于绝大多数的简写属性来说，并没有歧义问题，因而简写属性的多个值往往可以随意排列。</p><h2 id="第二章-背景与边框"><a href="#第二章-背景与边框" class="headerlink" title="第二章 背景与边框"></a>第二章 背景与边框</h2><p>background-clip: border-box（默认值）/padding-box/content-box</p><h3 id="多重边框"><a href="#多重边框" class="headerlink" title="多重边框"></a>多重边框</h3><h4 id="box-shadow方案"><a href="#box-shadow方案" class="headerlink" title="box-shadow方案"></a>box-shadow方案</h4><p>box-shadow的第四个参数（称作“扩张半径”），通过指定正值或负值，可以让投影面积加大或者减少。<br>一个正值的扩张半径加上两个为零的偏移量以及为零的模糊值，得到的“投影”其实就像一道实线边框。<br>box-shadow支持逗号分隔符，可创建任意数量的投影。<br>box-shadow是层层叠加的，第一层投影位于最顶层，以此类推。</p><p>注意点</p><ul><li>投影的行为更边框（border）不完全一致，因为它不影响布局，而且也不会受到box-sizing属性的影响。</li><li>不会响应鼠标事件</li></ul><h4 id="outline方案"><a href="#outline方案" class="headerlink" title="outline方案"></a>outline方案</h4><p>outline: 5px solid #655; 它可通过outline-offset属性来控制它跟元素边缘之间的间距，这个属性甚至可以接受负值。</p><p>需要注意的是：它目前并不贴合border-radius，未来可能会改为贴合。</p><h4 id="灵活的背景定位"><a href="#灵活的背景定位" class="headerlink" title="灵活的背景定位"></a>灵活的背景定位</h4><p>background-origin: padding-box（默认值）/content-box/border-box。</p><p>calc()需要注意的是：要在<code>-</code>和<code>+</code>运算符的两侧各加一个空白符，否则会产生解析错误！这是为了向前兼容：未来，在calc()内部可能会允许使用关键字，而这些关键字可能会包含连字符（即<code>-</code>）。<br>当然calc()还能进行乘法与除法。</p><h4 id="条纹背景"><a href="#条纹背景" class="headerlink" title="条纹背景"></a>条纹背景</h4><p><strong>渐变需要注意的点</strong><br>渐变指定的位置是色标的位置，色标之间的距离是过渡的空间。</p><p><strong>渐变的角度</strong><br><img src="http://7xq7nb.com1.z0.glb.clouddn.com/%E6%B8%90%E5%8F%98%E8%A7%92%E5%BA%A6.jpg" alt="此处输入图片的描述"></p><blockquote><p>如果某个色标的位置值比整个列表中在它之前的色标的位置值都要小，则该色标的位置值会被设置为它前面所有色标位置值的最大值。</p></blockquote><p>根据上述引用，我可以在构建条纹时（无过渡）时，把第二个坐标（即后续坐标）的位置值设置为0，那它的位置就总是会被浏览器调整为前一个色标的位置值。<br>这可以避免每次改动条纹宽度时都要修改两个数字。</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">background</span>: <span class="selector-tag">linear-gradient</span>(<span class="selector-id">#fb3</span> 30%, <span class="selector-id">#58a</span> 0);</span><br></pre></td></tr></table></figure><h4 id="复杂的背景"><a href="#复杂的背景" class="headerlink" title="复杂的背景"></a>复杂的背景</h4><p>对于现代浏览器，我们可以把SVG文件以data URI的方式嵌入到样式表中，甚至不需要用base64或URIencode来对其编码：</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">background: url("data:image/svg+xml, \</span><br><span class="line">            &lt;<span class="selector-tag">svg</span>&gt; \</span><br><span class="line">            ... \</span><br><span class="line">            &lt;/svg&gt;");</span><br></pre></td></tr></table></figure><p>注意，如果出于可读性的考虑，需要把一句CSS代码（如background-image的字符串值）打断为多行，可用反斜杠（<code>\</code>）来转义每行末尾的换行。</p><h4 id="伪随机背景"><a href="#伪随机背景" class="headerlink" title="伪随机背景"></a>伪随机背景</h4><p>与box-shadow一样，多图背景的位置（默认）都是从最左侧开始的。</p><h4 id="连续的图像边框"><a href="#连续的图像边框" class="headerlink" title="连续的图像边框"></a>连续的图像边框</h4><p>MDN：浏览器应用了border-image，则不再应用border-style。另外，若border-image-source的值为none或图片不能显示，则将应用border-style。</p><h2 id="第三章-形状"><a href="#第三章-形状" class="headerlink" title="第三章 形状"></a>第三章 形状</h2><h3 id="梯形标签页"><a href="#梯形标签页" class="headerlink" title="梯形标签页"></a>梯形标签页</h3><p>为了更好地实现回退方案，可同样通过不兼容的属性进行设置，如：变形后需要上移的情况，此时，可用translateY，而不是margin-top或postion。</p><h3 id="简单的饼图"><a href="#简单的饼图" class="headerlink" title="简单的饼图"></a>简单的饼图</h3><p>一个负的延时值（animation-delay）是合法的。它会跳过指定时间而从中间开始播放。</p><p>通过设置animation-play-state: paused，可让动画暂停。默认值是<code>running</code>。</p><p><strong>如何改变伪元素的样式？</strong></p><ul><li>通过继承，改变宿主元素</li><li>通过animation，设置好一系列帧，然后设置延时值，以跳到某帧的样式（前提是处于暂停状态）。</li></ul><h2 id="第四章-视觉效果"><a href="#第四章-视觉效果" class="headerlink" title="第四章 视觉效果"></a>第四章 视觉效果</h2><h3 id="单侧投影"><a href="#单侧投影" class="headerlink" title="单侧投影"></a>单侧投影</h3><p>border-radius：2px 3px 4px rgba(0,0,0,.5);<br>使用高斯模糊（或类似算法）将它进行4px的模糊处理。这在本质上表示在阴影边缘发生<strong>阴影色</strong>与<strong>纯透明色</strong>之间的颜色过渡，长度近似于模糊半径的两倍（比如这里是<code>8px</code>）。<br>模糊后的矩形<strong>与原始元素的交集部分会被切除掉</strong>。因此，如果元素是半透明时，也会看不到它下层的投影。这点与text-shadow不同，文字下层的投影不会被裁切。</p><h3 id="不规则投影"><a href="#不规则投影" class="headerlink" title="不规则投影"></a>不规则投影</h3><p>box-shadow会忽略元素的伪元素或半透明部分（只对整体进行投影），这类情况包括：</p><ul><li>半透明图像、背景图像、或者border-image；</li><li>元素设置了点状、虚线或半透明的边框，但没有背景（或者当background-clip不是border-box）时；</li><li>对话气泡，它的小尾巴通常是通过伪元素生成；</li><li>…</li></ul><p>filter: drop-shadow()与box-shadow的参数一样，但不包括扩张半径和inset关键字，也不支持逗号分隔符的多层投影。</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">filter</span>: <span class="selector-tag">drop-shadow</span>(2<span class="selector-tag">px</span> 2<span class="selector-tag">px</span> 2<span class="selector-tag">px</span> <span class="selector-tag">rgba</span>(0,0,0,<span class="selector-class">.5</span>));</span><br></pre></td></tr></table></figure><p>该属性能对很好地解决上述问题（伪元素、虚线边框、半透明背景等）。</p><p>当然，它们的模糊算法可能不同，需要进行调整。</p><h3 id="毛玻璃效果"><a href="#毛玻璃效果" class="headerlink" title="毛玻璃效果"></a>毛玻璃效果</h3><p>filter: blur(); 是对自身进行模糊，但不透明。</p><p>background-attach: fixed; 表示背景相对于视口固定（以视口的左上角为背景定位origin）。即使一个元素拥有滚动机制，背景也不会随着元素的内容滚动。</p><h2 id="第六章-用户体验"><a href="#第六章-用户体验" class="headerlink" title="第六章 用户体验"></a>第六章 用户体验</h2><h3 id="自定义复选框"><a href="#自定义复选框" class="headerlink" title="自定义复选框"></a>自定义复选框</h3><p>新伪类 <code>:checked</code>，该伪类只在复选框（也适用于单选框）被选择时才会匹配，不论这个选择状态是由用户交互触发，还是由脚本触发。</p><blockquote><p>属性选择符[checked]与它不同，该选择符不会根据用户的交互行为进行更新，因为用户的交互并不会影响到HTML标签上的属性。</p></blockquote><p>由于没有多少样式能够对复选框（由于是替换元素）起作用。不过，可基于复选框的勾选状态借助组合选择符给其他元素（label）设置样式。</p><blockquote><p>替换元素：其内容超出了CSS格式化模型的范畴，比如图片、嵌入的文档等。原则上我们无法为替换元素添加生成性内容，尽管某些浏览器可能会允许这样做。</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">id</span>=<span class="string">"awesome"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"awesome"</span>&gt;</span>Awesome!<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">input</span><span class="selector-attr">[type=<span class="string">"checkbox"</span>]</span> + <span class="selector-tag">label</span><span class="selector-pseudo">::before</span>&#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br><span class="line">// 选中状态</span><br><span class="line"><span class="selector-tag">input</span><span class="selector-attr">[type=<span class="string">"checkbox"</span>]</span><span class="selector-pseudo">:checked</span> + <span class="selector-tag">label</span><span class="selector-pseudo">::before</span>&#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>当label元素与复选框关联后，也可以起到触发开关的作用。</p><h3 id="交互式的图片对比控件"><a href="#交互式的图片对比控件" class="headerlink" title="交互式的图片对比控件"></a>交互式的图片对比控件</h3><p>即使不设置 pointer-events: none;的情况下，伪元素（覆盖在它之上）也不会干扰调节手柄（resize:both）的功能。 </p><h2 id="第七章-结构与布局"><a href="#第七章-结构与布局" class="headerlink" title="第七章 结构与布局"></a>第七章 结构与布局</h2><p>min-content：该关键字将解析为这个容器内部最大的不可断行元素的宽度（即最宽单词、图片或具有固定宽度的盒元素）。</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">width</span>: <span class="selector-tag">min-content</span>;</span><br></pre></td></tr></table></figure><p>还有max-content与fit-content关键字。</p><h3 id="精确控制表格列宽"><a href="#精确控制表格列宽" class="headerlink" title="精确控制表格列宽"></a>精确控制表格列宽</h3><p>table默认情况下：</p><ul><li>不指定单元格的宽度，则这些单元格就会根据它们内容的长短来分配。</li><li>当然，表格的每一行都会参与到列宽的计算中，而不仅是第一行</li><li>即时我们为单元格指定了宽度（第一列1000px，第二列2000px），由于外层容器所能提供的宽度不足3000px，则这两个单元格的宽度会按比列缩小，分别得到33.3% 和 66.6%。</li><li>如果禁止文本折行，那么表格宽度可能会超出其容器宽度（设置text-overflow:ellipsis;也没用（也不会显示…））。</li><li>大图片也会导致上一点同样的问题。</li></ul><p>而table-layout</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">table</span>&#123;</span><br><span class="line">    <span class="attribute">table-layout</span>: fixed;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>如果不指定任何宽度，则各列宽度将是平均分配；</li><li>后续的表格行并不会影响列宽；</li><li>给单元格指定很大的宽度也能生效，并不会自动缩小；</li><li>overflow和text-overflow属性都正常生效；</li><li>如果overflow的值是visible，则<strong>单元格的内容</strong>可能会溢出。</li></ul><h3 id="根据兄弟元素的数量来设置样式"><a href="#根据兄弟元素的数量来设置样式" class="headerlink" title="根据兄弟元素的数量来设置样式"></a>根据兄弟元素的数量来设置样式</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">li</span><span class="selector-pseudo">:first-child</span><span class="selector-pseudo">:nth-last-child(4)</span>, <span class="comment">/* 由于`~`选择符不包括自身 */</span></span><br><span class="line"><span class="selector-tag">li</span><span class="selector-pseudo">:first-child</span><span class="selector-pseudo">:nth-last-child(4)</span> ~ <span class="selector-tag">li</span>&#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>该选择符 <code>li:first-child:nth-last-child(4)</code> 表示：<strong>一个正好有四个列表项的列表中的第一个列表项</strong>。</p><p>根据上述选择符，再通过 <code>~</code> 兄弟选择符，即可实现根据数量来设置样式（这里是只有li为4个时）。</p><p>根据兄弟元素的数量范围来匹配元素<br>:nth-child()选择符，它的参数可以是简单数字，也可以像 <code>an+b</code> 这样的表达式，<code>n</code> 表示0到 <code>正无穷</code>。 </p><ul><li>:nth-child()的值是从1开始，即nth-child(1)对应第一个元素。</li><li>:nth-child(n+b)：则会选中除第一、二、三个子元素之外的所有子元素。</li></ul><p>结合之前的【根据兄弟元素的数量来设置样式】，下面这个选择器会选择：<strong>仅当列表中有4个或更少的列表项时</strong>，才能匹配。</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">li</span><span class="selector-pseudo">:first-child</span><span class="selector-pseudo">:nth-last-child(-n+4)</span>, </span><br><span class="line"><span class="selector-tag">li</span><span class="selector-pseudo">:first-child</span><span class="selector-pseudo">:nth-last-child(-n+4)</span> ~ <span class="selector-tag">li</span>&#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>而希望匹配列表包含2~6个列表项时：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">li</span><span class="selector-pseudo">:first-child</span><span class="selector-pseudo">:nth-last-child(n+2)</span><span class="selector-pseudo">:nth-last-child(-n+6)</span>, </span><br><span class="line"><span class="selector-tag">li</span><span class="selector-pseudo">:first-child</span><span class="selector-pseudo">:nth-last-child(n+2)</span><span class="selector-pseudo">:nth-last-child(-n+6)</span> ~ <span class="selector-tag">li</span>&#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>有上述选择符可看出，同一个选择符中，n的值并不一致，</p><h3 id="垂直居中"><a href="#垂直居中" class="headerlink" title="垂直居中"></a>垂直居中</h3><p>在某些浏览器中，transform可能会导致元素的显示有一些模糊，因为元素可能被放置在半个像素上。这个问题可以用tranform-style: preserve-3d 来修复。</p><p>当使用Flexbox时，margin:auto可在水平和垂直方向上居中。另外，我们甚至不需要指定任何宽度：这个居中元素分配到的宽度等于 max-content。</p><h2 id="第八章-过渡与动画"><a href="#第八章-过渡与动画" class="headerlink" title="第八章 过渡与动画"></a>第八章 过渡与动画</h2><p>每个transform-origin都可以被两个translate()模拟出来。</p><p>完！</p>]]></content>
      
      
      <categories>
          
          <category> CSS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CSS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JavaScript面向对象精要读书笔记</title>
      <link href="/javaScript%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%B2%BE%E8%A6%81%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"/>
      <url>/javaScript%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%B2%BE%E8%A6%81%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<h1 id="JavaScript（ES5）的面向对象精要"><a href="#JavaScript（ES5）的面向对象精要" class="headerlink" title="JavaScript（ES5）的面向对象精要"></a>JavaScript（ES5）的面向对象精要</h1><hr><h2 id="1-原始类型和引用类型"><a href="#1-原始类型和引用类型" class="headerlink" title="1.原始类型和引用类型"></a>1.原始类型和引用类型</h2><h3 id="1-1-什么是类型"><a href="#1-1-什么是类型" class="headerlink" title="1.1 什么是类型"></a>1.1 什么是类型</h3><p><strong>原始类型</strong> 保存为简单数据值。<br><strong>引用类型</strong> 保存为对象，其本质是指向内存位置的引用。</p><p>为了让开发者能够把原始类型和引用类型按相同的方式处理，JavaScript花费了很大的努力来保证语言的一致性。</p><p>其他编程语言用栈存原始类型，用对存储引用类型。而JavaScript则完全不同：它使用一个变量对象追踪变量的生存期。原始值被直接保存在变量对象内，而引用值则作为一个指针保存在变量对象内，该指针指向实际对象在内存中的存储位置。</p><a id="more"></a><h3 id="1-2-原始类型"><a href="#1-2-原始类型" class="headerlink" title="1.2 原始类型"></a>1.2 原始类型</h3><p>原始类型代表照原样保存的一些简单数据。<br>JavaScript共有 <strong>5</strong> 种原始类型：</p><ul><li>boolean    布尔，值为 <code>true</code> or <code>false</code></li><li>number     数字，值为任何整型或浮点数值</li><li>string     字符串，值为由单引号或双引号括住的单个字符或连续字符</li><li>null       空类型，仅有一个值：null</li><li>undefined  未定义，只有一个值：undefined（undefined会被赋给一个还没有初始化的变量）</li></ul><p>JavaScript和许多其他语言一样，原始类型的变量直接保存原始值（而不是一个指向对象的指针）。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> color1 = <span class="string">"red"</span>;</span><br><span class="line"><span class="keyword">var</span> color2 = color1;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(color1); <span class="comment">// "red"</span></span><br><span class="line"><span class="built_in">console</span>.log(color2); <span class="comment">// "red"</span></span><br><span class="line"></span><br><span class="line">color1 = <span class="string">"blue"</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(color1); <span class="comment">// "blue"</span></span><br><span class="line"><span class="built_in">console</span>.log(color2); <span class="comment">// "red"</span></span><br></pre></td></tr></table></figure><h4 id="鉴别原始类型"><a href="#鉴别原始类型" class="headerlink" title="鉴别原始类型"></a>鉴别原始类型</h4><p>鉴别原始类型的最佳方式是使用 <code>typeof</code> 操作符。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="string">"Nicholas"</span>); <span class="comment">// "string"</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="number">10</span>);         <span class="comment">// "number"</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="literal">true</span>);       <span class="comment">// "boolean"</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="literal">undefined</span>);  <span class="comment">// "undefined"</span></span><br></pre></td></tr></table></figure><p>至于空类型（null）则有些棘手。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="literal">null</span>); <span class="comment">// "object"</span></span><br></pre></td></tr></table></figure><p>对于 typeof null，结果是”object”。（其实这已被设计和维护JavaScript的委员会TC39认定是一个错误。在逻辑上，你可以认为 <code>null</code> 是一个空的对象指针，所以结果为”object”，但这还是很令人困惑。）</p><p>判断一个值是否为空类型（null）的最佳方式是直接和 <code>null</code> 比较：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(value === <span class="literal">null</span>); <span class="comment">// true or false</span></span><br></pre></td></tr></table></figure><blockquote><p><strong>注意：以上这段代码使用了三等号（全等===）</strong>，因为三等号（全等）不会将变量强制转换为另一种类型。</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"5"</span> == <span class="number">5</span>); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"5"</span> === <span class="number">5</span>); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">undefined</span> == <span class="literal">null</span>); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">undefined</span> === <span class="literal">null</span>); <span class="comment">// false</span></span><br></pre></td></tr></table></figure><h4 id="原始方法"><a href="#原始方法" class="headerlink" title="原始方法"></a>原始方法</h4><p>虽然字符串、数字和布尔值是原始类型，但是它们也拥有方法（null和undefined没有方法）。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> name = <span class="string">"Nicholas"</span>;</span><br><span class="line"><span class="keyword">var</span> lowercaseName = name.toLowerCase(); <span class="comment">// 转为小写</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> count = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">var</span> fixedCount = count.toFixed(<span class="number">2</span>); <span class="comment">// 转为10.00</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> flag = <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">var</span> stringFlag = flag.toString(); <span class="comment">// 转为"true"</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"YIBU"</span>.charAt(<span class="number">0</span>)); <span class="comment">// 输出"Y"</span></span><br></pre></td></tr></table></figure><blockquote><p>尽管原始类型拥有方法，但它们不是对象。JavaScript使它们看上去像对象一样，以此来提高语言上的一致性体验。</p></blockquote><h3 id="1-3-引用类型"><a href="#1-3-引用类型" class="headerlink" title="1.3 引用类型"></a>1.3 引用类型</h3><p>引用类型是指JavaScript中的对象，同时也是你在该语言中能找到最接近类的东西。<br>引用值是引用类型的实例，也是对象的同义词（后面将用对象指代引用值）。对象是属性的无序列表。属性包含键（始终是字符串）和值。如果一个属性的值是函数，它就被称为方法。除了函数可以运行以外，一个包含数组的属性和一个包含函数的属性没有什么区别。</p><h4 id="创建对象"><a href="#创建对象" class="headerlink" title="创建对象"></a>创建对象</h4><p>有时候，把JavaScript对象想象成哈希表可以帮助你更好地理解对象结构。</p><p>![Object][1]</p><p>JavaScript 有好几种方法可以创建对象，或者说实例化对象。第一种是使用 <code>new</code> 操作符和构造函数。<br>构造函数就是通过 <code>new</code> 操作符来创建对象的函数——任何函数都可以是构造函数。根据命名规范，JavaScript中的构造函数用<strong>首字母大写</strong>来跟非构造函数进行区分。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> object = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br></pre></td></tr></table></figure><p>因为引用类型不再变量中直接保存对象，所以本例中的 <code>object</code> 变量实际上并<strong>不包含对象的实例，而是一个指向内存中实际对象所在位置的指针（或者说引用）</strong>。这是对象和原始值之间的一个基本差别，原始值是直接保存在变量中。</p><p>当你将一个对象赋值给变量时，实际是赋值给这个变量一个指针。这意味着，将一个变量赋值给另外一个变量时，两个变量各获得了一份指针的拷贝，指向内存中的同一个对象。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj1 = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line"><span class="keyword">var</span> obj2 = obj1;</span><br></pre></td></tr></table></figure><p>![copy_obj][2]</p><h4 id="对象引用解除"><a href="#对象引用解除" class="headerlink" title="对象引用解除"></a>对象引用解除</h4><p>JavaScript语言有垃圾收集的功能，因此当你使用引用类型时无需担心内存分配。<strong>但最好在不使用对象时将其引用解除，让垃圾收集器对那块内存进行释放。解除引用的最佳手段是将对象变量设置为 <code>null</code>。</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj1 = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line"><span class="comment">// dosomething</span></span><br><span class="line">obj1 = <span class="literal">null</span>; <span class="comment">// dereference</span></span><br></pre></td></tr></table></figure><h4 id="添加删除属性"><a href="#添加删除属性" class="headerlink" title="添加删除属性"></a>添加删除属性</h4><p>在JavaScript中，你可以随时添加和删除其属性。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj1 = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line"><span class="keyword">var</span> obj2 = obj1;</span><br><span class="line"></span><br><span class="line">obj1.myCustomProperty = <span class="string">"Awsome!"</span>;</span><br><span class="line"><span class="built_in">console</span>.log(obj2.myCustomProperty); <span class="comment">// "Awsome!" 因为obj1和obj2指向同一个对象。</span></span><br></pre></td></tr></table></figure><h3 id="1-4-内建类型实例化"><a href="#1-4-内建类型实例化" class="headerlink" title="1.4 内建类型实例化"></a>1.4 内建类型实例化</h3><p>内建类型如下：</p><ul><li>Array       数组类型，以数字为索引的一组值的有序列表</li><li>Date        日期和时间类型</li><li>Error       运行期错误类型</li><li>Function    函数类型</li><li>Object      通用对象类型</li><li>RegExp      正则表达式类型    </li></ul><p>可使用 <code>new</code> 来实例化每一个内建引用类型：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> items = <span class="keyword">new</span> <span class="built_in">Array</span>();</span><br><span class="line"><span class="keyword">var</span> <span class="keyword">new</span> = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line"><span class="keyword">var</span> error = <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">"Something bad happened."</span>);</span><br><span class="line"><span class="keyword">var</span> func = <span class="keyword">new</span> <span class="built_in">Function</span>(<span class="string">"console.log('HI');"</span>);</span><br><span class="line"><span class="keyword">var</span> object = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line"><span class="keyword">var</span> re = <span class="keyword">new</span> <span class="built_in">RegExp</span>();</span><br></pre></td></tr></table></figure><h4 id="字面形式"><a href="#字面形式" class="headerlink" title="字面形式"></a>字面形式</h4><p>内建引用类型有字面形式。字面形式允许你在不需要使用 <code>new</code> 操作符和构造函数显示创建对象的情况下生成引用值。属性的<strong>键</strong>可以是标识符或字符串（若含有空格或其他特殊字符）</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> book = &#123;</span><br><span class="line">    name: <span class="string">"Book_name"</span>,</span><br><span class="line">    year: <span class="number">2016</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>上面代码与下面这段代码等价：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> book = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line">book.name = <span class="string">"Book_name"</span>;</span><br><span class="line">book.year = <span class="number">2016</span>;</span><br></pre></td></tr></table></figure><blockquote><p>虽然使用字面形式并没有调用 new Object()，但是JavaScript引擎背后做的工作和 new Object()一样，除了没有调用构造函数。其他引用类型的字面形式也是如此。</p></blockquote><h3 id="1-5-访问属性"><a href="#1-5-访问属性" class="headerlink" title="1.5 访问属性"></a>1.5 访问属性</h3><p>可通过 <code>.</code> 和 <code>中括号</code> 访问对象的属性。<br>中括号<code>[]</code>在需要动态决定访问哪个属性时，特别有用。因为你可以用<strong>变量</strong>而不是字符串字面形式来指定访问的属性。</p><h3 id="1-6-鉴别引用类型"><a href="#1-6-鉴别引用类型" class="headerlink" title="1.6 鉴别引用类型"></a>1.6 鉴别引用类型</h3><p>函数是最容易鉴别的引用类型，因为对函数使用 <code>typeof</code> 操作符时，返回”function”。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">reflect</span>(<span class="params">value</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> value;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> reflect); <span class="comment">// "function"</span></span><br></pre></td></tr></table></figure><p>对其他引用类型的鉴别则较为棘手，因为对于所有非函数的引用类型，<code>typeof</code> 返回 <code>object</code>。为了更方便地鉴别引用类型，可以使用 JavaScript 的 <code>instanceof</code> 操作符。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> items = [];</span><br><span class="line"><span class="keyword">var</span> obj = &#123;&#125;;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">reflect</span>(<span class="params">value</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> value;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(items <span class="keyword">instanceof</span> <span class="built_in">Array</span>); <span class="comment">// true;</span></span><br><span class="line"><span class="built_in">console</span>.log(obj <span class="keyword">instanceof</span> <span class="built_in">Object</span>); <span class="comment">// true;</span></span><br><span class="line"><span class="built_in">console</span>.log(reflect <span class="keyword">instanceof</span> <span class="built_in">Function</span>); <span class="comment">// true;</span></span><br></pre></td></tr></table></figure><p><code>instanceof</code> 操作符可鉴别继承类型。这意味着所有对象都是 <code>Oject</code> 的实例，因为所有引用类型都继承自 <code>Object</code>。</p><blockquote><p>虽然 instanceof 可以鉴别对象类型（如数组），但是有一个列外。JavaScript 的值可以在同一个网页的不用框架之间传来传去。由于每个网页拥有它自己的全局上下文——Object、Array以及其他内建类型的版本。所以当你把一个对象（如数组）从一个框架传到另外一个框架时，instanceof就无法识别它。</p></blockquote><h3 id="1-8-原始封装类型"><a href="#1-8-原始封装类型" class="headerlink" title="1.8 原始封装类型"></a>1.8 原始封装类型</h3><p>原始封装类型有 <code>3</code> 种：String、Number 和 Boolean。<br>当读取字符串、数字或布尔值时，原始封装类型将被自动创建。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> name = <span class="string">"Nicholas"</span>;</span><br><span class="line"><span class="keyword">var</span> firstChar = name.charAt(<span class="number">0</span>); <span class="comment">// "N"</span></span><br></pre></td></tr></table></figure><p>这在背后发生的事情如下：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> name = <span class="string">"Nichola"</span>;</span><br><span class="line"><span class="keyword">var</span> temp = <span class="keyword">new</span> <span class="built_in">String</span>(name);</span><br><span class="line"><span class="keyword">var</span> firstChar = temp.charAt(<span class="number">0</span>);</span><br><span class="line">temp = <span class="literal">null</span>;</span><br></pre></td></tr></table></figure><p>由于第二行把字符串当成对象使用，JavaScript引擎创建了一个字符串的实体让 <code>charAt(0)</code> 可以工作。字符串对象的存在仅用于该语句并在随后销毁（一种被称为自动打包的过程）。为了测试这一点，试着给字符串添加一个属性看看它是不是对象。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> name = <span class="string">"Nicholas"</span>;</span><br><span class="line">name.last = <span class="string">"Zakas"</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(name.last); <span class="comment">// undefined;</span></span><br></pre></td></tr></table></figure><p>下面是在JavaScript引擎中实际发生的事情：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> name = <span class="string">"Nicholas"</span>;</span><br><span class="line"><span class="keyword">var</span> temp = <span class="keyword">new</span> <span class="built_in">String</span>(name);</span><br><span class="line">temp.last = <span class="string">"Zakas"</span>;</span><br><span class="line">temp = <span class="literal">null</span>; <span class="comment">// temporary object destroyed</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> temp = <span class="keyword">new</span> <span class="built_in">String</span>(name);</span><br><span class="line"><span class="built_in">console</span>.log(temp.last);</span><br><span class="line">temp = <span class="literal">null</span>;</span><br></pre></td></tr></table></figure><p>新属性 <code>last</code> 实际上是在一个立刻就被销毁的临时对象上而不是字符串上添加。之后当你试图访问该属性时，另一个不同的临时对象被创建，而新属性并不存在。</p><p>虽然原始封装类型会被自动创建，在这些值上进行 <code>instanceof</code> 检查对应类型的返回值却是 <code>false</code>。<br>这是因为<strong>临时对象仅在值被读取时创建</strong>。<code>instanceof</code> 操作符并没有真的读取任何东西，也就没有临时对象的创建。</p><p>当然你也可以手动创建原始封装类型。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> str = <span class="keyword">new</span> <span class="built_in">String</span>(<span class="string">"me"</span>);</span><br><span class="line">str.age = <span class="number">18</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> str); <span class="comment">// object</span></span><br><span class="line"><span class="built_in">console</span>.log(str.age); <span class="comment">// 18</span></span><br></pre></td></tr></table></figure><p>如你所见，手动创建原始封装类型实际会创建出一个 <code>object</code>。这意味着 <code>typeof</code> 无法鉴别出你实际保存的数据的类型。</p><p>另外，手动创建原始封装类型和使用原始值是有一定区别的。所以尽量避免使用。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> found = <span class="keyword">new</span> <span class="built_in">Boolean</span>(<span class="literal">false</span>);</span><br><span class="line"><span class="keyword">if</span>(found)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"Found"</span>); <span class="comment">// 执行到了，尽管对象的值为 false</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这是因为一个对象(如 <code>{}</code> )在条件判断语句中总被认为是 <code>true</code>;</p><blockquote><p>MDN:Any object whose value is not undefined or null, including a Boolean oject whose value is false, evaluates to true when passed to a conditional statement.</p></blockquote><h3 id="1-9-总结"><a href="#1-9-总结" class="headerlink" title="1.9 总结"></a>1.9 总结</h3><p>第一章的东西都是我们一些比较熟悉的知识。但是也有一些需要注意的地方：</p><ul><li>正确区分原始类型和引用类型</li><li>对于 <code>5</code> 种原始类型都可以用typeof来鉴别，而空类型必须直接跟 <code>null</code> 进行全等比较。</li><li>函数也是对象，可用 <code>typeof</code> 鉴别。其它引用类型，可用 <code>instanceof</code> 和一个构造函数来鉴别。（当然可以用  <code>Object.prototype.toString.call()</code> 鉴别，它会返回[object Array]之类的）。</li><li>为了让原始类型看上去更像引用类型，JavaScript提供了 <code>3</code> 种封装类型。JavaScript会在背后创建这些对象使得你能够像使用普通对象那样使用原始值。但这些临时对象在使用它们的语句结束时就立刻被销毁。虽然可手动创建，但不建议。</li></ul><h2 id="2-函数"><a href="#2-函数" class="headerlink" title="2. 函数"></a>2. 函数</h2><p>函数也是对象，使对象不同于其它对象的决定性特点是函数存在一个被称为 <code>[[Call]]</code> 的内部属性。<br><strong>内部属性无法通过代码访问而是定义了代码执行时的行为</strong>。ECMAScript为JavaScript的对象定义了多种内部属性，这些<strong>内部属性都用双重中括号来标注</strong>。</p><p><strong>[[Call]]属性是函数独有的，表明该对象可以被执行。由于仅函数拥有该属性，ECMAScript 定义typeof操作符对任何具有[[Call]]属性的对象返回”function”</strong>。过去因某些浏览器曾在正则表达式中包含 <code>[[Call]]</code> 属性，导致正则表达式被错误鉴别为函数。</p><h3 id="2-1-声明还是表达式"><a href="#2-1-声明还是表达式" class="headerlink" title="2.1 声明还是表达式"></a>2.1 声明还是表达式</h3><p>两者的一个重要区别是：函数声明会被提升至上下文（要么是该函数被声明时所在的函数范围，要么是全局范围）的顶部。</p><h3 id="2-2-函数就是值"><a href="#2-2-函数就是值" class="headerlink" title="2.2 函数就是值"></a>2.2 函数就是值</h3><p>可以像使用对象一样使用函数（因为函数本来就是对象，Function构造函数更加容易说明）。</p><h3 id="2-3-参数"><a href="#2-3-参数" class="headerlink" title="2.3 参数"></a>2.3 参数</h3><p>函数参数保存在类数组对象 <code>argument</code> （<code>Array.isArray(arguments)</code> 返回 <code>false</code>）中。可以接收任意数量的参数。<br>函数的 <code>length</code> 属性表明其期望的参数个数。</p><h3 id="2-4-重载"><a href="#2-4-重载" class="headerlink" title="2.4 重载"></a>2.4 重载</h3><p>大多数面向对象语言支持函数重载，它能让一个函数具有多个签名。函数签名由函数的名字、参数的个数及其类型组成。<br>而JavaScript可以接收任意数量的参数且参数类型完全没有限制。这说明JavaScript函数根本就没有签名，因此也不存在重载。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayMessage</span>(<span class="params">message</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(message);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayMessage</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"Default Message"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">sayMessage(<span class="string">"Hello!"</span>); <span class="comment">// 输出"Default Message";</span></span><br></pre></td></tr></table></figure><p>在Javscript里，当你试图定义多个同名的函数时，只有最后的定义有效，之前的函数声明被完全删除（函数也是对象，变量只是存指针)。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> sayMessage = <span class="keyword">new</span> <span class="built_in">Function</span>(<span class="string">"message"</span>, <span class="string">"console.log(message)"</span>);</span><br><span class="line"><span class="keyword">var</span> sayMessage = <span class="keyword">new</span> <span class="built_in">Function</span>(<span class="string">"console.log(\"Default Message\");"</span>);</span><br><span class="line"></span><br><span class="line">sayMessage(<span class="string">"Hello!"</span>);</span><br></pre></td></tr></table></figure><p>当然，你可以根据传入参数的数量来模仿重载。</p><h3 id="2-5-对象方法"><a href="#2-5-对象方法" class="headerlink" title="2.5 对象方法"></a>2.5 对象方法</h3><p>对象的值是函数，则该属性被称为方法。</p><h4 id="2-5-1-this对象"><a href="#2-5-1-this对象" class="headerlink" title="2.5.1 this对象"></a>2.5.1 this对象</h4><p>JavaScript 所有的函数作用域内都有一个 <code>this</code> 对象代表调用该函数的对象。在全局作用域中，<code>this</code> 代表全局对象（浏览器里的window）。当一个函数作为对象的方法调用时，默认 <code>this</code> 的值等于该对象。<br><strong>this在函数调用时才被设置。</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayNameForAll</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> person1 = &#123;</span><br><span class="line">    name: <span class="string">"Nicholas"</span>,</span><br><span class="line">    sayName: sayNameForAll</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> name = <span class="string">"Jack"</span>;</span><br><span class="line"></span><br><span class="line">person1.sayName(); <span class="comment">// 输出 "Nicholas"</span></span><br><span class="line">sayNameforAll(); <span class="comment">// 输出 "Jack"</span></span><br></pre></td></tr></table></figure><h4 id="2-5-2-改变this"><a href="#2-5-2-改变this" class="headerlink" title="2.5.2 改变this"></a>2.5.2 改变this</h4><p>有 <code>3</code> 种函数方法运行你改变 <code>this</code> 值。</p><ol><li>fun.call(thisArg[, arg1[, arg2[, …]]]);</li><li>fun.apply(thisArg, [argsArray]);</li><li>fun.bind(thisArg[, arg1[, arg2[, …]]])</li></ol><p>使用 <code>call</code> 或 <code>apply</code> 方法，就不需要将函数加入每个对象——你显示地指定了 <code>this</code> 的值而不是让JavaScript引擎自动指定。</p><p><code>call</code> 与 <code>apply</code> 的不同地方是，<code>call</code> 需要把所有参数一个个列出来，而 <code>apply</code> 的参数需要一个数组或者类似数组的对象（如 <code>arguments</code> 对象）。</p><p><code>bind</code> 是ECMAScript 5 新增的，它会创建一个新函数返回。其参数与 <code>call</code> 类似，而且其所有参数代表需要被<strong>永久</strong>设置在新函数中的命名参数（绑定了的参数（没绑定的参数依然可以传入），就算调用时再传入其它参数，也不会影响这些绑定的参数）。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayNameForAll</span>(<span class="params">label</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(label + <span class="string">":"</span> + <span class="keyword">this</span>.name);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> person = &#123;</span><br><span class="line">    name: <span class="string">"Nicholas"</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> sayNameForPerson = sayNameForAll.bind(person);</span><br><span class="line">sayNameForPerson(<span class="string">"Person"</span>); <span class="comment">// 输出"Person:Nicholas"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> sayName = sayNameForAll.bind(person, <span class="string">"Jc"</span>);</span><br><span class="line"></span><br><span class="line">sayName(<span class="string">"change"</span>); <span class="comment">// 输出"Jc:Nicholas" 因为绑定的形参，会忽略调用时再传入参数</span></span><br></pre></td></tr></table></figure><h3 id="2-6-总结"><a href="#2-6-总结" class="headerlink" title="2.6 总结"></a>2.6 总结</h3><ul><li>函数也是对象，所以它可以被访问、复制和覆盖。</li><li>函数与其他对象最大的区别在于它们有一个特殊的内部属性 <code>[[Call]]</code>，包含了该函数的执行指令。</li><li>函数声明会被提升至上下文的顶部。</li><li>函数是对象，所以存在一个 <code>Function</code> 构造函数。但这会使你的代码难以理解和调试，除非函数的真实形式要直到运行时才能确定的时候才会利用它。</li></ul><h2 id="理解对象"><a href="#理解对象" class="headerlink" title="理解对象"></a>理解对象</h2><p>JavaScript中的对象是动态的，可在代码执行的任意时刻发生改变。基于类的语言会根据类的定义锁定对象。</p><h3 id="3-1-定义属性"><a href="#3-1-定义属性" class="headerlink" title="3.1 定义属性"></a>3.1 定义属性</h3><p>当一个属性第一次被添加到对象时，JavaScript会在对象上调用一个名为 <code>[[Put]]</code> 的内部方法。<code>[[Put]]</code> 方法会在对象上创建一个新节点来保存属性。<br>当一个已有的属性被赋予一个新值时，调用的是一个名为 <code>[[Set]]</code> 的方法。</p><h3 id="3-2-属性探测"><a href="#3-2-属性探测" class="headerlink" title="3.2 属性探测"></a>3.2 属性探测</h3><p>检查对象是否已有一个属性。JavaScript开发新手错误地使用以下模式检测属性是否存在。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">if</span>(person.age)&#123;</span><br><span class="line">    <span class="comment">// do something with ag</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>上面的问题在于JavaScript的类型强制会影响该模式的输出结果。<br>当if判断中的值如下时，会判断为<strong>真</strong>：</p><ul><li>对象</li><li>非空字符串</li><li>非零</li><li>true</li></ul><p>当if判断中的值如下时，会判断为<strong>假</strong>：</p><ul><li>null</li><li>undefined</li><li>0</li><li>false</li><li>NaN</li><li>空字符串</li></ul><p>因此判断属性是否存在的方法是使用 <code>in</code> 操作符。<br><code>in</code> 操作符会检查<strong>自有属性和原型属性</strong>。<br>所有的对象都拥有的 <code>hasOwnProperty()</code> 方法（其实是 <code>Object.prototype</code> 原型对象的），该方法在给定的属性存在且为<strong>自有属性</strong>时返回 <code>true</code>。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> person = &#123;</span><br><span class="line">    name: <span class="string">"Nicholas"</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"name"</span> <span class="keyword">in</span> person); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(person.hasOwnpropert(<span class="string">"name"</span>)); <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"toString"</span> <span class="keyword">in</span> person); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(person.hasOwnproperty(<span class="string">"toString"</span>)); <span class="comment">// false</span></span><br></pre></td></tr></table></figure><h3 id="3-3-删除属性"><a href="#3-3-删除属性" class="headerlink" title="3.3 删除属性"></a>3.3 删除属性</h3><p>设置一个属性的值为 <code>null</code> 并不能从对象中彻底移除那个属性，这只是调用 <code>[[Set]]</code> 将 <code>null</code> 值替换了该属性原来的值而已。<br><code>delete</code> 操作符针对单个对象属性调用名为 <code>[[Delete]]</code> 的内部方法。删除成功时，返回 <code>true</code>。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> person = &#123;</span><br><span class="line">    name: <span class="string">"Nicholas"</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">person.name = <span class="literal">null</span>;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"name"</span> <span class="keyword">in</span> person); <span class="comment">// true</span></span><br><span class="line"><span class="keyword">delete</span> person.name;</span><br><span class="line"><span class="built_in">console</span>.log(person.name); <span class="comment">// undefined 访问一个不存在的属性将返回 undefined</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"name"</span> <span class="keyword">in</span> person); <span class="comment">// false</span></span><br></pre></td></tr></table></figure><h3 id="3-4-属性枚举"><a href="#3-4-属性枚举" class="headerlink" title="3.4 属性枚举"></a>3.4 属性枚举</h3><p>所有人为添加的属性默认都是可枚举的。可枚举的内部特征 <code>[[Enumerable]]</code> 都被设置为 <code>true</code>。<br><code>for-in</code> 循环会枚举一个对象所有的可枚举属性。</p><blockquote><p>我的备注：在Chrome中，对象属性会按ASCII表排序，而不是定义时的顺序。</p></blockquote><p>ECMAScript 5 的 Object() 方法可以获取可枚举属性的名字的数组。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> person = &#123;</span><br><span class="line">    name: <span class="string">"Ljc"</span>,</span><br><span class="line">    age: <span class="number">18</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">Object</span>.keys(person); <span class="comment">// ["name", "age"];</span></span><br></pre></td></tr></table></figure><p><code>for-in</code> 与 <code>Object.keys()</code> 的一个区别是：前者也会遍历原型属性，而后者返回自有(实例)属性。</p><p>实际上，对象的大部分原生方法的 <code>[[Enumerable]]</code> 特征都被设置为 <code>false</code>。可用 <code>propertyIsEnumerable()</code> 方法检查一个属性是否为可枚举的。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> arr = [<span class="string">"abc"</span>, <span class="number">2</span>];</span><br><span class="line"><span class="built_in">console</span>.log(arr.propertyIsEnumerable(<span class="string">"length"</span>)); <span class="comment">// false</span></span><br></pre></td></tr></table></figure><h3 id="3-5-属性类型"><a href="#3-5-属性类型" class="headerlink" title="3.5 属性类型"></a>3.5 属性类型</h3><p>属性有两种类型：<strong>数据属性</strong>和<strong>访问器属性</strong>。<br>数据属性包含一个值。<code>[[Put]]</code> 方法的默认行为是创建<strong>数据属性</strong>。<br>访问器属性不包含值而是定义了一个当属性被读取时调用的函数（称为<code>getter</code>）和一个当属性被写入时调用的函数（称为<code>setter</code>）。访问器属性仅需要 <code>getter</code> 或 <code>setter</code> 两者中的任意一个，当然也可以两者。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// 对象字面形式中定义访问器属性有特殊的语法：</span></span><br><span class="line"><span class="keyword">var</span> person = &#123;</span><br><span class="line">    _name: <span class="string">"Nicholas"</span>,</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">get</span> name()&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"Reading name"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>._name;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="keyword">set</span> name(value)&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"Setting name to %s"</span>, value);</span><br><span class="line">        <span class="keyword">this</span>._name = value;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(person.name); <span class="comment">// "Reading name" 然后输出 "Nicholas"</span></span><br><span class="line"></span><br><span class="line">person.name = <span class="string">"Greg"</span>;</span><br><span class="line"><span class="built_in">console</span>.log(person.name); <span class="comment">// "Setting name to Greg" 然后输出 "Greg"</span></span><br></pre></td></tr></table></figure><blockquote><p>前置下划线_ 是一个约定俗成的命名规范，表示该属性是私有的，实际上它还是公开的。</p></blockquote><p>访问器就是定义了我们在对象读取或设置属性时，触发的动作（函数），<code>_name</code> 相当于一个内部变量。<br>当你希望赋值（读取）操作会触发一些行为，访问器就会非常有用。</p><blockquote><p>当只定义getter或setter其一时，该属性就会变成只读或只写。</p></blockquote><h3 id="3-6-属性特征"><a href="#3-6-属性特征" class="headerlink" title="3.6 属性特征"></a>3.6 属性特征</h3><p>在ECMAScript 5 之前没有办法指定一个属性是否可枚举。实际上根本没有方法访问属性的任何内部特征。为了改变这点，ECMAScript 5引入了多种方法来和属性特征值直接互动。</p><h4 id="3-6-1-通用特征"><a href="#3-6-1-通用特征" class="headerlink" title="3.6.1 通用特征"></a>3.6.1 通用特征</h4><p>数据属性和访问器属性均由以下两个属性特制：<br><code>[[Enumerable]]</code> 决定了是否可以遍历该属性；<br><code>[[Configurable]]</code> 决定了该属性是否可配置。</p><p>所有人为定义的属性默认都是可枚举、可配置的。</p><p>可以用 <code>Object.defineProperty()</code> 方法改变属性特征。<br>其参数有三：拥有该属性的对象、属性名和包含需要设置的特性的属性描述对象。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> person = &#123;</span><br><span class="line">    name: <span class="string">"Nicholas"</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(person, <span class="string">"name"</span>, &#123;</span><br><span class="line">    enumerable: <span class="literal">false</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"name"</span> <span class="keyword">in</span> person); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(person.propertyIsEnumerable(<span class="string">"name"</span>)); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> properties = <span class="built_in">Object</span>.keys(person);</span><br><span class="line"><span class="built_in">console</span>.log(properties.length); <span class="comment">// 0</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">Object</span>.defineProperty(person, <span class="string">"name"</span>,&#123;</span><br><span class="line">    configurable: <span class="literal">false</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">delete</span> person.name; <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"name"</span> <span class="keyword">in</span> person); <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">Object</span>.defineProperty(person, <span class="string">"name"</span>,&#123; <span class="comment">// error! </span></span><br><span class="line"><span class="comment">// 在 chrome：Uncaught TypeError: Cannot redefine property: name</span></span><br><span class="line">    configurable: <span class="literal">true</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><blockquote><p>无法将一个不可配置的属性变为可配置，相反则可以。</p></blockquote><h4 id="3-6-2-数据属性特征"><a href="#3-6-2-数据属性特征" class="headerlink" title="3.6.2 数据属性特征"></a>3.6.2 数据属性特征</h4><p>数据属性额外拥有两个访问器属性不具备的特征。<br><code>[[Value]]</code> 包含属性的值(哪怕是函数)。<br><code>[[Writable]]</code> 布尔值，指示该属性是否可写入。所有属性默认都是可写的。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> person = &#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">Object</span>.defineProperty(person, <span class="string">"name"</span>, &#123;</span><br><span class="line">    value: <span class="string">"Nicholas"</span>,</span><br><span class="line">    enumerable: <span class="literal">true</span>,</span><br><span class="line">    configurable: <span class="literal">true</span>,</span><br><span class="line">    writable: <span class="literal">true</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p><strong>如果原型对象的某个属性的writable为false，那么子对象将无法自定义这个属性。</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> proto = <span class="built_in">Object</span>.defineProperty(&#123;&#125;, <span class="string">'foo'</span>, &#123;</span><br><span class="line">  value: <span class="string">'a'</span>,</span><br><span class="line">  writable: <span class="literal">false</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj = <span class="built_in">Object</span>.create(proto);</span><br><span class="line"></span><br><span class="line">obj.foo = <span class="string">'b'</span>;</span><br><span class="line">obj.foo <span class="comment">// 'a'</span></span><br></pre></td></tr></table></figure><p>上面代码中，proto是原型对象，它的foo属性不可写。obj对象继承proto，也不可以再自定义这个属性了。如果是严格模式，这样做还会抛出一个错误。</p><p>但是，有一个规避方法，就是通过覆盖属性描述对象，绕过这个限制。原因是这种情况下，原型链会被完全忽视。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> proto = <span class="built_in">Object</span>.defineProperty(&#123;&#125;, <span class="string">'foo'</span>, &#123;</span><br><span class="line">  value: <span class="string">'a'</span>,</span><br><span class="line">  writable: <span class="literal">false</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj = <span class="built_in">Object</span>.create(proto);</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(obj, <span class="string">'foo'</span>, &#123;</span><br><span class="line">  value: <span class="string">'b'</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">obj.foo <span class="comment">// "b"</span></span><br></pre></td></tr></table></figure><p><strong>至于value，只要writable和configurable有一个为true，就允许改动。</strong>  </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> o1 = <span class="built_in">Object</span>.defineProperty(&#123;&#125;, <span class="string">'p'</span>, &#123;</span><br><span class="line">  value: <span class="number">1</span>,</span><br><span class="line">  writable: <span class="literal">true</span>,</span><br><span class="line">  configurable: <span class="literal">false</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="built_in">Object</span>.defineProperty(o1, <span class="string">'p'</span>, &#123;<span class="attr">value</span>: <span class="number">2</span>&#125;)</span><br><span class="line"><span class="comment">// 修改成功</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> o2 = <span class="built_in">Object</span>.defineProperty(&#123;&#125;, <span class="string">'p'</span>, &#123;</span><br><span class="line">  value: <span class="number">1</span>,</span><br><span class="line">  writable: <span class="literal">false</span>,</span><br><span class="line">  configurable: <span class="literal">true</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="built_in">Object</span>.defineProperty(o2, <span class="string">'p'</span>, &#123;<span class="attr">value</span>: <span class="number">2</span>&#125;)</span><br><span class="line"><span class="comment">// 修改成功</span></span><br></pre></td></tr></table></figure><p>在 <code>Object.defineProperty()</code> 被调用时，如果属性本来就有，则会按照新定义属性特征值去覆盖默认属性特征（<code>enumberable</code>、<code>configurable</code> 和 <code>writable</code> 均为 <code>true</code>）。但如果用该方法定义新的属性时，没有为所有的特征值指定一个值，则所有布尔值的特征值会被默认设置为 <code>false</code>。即不可枚举、不可配置、不可写的。<br>当你用 <code>Object.defineProperty()</code> 改变一个已有的属性时，只有你指定的特征会被改变。</p><h4 id="3-6-3-访问器属性特征"><a href="#3-6-3-访问器属性特征" class="headerlink" title="3.6.3 访问器属性特征"></a>3.6.3 访问器属性特征</h4><p>访问器属性额外拥有两个特征。<code>[[Get]]</code> 和 <code>[[Set]]</code>，内含 <code>getter</code> 和 <code>setter</code> 函数。<br>使用访问其属性特征比使用对象字面形式定义访问器属性的优势在于：可以为已有的对象定义这些属性。而后者只能在创建时定义访问器属性。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> person = &#123;</span><br><span class="line">    _name: <span class="string">"Nicholas"</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">Object</span>.defineProperty(person, <span class="string">"name"</span>, &#123;</span><br><span class="line">    <span class="keyword">get</span>: function()&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>._name;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="keyword">set</span>: function(value)&#123;</span><br><span class="line">        <span class="keyword">this</span>._name = value;</span><br><span class="line">    &#125;,</span><br><span class="line">    enumerable: <span class="literal">true</span>,</span><br><span class="line">    configurable: <span class="literal">true</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> x <span class="keyword">in</span> person)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(x); <span class="comment">// _name \n(换行) name（访问器属性）</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>取值函数get不能接受参数，存值函数set只能接受一个参数（即属性的值）</p><p>设置一个不可配置、不可枚举、不可以写的属性：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="built_in">Object</span>.defineProperty(person, <span class="string">"name"</span>,&#123;</span><br><span class="line">    <span class="keyword">get</span>: function()&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>._name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>对于一个新的访问器属性，没有显示设置值为布尔值的属性，默认为 <code>false</code>。</p><h4 id="3-6-4-定义多重属性"><a href="#3-6-4-定义多重属性" class="headerlink" title="3.6.4 定义多重属性"></a>3.6.4 定义多重属性</h4><p><code>Object.defineProperties()</code> 方法可以定义任意数量的属性，甚至可以同时改变已有的属性并创建新属性。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> person = &#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">Object</span>.defineProperties(person, &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// data property to store data</span></span><br><span class="line">    _name: &#123;</span><br><span class="line">        value: <span class="string">"Nicholas"</span>,</span><br><span class="line">        enumerable: <span class="literal">true</span>,</span><br><span class="line">        configurable: <span class="literal">true</span>,</span><br><span class="line">        writable: <span class="literal">true</span></span><br><span class="line">    &#125;,</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// accessor property</span></span><br><span class="line">    name: &#123;</span><br><span class="line">        <span class="keyword">get</span>: function()&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span>._name;</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="keyword">set</span>: function(value)&#123;</span><br><span class="line">            <span class="keyword">this</span>._name = value;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h4 id="3-6-5-获取属性特征"><a href="#3-6-5-获取属性特征" class="headerlink" title="3.6.5 获取属性特征"></a>3.6.5 获取属性特征</h4><p><code>Object.getOwnPropertyDescriptor()</code> 方法。该方法接受两个参数：对象和属性名。如果属性存在，它会返回一个属性描述对象，内涵<code>4</code>个属性：<code>configurable</code> 和 <code>enumerable</code>，另外两个属性则根据属性类型决定。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> person = &#123;</span><br><span class="line">    name: <span class="string">"Nicholas"</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> descriptor = <span class="built_in">Object</span>.getOwnPropertyDescriptor(person, <span class="string">"name"</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(descriptor.enumerable); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(descriptor.configuable); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(descriptor.value); <span class="comment">// "Nicholas"</span></span><br><span class="line"><span class="built_in">console</span>.log(descriptor.wirtable); <span class="comment">// true</span></span><br></pre></td></tr></table></figure><h3 id="3-7-禁止修改对象"><a href="#3-7-禁止修改对象" class="headerlink" title="3.7 禁止修改对象"></a>3.7 禁止修改对象</h3><p>对象和属性一样具有指导其行为的内部特性。其中， <code>[[Extensible]]</code> 是布尔值，指明该对象本身是否可以被修改。默认是 <code>true</code>。当值为 <code>false</code> 时，就能禁止新属性的添加。</p><blockquote><p>建议在 “use strict”; 严格模式下进行。</p></blockquote><h4 id="3-7-1-禁止扩展"><a href="#3-7-1-禁止扩展" class="headerlink" title="3.7.1 禁止扩展"></a>3.7.1 禁止扩展</h4><p><code>Object.preventExtensions()</code> 创建一个不可扩展的对象（即<strong>不能添加新属性</strong>）。<br><code>Object.isExtensible()</code> 检查 <code>[[Extensible]]</code> 的值。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> person = &#123;</span><br><span class="line">    name: <span class="string">"Nocholas"</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">Object</span>.preventExtensions(person);</span><br><span class="line"></span><br><span class="line">person.sayName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"sayName"</span> <span class="keyword">in</span> person); <span class="comment">// false</span></span><br></pre></td></tr></table></figure><h4 id="3-7-2-对象封印"><a href="#3-7-2-对象封印" class="headerlink" title="3.7.2 对象封印"></a>3.7.2 对象封印</h4><p>一个被封印的对象是不可扩展的且其所有属性都是不可配置的（即不能添加、删除属性或修改其属性类型（从数据属性变成访问器属性或相反））。<strong>只能读写它的属性</strong>。<br>Object.seal()。调用此方法后，该对象的 <code>[[Extensible]]</code> 特征被设置为 <code>false</code>，其所有属性的 <code>[[configurable]]</code> 特征被设置为 <code>false</code>。<br><code>Object.isSealed()</code> 判断一个对象是否被封印。</p><h4 id="3-7-3-对象冻结"><a href="#3-7-3-对象冻结" class="headerlink" title="3.7.3 对象冻结"></a>3.7.3 对象冻结</h4><p>被冻结的对象不能添加或删除属性，不能修改属性类型，也不能写入任何数据属性。简言而之，被冻结对象是一个<strong>数据属性都为只读</strong>的被封印对象。<br><code>Object.freeze()</code> 冻结对象。<br><code>Object.isFrozen()</code> 判断对象是否被冻结。</p><h3 id="3-8-总结"><a href="#3-8-总结" class="headerlink" title="3.8 总结"></a>3.8 总结</h3><ul><li><code>in</code> 操作符检测自有属性和原型属性，而 <code>hasOwnProperty()</code> 只检查自有属性。</li><li>用 <code>delete</code> 操作符删除对象属性。</li><li>属性有两种类型：数据属性和访问器属性。</li><li>所有属性都有一些相关特征。<code>[[Enumerable]]</code> 和 <code>[[Configurable]]</code> 的两种属性都有的，而数据属性还有 <code>[[Value]]</code> 和 <code>[[Writable]]</code>，访问器属性还有 <code>[[Get]]</code> 和 <code>[[Set]]</code>。可通过 <code>Object.defineProperty()</code> 和 <code>Object.defineProperties()</code> 改变这些特征。用 <code>Object.getOwnPropertyDescriptor()</code> 获取它们。</li><li>有 <code>3</code> 种可以锁定对象属性的方式。</li></ul><h2 id="4-构造函数和原型对象"><a href="#4-构造函数和原型对象" class="headerlink" title="4. 构造函数和原型对象"></a>4. 构造函数和原型对象</h2><p>由于JavaScript(ES5)缺乏类，但可用构造函数和原型对象给对象带来与类相似的功能。</p><h3 id="4-1-构造函数"><a href="#4-1-构造函数" class="headerlink" title="4.1 构造函数"></a>4.1 构造函数</h3><p>构造函数的函数名首字母应大写，以此区分其他函数。<br>当没有需要给构造函数传递参数，可忽略小括号：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> Person = &#123;</span><br><span class="line">    <span class="comment">// 故意留空</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> person = <span class="keyword">new</span> Person;</span><br></pre></td></tr></table></figure><p>尽管 Person 构造函数没有显式返回任何东西，但 new 操作符会自动创建给定类型的对象并返回它们。</p><p>每个对象在创建时都自动拥有一个构造函数属性（constructor，其实是它们的原型对象上的属性），其中包含了一个指向其构造函数的引用。<br>通过对象字面量形式（{}）或Object构造函数创建出来的泛用对象，其构造函数属性（constructor）指向 Object；而那些通过自定义构造函数创建出来的对象，其构造函数属性指向创建它的构造函数。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(person.constructor === Person); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log((&#123;&#125;).constructor === <span class="built_in">Object</span>); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]).constructor === <span class="built_in">Object</span>); <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 证明 constructor是在原型对象上</span></span><br><span class="line"><span class="built_in">console</span>.log(person.hasOwnPrototype(<span class="string">"constructor"</span>)); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(person.constructor.prototype.hasOwnPrototype(<span class="string">"constructor"</span>)); <span class="comment">// true</span></span><br></pre></td></tr></table></figure><p>尽管对象实例及其构造函数之间存在这样的关系，但还是建议使用 <code>instanceof</code> 来检查对象类型。这是因为构造函数属性可以被覆盖。（person.constructor = “”）。</p><p>当你调用构造函数时，new 会自动自动创建 this 对象，且其类型就是构造函数的类型（构造函数就好像类，相当于一种数据类型）。</p><blockquote><p>你也可以在构造函数中显式调用 return。如果返回值是一个对象，它会代替新创建的对象实例而返回，如果返回值是一个原始类型，它会被忽略，新创建的对象实例会被返回。</p></blockquote><p>始终确保要用 new 调用构造函数；否则，你就是在冒着改变全局对象的风险，而不是创建一个新的对象。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> person = Person(<span class="string">"Nicholas"</span>); <span class="comment">// 缺少 new</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(person <span class="keyword">instanceof</span> Person); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(person); <span class="comment">// undefined，因为没用 new，就相当于一个普通函数，默认返回 undefined</span></span><br><span class="line"><span class="built_in">console</span>.log(name); <span class="comment">// "Nicholas"</span></span><br></pre></td></tr></table></figure><p>当Person不是被 new 调用时，构造函数中的 this 对象等于全局 this 对象。</p><blockquote><p>在严格模式下，会报错。因为严格模式下，并没有为全局对象设置 this，this 保持为 undefined。</p></blockquote><p>以下代码，通过 new 实例化 100 个对象，则会有 100 个函数做相同的事。因此可用 <code>prototype</code> 共享同一个方法会更高效。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> person = &#123;</span><br><span class="line">    name: <span class="string">"Nicholas"</span>,</span><br><span class="line">    sayName: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="4-2-原型对象"><a href="#4-2-原型对象" class="headerlink" title="4.2 原型对象"></a>4.2 原型对象</h3><p>可以把原型对象看作是对象的基类。几乎所有的函数（除了一些内建函数）都有一个名为 prototype 的属性，该属性是一个原型对象用来创建新的对象实例。所有创建的对象实例（同一构造函数，当然，可能访问上层的原型对象）<strong>共享</strong>该原型对象，且这些对象实例可以访问原型对象的属性。例如，hasOwnProperty()定义在 Object 的原型对象中，但却可被任何对象当作自己的属性访问。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> book = &#123;</span><br><span class="line">    title : <span class="string">"book_name"</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="string">"hasOwnProperty"</span> <span class="keyword">in</span> book; <span class="comment">// true</span></span><br><span class="line">book.hasOwnProperty(<span class="string">"hasOwnProperty"</span>); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">Object</span>.property.hasOwnProperty(<span class="string">"hasOwnProperty"</span>); <span class="comment">// true</span></span><br></pre></td></tr></table></figure><p><strong>鉴别一个原型属性</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">hasPrototypeProperty</span>(<span class="params">object, name</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> name <span class="keyword">in</span> object &amp;&amp; !object.hasOwnProperty(name);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="4-2-1-Prototype-属性"><a href="#4-2-1-Prototype-属性" class="headerlink" title="4.2.1 [[Prototype]] 属性"></a>4.2.1 [[Prototype]] 属性</h4><p>一个对象实例通过内部属性 [[Prototype]] 跟踪其原型对象。该属性是一个指向该实例使用的原型对象的指针。当你用 new 创建一个新的对象时，构造函数的原型对象就会被赋给该对象的 [[Prototype]] 属性。</p><p>![prototype][3]</p><p>由上图可以看出，[[Prototype]] 属性是如何让多个对象实例引用同一个原型对象来减少重复代码。</p><p>Object.getPrototypeOf() 方法可读取 [[Prototype]] 属性的值。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj = &#123;&#125;;</span><br><span class="line"><span class="keyword">var</span> prototype = <span class="built_in">Object</span>.getPrototypeOf(<span class="built_in">Object</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(prototype === <span class="built_in">Object</span>.prototype); <span class="comment">// true</span></span><br></pre></td></tr></table></figure><blockquote><p>大部分JavaScript引擎在所有对象上都支持一个名为 <code>__proto__</code> 的属性。该属性使你可以直接读写 [[Prototype]] 属性。</p></blockquote><p>isPrototypeOf() 方法会检查某个对象是否是另一个对象的原型对象，该方法包含在所有对象中。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj = &#123;&#125;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.prototype.isPrototypeOf(obj)); <span class="comment">// true</span></span><br></pre></td></tr></table></figure><p>当读取一个对象的属性时，JavaScript 引擎首先在该对象的自有属性查找属性名。如果找到则返回。否则会搜索 [[Prototype]] 中的对象，找到则返回，找不到则返回 undefined。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line"><span class="built_in">console</span>.log(obj.toString()); <span class="comment">// "[object Object]"</span></span><br><span class="line"></span><br><span class="line">obj.toString = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"[object Custom]"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(obj.toString()); <span class="comment">// "[object Custom]"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">delete</span> obj.toString; <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(obj.toString()); <span class="comment">// "[object Object]"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">delete</span> obj.toString; <span class="comment">// 无效，delete不能删除一个对象从原型继承而来的属性</span></span><br><span class="line">cconsole.log(obj.toString()); <span class="comment">// // "[object Object]"</span></span><br></pre></td></tr></table></figure><blockquote><p>MDN：delete 操作符不能删除的属性有：①显式声明的全局变量不能被删除,该属性不可配置（not configurable）； ②内置对象的内置属性不能被删除； ③不能删除一个对象从原型继承而来的属性(不过你可以从原型上直接删掉它)。</p></blockquote><p>一个重要概念：无法给一个对象的原型属性赋值。但我们可以通过 <code>obj.constructor.prototype.sayHi = function(){console.log(&quot;Hi!&quot;)}</code> 向原型对象添加属性。</p><p>![此处输入图片的描述][4]<br>（图片中间可以看出，为对象obj添加的toString属性代替了原型属性）</p><h4 id="4-2-2-在构造函数中使用原型对象"><a href="#4-2-2-在构造函数中使用原型对象" class="headerlink" title="4.2.2 在构造函数中使用原型对象"></a>4.2.2 在构造函数中使用原型对象</h4><h5 id="在原型对象上定义公用方法"><a href="#在原型对象上定义公用方法" class="headerlink" title="在原型对象上定义公用方法"></a>在原型对象上定义公用方法</h5><h5 id="在原型对象上定义数据类型"><a href="#在原型对象上定义数据类型" class="headerlink" title="在原型对象上定义数据类型"></a>在原型对象上定义数据类型</h5><p>开发中需要注意原型对象的数据是否共享。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Person.prototype.sayName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Person.prototype.position = <span class="string">"school"</span>;</span><br><span class="line">Person.prototype.arr = [];</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> person1 = <span class="keyword">new</span> Person(<span class="string">"xiaoming"</span>);</span><br><span class="line"><span class="keyword">var</span> person2 = <span class="keyword">new</span> Person(<span class="string">"Jc"</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"原始类型"</span>)</span><br><span class="line"><span class="built_in">console</span>.log(person1.position); <span class="comment">// "school"</span></span><br><span class="line"><span class="built_in">console</span>.log(person2.position); <span class="comment">// "school"</span></span><br><span class="line"></span><br><span class="line">person1.position = <span class="number">2</span>; <span class="comment">// 这是在当前属性设置position，引用类型同理</span></span><br><span class="line"><span class="built_in">console</span>.log(person1.hasOwnProperty(<span class="string">"position"</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(person2.hasOwnProperty(<span class="string">"position"</span>)); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"引用类型"</span>);</span><br><span class="line">person1.arr.push(<span class="string">"pizza"</span>); <span class="comment">// 这是在原型对象上设置，而不是直接在对象上</span></span><br><span class="line">person2.arr.push(<span class="string">"quinoa"</span>); <span class="comment">// 这是在原型对象上设置</span></span><br><span class="line"><span class="built_in">console</span>.log(person1.hasOwnProperty(<span class="string">"arr"</span>)); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(person2.hasOwnProperty(<span class="string">"arr"</span>)); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(person1.arr); <span class="comment">// ["pizza", "quinoa"]</span></span><br><span class="line"><span class="built_in">console</span>.log(person2.arr); <span class="comment">// ["pizza", "quinoa"]</span></span><br></pre></td></tr></table></figure><p>上面是在原型对象上一一添加属性，下面一种更简洁的方式：以一个对象字面形式替换原型对象</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Person.prototype = &#123;</span><br><span class="line">    sayName: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</span><br><span class="line">    &#125;,</span><br><span class="line">    toString: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"[Person ]"</span> + <span class="keyword">this</span>.name + <span class="string">"]"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这种方式有一种副作用：因为原型对象上具有一个 <code>constructor</code> 属性，这是其他对象实例所没有的。当一个函数被创建时，它的  <code>prototype</code> 属性也会被创建，且该原型对象的 <code>constructor</code> 属性指向该函数。当使用字面量时，因没显式设置原型对象的 <code>constructor</code> 属性，因此其 <code>constructor</code> 属性是指向 <code>Object</code> 的。<br>因此，当通过此方式设置原型对象时，可手动设置 <code>constructor</code> 属性。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 建议第一个属性就是设置其 constructor 属性。</span></span><br><span class="line">Person.prototype = &#123;</span><br><span class="line">    <span class="keyword">constructor</span>: Person,</span><br><span class="line"></span><br><span class="line">    sayName: function()&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</span><br><span class="line">    &#125;,</span><br><span class="line">    toString: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"[Person ]"</span> + <span class="keyword">this</span>.name + <span class="string">"]"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>构造函数、原型对象和对象实例之间的关系最有趣的一方面也许是：<br>对象实例和构造函数直接没有直接联系。（对象实例只有 <code>[[Prototype]]</code> 属性指向其相应的原型对象，而原型对象的 <code>constructor</code> 属性指向构造函数，而构造函数的 <code>prototype</code> 指向原型对象）<br>![obj_constructor_prototype][5]</p><h4 id="4-2-3-改变原型对象"><a href="#4-2-3-改变原型对象" class="headerlink" title="4.2.3 改变原型对象"></a>4.2.3 改变原型对象</h4><p>因为每个对象的 <code>[[Prototype]]</code> 只是一个指向原型对象的指针，所以原型对象的改动会立刻反映到所有引用它的对象。<br>当对一个对象使用封印 <code>Object.seal()</code> 或冻结 <code>Object.freeze()</code> 时，完全是在操作对象的自有属性，但任然可以通过在原型对象上添加属性来扩展这些对象实例。</p><h4 id="4-2-4-内建对象（如Array、String）的原型对象"><a href="#4-2-4-内建对象（如Array、String）的原型对象" class="headerlink" title="4.2.4 内建对象（如Array、String）的原型对象"></a>4.2.4 内建对象（如Array、String）的原型对象</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="built_in">String</span>.prototype.capitalize = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.charAt(<span class="number">0</span>).toUpperCase() + <span class="keyword">this</span>.substring(<span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><ul><li>构造函数就是用 <code>new</code> 操作符调用的普通函数。可用过 <code>instanceof</code> 操作符或直接访问 <code>constructor</code>(实际上是原型对象的属性) 来鉴别对象是被哪个构造函数所创建的。</li><li>每个函数都有一个 <code>prototype</code> 对象，它定义了该构造函数创建的所有对象共享的属性。而 <code>constructor</code> 属性实际上是定义在原型对象里，供所有对象实例共享。</li><li>每个对象实例都有 <code>[[Prototype]]</code> 属性，它是指向原型对象的指针。当访问对象的某个属性时，先从对象自身查找，找不到的话就到原型对象上找。</li><li>内建对象的原型对象也可被修改</li></ul><h2 id="5-继承"><a href="#5-继承" class="headerlink" title="5. 继承"></a>5. 继承</h2><h3 id="5-1-原型对象链和-Object-prototype"><a href="#5-1-原型对象链和-Object-prototype" class="headerlink" title="5.1 原型对象链和 Object.prototype"></a>5.1 原型对象链和 Object.prototype</h3><p>JavaScript内建的继承方法被称为 原型对象链（又叫原型对象继承）。<br>原型对象的属性可经由对象实例访问，这就是继承的一种形式。对象实例继承了原型对象的属性，而原型对象也是一个对象，它也有自己的原型对象并继承其属性，以此类推。这就是原型对象链。</p><p>所有对象（包括自义定的）都自动继承自 <code>Object</code>，除非你另有指定。更确切地说，所有对象都继承自 <code>Object.prototype</code>。任何以对象字面量形式定义的对象，其 <code>[[Prototype]]</code> 的值都被设为 <code>Object.prototype</code>，这意味着它继承 <code>Object.prototype</code> 的属性。</p><h4 id="5-1-1-继承自-Object-prototype-的方法"><a href="#5-1-1-继承自-Object-prototype-的方法" class="headerlink" title="5.1.1 继承自 Object.prototype 的方法"></a>5.1.1 继承自 Object.prototype 的方法</h4><p>Object.prototype 一般有以下几个方法</p><ul><li>hasOwnProperty()             检测是否存在一个给定名字的自有属性</li><li>propertyIsemumerable()       检查一个自有属性是否可枚举</li><li>isPrototypeOf                检查一个对象是否是另一个对象的原型对象</li><li>valueOf()                    返回一个对象的值表达</li><li>toString()                   返回一个对象的字符串表达</li></ul><p>这 5 种方法经由继承出现在所有对象中。<br>因为所有对象都默认继承自 <code>Object.prototype</code>，所以改变它就会影响所有的对象。所以不建议。</p><h3 id="5-2-继承"><a href="#5-2-继承" class="headerlink" title="5.2 继承"></a>5.2 继承</h3><p>对象继承是最简单的继承类型。你唯需要做的是指定哪个对象是新对象的 <code>[[Prototype]]</code>。对象字面量形式会隐式指定 <code>Object.prototype</code> 为其 <code>[[Protoype]]</code>。当然我们可以用 ES5 的 <code>Object.create()</code> 方法显式指定。该方法接受两个参数，第一个是新对象的的 <code>[[Prototype]]</code> 所指向的对象。第二个参数是可选的一个属性描述对象，其格式与 <code>Object.definePrototies()</code>一样。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    name: <span class="string">"Ljc"</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 等同于</span></span><br><span class="line"><span class="keyword">var</span> obj = <span class="built_in">Object</span>.create(<span class="built_in">Object</span>.prototype, &#123;</span><br><span class="line">    name: &#123;</span><br><span class="line">        value: <span class="string">"Ljc"</span>,</span><br><span class="line">        configurable: <span class="literal">true</span>,</span><br><span class="line">        enumberable: <span class="literal">true</span>,</span><br><span class="line">        writable: <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>下面是继承其它对象：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> person = &#123;</span><br><span class="line">    name: <span class="string">"Jack"</span>,</span><br><span class="line">    sayName: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> student = <span class="built_in">Object</span>.create(person, &#123;</span><br><span class="line">    name:&#123;</span><br><span class="line">        value: <span class="string">"Ljc"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    grade: &#123;</span><br><span class="line">        value: <span class="string">"fourth year of university"</span>,</span><br><span class="line">        enumerable: <span class="literal">true</span>,</span><br><span class="line">        configurable: <span class="literal">true</span>,</span><br><span class="line">        writable: <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">person.sayName(); <span class="comment">// "Jack"</span></span><br><span class="line">student.sayName(); <span class="comment">// "Ljc"</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(person.hasOwnProperty(<span class="string">"sayName"</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(person.isPrototypeOf(student)); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(student.hasOwnProperty(<span class="string">"sayName"</span>)); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"sayName"</span> <span class="keyword">in</span> student); <span class="comment">// true</span></span><br></pre></td></tr></table></figure><p>![对象继承][6]</p><p>当访问一个对象属性时，JavaScript引擎会执行一个搜索过程。如果在对象实例存在该自有属性，则返回，否则，根据其私有属性 <code>[[Protoype]]</code> 所指向的原型对象进行搜索，找到返回，否则继承上述操作，知道继承链末端。末端通常是 <code>Object.prototype</code>，其 <code>[[Prototype]]</code> 是 <code>null</code>。</p><p>当然，也可以用 <code>Object.create()</code> 常见一个 <code>[[Prototype]]</code> 为 <code>null</code> 的对象。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj = <span class="built_in">Object</span>.create(<span class="literal">null</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"toString"</span> <span class="keyword">in</span> obj); <span class="comment">// false</span></span><br></pre></td></tr></table></figure><p>该对象是一个没有原型对象链的对象，即是一个没有预定义属性的白板。</p><h3 id="5-3-构造函数继承"><a href="#5-3-构造函数继承" class="headerlink" title="5.3 构造函数继承"></a>5.3 构造函数继承</h3><p>JavaScript 中的对象继承也是构造函数继承的基础。<br>第四章提到，几乎所有函数都有 <code>prototype</code> 属性，它可被修改或替换。该 <code>prototype</code> 属性被自动设置为一个新的继承自 <code>Object.prototype</code> 的泛用对象，该对象(原型对象)有一个自有属性 <code>constructor</code>。实际上，JavaScript 引擎为你做了下面的事情。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// 你写成这样</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">YourConstructor</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="comment">// initialization</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// JavaScript引擎在背后为你做了这些处理</span></span><br><span class="line">YourConstructor.prototype = <span class="built_in">Object</span>.create(<span class="built_in">Object</span>.prototype, &#123;</span><br><span class="line">    <span class="keyword">constructor</span>: &#123;</span><br><span class="line">        configurable: <span class="literal">true</span>,</span><br><span class="line">        enumerable: <span class="literal">true</span>,</span><br><span class="line">        value: YourConstructor,</span><br><span class="line">        writable: <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>你不需要做额外的工作，这段代码帮你把构造函数的 <code>prototype</code> 属性设置为一个继承自 <code>Object.prototype</code> 的对象。这意味着 <code>YourConstructor</code> 创建出来的任何对象都继承自 <code>Object.prototype</code>。</p><p>由于 prototype 可写，你可以通过改变它来改变原型对象链。</p><blockquote><p>MDN:instanceof 运算符可以用来判断某个构造函数的 prototype 属性是否存在另外一个要检测对象的原型链上。</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Rectangle</span>(<span class="params">length, width</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.length = length;</span><br><span class="line">    <span class="keyword">this</span>.width = width</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Rectangle.prototype.getArea = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.length * <span class="keyword">this</span>.width</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Rectangle.prototype.toString = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"[Rectangle "</span> + <span class="keyword">this</span>.length + <span class="string">"x"</span> + <span class="keyword">this</span>.width + <span class="string">"]"</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// inherits from Rectangle</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Square</span>(<span class="params">size</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.length = size;</span><br><span class="line">    <span class="keyword">this</span>.width = size;</span><br><span class="line">&#125;</span><br><span class="line">Square.prototype = <span class="keyword">new</span> Rectangle(); <span class="comment">// 尽管是 Square.prototype 是指向了 Rectangle 的对象实例，即Square的实例对象也能访问该实例的属性（如果你提前声明了该对象，且给该对象新增属性）。</span></span><br><span class="line"><span class="comment">// Square.prototype = Rectangle.prototype; // 这种实现没有上面这种好，因为Square.prototype 指向了 Rectangle.prototype，导致修改Square.prototype时，实际就是修改Rectangle.prototype。</span></span><br><span class="line"><span class="built_in">console</span>.log(Square.prototype.constructor); <span class="comment">// 输出 Rectangle 构造函数</span></span><br><span class="line"></span><br><span class="line">Square.prototype.constructor = Square; <span class="comment">// 重置回 Square 构造函数</span></span><br><span class="line"><span class="built_in">console</span>.log(Square.prototype.constructor); <span class="comment">// 输出 Square 构造函数</span></span><br><span class="line"></span><br><span class="line">Square.prototype.toString = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"[Square "</span> + <span class="keyword">this</span>.length + <span class="string">"x"</span> + <span class="keyword">this</span>.width + <span class="string">"]"</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> rect = <span class="keyword">new</span> Rectangle(<span class="number">5</span>, <span class="number">10</span>);</span><br><span class="line"><span class="keyword">var</span> square = <span class="keyword">new</span> Square(<span class="number">6</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(rect.getArea()); <span class="comment">// 50</span></span><br><span class="line"><span class="built_in">console</span>.log(square.getArea()); <span class="comment">// 36</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(rect.toString()); <span class="comment">// "[Rectangle 5 * 10]", 但如果是Square.prototype = Rectangle.prototype，则这里会"[Square 5 * 10]"</span></span><br><span class="line"><span class="built_in">console</span>.log(square.toString()); <span class="comment">// "[Square 6 * 6]"</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(square <span class="keyword">instanceof</span> Square); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(square <span class="keyword">instanceof</span> Rectangle); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(square <span class="keyword">instanceof</span> <span class="built_in">Object</span>); <span class="comment">// true</span></span><br></pre></td></tr></table></figure><p>![构造函数继承][7]</p><p><code>Square.prototype</code> 并不真的需要被改成为一个 <code>Rectangle</code> 对象。事实上，是 <code>Square.prototype</code> 需要指向 <code>Rectangle.prototype</code> 使得继承得以实现。这意味着可以用 <code>Object.create()</code> 简化例子。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// inherits from Rectangle</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Square</span>(<span class="params">size</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.length = size;</span><br><span class="line">    <span class="keyword">this</span>.width = size;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Square.prototype= <span class="built_in">Object</span>.create(Rectangle.prototype, &#123;</span><br><span class="line">    <span class="keyword">constructor</span>: &#123;</span><br><span class="line">        configurable: <span class="literal">true</span>,</span><br><span class="line">        enumerable: <span class="literal">true</span>,</span><br><span class="line">        value: Square,</span><br><span class="line">        writable: <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><blockquote><p>在对原型对象添加属性前要确保你已经改成了原型对象，否则在改写时会丢失之前添加的方法（因为继承是将被继承对象赋值给需要继承的原型对象，相当于重写了需要继承的原型对象）。</p></blockquote><h3 id="5-4-构造函数窃取"><a href="#5-4-构造函数窃取" class="headerlink" title="5.4 构造函数窃取"></a>5.4 构造函数窃取</h3><p>由于JavaScript中的继承是通过原型对象链来实现的，因此不需要调用对象的父类的构造函数。如果确实需要在子类构造函数中调用父类构造函数，那就可以在子类的构造函数中利用 <code>call</code>、<code>apply</code>方法调用父类的构造函数。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// 在上面的代码基础上作出修改</span></span><br><span class="line"><span class="comment">// inherits from Rectangle</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Square</span>(<span class="params">size</span>)</span>&#123;</span><br><span class="line">    Rectangle.call(<span class="keyword">this</span>, size, size);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// optional: add new properties or override existing ones here</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>一般来说，需要修改 <code>prototyp</code> 来继承方法并用构造函数窃取来设置属性，由于这种做法模仿了那些基于类的语言的类继承，所以这通常被称为伪类继承。</p><h3 id="5-5-访问父类方法"><a href="#5-5-访问父类方法" class="headerlink" title="5.5 访问父类方法"></a>5.5 访问父类方法</h3><p>其实也是通过指定 <code>call</code> 或 <code>apply</code> 的子对象调用父类方法。</p><h2 id="6-对象模式"><a href="#6-对象模式" class="headerlink" title="6 对象模式"></a>6 对象模式</h2><p>###6.1 私有成员和特权成员<br>JavaScipt 对象的所有属性都是公有的，没有显式的方法指定某个属性不能被外界访问。</p><h4 id="6-1-1-模块模式"><a href="#6-1-1-模块模式" class="headerlink" title="6.1.1 模块模式"></a>6.1.1 模块模式</h4><p>模块模式是一种用于创建<strong>拥有私有数据的单件对象</strong>的模式。<br>基本做法是使用立即调用函数表达式（IIFE）来返回一个对象。原理是利用闭包。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> yourObj = (<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="comment">// private data variables</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="comment">// public methods and properties</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;());</span><br></pre></td></tr></table></figure><p>模块模式还有一个变种叫暴露模块模式，它将所有的变量和方法都放在 <code>IIFE</code> 的头部，然后将它们设置到需要被返回的对象上。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//  一般写法</span></span><br><span class="line"><span class="keyword">var</span> yourObj = (<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> age = <span class="number">25</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        name: <span class="string">"Ljc"</span>,</span><br><span class="line">        </span><br><span class="line">        getAge: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> agel</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;());</span><br><span class="line"></span><br><span class="line"><span class="comment">// 暴露模块模式</span></span><br><span class="line"><span class="keyword">var</span> yourObj = (<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> age = <span class="number">25</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">getAge</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> agel</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        name: <span class="string">"Ljc"</span>,</span><br><span class="line">        getAge: getAge</span><br><span class="line">    &#125;</span><br><span class="line">&#125;());</span><br></pre></td></tr></table></figure><h4 id="6-1-2-构造函数的私有成员（不能通过对象直接访问）"><a href="#6-1-2-构造函数的私有成员（不能通过对象直接访问）" class="headerlink" title="6.1.2 构造函数的私有成员（不能通过对象直接访问）"></a>6.1.2 构造函数的私有成员（不能通过对象直接访问）</h4><p>模块模式在定义单个对象的私有属性十分有效，但对于那些同样需要私有属性的自定义类型呢？你可以在构造函数中使用类似的模式来创建每个实例的私有数据。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name</span>)</span>&#123;</span><br><span class="line">    <span class="comment">// define a variable only accessible inside of the Person constructor</span></span><br><span class="line">    <span class="keyword">var</span> age = <span class="number">22</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">    <span class="keyword">this</span>.getAge = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">this</span>.growOlder = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        age++;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> person = <span class="keyword">new</span> Person(<span class="string">"Ljc"</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(person.age); <span class="comment">// undefined</span></span><br><span class="line">person.age = <span class="number">100</span>;</span><br><span class="line"><span class="built_in">console</span>.log(person.getAge()); <span class="comment">// 22</span></span><br><span class="line"></span><br><span class="line">person.growOlder();</span><br><span class="line"><span class="built_in">console</span>.log(person.getAge()); <span class="comment">// 23</span></span><br></pre></td></tr></table></figure><p>这里有个问题：如果你需要<strong>对象实例</strong>拥有私有数据，就不能将相应方法放在 <code>prototype</code> 上。</p><p>如果你需要所有实例共享私有数据。则可结合模块模式和构造函数，如下：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> Person = (<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> age = <span class="number">22</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">InnerPerson</span>(<span class="params">name</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    InnerPerson.prototype.getAge = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line">    InnerPerson.prototype.growOlder = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        age++;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> InnerPerson;</span><br><span class="line">&#125;());</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> person1 = <span class="keyword">new</span> Person(<span class="string">"Nicholash"</span>);</span><br><span class="line"><span class="keyword">var</span> person2 = <span class="keyword">new</span> Person(<span class="string">"Greg"</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(person1.name); <span class="comment">// "Nicholash"</span></span><br><span class="line"><span class="built_in">console</span>.log(person1.getAge()); <span class="comment">// 22</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(person2.name); <span class="comment">// "Greg"</span></span><br><span class="line"><span class="built_in">console</span>.log(person2.getAge()); <span class="comment">// 22</span></span><br><span class="line"></span><br><span class="line">person1.growOlder();</span><br><span class="line"><span class="built_in">console</span>.log(person1.getAge()); <span class="comment">// 23</span></span><br><span class="line"><span class="built_in">console</span>.log(person2.getAge()); <span class="comment">// 23</span></span><br></pre></td></tr></table></figure><h3 id="6-2-混入"><a href="#6-2-混入" class="headerlink" title="6.2 混入"></a>6.2 混入</h3><p>这是一种伪继承。一个对象在不改变原型对象链的情况下得到了另外一个对象的属性被称为“混入”。因此，和继承不同，混入让你在创建对象后无法检查属性来源。<br>纯函数实现：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">mixin</span>(<span class="params">receiver, supplier</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> property <span class="keyword">in</span> supplier)&#123;</span><br><span class="line">        <span class="keyword">if</span>(supplier.hasOwnProperty(property))&#123;</span><br><span class="line">            receiver[property] = supplier[property];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这是浅拷贝，如果属性的值是一个引用，那么两者将指向同一个对象。</p><h3 id="6-3-作用域安全的构造函数"><a href="#6-3-作用域安全的构造函数" class="headerlink" title="6.3 作用域安全的构造函数"></a>6.3 作用域安全的构造函数</h3><p>构造函数也是函数，所以不用 new 也能调用它们来改变 <code>this</code> 的值。在非严格模式下， <code>this</code> 被强制指向全局对象。而在严格模式下，构造函数会抛出一个错误（因为严格模式下没有为全局对象设置 <code>this</code>，<code>this</code> 保持为 <code>undefined</code>）。<br>而很多内建构造函数，例如 <code>Array</code>、<code>RegExp</code> 不需要 <code>new</code> 也能正常工作，这是因为它们被设计为作用域安全的构造函数。<br>当用 <code>new</code> 调用一个函数时，<code>this</code> 指向的新创建的对象是属于该构造函数所代表的自定义类型。因此，可在函数内用 <code>instanceof</code> 检查自己是否被 <code>new</code> 调用。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">this</span> <span class="keyword">instanceof</span> Person)&#123;</span><br><span class="line">        <span class="comment">// called with "new"</span></span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="comment">// called without "new"</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>具体案例：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">this</span> <span class="keyword">instanceof</span> Person)&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Person(name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 读书笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 读书笔记 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JavaScript执行环境和变量对象</title>
      <link href="/javascript%E6%89%A7%E8%A1%8C%E7%8E%AF%E5%A2%83%E5%92%8C%E5%8F%98%E9%87%8F%E5%AF%B9%E8%B1%A1/"/>
      <url>/javascript%E6%89%A7%E8%A1%8C%E7%8E%AF%E5%A2%83%E5%92%8C%E5%8F%98%E9%87%8F%E5%AF%B9%E8%B1%A1/</url>
      
        <content type="html"><![CDATA[<h2 id="概念目录"><a href="#概念目录" class="headerlink" title="概念目录"></a>概念目录</h2><ul><li>EC(执行环境或者执行上下文，Execution Context)</li><li>ECS(执行环境栈Execution Context Stack)</li><li>VO(变量对象，Variable Object)|AO(活动对象，Active Object)</li><li>scope chain(作用域链)和[[scope]]属性</li></ul><a id="more"></a><h2 id="EC"><a href="#EC" class="headerlink" title="EC"></a>EC</h2><hr><p>每当控制器到达ECMAScript可执行代码的时候，控制器就进入了一个执行上下文.</p><h3 id="javascript中，EC分为三种："><a href="#javascript中，EC分为三种：" class="headerlink" title="javascript中，EC分为三种："></a>javascript中，EC分为三种：</h3><ol><li>全局级别的代码 – 这个是默认的代码运行环境，一旦代码被载入，引擎最先进入的就是这个环境。</li><li>函数级别的代码 – 当执行一个函数时，运行函数体中的代码。</li><li>Eval的代码 – 在Eval函数内运行的代码。</li></ol><h3 id="EC建立分为两个阶段：进入执行上下文和执行阶段。"><a href="#EC建立分为两个阶段：进入执行上下文和执行阶段。" class="headerlink" title="EC建立分为两个阶段：进入执行上下文和执行阶段。"></a>EC建立分为两个阶段：进入执行上下文和执行阶段。</h3><ol><li>进入上下文阶段：发生在函数调用时，但是在执行具体代码之前（比如，对函数参数进行具体化之前）</li><li>执行代码阶段：变量赋值，函数引用，执行其他代码。</li></ol><p>我们可以将EC看做是一个对象。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">EC=&#123;</span><br><span class="line">    VO:&#123;<span class="comment">/* 函数中的arguments对象, 参数, 内部的变量以及函数声明 */</span>&#125;,</span><br><span class="line">    <span class="keyword">this</span>:&#123;&#125;,</span><br><span class="line">    Scope:&#123; <span class="comment">/* VO以及所有父执行上下文中的VO */</span>&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ECS"><a href="#ECS" class="headerlink" title="ECS"></a>ECS</h2><hr><p>一系列活动的执行上下文从逻辑上形成一个栈。栈底总是全局上下文，栈顶是当前（活动的）执行上下文。当在不同的执行上下文间切换（退出的而进入新的执行上下文）的时候，栈会被修改（通过压栈或者退栈的形式）。</p><p>压栈：全局EC–&gt;局部EC1–&gt;局部EC2–&gt;当前EC<br>出栈：全局EC&lt;–局部EC1&lt;–局部EC2&lt;–当前EC</p><p>我们可以用数组的形式来表示环境栈:</p><blockquote><p>ECS=[局部EC,全局EC];</p></blockquote><p>每次控制器进入一个函数（哪怕该函数被递归调用或者作为构造器），都会发生压栈的操作。过程类似javascript数组的push和pop操作。</p><p>当javascript代码文件被浏览器载入后，默认最先进入的是一个全局的执行上下文。当在全局上下文中调用执行一个函数时，程序流就进入该被调用函数内，此时引擎就会为该函数创建一个新的执行上下文，并且将其压入到执行上下文堆栈的顶部。浏览器总是执行当前在堆栈顶部的上下文，一旦执行完毕，该上下文就会从堆栈顶部被弹出，然后，进入其下的上下文执行代码。这样，堆栈中的上下文就会被依次执行并且弹出堆栈，直到回到全局的上下文。</p><h2 id="VO-AO"><a href="#VO-AO" class="headerlink" title="VO|AO"></a>VO|AO</h2><hr><h3 id="VO"><a href="#VO" class="headerlink" title="VO"></a>VO</h3><p>每一个EC都对应一个变量对象VO，在该EC中定义的所有变量和函数都存放在其对应的VO中。<br>VO分为全局上下文VO（全局对象，Global object，我们通常说的global对象）和函数上下文的AO。</p><blockquote><p>VO: {<br>  // 上下文中的数据 (变量声明（var）, 函数声明（FD), 函数形参（function arguments）)<br>}</p></blockquote><ol><li>进入执行上下文时，VO的初始化过程具体如下：</li></ol><ul><li>函数的形参（当进入函数执行上下文时）<br>—— 变量对象的一个属性，其属性名就是形参的名字，其值就是实参的值；对于没有传递的参数，其值为undefined</li><li>函数声明（FunctionDeclaration, FD） —— 变量对象的一个属性，其属性名和值都是函数对象创建出来的；如果变量对象已经包含了相同名字的属性，则替换它的值</li><li>变量声明（var，VariableDeclaration） —— 变量对象的一个属性，其属性名即为变量名，其值为undefined;如果变量名和已经声明的函数名或者函数的参数名相同，则不会影响已经存在的属性。</li></ul><p><strong>注意：该过程是有先后顺序的。</strong></p><ol start="2"><li>执行代码阶段时，VO中的一些属性undefined值将会确定。</li></ol><h3 id="AO"><a href="#AO" class="headerlink" title="AO"></a>AO</h3><blockquote><p>在函数的执行上下文中，VO是不能直接访问的。它主要扮演被称作活跃对象（activation object）（简称：AO）的角色。</p></blockquote><p>这句话怎么理解呢，就是当EC环境为函数时，我们访问的是AO，而不是VO。</p><blockquote><p>VO(functionContext) === AO;</p></blockquote><p>AO是在进入函数的执行上下文时创建的，并为该对象初始化一个arguments属性，该属性的值为Arguments对象。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">AO = &#123;</span><br><span class="line">  <span class="built_in">arguments</span>: &#123;</span><br><span class="line">    callee:,</span><br><span class="line">    length:,</span><br><span class="line">    properties-indexes: <span class="comment">//函数传参参数值</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>FD的形式只能是如下这样：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">function f()&#123;</span><br><span class="line">  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h2><hr><h2 id="VO示例："><a href="#VO示例：" class="headerlink" title="VO示例："></a>VO示例：</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">alert(x); <span class="comment">// function</span></span><br><span class="line"><span class="keyword">var</span> x = <span class="number">10</span>;</span><br><span class="line">alert(x); <span class="comment">// 10</span></span><br><span class="line">x = <span class="number">20</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">x</span>(<span class="params"></span>) </span>&#123;&#125;;</span><br><span class="line">alert(x); <span class="comment">// 20</span></span><br></pre></td></tr></table></figure><p>进入执行上下文时</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ECObject=&#123;</span><br><span class="line">  VO:&#123;</span><br><span class="line">    x:<span class="xml"><span class="tag">&lt;<span class="name">reference</span> <span class="attr">to</span> <span class="attr">FunctionDeclaration</span> "<span class="attr">x</span>"&gt;</span></span></span><br><span class="line"><span class="xml">  &#125;</span></span><br><span class="line"><span class="xml">&#125;;</span></span><br></pre></td></tr></table></figure><p>执行代码时：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ECObject=&#123;</span><br><span class="line">  VO:&#123;</span><br><span class="line">    x:20 //与函数x同名，替换掉，先是10，后变成20</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>对于以上的过程，我们详细解释下。</p><p>在进入上下文的时候，VO会被填充函数声明； 同一阶段，还有变量声明“x”，但是，正如此前提到的，变量声明是在函数声明和函数形参之后，并且，变量声明不会对已经存在的同样名字的函数声明和函数形参发生冲突。因此，在进入上下文的阶段，VO填充为如下形式：</p><blockquote><p>VO = {};</p></blockquote><blockquote><p>VO[‘x’] = &lt;引用了函数声明’x’&gt;</p></blockquote><p>// 发现var x = 10;<br>// 如果函数“x”还未定义<br>// 则 “x” 为undefined, 但是，在我们的例子中<br>// 变量声明并不会影响同名的函数值<br>VO[‘x’] = &lt;值不受影响，仍是函数&gt;</p><p>执行代码阶段，VO被修改如下：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">VO[<span class="string">'x'</span>] = <span class="number">10</span>;</span><br><span class="line">VO[<span class="string">'x'</span>] = <span class="number">20</span>;</span><br></pre></td></tr></table></figure><p>如下例子再次看到在进入上下文阶段，变量存储在VO中（因此，尽管else的代码块永远都不会执行到，而“b”却仍然在VO中）</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> a = <span class="number">1</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  <span class="keyword">var</span> b = <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">alert(a); <span class="comment">// 1</span></span><br><span class="line">alert(b); <span class="comment">// undefined, but not "b is not defined"</span></span><br></pre></td></tr></table></figure><h3 id="AO示例："><a href="#AO示例：" class="headerlink" title="AO示例："></a>AO示例：</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> c = <span class="number">10</span>;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">d</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">  <span class="keyword">var</span> e = <span class="function"><span class="keyword">function</span> <span class="title">_e</span>(<span class="params"></span>) </span>&#123;&#125;;</span><br><span class="line">  (<span class="function"><span class="keyword">function</span> <span class="title">x</span>(<span class="params"></span>) </span>&#123;&#125;);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">test(<span class="number">10</span>); <span class="comment">// call</span></span><br></pre></td></tr></table></figure><p>当进入test(10)的执行上下文时，它的AO为：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">testEC=&#123;</span><br><span class="line">    AO:&#123;</span><br><span class="line">        <span class="built_in">arguments</span>:&#123;</span><br><span class="line">            callee:test</span><br><span class="line">            length:<span class="number">1</span>,</span><br><span class="line">            <span class="number">0</span>:<span class="number">10</span></span><br><span class="line">        &#125;,</span><br><span class="line">        a:<span class="number">10</span>,</span><br><span class="line">        c:<span class="literal">undefined</span>,</span><br><span class="line">        d:<span class="xml"><span class="tag">&lt;<span class="name">reference</span> <span class="attr">to</span> <span class="attr">FunctionDeclaration</span> "<span class="attr">d</span>"&gt;</span>,</span></span><br><span class="line"><span class="xml">        e:undefined</span></span><br><span class="line"><span class="xml">    &#125;</span></span><br><span class="line"><span class="xml">&#125;;</span></span><br></pre></td></tr></table></figure><p>由此可见，在建立阶段，VO除了arguments，函数的声明，以及参数被赋予了具体的属性值，其它的变量属性默认的都是undefined。函数表达式不会对VO造成影响，因此，<br><span style="color:#c7254e;background:#f9f2f4">(function x() {})</span> 并不会存在于VO中。</p><p>当执行<span style="color:#c7254e;background:#f9f2f4">test(10)</span>时，它的AO为：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">testEC=&#123;</span><br><span class="line">    AO:&#123;</span><br><span class="line">        <span class="built_in">arguments</span>:&#123;</span><br><span class="line">            callee:test,</span><br><span class="line">            length:<span class="number">1</span>,</span><br><span class="line">            <span class="number">0</span>:<span class="number">10</span></span><br><span class="line">        &#125;,</span><br><span class="line">        a:<span class="number">10</span>,</span><br><span class="line">        c:<span class="number">10</span>,</span><br><span class="line">        d:<span class="xml"><span class="tag">&lt;<span class="name">reference</span> <span class="attr">to</span> <span class="attr">FunctionDeclaration</span> "<span class="attr">d</span>"&gt;</span>,</span></span><br><span class="line">        e:&lt;reference to FunctionDeclaration "e"&gt;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>可见，只有在这个阶段，变量属性才会被赋具体的值。</p><h2 id="作用域链"><a href="#作用域链" class="headerlink" title="作用域链"></a>作用域链</h2><hr><p>在执行上下文的作用域中查找变量的过程被称为标识符解析(indentifier resolution)，这个过程的实现依赖于函数内部另一个同执行上下文相关联的对象——作用域链。作用域链是一个有序链表，其包含着用以告诉JavaScript解析器一个标识符到底关联着哪一个变量的对象。而每一个执行上下文都有其自己的作用域链Scope。</p><p>一句话：作用域链Scope其实就是对执行上下文EC中的变量对象VO|AO有序访问的链表。能按顺序访问到VO|AO，就能访问到其中存放的变量和函数的定义。</p><p>Scope定义如下：</p><blockquote><p>Scope = AO|VO + [[Scope]]</p></blockquote><p>其中，AO始终在Scope的最前端，不然为啥叫活跃对象呢。即：</p><blockquote><p>Scope = [AO].concat([[Scope]]);</p></blockquote><p>这说明了，作用域链是在函数创建时就已经有了。</p><p>那么[[Scope]]是什么呢？</p><blockquote><p>[[Scope]]是一个包含了所有上层变量对象的分层链，它属于当前函数上下文，并在函数创建的时候，保存在函数中。</p></blockquote><p>[[Scope]]是在函数创建的时候保存起来的——静态的（不变的），只有一次并且一直都存在——直到函数销毁。 比方说，哪怕函数永远都不能被调用到，[[Scope]]属性也已经保存在函数对象上了。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> x=<span class="number">10</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f1</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> y=<span class="number">20</span>;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">f2</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x+y;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>以上示例中，f2的[[scope]]属性可以表示如下：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"> f2.[[scope]]=[</span><br><span class="line">  f2OuterContext.VO</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>而<strong>f2</strong>的外部EC的所有上层变量对象包括了<strong>f1</strong>的活跃对象f1Context.AO，再往外层的EC，就是global对象了。<br>所以，具体我们可以表示如下：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">f2.[[scope]]=[</span><br><span class="line">  f1Context.AO,</span><br><span class="line">  globalContext.VO</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>对于EC执行环境是函数来说，那么它的Scope表示为：</p><blockquote><p>functionContext.Scope=functionContext.AO+function.[[scope]]</p></blockquote><p>注意，以上代码的表示，也体现了[[scope]]和Scope的差异，Scope是EC的属性，而[[scope]]则是函数的静态属性。</p><p>（由于AO|VO在进入执行上下文和执行代码阶段不同，所以，这里及以后Scope的表示，我们都默认为是执行代码阶段的Scope，而对于静态属性[[scope]]而言，则是在函数声明时就创建了）</p><p>对于以上的代码EC，我们可以给出其Scope的表示：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"> exampelEC=&#123;</span><br><span class="line">  Scope:[</span><br><span class="line">    f2Context.AO+f2.[[scope]],</span><br><span class="line">    f1.context.AO+f1.[[scope]],</span><br><span class="line">    globalContext.VO</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>接下来，我们给出以上其它值的表示：</p><ul><li><p>globalContext.VO</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">globalContext.VO=&#123;</span><br><span class="line">  x:<span class="number">10</span>,</span><br><span class="line">  f1: &amp;lt;reference to FunctionDeclaration <span class="string">"f1"</span> &amp;gt;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>f2Context.AO</p></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">f2Context.AO=&#123;</span><br><span class="line">  f1Context.AO=&#123;</span><br><span class="line">    <span class="built_in">arguments</span>:&#123;</span><br><span class="line">      callee:f1,</span><br><span class="line">      length:<span class="number">0</span></span><br><span class="line">    &#125;,</span><br><span class="line">    y:<span class="number">20</span>,</span><br><span class="line">    f2:<span class="xml"><span class="tag">&lt;<span class="name">reference</span> <span class="attr">to</span> <span class="attr">FunctionDeclaration</span> "<span class="attr">f2</span>"&gt;</span></span></span><br><span class="line"><span class="xml">  &#125;</span></span><br><span class="line"><span class="xml">&#125;</span></span><br></pre></td></tr></table></figure><ul><li>f1.<a href="f1的所有上层EC的VO">[scope]</a></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"> f1.[[scope]]=&#123;</span><br><span class="line">  globalContext.VO:&#123;</span><br><span class="line">    x:<span class="literal">undefined</span>,</span><br><span class="line">    f1:<span class="literal">undefined</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>好，我们知道，作用域链Scope呢，是用来有序访问VO|AO中的变量和函数，对于上面的示例，我们给出访问的过程：</p><p>x,f1</p><ul><li>“x”</li><li><ul><li>f2Context.AO // not found</li></ul></li><li><ul><li>f1Context.AO // not found</li></ul></li><li><ul><li>globalContext.VO // found - 10</li></ul></li></ul><p>f1的访问过程类似。</p><p>y</p><ul><li>“y”</li><li><ul><li>f2Context.AO // not found</li></ul></li><li><ul><li>f1Context.AO // found -20</li></ul></li></ul><p>我们发现，在变量和函数的访问过程，并没有涉及到[[scope]]，那么[[scope]]存在的意义是什么呢？</p><p>这个还是看下一篇文章吧。</p><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><hr><ol><li>EC分为两个阶段，进入执行上下文和执行代码。</li><li>ECStack管理EC的压栈和出栈。</li><li>每个EC对应一个作用域链Scope，VO|AO（AO，VO只能有一个），this。</li><li>函数EC中的Scope在进入函数EC时创建，用来有序访问该EC对象AO中的变量和函数。</li><li>函数EC中的AO在进入函数EC时，确定了Arguments对象的属性；在执行函数EC时，其它变量属性具体化。</li><li>函数的[[scope]]属性在函数创建时就已经确定，并保持不变。</li></ol>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>jQuery常用操作</title>
      <link href="/jQuery%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C/"/>
      <url>/jQuery%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C/</url>
      
        <content type="html"><![CDATA[<h2 id="一、简介"><a href="#一、简介" class="headerlink" title="一、简介"></a>一、简介</h2><h3 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h3><p>　　jQuery创始人是美国John Resig，是优秀的Javascript框架；<br>　　jQuery是一个轻量级、快速简洁的javaScript库。<a href="https://jquery.com/download/" target="_blank" rel="noopener">源码戳这</a></p><h3 id="jQuery对象"><a href="#jQuery对象" class="headerlink" title="jQuery对象"></a>jQuery对象</h3><p>　　jQuery产生的对象时jQuery独有的，只能自己调用</p><h3 id="书写规则"><a href="#书写规则" class="headerlink" title="书写规则"></a>书写规则</h3><p>　　支持链式操作；<br>　　在变量前加”$”符号（var $variable = jQuery 对象）；<br>　　注：此规定并不是强制要求。</p><a id="more"></a><h2 id="二、寻找元素"><a href="#二、寻找元素" class="headerlink" title="二、寻找元素"></a>二、寻找元素</h2><ul><li>选择器</li><li>基本选择器</li><li>层级选择器</li><li>属性选择器 </li></ul><h3 id="1-基本筛选器"><a href="#1-基本筛选器" class="headerlink" title="1.基本筛选器"></a>1.基本筛选器</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'li:first'</span>)    <span class="comment">//第一个元素</span></span><br><span class="line">$(<span class="string">'li:last'</span>)     <span class="comment">//最后一个元素</span></span><br><span class="line">$(<span class="string">"tr:even"</span>)     <span class="comment">//索引为偶数的元素，从 0 开始</span></span><br><span class="line">$(<span class="string">"tr:odd"</span>)      <span class="comment">//索引为奇数的元素，从 0 开始</span></span><br><span class="line">$(<span class="string">"tr:eq(1)"</span>)    <span class="comment">//给定索引值的元素</span></span><br><span class="line">$(<span class="string">"tr:gt(0)"</span>)    <span class="comment">//大于给定索引值的元素</span></span><br><span class="line">$(<span class="string">"tr:lt(2)"</span>)    <span class="comment">//小于给定索引值的元素</span></span><br><span class="line">$(<span class="string">":focus"</span>)      <span class="comment">//当前获取焦点的元素</span></span><br><span class="line">$(<span class="string">":animated"</span>)   <span class="comment">//正在执行动画效果的元素</span></span><br></pre></td></tr></table></figure><h3 id="2-内容选择器"><a href="#2-内容选择器" class="headerlink" title="2.内容选择器"></a>2.内容选择器</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">"div:contains('nick')"</span>)    <span class="comment">//包含nick文本的元素</span></span><br><span class="line">$(<span class="string">"td:empty"</span>)    <span class="comment">//不包含子元素或者文本的空元素</span></span><br><span class="line">$(<span class="string">"div:has(p)"</span>)  <span class="comment">//含有选择器所匹配的元素</span></span><br><span class="line">$(<span class="string">"td:parent"</span>)   <span class="comment">//含有子元素或者文本的元素</span></span><br></pre></td></tr></table></figure><h3 id="3-表单选择器"><a href="#3-表单选择器" class="headerlink" title="3.表单选择器"></a>3.表单选择器</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">":input"</span>)   <span class="comment">//匹配所有 input, textarea, select 和 button 元素</span></span><br><span class="line">$(<span class="string">":text"</span>)       <span class="comment">//所有的单行文本框</span></span><br><span class="line">$(<span class="string">":password"</span>)   <span class="comment">//所有密码框</span></span><br><span class="line">$(<span class="string">":radio"</span>)      <span class="comment">//所有单选按钮</span></span><br><span class="line">$(<span class="string">":checkbox"</span>)   <span class="comment">//所有复选框</span></span><br><span class="line">$(<span class="string">":submit"</span>)     <span class="comment">//所有提交按钮</span></span><br><span class="line">$(<span class="string">":reset"</span>)      <span class="comment">//所有重置按钮</span></span><br><span class="line">$(<span class="string">":button"</span>)     <span class="comment">//所有button按钮</span></span><br><span class="line">$(<span class="string">":file"</span>)       <span class="comment">//所有文件域</span></span><br><span class="line">$(<span class="string">"input:checked"</span>)    <span class="comment">//所有选中的元素</span></span><br><span class="line">$(<span class="string">"select option:selected"</span>)    <span class="comment">//select中所有选中的option元素</span></span><br></pre></td></tr></table></figure><h3 id="4-筛选器"><a href="#4-筛选器" class="headerlink" title="4.筛选器"></a>4.筛选器</h3><h4 id="4-1-过滤"><a href="#4-1-过滤" class="headerlink" title="4.1 过滤"></a>4.1 过滤</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">"p"</span>).eq(<span class="number">0</span>)       <span class="comment">//当前操作中第N个jQuery对象,类似索引</span></span><br><span class="line">$(<span class="string">'li'</span>).first()    <span class="comment">//第一个元素</span></span><br><span class="line">$(<span class="string">'li'</span>).last()     <span class="comment">//最后一个元素</span></span><br><span class="line">$(<span class="keyword">this</span>).hasClass(<span class="string">"test"</span>)    <span class="comment">//元素是否含有某个特定的类,返回布尔值</span></span><br><span class="line">$(<span class="string">'li'</span>).has(<span class="string">'ul'</span>)  <span class="comment">//包含特定后代的元素</span></span><br></pre></td></tr></table></figure><h4 id="4-2-查找"><a href="#4-2-查找" class="headerlink" title="4.2 查找"></a>4.2 查找</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">"div"</span>).children()      <span class="comment">//div中的每个子元素,第一层</span></span><br><span class="line">$(<span class="string">"div"</span>).find(<span class="string">"span"</span>)    <span class="comment">//div中的包含的所有span元素,子子孙孙</span></span><br><span class="line">$(<span class="string">"p"</span>).next()       　　　<span class="comment">//紧邻p元素后的一个同辈元素</span></span><br><span class="line">$(<span class="string">"p"</span>).nextAll()         <span class="comment">//p元素之后所有的同辈元素</span></span><br><span class="line">$(<span class="string">"#test"</span>).nextUntil(<span class="string">"#test2"</span>)            <span class="comment">//id为"#test"元素之后到id为'#test2'之间所有的同辈元素,掐头去尾</span></span><br><span class="line">$(<span class="string">"p"</span>).prev()            <span class="comment">//紧邻p元素前的一个同辈元素</span></span><br><span class="line">$(<span class="string">"p"</span>).prevAll()         <span class="comment">//p元素之前所有的同辈元素</span></span><br><span class="line">$(<span class="string">"#test"</span>).prevUntil(<span class="string">"#test2"</span>)    <span class="comment">//id为"#test"元素之前到id为'#test2'之间所有的同辈元素,掐头去尾</span></span><br><span class="line">$(<span class="string">"p"</span>).parent()          <span class="comment">//每个p元素的父元素</span></span><br><span class="line">$(<span class="string">"p"</span>).parents()         <span class="comment">//每个p元素的所有祖先元素,body,html</span></span><br><span class="line">$(<span class="string">"#test"</span>).parentsUntil(<span class="string">"#test2"</span>)    <span class="comment">//id为"#test"元素到id为'#test2'之间所有的父级元素,掐头去尾</span></span><br><span class="line">$(<span class="string">"div"</span>).siblings()      <span class="comment">//所有的同辈元素,不包括自己</span></span><br></pre></td></tr></table></figure><h2 id="三、属性操作"><a href="#三、属性操作" class="headerlink" title="三、属性操作"></a>三、属性操作</h2><h3 id="1-基本属性操作"><a href="#1-基本属性操作" class="headerlink" title="1.基本属性操作"></a>1.基本属性操作</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">"img"</span>).attr(<span class="string">"src"</span>);    　　　　　　 <span class="comment">//返回文档中所有图像的src属性值</span></span><br><span class="line">$(<span class="string">"img"</span>).attr(<span class="string">"src"</span>,<span class="string">"test.jpg"</span>);    <span class="comment">//设置所有图像的src属性</span></span><br><span class="line">$(<span class="string">"img"</span>).removeAttr(<span class="string">"src"</span>);    　　　<span class="comment">//将文档中图像的src属性删除</span></span><br><span class="line">$(<span class="string">"input[type='checkbox']"</span>).prop(<span class="string">"checked"</span>, <span class="literal">true</span>);    <span class="comment">//选中复选框</span></span><br><span class="line">$(<span class="string">"input[type='checkbox']"</span>).prop(<span class="string">"checked"</span>, <span class="literal">false</span>);</span><br><span class="line">$(<span class="string">"img"</span>).removeProp(<span class="string">"src"</span>);    　　 <span class="comment">//删除img的src属性</span></span><br></pre></td></tr></table></figure><h3 id="2-CSS类"><a href="#2-CSS类" class="headerlink" title="2.CSS类"></a>2.CSS类</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">"p"</span>).addClass(<span class="string">"selected"</span>);    　　<span class="comment">//为p元素加上 'selected' 类</span></span><br><span class="line">$(<span class="string">"p"</span>).removeClass(<span class="string">"selected"</span>);    <span class="comment">//从p元素中删除 'selected' 类</span></span><br><span class="line">$(<span class="string">"p"</span>).toggleClass(<span class="string">"selected"</span>);    <span class="comment">//如果存在就删除,否则就添加HTML代码/文本/值</span></span><br><span class="line">$(<span class="string">'p'</span>).html();    　　　　　　　　　　 <span class="comment">//返回p元素的html内容</span></span><br><span class="line">$(<span class="string">"p"</span>).html(<span class="string">"Hello &lt;b&gt;nick&lt;/b&gt;!"</span>);  <span class="comment">//设置p元素的html内容</span></span><br><span class="line">$(<span class="string">'p'</span>).text();    　　　　　　　　　　 <span class="comment">//返回p元素的文本内容</span></span><br><span class="line">$(<span class="string">"p"</span>).text(<span class="string">"nick"</span>);    　　　　　　　<span class="comment">//设置p元素的文本内容</span></span><br><span class="line">$(<span class="string">"input"</span>).val();    　　　　　　　　 <span class="comment">//获取文本框中的值</span></span><br><span class="line">$(<span class="string">"input"</span>).val(<span class="string">"nick"</span>);     　　　　 <span class="comment">//设置文本框中的内容</span></span><br></pre></td></tr></table></figure><h2 id="四、CSS操作"><a href="#四、CSS操作" class="headerlink" title="四、CSS操作"></a>四、CSS操作</h2><h3 id="1-样式"><a href="#1-样式" class="headerlink" title="1.样式"></a>1.样式</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">"p"</span>).css(<span class="string">"color"</span>);          <span class="comment">//访问查看p元素的color属性</span></span><br><span class="line">$(<span class="string">"p"</span>).css(<span class="string">"color"</span>,<span class="string">"red"</span>);    <span class="comment">//设置p元素的color属性为red</span></span><br><span class="line">$(<span class="string">"p"</span>).css(&#123; <span class="string">"color"</span>: <span class="string">"red"</span>, <span class="string">"background"</span>: <span class="string">"yellow"</span> &#125;);    <span class="comment">//设置p元素的color为red，background属性为yellow（设置多个属性要用&#123;&#125;字典形式）</span></span><br></pre></td></tr></table></figure><h3 id="2-位置"><a href="#2-位置" class="headerlink" title="2.位置"></a>2.位置</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'p'</span>).offset()     <span class="comment">//元素在当前视口的相对偏移,Object &#123;top: 122, left: 260&#125;</span></span><br><span class="line">$(<span class="string">'p'</span>).offset().top</span><br><span class="line">$(<span class="string">'p'</span>).offset().left</span><br><span class="line">$(<span class="string">"p"</span>).position()   <span class="comment">//元素相对父元素的偏移,对可见元素有效，Object &#123;top: 117, left: 250&#125;</span></span><br><span class="line">$(<span class="built_in">window</span>).scrollTop()    <span class="comment">//获取滚轮滑的高度</span></span><br><span class="line">$(<span class="built_in">window</span>).scrollLeft()   <span class="comment">//获取滚轮滑的宽度</span></span><br><span class="line">$(<span class="built_in">window</span>).scrollTop(<span class="string">'100'</span>)    <span class="comment">//设置滚轮滑的高度为100</span></span><br></pre></td></tr></table></figure><h3 id="3-尺寸"><a href="#3-尺寸" class="headerlink" title="3.尺寸"></a>3.尺寸</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">"p"</span>).height();    <span class="comment">//获取p元素的高度</span></span><br><span class="line">$(<span class="string">"p"</span>).width();     <span class="comment">//获取p元素的宽度</span></span><br><span class="line">$(<span class="string">"p:first"</span>).innerHeight()    <span class="comment">//获取第一个匹配元素内部区域高度(包括补白、不包括边框)</span></span><br><span class="line">$(<span class="string">"p:first"</span>).innerWidth()     <span class="comment">//获取第一个匹配元素内部区域宽度(包括补白、不包括边框)</span></span><br><span class="line">$(<span class="string">"p:first"</span>).outerHeight()    <span class="comment">//匹配元素外部高度(默认包括补白和边框)</span></span><br><span class="line">$(<span class="string">"p:first"</span>).outerWidth()     <span class="comment">//匹配元素外部宽度(默认包括补白和边框)</span></span><br><span class="line">$(<span class="string">"p:first"</span>).outerHeight(<span class="literal">true</span>)    <span class="comment">//为true时包括边距</span></span><br></pre></td></tr></table></figure><h2 id="五、文档处理"><a href="#五、文档处理" class="headerlink" title="五、文档处理"></a>五、文档处理</h2><h3 id="1-内部插入"><a href="#1-内部插入" class="headerlink" title="1.内部插入"></a>1.内部插入</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">"p"</span>).append(<span class="string">"&lt;b&gt;nick&lt;/b&gt;"</span>);    <span class="comment">//每个p元素内后面追加内容</span></span><br><span class="line">$(<span class="string">"p"</span>).appendTo(<span class="string">"div"</span>);    　　　 <span class="comment">//p元素追加到div内后</span></span><br><span class="line">$(<span class="string">"p"</span>).prepend(<span class="string">"&lt;b&gt;Hello&lt;/b&gt;"</span>);  <span class="comment">//每个p元素内前面追加内容</span></span><br><span class="line">$(<span class="string">"p"</span>).prependTo(<span class="string">"div"</span>);    　   <span class="comment">//p元素追加到div内前外部插入</span></span><br></pre></td></tr></table></figure><h3 id="2-外部插入"><a href="#2-外部插入" class="headerlink" title="2.外部插入"></a>2.外部插入</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">"p"</span>).after(<span class="string">"&lt;b&gt;nick&lt;/b&gt;"</span>);     <span class="comment">//每个p元素同级之后插入内容</span></span><br><span class="line">$(<span class="string">"p"</span>).before(<span class="string">"&lt;b&gt;nick&lt;/b&gt;"</span>);    <span class="comment">//在每个p元素同级之前插入内容</span></span><br><span class="line">$(<span class="string">"p"</span>).insertAfter(<span class="string">"#test"</span>);     <span class="comment">//所有p元素插入到id为test元素的后面</span></span><br><span class="line">$(<span class="string">"p"</span>).insertBefore(<span class="string">"#test"</span>);    <span class="comment">//所有p元素插入到id为test元素的前面替换</span></span><br></pre></td></tr></table></figure><h3 id="3-替换"><a href="#3-替换" class="headerlink" title="3.替换"></a>3.替换</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">"p"</span>).replaceWith(<span class="string">"&lt;b&gt;Paragraph. &lt;/b&gt;"</span>);    <span class="comment">//将所有匹配的元素替换成指定的HTML或DOM元素</span></span><br><span class="line">$(<span class="string">"&lt;b&gt;Paragraph. &lt;/b&gt;"</span>).replaceAll(<span class="string">"p"</span>);     <span class="comment">//用匹配的元素替换掉所有 selector匹配到的元素删除</span></span><br></pre></td></tr></table></figure><h3 id="4-删除"><a href="#4-删除" class="headerlink" title="4.删除"></a>4.删除</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">"p"</span>).empty();     <span class="comment">//删除匹配的元素集合中所有的子节点，不包括本身</span></span><br><span class="line">$(<span class="string">"p"</span>).remove();    <span class="comment">//删除所有匹配的元素,包括本身</span></span><br><span class="line">$(<span class="string">"p"</span>).detach();    <span class="comment">//删除所有匹配的元素(和remove()不同的是:所有绑定的事件、附加的数据会保留下来)</span></span><br></pre></td></tr></table></figure><h3 id="5-复制"><a href="#5-复制" class="headerlink" title="5.复制"></a>5.复制</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">"p"</span>).clone()    　　<span class="comment">//克隆元素并选中克隆的副本</span></span><br><span class="line">$(<span class="string">"p"</span>).clone(<span class="literal">true</span>)   <span class="comment">//布尔值指事件处理函数是否会被复制</span></span><br></pre></td></tr></table></figure><h2 id="六、事件"><a href="#六、事件" class="headerlink" title="六、事件"></a>六、事件</h2><h3 id="1-页面载入"><a href="#1-页面载入" class="headerlink" title="1.页面载入"></a>1.页面载入</h3><p>当页面载入成功后再运行的函数事件</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="built_in">document</span>).ready(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="keyword">do</span> something...</span><br><span class="line">&#125;);</span><br><span class="line"> </span><br><span class="line"><span class="comment">//简写</span></span><br><span class="line">$(<span class="function"><span class="keyword">function</span>(<span class="params">$</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">do</span> something...</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="2-页面处理"><a href="#2-页面处理" class="headerlink" title="2.页面处理"></a>2.页面处理</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//bind 为每个匹配元素绑定事件处理函数，绑定多个用&#123;&#125;。</span></span><br><span class="line">$(<span class="string">"p"</span>).bind(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  alert( $(<span class="keyword">this</span>).text() );</span><br><span class="line">&#125;);</span><br><span class="line">$(menuF).bind(&#123;</span><br><span class="line">    <span class="string">"mouseover"</span>:<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    $(menuS).parent().removeClass(<span class="string">"hide"</span>);</span><br><span class="line">    &#125;,<span class="string">"mouseout"</span>:<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    $(menuS).parent().addClass(<span class="string">"hide"</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;);         </span><br><span class="line"> </span><br><span class="line">$(<span class="string">"p"</span>).one( <span class="string">"click"</span>, fun...)    <span class="comment">//one 绑定一个一次性的事件处理函数</span></span><br><span class="line">$(<span class="string">"p"</span>).unbind( <span class="string">"click"</span> )        <span class="comment">//解绑一个事件</span></span><br></pre></td></tr></table></figure><h3 id="3-页面委派"><a href="#3-页面委派" class="headerlink" title="3.页面委派"></a>3.页面委派</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 与bind 不同的是当时间发生时才去临时绑定。</span></span><br><span class="line">$(<span class="string">"p"</span>).delegate(<span class="string">"click"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">do</span> something...</span><br><span class="line">&#125;);</span><br><span class="line"> </span><br><span class="line">$(<span class="string">"p"</span>).undelegate();    　　　<span class="comment">//p元素删除由 delegate() 方法添加的所有事件</span></span><br><span class="line">$(<span class="string">"p"</span>).undelegate(<span class="string">"click"</span>)   <span class="comment">//从p元素删除由 delegate() 方法添加的所有click事件</span></span><br></pre></td></tr></table></figure><h3 id="4-事件"><a href="#4-事件" class="headerlink" title="4.事件"></a>4.事件</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">"p"</span>).click();    　　<span class="comment">//单击事件</span></span><br><span class="line">$(<span class="string">"p"</span>).dblclick();    <span class="comment">//双击事件</span></span><br><span class="line">$(<span class="string">"input[type=text]"</span>).focus()  <span class="comment">//元素获得焦点时,触发 focus 事件</span></span><br><span class="line">$(<span class="string">"input[type=text]"</span>).blur()   <span class="comment">//元素失去焦点时,触发 blur事件</span></span><br><span class="line">$(<span class="string">"button"</span>).mousedown()<span class="comment">//当按下鼠标时触发事件</span></span><br><span class="line">$(<span class="string">"button"</span>).mouseup()  <span class="comment">//元素上放松鼠标按钮时触发事件</span></span><br><span class="line">$(<span class="string">"p"</span>).mousemove()     <span class="comment">//当鼠标指针在指定的元素中移动时触发事件</span></span><br><span class="line">$(<span class="string">"p"</span>).mouseover()     <span class="comment">//当鼠标指针位于元素上方时触发事件</span></span><br><span class="line">$(<span class="string">"p"</span>).mouseout()    　<span class="comment">//当鼠标指针从元素上移开时触发事件</span></span><br><span class="line">$(<span class="built_in">window</span>).keydown()    <span class="comment">//当键盘或按钮被按下时触发事件</span></span><br><span class="line">$(<span class="built_in">window</span>).keypress()   <span class="comment">//当键盘或按钮被按下时触发事件,每输入一个字符都触发一次</span></span><br><span class="line">$(<span class="string">"input"</span>).keyup()     <span class="comment">//当按钮被松开时触发事件</span></span><br><span class="line">$(<span class="built_in">window</span>).scroll()     <span class="comment">//当用户滚动时触发事件</span></span><br><span class="line">$(<span class="built_in">window</span>).resize()     <span class="comment">//当调整浏览器窗口的大小时触发事件</span></span><br><span class="line">$(<span class="string">"input[type='text']"</span>).change()    <span class="comment">//当元素的值发生改变时触发事件</span></span><br><span class="line">$(<span class="string">"input"</span>).select()    <span class="comment">//当input 元素中的文本被选择时触发事件</span></span><br><span class="line">$(<span class="string">"form"</span>).submit()     <span class="comment">//当提交表单时触发事件</span></span><br><span class="line">$(<span class="built_in">window</span>).unload()     <span class="comment">//用户离开页面时</span></span><br></pre></td></tr></table></figure><h3 id="5-evnet-object-属性方法："><a href="#5-evnet-object-属性方法：" class="headerlink" title="5.(evnet object)属性方法："></a>5.(evnet object)属性方法：</h3><p>所有的事件函数都可以传入event参数方便处理事件</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">"p"</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</span><br><span class="line"> alert(event.type); <span class="comment">//"click"</span></span><br><span class="line">&#125;); </span><br><span class="line"> </span><br><span class="line">(evnet object)属性方法：</span><br><span class="line">event.pageX 　 <span class="comment">//事件发生时，鼠标距离网页左上角的水平距离</span></span><br><span class="line">event.pageY 　 <span class="comment">//事件发生时，鼠标距离网页左上角的垂直距离</span></span><br><span class="line">event.type 　　<span class="comment">//事件的类型</span></span><br><span class="line">event.which 　 <span class="comment">//按下了哪一个键</span></span><br><span class="line">event.data 　　<span class="comment">//在事件对象上绑定数据，然后传入事件处理函数</span></span><br><span class="line">event.target 　<span class="comment">//事件针对的网页元素</span></span><br><span class="line">event.preventDefault() 　<span class="comment">//阻止事件的默认行为(比如点击链接，会自动打开新页面)</span></span><br><span class="line">event.stopPropagation()  <span class="comment">//停止事件向上层元素冒泡</span></span><br></pre></td></tr></table></figure><h2 id="七、效果"><a href="#七、效果" class="headerlink" title="七、效果"></a>七、效果</h2><h3 id="1-基本"><a href="#1-基本" class="headerlink" title="1.基本"></a>1.基本</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">"p"</span>).show()    　　　　<span class="comment">//显示隐藏的匹配元素</span></span><br><span class="line">$(<span class="string">"p"</span>).show(<span class="string">"slow"</span>);    <span class="comment">//参数表示速度,("slow","normal","fast"),也可为900毫秒</span></span><br><span class="line">$(<span class="string">"p"</span>).hide()    　　　　<span class="comment">//隐藏显示的元素</span></span><br><span class="line">$(<span class="string">"p"</span>).toggle();   　　 <span class="comment">//切换 显示/隐藏</span></span><br></pre></td></tr></table></figure><h3 id="2-滑动"><a href="#2-滑动" class="headerlink" title="2.滑动"></a>2.滑动</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">"p"</span>).slideDown(<span class="string">"900"</span>);    <span class="comment">//用900毫秒时间将段落滑下</span></span><br><span class="line">$(<span class="string">"p"</span>).slideUp(<span class="string">"900"</span>);    　<span class="comment">//用900毫秒时间将段落滑上</span></span><br><span class="line">$(<span class="string">"p"</span>).slideToggle(<span class="string">"900"</span>);  <span class="comment">//用900毫秒时间将段落滑上，滑下</span></span><br></pre></td></tr></table></figure><h3 id="3-淡入淡出"><a href="#3-淡入淡出" class="headerlink" title="3.淡入淡出"></a>3.淡入淡出</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">"p"</span>).fadeIn(<span class="string">"900"</span>);    　　  <span class="comment">//用900毫秒时间将段落淡入</span></span><br><span class="line">$(<span class="string">"p"</span>).fadeOut(<span class="string">"900"</span>);    　　 <span class="comment">//用900毫秒时间将段落淡出</span></span><br><span class="line">$(<span class="string">"p"</span>).fadeToggle(<span class="string">"900"</span>);    　<span class="comment">//用900毫秒时间将段落淡入,淡出</span></span><br><span class="line">$(<span class="string">"p"</span>).fadeTo(<span class="string">"slow"</span>, <span class="number">0.6</span>);    <span class="comment">//用900毫秒时间将段落的透明度调整到0.6</span></span><br></pre></td></tr></table></figure><h2 id="八、对象访问"><a href="#八、对象访问" class="headerlink" title="八、对象访问"></a>八、对象访问</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">$.trim() 　　<span class="comment">//去除字符串两端的空格</span></span><br><span class="line">$.each() 　　<span class="comment">//遍历一个数组或对象，for循环</span></span><br><span class="line">$.inArray() <span class="comment">//返回一个值在数组中的索引位置，不存在返回-1</span></span><br><span class="line">$.grep() 　 <span class="comment">//返回数组中符合某种标准的元素</span></span><br><span class="line">$.extend()  <span class="comment">//将多个对象，合并到第一个对象</span></span><br><span class="line">$.makeArray() <span class="comment">//将对象转化为数组</span></span><br><span class="line">$.type()    <span class="comment">//判断对象的类别（函数对象、日期对象、数组对象、正则对象等等</span></span><br><span class="line">$.isArray() <span class="comment">//判断某个参数是否为数组</span></span><br><span class="line">$.isEmptyObject() <span class="comment">//判断某个对象是否为空(不含有任何属性)</span></span><br><span class="line">$.isFunction()    <span class="comment">//判断某个参数是否为函数</span></span><br><span class="line">$.isPlainObject() <span class="comment">//判断某个参数是否为用"&#123;&#125;"或"new Object"建立的对象</span></span><br><span class="line">$.support()</span><br></pre></td></tr></table></figure><p>模拟each()内部实现机制</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"../../jquery-1.12.4.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line">        li = [11,22,33];</span><br><span class="line"><span class="javascript">        $.each(li,<span class="function"><span class="keyword">function</span> (<span class="params">k,v</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(<span class="keyword">this</span>);</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(k,v);</span></span><br><span class="line">            if (k == 1)&#123;</span><br><span class="line"><span class="actionscript">                <span class="keyword">return</span> <span class="literal">false</span>;</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">        <span class="function"><span class="keyword">function</span> <span class="title">myEach</span><span class="params">(obj,func)</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;obj.length;i++)&#123;</span></span><br><span class="line"><span class="actionscript">                <span class="keyword">var</span> current = obj[i];</span></span><br><span class="line"><span class="actionscript">                <span class="keyword">var</span> ret = func(i,current);</span></span><br><span class="line"><span class="actionscript">                <span class="keyword">if</span> (ret == <span class="literal">false</span>)&#123;</span></span><br><span class="line"><span class="actionscript">                    <span class="keyword">break</span>;</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> li = [<span class="number">10</span>,<span class="number">20</span>,<span class="number">30</span>];</span></span><br><span class="line"><span class="actionscript">        myEach(li,<span class="function"><span class="keyword">function</span> <span class="params">(k,v)</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(k,v);</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">return</span> <span class="literal">false</span>;</span></span><br><span class="line">        &#125;)</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="九、插件拓展机制"><a href="#九、插件拓展机制" class="headerlink" title="九、插件拓展机制"></a>九、插件拓展机制</h2><h3 id="1-方式一"><a href="#1-方式一" class="headerlink" title="1.方式一"></a>1.方式一</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">jQuery.fn.extend(&#123;</span><br><span class="line">  check: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.each(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; <span class="keyword">this</span>.checked = <span class="literal">true</span>; &#125;);</span><br><span class="line">  &#125;,</span><br><span class="line">  uncheck: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.each(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; <span class="keyword">this</span>.checked = <span class="literal">false</span>; &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">$(<span class="string">"input[type=checkbox]"</span>).check();</span><br><span class="line">$(<span class="string">"input[type=radio]"</span>).uncheck();</span><br></pre></td></tr></table></figure><h3 id="2-方式二"><a href="#2-方式二" class="headerlink" title="2.方式二"></a>2.方式二</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">jQuery.extend(&#123;</span><br><span class="line">  min: function(a, b) &#123; return a &lt; b ? a : b; &#125;,    //三元运算</span><br><span class="line">  max: function(a, b) &#123; return a &gt; b ? a : b; &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">jQuery.min(2,3);     //2</span><br><span class="line">jQuery.max(4,5);    //5</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"title"</span>&gt;</span>111<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"title"</span>&gt;</span>222<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"../../jquery-1.12.4.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line">        jQuery.fn.extend(&#123;</span><br><span class="line"><span class="actionscript">            show1: <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">                <span class="keyword">var</span> val = <span class="keyword">this</span>.text();</span></span><br><span class="line"><span class="actionscript">                val = val + <span class="string">"sb"</span>;</span></span><br><span class="line"><span class="actionscript">                <span class="keyword">return</span> val;</span></span><br><span class="line">            &#125;,</span><br><span class="line"><span class="actionscript">            show2: <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> ret = $(<span class="string">".title"</span>).show1();</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(ret);</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        jQuery.extend(&#123;</span><br><span class="line"><span class="actionscript">            s1: <span class="function"><span class="keyword">function</span> <span class="params">(arg)</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> val = $(arg).text();</span></span><br><span class="line"><span class="actionscript">                <span class="keyword">return</span> val + <span class="string">"sb"</span>;</span></span><br><span class="line">            &#125;,</span><br><span class="line"><span class="actionscript">            s2: <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> ret2 = $.s1(<span class="string">".title"</span>);</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(ret2);</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="十、实例"><a href="#十、实例" class="headerlink" title="十、实例"></a>十、实例</h2><h3 id="1-返回顶部"><a href="#1-返回顶部" class="headerlink" title="1.返回顶部"></a>1.返回顶部</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">        <span class="selector-class">.divH</span> &#123;</span></span><br><span class="line">            height: 1800px;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="selector-class">.divT</span> &#123;</span></span><br><span class="line">            width: 50px;</span><br><span class="line">            height: 50px;</span><br><span class="line">            font-size: 23px;</span><br><span class="line"><span class="css">            <span class="selector-tag">background-color</span>: <span class="selector-id">#2F4F4F</span>;</span></span><br><span class="line">            color: white;</span><br><span class="line">            position: fixed;</span><br><span class="line">            right: 18px;</span><br><span class="line">            bottom: 18px;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="selector-class">.divT</span><span class="selector-pseudo">:hover</span>&#123;</span></span><br><span class="line">            cursor: pointer;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="selector-class">.hide</span> &#123;</span></span><br><span class="line">            display: none;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"divH"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"divT hide"</span> <span class="attr">onclick</span>=<span class="string">"ReturnTop();"</span>&gt;</span><span class="tag">&lt;<span class="name">strong</span>&gt;</span>返回顶部<span class="tag">&lt;/<span class="name">strong</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"../../jquery-1.12.4.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">window</span>.onscroll = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> current = $(<span class="built_in">window</span>).scrollTop();</span></span><br><span class="line">            if (current &gt; 180)&#123;</span><br><span class="line"><span class="javascript">                $(<span class="string">".divT"</span>).removeClass(<span class="string">"hide"</span>);</span></span><br><span class="line"><span class="actionscript">            &#125;<span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">                $(<span class="string">".divT"</span>).addClass(<span class="string">"hide"</span>);</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line"><span class="actionscript">        <span class="function"><span class="keyword">function</span> <span class="title">ReturnTop</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">            $(<span class="built_in">window</span>).scrollTop(<span class="number">0</span>);</span></span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="2-左侧菜单"><a href="#2-左侧菜单" class="headerlink" title="2.左侧菜单"></a>2.左侧菜单</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">          <span class="selector-class">.menu</span>&#123;</span></span><br><span class="line">              height: 600px;</span><br><span class="line">              width: 30%;</span><br><span class="line"><span class="css">              <span class="selector-tag">background-color</span>: <span class="selector-id">#2F4F4F</span>;</span></span><br><span class="line">              float: left;</span><br><span class="line">          &#125;</span><br><span class="line"><span class="css">         <span class="selector-class">.title</span>&#123;</span></span><br><span class="line">             line-height: 50px;</span><br><span class="line"><span class="css">             <span class="selector-tag">color</span>: <span class="selector-id">#ddd</span>;</span></span><br><span class="line">         &#125;</span><br><span class="line"><span class="css">         <span class="selector-class">.title</span><span class="selector-pseudo">:hover</span>&#123;</span></span><br><span class="line">             cursor: pointer;</span><br><span class="line">             color: lightcyan;</span><br><span class="line">             font-size: 18px;</span><br><span class="line">         &#125;</span><br><span class="line"><span class="css">         <span class="selector-class">.hide</span>&#123;</span></span><br><span class="line">             display: none;</span><br><span class="line">         &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"outer"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"menu"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"title"</span> <span class="attr">onclick</span>=<span class="string">"Show(this);"</span>&gt;</span>菜单一<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"con"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span>&gt;</span>111<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span>&gt;</span>111<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span>&gt;</span>111<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"title"</span> <span class="attr">onclick</span>=<span class="string">"Show(this);"</span>&gt;</span>菜单二<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"con hide"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span>&gt;</span>222<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span>&gt;</span>222<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span>&gt;</span>222<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"title"</span> <span class="attr">onclick</span>=<span class="string">"Show(this);"</span>&gt;</span>菜单三<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"con hide"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span>&gt;</span>333<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span>&gt;</span>333<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span>&gt;</span>333<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"../../jquery-1.12.4.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">        <span class="function"><span class="keyword">function</span> <span class="title">Show</span><span class="params">(self)</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">            $(self).next().removeClass(<span class="string">"hide"</span>).parent().siblings().children(<span class="string">".con"</span>).addClass(<span class="string">"hide"</span>);</span></span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="3-菜单切换"><a href="#3-菜单切换" class="headerlink" title="3.菜单切换"></a>3.菜单切换</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">        *&#123;</span><br><span class="line">            margin: 0px;</span><br><span class="line">            padding: 0px;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="selector-class">.tab_outer</span>&#123;</span></span><br><span class="line">            margin: 0px auto;</span><br><span class="line">            width: 60%;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="selector-class">.menu</span>&#123;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">background-color</span>: <span class="selector-id">#cccccc</span>;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">border</span>: 1<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#ccc</span>;</span></span><br><span class="line">            line-height: 40px;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="selector-class">.menu</span> <span class="selector-tag">li</span>&#123;</span></span><br><span class="line">            display: inline-block;</span><br><span class="line">            color: white;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="selector-class">.menu</span> <span class="selector-tag">li</span><span class="selector-pseudo">:hover</span> &#123;</span></span><br><span class="line">            cursor: pointer;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="selector-class">.menu</span> <span class="selector-tag">a</span>&#123;</span></span><br><span class="line">            padding: 11px;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="selector-class">.content</span>&#123;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">border</span>: 1<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#ccc</span>;</span></span><br><span class="line">            height: 300px;</span><br><span class="line">            font-size: 30px;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="selector-class">.hide</span>&#123;</span></span><br><span class="line">            display: none;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">        <span class="selector-class">.current</span>&#123;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">background-color</span>: <span class="selector-id">#0099dd</span>;</span></span><br><span class="line">            color: black;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"tab_outer"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"menu"</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">li</span> <span class="attr">xxx</span>=<span class="string">"c1"</span> <span class="attr">class</span>=<span class="string">"current"</span> <span class="attr">onclick</span>=<span class="string">"Tab(this);"</span>&gt;</span>菜单一<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">li</span> <span class="attr">xxx</span>=<span class="string">"c2"</span> <span class="attr">onclick</span>=<span class="string">"Tab(this);"</span>&gt;</span>菜单二<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">li</span> <span class="attr">xxx</span>=<span class="string">"c3"</span> <span class="attr">onclick</span>=<span class="string">"Tab(this);"</span>&gt;</span>菜单三<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"content"</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"c1"</span>&gt;</span>内容一<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"c2"</span> <span class="attr">class</span>=<span class="string">"hide"</span>&gt;</span>内容二<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"c3"</span> <span class="attr">class</span>=<span class="string">"hide"</span>&gt;</span>内容三<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"../../jquery-1.12.4.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">        <span class="function"><span class="keyword">function</span> <span class="title">Tab</span><span class="params">(self)</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">            $(self).addClass(<span class="string">"current"</span>).siblings().removeClass(<span class="string">"current"</span>);</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> x = <span class="string">"#"</span> + $(self).attr(<span class="string">"xxx"</span>);</span></span><br><span class="line"><span class="javascript">            $(x).removeClass(<span class="string">"hide"</span>).siblings().addClass(<span class="string">"hide"</span>);</span></span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="4-滚动菜单"><a href="#4-滚动菜单" class="headerlink" title="4.滚动菜单"></a>4.滚动菜单</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">        body&#123;</span><br><span class="line">            margin: 0;</span><br><span class="line"><span class="css">            <span class="selector-tag">background-color</span>: <span class="selector-id">#dddddd</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="selector-class">.w</span>&#123;</span></span><br><span class="line">            margin: 0 auto;</span><br><span class="line">            width: 980px;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="selector-class">.pg-header</span>&#123;</span></span><br><span class="line">            background-color: black;</span><br><span class="line">            color: white;</span><br><span class="line">            height: 48px;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="selector-class">.pg-body</span> <span class="selector-class">.menu</span>&#123;</span></span><br><span class="line">            position: absolute;</span><br><span class="line">            left: 200px;</span><br><span class="line">            width: 180px;</span><br><span class="line">            background-color: white;</span><br><span class="line">            float: left;</span><br><span class="line">        &#125;</span><br><span class="line">        li &#123;</span><br><span class="line">            list-style-type: none;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="selector-class">.pg-body</span> <span class="selector-class">.menu</span> <span class="selector-class">.active</span>&#123;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">background-color</span>: <span class="selector-id">#425a66</span>;</span></span><br><span class="line">            color: white;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="selector-class">.pg-body</span> <span class="selector-class">.fixed</span>&#123;</span></span><br><span class="line">            position: fixed;</span><br><span class="line">            top: 10px;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="selector-class">.pg-body</span> <span class="selector-class">.content</span>&#123;</span></span><br><span class="line">            position: absolute;</span><br><span class="line">            left: 385px;</span><br><span class="line">            right: 200px;</span><br><span class="line">            background-color: white;</span><br><span class="line">            float: left;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="selector-class">.pg-body</span> <span class="selector-class">.content</span> <span class="selector-class">.item</span>&#123;</span></span><br><span class="line">            height: 900px;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"pg-header"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"w"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"pg-body"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"menu"</span> <span class="attr">class</span>=<span class="string">"menu"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span> <span class="attr">menu</span>=<span class="string">"funcOne"</span>&gt;</span>第一章<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span> <span class="attr">menu</span>=<span class="string">"funcTwo"</span>&gt;</span>第二章<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span> <span class="attr">menu</span>=<span class="string">"funcStree"</span>&gt;</span>第三章<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"content"</span> <span class="attr">class</span>=<span class="string">"content"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item"</span> <span class="attr">con</span>=<span class="string">"funcOne"</span>&gt;</span>床前明月管<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item"</span> <span class="attr">con</span>=<span class="string">"funcTwo"</span>&gt;</span>疑是地上霜<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item"</span> <span class="attr">con</span>=<span class="string">"funcStree"</span> <span class="attr">style</span>=<span class="string">"height: 100px"</span>&gt;</span>我是郭德纲<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"../../jquery-1.12.4.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">window</span>.onscroll = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> onTop = $(<span class="built_in">window</span>).scrollTop();</span></span><br><span class="line">            if (onTop &gt;= 48)&#123;</span><br><span class="line"><span class="javascript">                $(<span class="string">"#menu"</span>).addClass(<span class="string">"fixed"</span>);</span></span><br><span class="line"><span class="actionscript">            &#125;<span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">                $(<span class="string">"#menu"</span>).removeClass(<span class="string">"fixed"</span>);</span></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"><span class="actionscript">            <span class="keyword">var</span> flag = <span class="literal">false</span>;</span></span><br><span class="line"><span class="javascript">            $(<span class="string">".item"</span>).each(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> topH = $(<span class="keyword">this</span>).offset().top;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> HH = $(<span class="keyword">this</span>).height() + topH;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> wH = $(<span class="built_in">window</span>).height();</span></span><br><span class="line"></span><br><span class="line">                if ((wH + onTop) == HH)&#123;</span><br><span class="line"><span class="javascript">                    $(<span class="string">"ul .active"</span>).removeClass(<span class="string">"active"</span>);</span></span><br><span class="line"><span class="javascript">                    $(<span class="string">"li:last"</span>).addClass(<span class="string">"active"</span>);</span></span><br><span class="line"><span class="actionscript">                    flag = <span class="literal">true</span>;</span></span><br><span class="line"><span class="actionscript">                    <span class="keyword">return</span></span></span><br><span class="line">                &#125;</span><br><span class="line">                if (flag)&#123;</span><br><span class="line"><span class="actionscript">                    <span class="keyword">return</span></span></span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> menuCon = $(<span class="keyword">this</span>).attr(<span class="string">"con"</span>);</span></span><br><span class="line">                if ((topH &lt; onTop) &amp;&amp; (onTop &lt; HH))&#123;</span><br><span class="line"><span class="javascript">                    $(<span class="string">"ul [menu='"</span> + menuCon +<span class="string">"']"</span>).addClass(<span class="string">"active"</span>);</span></span><br><span class="line"><span class="actionscript">                &#125;<span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">                    $(<span class="string">"ul [menu='"</span> + menuCon +<span class="string">"']"</span>).removeClass(<span class="string">"active"</span>);</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="5-淡入淡出"><a href="#5-淡入淡出" class="headerlink" title="5.淡入淡出"></a>5.淡入淡出</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"in"</span>&gt;</span>fadein<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"out"</span>&gt;</span>fadeout<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"toggle"</span>&gt;</span>fadetoggle<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"fadeto"</span>&gt;</span>fadeto<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"id1"</span> <span class="attr">style</span>=<span class="string">"display:none; width: 80px;height: 80px;background-color: blueviolet"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"id2"</span> <span class="attr">style</span>=<span class="string">"display:none; width: 80px;height: 80px;background-color: orangered "</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"id3"</span> <span class="attr">style</span>=<span class="string">"display:none; width: 80px;height: 80px;background-color: darkgreen "</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"../../jquery-1.12.4.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">        $(<span class="built_in">document</span>).ready(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            $(<span class="string">"#in"</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">               $(<span class="string">"#id1"</span>).fadeIn(<span class="number">1000</span>);</span></span><br><span class="line"><span class="javascript">               $(<span class="string">"#id2"</span>).fadeIn(<span class="number">1000</span>);</span></span><br><span class="line"><span class="javascript">               $(<span class="string">"#id3"</span>).fadeIn(<span class="number">1000</span>);</span></span><br><span class="line"></span><br><span class="line">            &#125;);</span><br><span class="line"><span class="javascript">            $(<span class="string">"#out"</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">               $(<span class="string">"#id1"</span>).fadeOut(<span class="number">1000</span>);</span></span><br><span class="line"><span class="javascript">               $(<span class="string">"#id2"</span>).fadeOut(<span class="number">1000</span>);</span></span><br><span class="line"><span class="javascript">               $(<span class="string">"#id3"</span>).fadeOut(<span class="number">1000</span>);</span></span><br><span class="line"></span><br><span class="line">            &#125;);</span><br><span class="line"><span class="javascript">            $(<span class="string">"#toggle"</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">               $(<span class="string">"#id1"</span>).fadeToggle(<span class="number">1000</span>);</span></span><br><span class="line"><span class="javascript">               $(<span class="string">"#id2"</span>).fadeToggle(<span class="number">1000</span>);</span></span><br><span class="line"><span class="javascript">               $(<span class="string">"#id3"</span>).fadeToggle(<span class="number">1000</span>);</span></span><br><span class="line"></span><br><span class="line">            &#125;);</span><br><span class="line"><span class="javascript">            $(<span class="string">"#fadeto"</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">               $(<span class="string">"#id1"</span>).fadeTo(<span class="number">1000</span>,<span class="number">0.4</span>);</span></span><br><span class="line"><span class="javascript">               $(<span class="string">"#id2"</span>).fadeTo(<span class="number">1000</span>,<span class="number">0.5</span>);</span></span><br><span class="line"><span class="javascript">               $(<span class="string">"#id3"</span>).fadeTo(<span class="number">1000</span>,<span class="number">0</span>);</span></span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;);</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="6-滑动"><a href="#6-滑动" class="headerlink" title="6.滑动"></a>6.滑动</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">        <span class="selector-id">#flipshow</span>,<span class="selector-id">#content</span>,<span class="selector-id">#fliphide</span>,<span class="selector-id">#toggle</span>&#123;</span></span><br><span class="line">            padding: 5px;</span><br><span class="line">            text-align: center;</span><br><span class="line">            background-color: blueviolet;</span><br><span class="line"><span class="css">            <span class="selector-tag">border</span><span class="selector-pseudo">:solid</span> 1<span class="selector-tag">px</span> <span class="selector-tag">red</span>;</span></span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="selector-id">#content</span>&#123;</span></span><br><span class="line">            padding: 50px;</span><br><span class="line">            display: none;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"flipshow"</span>&gt;</span>出现<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"fliphide"</span>&gt;</span>隐藏<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"toggle"</span>&gt;</span>toggle<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"content"</span>&gt;</span>helloworld<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"../../jquery-1.12.4.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">        $(<span class="built_in">document</span>).ready(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">              $(<span class="string">"#flipshow"</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                 $(<span class="string">"#content"</span>).slideDown(<span class="number">1000</span>);</span></span><br><span class="line">              &#125;);</span><br><span class="line"><span class="javascript">              $(<span class="string">"#fliphide"</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                 $(<span class="string">"#content"</span>).slideUp(<span class="number">1000</span>);</span></span><br><span class="line">              &#125;);</span><br><span class="line"><span class="javascript">              $(<span class="string">"#toggle"</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                 $(<span class="string">"#content"</span>).slideToggle(<span class="number">1000</span>);</span></span><br><span class="line">              &#125;)</span><br><span class="line">          &#125;);</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="7-隐藏与显示"><a href="#7-隐藏与显示" class="headerlink" title="7.隐藏与显示"></a>7.隐藏与显示</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--1 隐藏与显示--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--2 淡入淡出--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--3 滑动--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--4 效果-回调:每一个动画执行完毕之后所能执行的函数方法或者所能做的一件事--&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>hello<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"hide"</span>&gt;</span>隐藏<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"show"</span>&gt;</span>显示<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"toggle"</span>&gt;</span>隐藏/显示<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"../../jquery-1.12.4.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        $(<span class="built_in">document</span>).ready(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            $(<span class="string">"#hide"</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                $(<span class="string">"p"</span>).hide(<span class="number">1000</span>);</span></span><br><span class="line">            &#125;);</span><br><span class="line"><span class="javascript">            $(<span class="string">"#show"</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                $(<span class="string">"p"</span>).show(<span class="number">1000</span>);</span></span><br><span class="line">            &#125;);</span><br><span class="line"></span><br><span class="line"><span class="actionscript">        <span class="comment">//用于切换被选元素的 hide() 与 show() 方法。</span></span></span><br><span class="line"><span class="javascript">            $(<span class="string">"#toggle"</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                $(<span class="string">"p"</span>).toggle(<span class="number">2000</span>);</span></span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="8-添加与删除标签"><a href="#8-添加与删除标签" class="headerlink" title="8.添加与删除标签"></a>8.添加与删除标签</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"outer"</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"section"</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"icons"</span> <span class="attr">style</span>=<span class="string">"display: inline-block"</span>&gt;</span></span><br><span class="line">                   <span class="tag">&lt;<span class="name">a</span> <span class="attr">onclick</span>=<span class="string">"Add(this);"</span>&gt;</span><span class="tag">&lt;<span class="name">button</span>&gt;</span>+<span class="tag">&lt;/<span class="name">button</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"inputs"</span> <span class="attr">style</span>=<span class="string">"display: inline-block"</span>&gt;</span></span><br><span class="line">                   <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span>&gt;</span></span><br><span class="line">                   <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">value</span>=<span class="string">"IP"</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"../../jquery-1.12.4.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">        <span class="function"><span class="keyword">function</span> <span class="title">Add</span><span class="params">(self)</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">            $(self).parentsUntil(<span class="string">"outer"</span>).clone().find(<span class="string">"a"</span>).html(<span class="string">"&lt;button&gt;-&lt;/button&gt;"</span>).attr(<span class="string">"onclick"</span>,<span class="string">"Remove(this);"</span>).end().eq(<span class="number">1</span>).appendTo(<span class="string">".outer"</span>);</span></span><br><span class="line">        &#125;</span><br><span class="line"><span class="actionscript">        <span class="function"><span class="keyword">function</span> <span class="title">Remove</span><span class="params">(self)</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">            $(self).parentsUntil(<span class="string">"outer"</span>).eq(<span class="number">1</span>).remove();</span></span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="9-商城商品放大镜"><a href="#9-商城商品放大镜" class="headerlink" title="9.商城商品放大镜"></a>9.商城商品放大镜</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"Content-Type"</span> <span class="attr">content</span>=<span class="string">"text/html; charset=UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"IE=8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>购物商城<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">            *&#123;</span><br><span class="line">                margin: 0;</span><br><span class="line">                padding: 0;</span><br><span class="line">            &#125;</span><br><span class="line"><span class="css">            <span class="selector-class">.outer</span>&#123;</span></span><br><span class="line"><span class="css">                <span class="selector-tag">position</span><span class="selector-pseudo">:relative</span>;</span></span><br><span class="line"><span class="css">                <span class="selector-tag">width</span><span class="selector-pseudo">:350px</span>;</span></span><br><span class="line"><span class="css">                <span class="selector-tag">height</span><span class="selector-pseudo">:350px</span>;</span></span><br><span class="line"><span class="css">                <span class="selector-tag">border</span><span class="selector-pseudo">:1px</span> <span class="selector-tag">solid</span> <span class="selector-tag">black</span>;</span></span><br><span class="line">            &#125;</span><br><span class="line"><span class="css">            <span class="selector-class">.outer</span> <span class="selector-class">.small-box</span>&#123;</span></span><br><span class="line">                position: relative;</span><br><span class="line">                z-index: 1;</span><br><span class="line">            &#125;</span><br><span class="line"><span class="css">            <span class="selector-class">.outer</span> <span class="selector-class">.small-box</span> <span class="selector-class">.mark</span>&#123;</span></span><br><span class="line">                position: absolute;</span><br><span class="line">                display: block;</span><br><span class="line">                width: 350px;</span><br><span class="line">                height: 350px;</span><br><span class="line"><span class="css">                <span class="selector-tag">background-color</span>: <span class="selector-id">#fff</span>;</span></span><br><span class="line">                filter: alpha(opacity=0);</span><br><span class="line">                opacity: 0;</span><br><span class="line">                z-index: 10;</span><br><span class="line">            &#125;</span><br><span class="line"><span class="css">            <span class="selector-class">.outer</span> <span class="selector-class">.small-box</span> <span class="selector-class">.float-box</span>&#123;</span></span><br><span class="line">                display: none;</span><br><span class="line">                width: 175px;</span><br><span class="line">                height: 175px;</span><br><span class="line">                position: absolute;</span><br><span class="line"><span class="css">                <span class="selector-tag">background</span>: <span class="selector-id">#DAEEFC</span>;</span></span><br><span class="line">                filter: alpha(opacity=40);</span><br><span class="line"><span class="css">                <span class="selector-tag">opacity</span>: 0<span class="selector-class">.4</span>;</span></span><br><span class="line">            &#125;</span><br><span class="line"><span class="css">            <span class="selector-class">.outer</span> <span class="selector-class">.big-box</span>&#123;</span></span><br><span class="line">                position: absolute;</span><br><span class="line">                top: 0;</span><br><span class="line">                left: 351px;</span><br><span class="line">                width: 350px;</span><br><span class="line">                height: 350px;</span><br><span class="line">                overflow: hidden;</span><br><span class="line">                border: 1px solid transparent;</span><br><span class="line">                z-index: 1;</span><br><span class="line">            &#125;</span><br><span class="line"><span class="css">            <span class="selector-class">.outer</span> <span class="selector-class">.big-box</span> <span class="selector-tag">img</span>&#123;</span></span><br><span class="line">                position: absolute;</span><br><span class="line">                z-index: 5</span><br><span class="line">            &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>  <span class="attr">class</span>=<span class="string">"outer"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span>  <span class="attr">class</span>=<span class="string">"small-box"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span>  <span class="attr">class</span>=<span class="string">"mark"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span>  <span class="attr">class</span>=<span class="string">"float-box"</span> &gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">img</span> <span class="attr">width</span>=<span class="string">"350"</span> <span class="attr">height</span>=<span class="string">"350"</span> <span class="attr">src</span>=<span class="string">"../../css/1.jpg"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"big-box"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">img</span> <span class="attr">width</span>=<span class="string">"900px"</span> <span class="attr">height</span>=<span class="string">"900px"</span> <span class="attr">src</span>=<span class="string">"../../css/1.jpg"</span> &gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"../../jquery-1.12.4.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">   $(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">        $(<span class="string">".mark"</span>).mouseover(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            $(<span class="string">".float-box"</span>).css(<span class="string">"display"</span>,<span class="string">"block"</span>);</span></span><br><span class="line"><span class="javascript">            $(<span class="string">".big-box"</span>).css(<span class="string">"display"</span>,<span class="string">"block"</span>);</span></span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line"><span class="javascript">        $(<span class="string">".mark"</span>).mouseout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            $(<span class="string">".float-box"</span>).css(<span class="string">"display"</span>,<span class="string">"none"</span>);</span></span><br><span class="line"><span class="javascript">            $(<span class="string">".big-box"</span>).css(<span class="string">"display"</span>,<span class="string">"none"</span>);</span></span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="javascript">        $(<span class="string">".mark"</span>).mousemove(<span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> _event = e || <span class="built_in">window</span>.event;  <span class="comment">//兼容多个浏览器的event参数模式</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> float_box_width  = $(<span class="string">".float-box"</span>)[<span class="number">0</span>].offsetWidth;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> float_box_height = $(<span class="string">".float-box"</span>)[<span class="number">0</span>].offsetHeight;<span class="comment">//175,175</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="actionscript">            <span class="keyword">var</span> float_box_width_half  =  float_box_width / <span class="number">2</span>;</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">var</span> float_box_height_half =  float_box_height/ <span class="number">2</span>;<span class="comment">//87.5,87.5</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> small_box_width  =  $(<span class="string">".outer"</span>)[<span class="number">0</span>].offsetWidth;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> small_box_height =  $(<span class="string">".outer"</span>)[<span class="number">0</span>].offsetHeight;<span class="comment">//360,360</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="actionscript">            <span class="keyword">var</span> mouse_left = _event.clientX   - float_box_width_half;</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">var</span> mouse_top = _event.clientY  - float_box_height_half;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            if (mouse_left &lt; 0) &#123;</span><br><span class="line">                mouse_left = 0;</span><br><span class="line"><span class="actionscript">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (mouse_left &gt; small_box_width - float_box_width) &#123;</span></span><br><span class="line">                mouse_left = small_box_width - float_box_width;</span><br><span class="line">            &#125;</span><br><span class="line">            if (mouse_top &lt; 0) &#123;</span><br><span class="line">                mouse_top = 0;</span><br><span class="line"><span class="actionscript">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (mouse_top &gt; small_box_height - float_box_height) &#123;</span></span><br><span class="line">                mouse_top = small_box_height - float_box_height;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"><span class="javascript">            $(<span class="string">".float-box"</span>).css(<span class="string">"left"</span>,mouse_left + <span class="string">"px"</span>);</span></span><br><span class="line"><span class="javascript">            $(<span class="string">".float-box"</span>).css(<span class="string">"top"</span>,mouse_top + <span class="string">"px"</span>);</span></span><br><span class="line">            </span><br><span class="line">            </span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> percentX = ($(<span class="string">".big-box img"</span>)[<span class="number">0</span>].offsetWidth - $(<span class="string">".big-box"</span>)[<span class="number">0</span>].offsetWidth) / (small_box_width - float_box_width);</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> percentY = ($(<span class="string">".big-box img"</span>)[<span class="number">0</span>].offsetHeight - $(<span class="string">".big-box"</span>)[<span class="number">0</span>].offsetHeight) / (small_box_height - float_box_height);</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log($(<span class="string">".big-box img"</span>)[<span class="number">0</span>].offsetWidth,$(<span class="string">".big-box"</span>)[<span class="number">0</span>].offsetWidth,small_box_width,float_box_width)</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(percentX,percentY)</span></span><br><span class="line"><span class="javascript">            $(<span class="string">".big-box img"</span>).css(<span class="string">"left"</span>,-percentX * mouse_left + <span class="string">"px"</span>);</span></span><br><span class="line"><span class="javascript">            $(<span class="string">".big-box img"</span>).css(<span class="string">"top"</span>,-percentY * mouse_top + <span class="string">"px"</span>)</span></span><br><span class="line"></span><br><span class="line">        &#125;)</span><br><span class="line">   &#125;)</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="10-商城菜单"><a href="#10-商城菜单" class="headerlink" title="10.商城菜单"></a>10.商城菜单</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">        *&#123;</span><br><span class="line">            margin: 0;</span><br><span class="line">            padding: 0;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="selector-class">.hide</span>&#123;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">display</span><span class="selector-pseudo">:none</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="selector-class">.header-nav</span> &#123;</span></span><br><span class="line">            height: 39px;</span><br><span class="line"><span class="css">            <span class="selector-tag">background</span>: <span class="selector-id">#c9033b</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="selector-class">.header-nav</span> <span class="selector-class">.bg</span>&#123;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">background</span>: <span class="selector-id">#c9033b</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="selector-class">.header-nav</span> <span class="selector-class">.nav-allgoods</span> <span class="selector-class">.menuEvent</span> &#123;</span></span><br><span class="line">            display: block;</span><br><span class="line">            height: 39px;</span><br><span class="line">            line-height: 39px;</span><br><span class="line">            text-decoration: none;</span><br><span class="line"><span class="css">            <span class="selector-tag">color</span>: <span class="selector-id">#fff</span>;</span></span><br><span class="line">            text-align: center;</span><br><span class="line">            font-weight: bold;</span><br><span class="line">            font-family: 微软雅黑;</span><br><span class="line"><span class="css">            <span class="selector-tag">color</span>: <span class="selector-id">#fff</span>;</span></span><br><span class="line">            width: 100px;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="selector-class">.header-nav</span> <span class="selector-class">.nav-allgoods</span> <span class="selector-class">.menuEvent</span> <span class="selector-class">.catName</span> &#123;</span></span><br><span class="line">            height: 39px;</span><br><span class="line">            line-height: 39px;</span><br><span class="line">            font-size: 15px;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="selector-class">.header-nav</span> <span class="selector-class">.nav-allmenu</span> <span class="selector-tag">a</span> &#123;</span></span><br><span class="line">            display: inline-block;</span><br><span class="line">            height: 39px;</span><br><span class="line">            vertical-align: top;</span><br><span class="line">            padding: 0 15px;</span><br><span class="line">            text-decoration: none;</span><br><span class="line"><span class="css">            <span class="selector-tag">color</span>: <span class="selector-id">#fff</span>;</span></span><br><span class="line">            float: left;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="selector-class">.header-menu</span> <span class="selector-tag">a</span>&#123;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">color</span>:<span class="selector-id">#656565</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="selector-class">.header-menu</span> <span class="selector-class">.menu-catagory</span>&#123;</span></span><br><span class="line">            position: absolute;</span><br><span class="line"><span class="css">            <span class="selector-tag">background-color</span>: <span class="selector-id">#fff</span>;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">border-left</span><span class="selector-pseudo">:1px</span> <span class="selector-tag">solid</span> <span class="selector-id">#fff</span>;</span></span><br><span class="line">            height: 316px;</span><br><span class="line">            width: 230px;</span><br><span class="line">             z-index: 4;</span><br><span class="line">             float: left;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="selector-class">.header-menu</span> <span class="selector-class">.menu-catagory</span> <span class="selector-class">.catagory</span> &#123;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">border-left</span><span class="selector-pseudo">:4px</span> <span class="selector-tag">solid</span> <span class="selector-id">#fff</span>;</span></span><br><span class="line">            height: 104px;</span><br><span class="line"><span class="css">            <span class="selector-tag">border-bottom</span>: <span class="selector-tag">solid</span> 1<span class="selector-tag">px</span> <span class="selector-id">#eaeaea</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="selector-class">.header-menu</span> <span class="selector-class">.menu-catagory</span> <span class="selector-class">.catagory</span><span class="selector-pseudo">:hover</span> &#123;</span></span><br><span class="line">            height: 102px;</span><br><span class="line"><span class="css">            <span class="selector-tag">border-left</span><span class="selector-pseudo">:4px</span> <span class="selector-tag">solid</span> <span class="selector-id">#c9033b</span>;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">border-bottom</span>: <span class="selector-tag">solid</span> 1<span class="selector-tag">px</span> <span class="selector-id">#bcbcbc</span>;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">border-top</span>: <span class="selector-tag">solid</span> 1<span class="selector-tag">px</span> <span class="selector-id">#bcbcbc</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="selector-class">.header-menu</span> <span class="selector-class">.menu-content</span> <span class="selector-class">.item</span>&#123;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">margin-left</span><span class="selector-pseudo">:230px</span>;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">position</span><span class="selector-pseudo">:absolute</span>;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">background-color</span><span class="selector-pseudo">:white</span>;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">height</span><span class="selector-pseudo">:314px</span>;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">width</span><span class="selector-pseudo">:500px</span>;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">z-index</span><span class="selector-pseudo">:4</span>;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">float</span><span class="selector-pseudo">:left</span>;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">border</span>: <span class="selector-tag">solid</span> 1<span class="selector-tag">px</span> <span class="selector-id">#bcbcbc</span>;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">border-left</span><span class="selector-pseudo">:0</span>;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">box-shadow</span>: 1<span class="selector-tag">px</span> 1<span class="selector-tag">px</span> 5<span class="selector-tag">px</span> <span class="selector-id">#999</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"pg-header"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"header-nav"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container narrow bg"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"nav-allgoods left"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">id</span>=<span class="string">"all_menu_catagory"</span> <span class="attr">href</span>=<span class="string">"#"</span> <span class="attr">class</span>=<span class="string">"menuEvent"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">b</span> <span class="attr">class</span>=<span class="string">"catName"</span>&gt;</span>全部商品分类<span class="tag">&lt;/<span class="name">b</span>&gt;</span>&gt;</span><br><span class="line">                    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"arrow"</span> <span class="attr">style</span>=<span class="string">"display: inline-block;vertical-align: top;"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"header-menu"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container narrow hide"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"nav_all_menu"</span> <span class="attr">class</span>=<span class="string">"menu-catagory"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"catagory"</span> <span class="attr">float-content</span>=<span class="string">"one"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"title"</span>&gt;</span>家电<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"body"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>空调<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"catagory"</span> <span class="attr">float-content</span>=<span class="string">"two"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"title"</span>&gt;</span>床上用品<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"body"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"http://www.baidu.com"</span>&gt;</span>床单<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"catagory"</span> <span class="attr">float-content</span>=<span class="string">"three"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"title"</span>&gt;</span>水果<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"body"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>橘子<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"nav_all_content"</span> <span class="attr">class</span>=<span class="string">"menu-content"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item hide"</span> <span class="attr">float-id</span>=<span class="string">"one"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">                    <span class="tag">&lt;<span class="name">dl</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">dt</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span> <span class="attr">class</span>=<span class="string">"red"</span>&gt;</span>厨房用品<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">dt</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">dd</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">span</span>&gt;</span>| <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span> <span class="attr">target</span>=<span class="string">"_blank"</span> <span class="attr">title</span>=<span class="string">"勺子"</span>&gt;</span>勺子<span class="tag">&lt;/<span class="name">a</span>&gt;</span> <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">dl</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">dl</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">dt</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span> <span class="attr">class</span>=<span class="string">"red"</span>&gt;</span>厨房用品<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">dt</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">dd</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">span</span>&gt;</span>| <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span> <span class="attr">target</span>=<span class="string">"_blank"</span> <span class="attr">title</span>=<span class="string">"菜刀"</span>&gt;</span>菜刀<span class="tag">&lt;/<span class="name">a</span>&gt;</span> <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">dl</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">dl</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">dt</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span> <span class="attr">class</span>=<span class="string">"red"</span>&gt;</span>厨房用品<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">dt</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">dd</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">span</span>&gt;</span>| <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>菜板<span class="tag">&lt;/<span class="name">a</span>&gt;</span> <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">dl</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">dl</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">dt</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span> <span class="attr">class</span>=<span class="string">"red"</span>&gt;</span>厨房用品<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">dt</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">dd</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">span</span>&gt;</span>| <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span> <span class="attr">target</span>=<span class="string">"_blank"</span> <span class="attr">title</span>=<span class="string">"碗"</span>&gt;</span>碗<span class="tag">&lt;/<span class="name">a</span>&gt;</span> <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">dl</span>&gt;</span></span><br><span class="line"></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item hide"</span> <span class="attr">float-id</span>=<span class="string">"two"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">dl</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">dt</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span> <span class="attr">class</span>=<span class="string">"red"</span>&gt;</span>床上用品<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">dt</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">dd</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">span</span>&gt;</span>| <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span> <span class="attr">target</span>=<span class="string">"_blank"</span> <span class="attr">title</span>=<span class="string">""</span>&gt;</span>枕头<span class="tag">&lt;/<span class="name">a</span>&gt;</span> <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">dl</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">dl</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">dt</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span> <span class="attr">class</span>=<span class="string">"red"</span>&gt;</span>床上用品<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">dt</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">dd</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">span</span>&gt;</span>| <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span> <span class="attr">target</span>=<span class="string">"_blank"</span> <span class="attr">title</span>=<span class="string">"角阀"</span>&gt;</span>夏凉被<span class="tag">&lt;/<span class="name">a</span>&gt;</span> <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">dl</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">dl</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">dt</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span> <span class="attr">class</span>=<span class="string">"red"</span>&gt;</span>床上用品<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">dt</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">dd</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">span</span>&gt;</span>| <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span> <span class="attr">target</span>=<span class="string">"_blank"</span> <span class="attr">title</span>=<span class="string">"角阀"</span>&gt;</span>嘿嘿嘿<span class="tag">&lt;/<span class="name">a</span>&gt;</span> <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">dl</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item hide"</span> <span class="attr">float-id</span>=<span class="string">"three"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">dl</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">dt</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span> <span class="attr">class</span>=<span class="string">"red"</span>&gt;</span>厨房用品<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">dt</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">dd</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">span</span>&gt;</span>| <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span> <span class="attr">target</span>=<span class="string">"_blank"</span> <span class="attr">title</span>=<span class="string">"角阀"</span>&gt;</span>微波炉<span class="tag">&lt;/<span class="name">a</span>&gt;</span> <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">dl</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">dl</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">dt</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span> <span class="attr">class</span>=<span class="string">"red"</span>&gt;</span>厨房用品<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">dt</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">dd</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">span</span>&gt;</span>| <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"http://www.meilele.com/category-jiaofa"</span> <span class="attr">target</span>=<span class="string">"_blank"</span> <span class="attr">title</span>=<span class="string">"角阀"</span>&gt;</span>金菜刀<span class="tag">&lt;/<span class="name">a</span>&gt;</span> <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">dl</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"../../jquery-1.12.4.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    $(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript">        Change(<span class="string">"#all_menu_catagory"</span>,<span class="string">"#nav_all_menu"</span>,<span class="string">"#nav_all_content"</span>)</span></span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line"><span class="actionscript">    <span class="function"><span class="keyword">function</span> <span class="title">Change</span><span class="params">(menuF,menuS,menuT)</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">        $(menuF).bind(&#123;</span></span><br><span class="line"><span class="actionscript">            <span class="string">"mouseover"</span>:<span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">            $(menuS).parent().removeClass(<span class="string">"hide"</span>);</span></span><br><span class="line"><span class="actionscript">        &#125;,<span class="string">"mouseout"</span>:<span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">            $(menuS).parent().addClass(<span class="string">"hide"</span>);</span></span><br><span class="line">        &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line"><span class="javascript">        $(menuS).children().bind(&#123;</span></span><br><span class="line"><span class="actionscript">            <span class="string">"mouseover"</span>:<span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">                $(menuS).parent().removeClass(<span class="string">"hide"</span>);</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> $item = $(menuT).find(<span class="string">'[float-id="'</span> +　$(<span class="keyword">this</span>).attr(<span class="string">"float-content"</span>) + <span class="string">'"]'</span>);</span></span><br><span class="line"><span class="actionscript">                $item.removeClass(<span class="string">"hide"</span>).siblings().addClass(<span class="string">"hide"</span>);</span></span><br><span class="line">            &#125;,</span><br><span class="line"><span class="actionscript">            <span class="string">"mouseout"</span>:<span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">                $(menuS).parent().addClass(<span class="string">"hide"</span>);</span></span><br><span class="line"><span class="javascript">                $(menuT).parent().addClass(<span class="string">"hide"</span>);</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        </span><br><span class="line"><span class="javascript">        $(menuT).children().bind(&#123;</span></span><br><span class="line"><span class="actionscript">            <span class="string">"mouseover"</span>:<span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">                $(menuS).parent().removeClass(<span class="string">"hide"</span>);</span></span><br><span class="line"><span class="javascript">                $(<span class="keyword">this</span>).removeClass(<span class="string">"hide"</span>);</span></span><br><span class="line">            &#125;,</span><br><span class="line"><span class="actionscript">            <span class="string">"mouseout"</span>:<span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">                $(menuS).parent().addClass(<span class="string">"hide"</span>);</span></span><br><span class="line"><span class="javascript">                $(<span class="keyword">this</span>).addClass(<span class="string">"hide"</span>);</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="11-拖动面板"><a href="#11-拖动面板" class="headerlink" title="11.拖动面板"></a>11.拖动面板</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"border: 1px solid #ddd;width: 600px;position: absolute;"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"title"</span> <span class="attr">style</span>=<span class="string">"background-color: black;height: 40px;color: white;"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">strong</span>&gt;</span>标题<span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"height: 300px;"</span>&gt;</span></span><br><span class="line">            内容</span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"../../jquery-1.12.4.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    $(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        $(<span class="string">'#title'</span>).mouseover(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            $(<span class="keyword">this</span>).css(<span class="string">'cursor'</span>,<span class="string">'move'</span>);</span></span><br><span class="line"><span class="actionscript">        &#125;).mousedown(<span class="function"><span class="keyword">function</span> <span class="params">(e)</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">var</span> _event = e || widows.event;</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">var</span> ord_x = _event.clientX;</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">var</span> ord_y = _event.clientY;</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> parent_left = $(<span class="keyword">this</span>).parent().offset().left;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> parent_top = $(<span class="keyword">this</span>).parent().offset().top;</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">            $(<span class="keyword">this</span>).bind(<span class="string">'mousemove'</span>,<span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> _new_event = e || <span class="built_in">window</span>.event;</span></span><br><span class="line"><span class="actionscript">                <span class="keyword">var</span> new_x = _new_event.clientX;</span></span><br><span class="line"><span class="actionscript">                <span class="keyword">var</span> new_y = _new_event.clientY;</span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">                <span class="keyword">var</span> x = parent_left + (new_x - ord_x);</span></span><br><span class="line"><span class="actionscript">                <span class="keyword">var</span> y = parent_top + (new_y - ord_y);</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">                $(<span class="keyword">this</span>).parent().css(<span class="string">'left'</span>,x+<span class="string">'px'</span>);</span></span><br><span class="line"><span class="javascript">                $(<span class="keyword">this</span>).parent().css(<span class="string">'top'</span>,y+<span class="string">'px'</span>);</span></span><br><span class="line">            &#125;)</span><br><span class="line"><span class="actionscript">        &#125;).mouseup(<span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">            $(<span class="keyword">this</span>).unbind(<span class="string">'mousemove'</span>);</span></span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="12-模态对话框"><a href="#12-模态对话框" class="headerlink" title="12.模态对话框"></a>12.模态对话框</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">        <span class="selector-class">.shade</span>&#123;</span></span><br><span class="line">            position: fixed;</span><br><span class="line">            left: 0;</span><br><span class="line">            top: 0;</span><br><span class="line">            right: 0;</span><br><span class="line">            bottom: 0;</span><br><span class="line"><span class="css">            <span class="selector-tag">background</span>: <span class="selector-tag">rgba</span>(0,0,0,<span class="selector-class">.6</span>) ;</span></span><br><span class="line">            z-index: 20;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="selector-class">.modal</span>&#123;</span></span><br><span class="line">            position: fixed;</span><br><span class="line">            left: 50%;</span><br><span class="line">            top: 50%;</span><br><span class="line">            height: 300px;</span><br><span class="line">            width: 400px;</span><br><span class="line">            margin-top: -150px;</span><br><span class="line">            margin-left: -200px;</span><br><span class="line">            z-index: 30;</span><br><span class="line"><span class="css">            <span class="selector-tag">border</span>: 1<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#ddd</span>;</span></span><br><span class="line">            background-color: white;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="selector-class">.hide</span>&#123;</span></span><br><span class="line">            display: none;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="selector-class">.modal</span> <span class="selector-tag">form</span> &#123;</span></span><br><span class="line">            position: fixed;</span><br><span class="line">            left: 50%;</span><br><span class="line">            top: 50%;</span><br><span class="line">            height: 200px;</span><br><span class="line">            width: 229px;</span><br><span class="line">            border: 1px;</span><br><span class="line">            margin-left: -115px;</span><br><span class="line">            margin-top: -100px;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="selector-class">.modal</span> <span class="selector-tag">form</span> <span class="selector-tag">p</span> &#123;</span></span><br><span class="line">            float: right;</span><br><span class="line">            margin-top: 12px;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="selector-class">.modal</span> <span class="selector-tag">form</span> <span class="selector-tag">span</span> &#123;</span></span><br><span class="line">            float: right;</span><br><span class="line">            display: inline-block;</span><br><span class="line">            height: 18px;</span><br><span class="line">            width: 170px;</span><br><span class="line"><span class="css">            <span class="selector-tag">background-color</span>: <span class="selector-id">#FFEBEB</span>;</span></span><br><span class="line">            text-align: center;</span><br><span class="line"><span class="css">            <span class="selector-tag">border</span>: 1<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#ffbdbe</span>;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">color</span>: <span class="selector-id">#e4393c</span>;</span></span><br><span class="line">            font-size: 14px;</span><br><span class="line">            visibility: hidden;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="selector-class">.modal</span> <span class="selector-tag">form</span> <span class="selector-attr">[type=<span class="string">"button"</span>]</span> &#123;</span></span><br><span class="line">            position: absolute;</span><br><span class="line">            bottom: -30px;</span><br><span class="line">            left: 115px;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="selector-class">.modal</span> <span class="selector-tag">form</span> <span class="selector-attr">[value=<span class="string">"提交"</span>]</span>&#123;</span></span><br><span class="line">            left: 50px;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"width: 300px; margin: 0 auto"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"添加主机"</span> <span class="attr">onclick</span>=<span class="string">"return Add();"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">table</span> <span class="attr">style</span>=<span class="string">"border: 2px solid #F5F5F5; width: 300px;"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">thead</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">th</span> &gt;</span>主机名<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">th</span> &gt;</span>IP<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">th</span> &gt;</span>端口<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">th</span>&gt;</span>操作<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">thead</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tbody</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span> <span class="attr">target</span>=<span class="string">"host"</span>&gt;</span>c1.com<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span> <span class="attr">target</span>=<span class="string">"ip"</span>&gt;</span>1.1.1.1<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span> <span class="attr">target</span>=<span class="string">"port"</span>&gt;</span>8888<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span> <span class="attr">onclick</span>=<span class="string">"Edit(this);"</span>&gt;</span>Edit<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span> <span class="attr">target</span>=<span class="string">"host"</span>&gt;</span>c2.com<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span> <span class="attr">target</span>=<span class="string">"ip"</span>&gt;</span>1.1.1.1<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span> <span class="attr">target</span>=<span class="string">"port"</span>&gt;</span>8888<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span> <span class="attr">onclick</span>=<span class="string">"Edit(this);"</span>&gt;</span>Edit<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span> <span class="attr">target</span>=<span class="string">"host"</span>&gt;</span>c3.com<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span> <span class="attr">target</span>=<span class="string">"ip"</span>&gt;</span>1.1.1.1<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span> <span class="attr">target</span>=<span class="string">"port"</span>&gt;</span>8888<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span> <span class="attr">onclick</span>=<span class="string">"Edit(this);"</span>&gt;</span>Edit<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span> <span class="attr">target</span>=<span class="string">"host"</span>&gt;</span>.com<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span> <span class="attr">target</span>=<span class="string">"ip"</span>&gt;</span>1.1.1.1<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span> <span class="attr">target</span>=<span class="string">"port"</span>&gt;</span>8888<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span> <span class="attr">onclick</span>=<span class="string">"Edit(this);"</span>&gt;</span>Edit<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"shade hide"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>  <span class="attr">class</span>=<span class="string">"modal hide"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">""</span> <span class="attr">method</span>=<span class="string">"get"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span>&gt;</span>主机名:<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">id</span>=<span class="string">"host"</span> <span class="attr">name</span>=<span class="string">"host"</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span>&gt;</span>IP地址:<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">id</span>=<span class="string">'ip'</span> <span class="attr">name</span>=<span class="string">"ip"</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span>&gt;</span>端口号:<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">id</span>=<span class="string">'port'</span> <span class="attr">name</span>=<span class="string">"port"</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"提交"</span> <span class="attr">onclick</span>=<span class="string">"return SubmitForm();"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"取消"</span> <span class="attr">onclick</span>=<span class="string">"HideModal();"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"../../jquery-1.12.4.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">        $(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">           $(<span class="string">"tr:even"</span>).css(<span class="string">"background-color"</span>,<span class="string">"#f5f5f5"</span>);</span></span><br><span class="line">        &#125;);</span><br><span class="line"><span class="actionscript">        <span class="function"><span class="keyword">function</span> <span class="title">Edit</span><span class="params">(ths)</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">            $(<span class="string">".shade,.modal"</span>).removeClass(<span class="string">"hide"</span>);</span></span><br><span class="line"><span class="javascript">            prevList = $(ths).prevAll();</span></span><br><span class="line"><span class="actionscript">            prevList.each(<span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> text = $(<span class="keyword">this</span>).text();</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> target = $(<span class="keyword">this</span>).attr(<span class="string">"target"</span>);</span></span><br><span class="line"><span class="javascript">                $(<span class="string">"#"</span>+target).val(text);</span></span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line"><span class="actionscript">        <span class="function"><span class="keyword">function</span> <span class="title">HideModal</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">            $(<span class="string">".shade,.modal"</span>).addClass(<span class="string">"hide"</span>);</span></span><br><span class="line"><span class="javascript">            $(<span class="string">".modal"</span>).find(<span class="string">"input[type='text']"</span>).val(<span class="string">""</span>);</span></span><br><span class="line"><span class="actionscript">            Addd = <span class="literal">false</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line"><span class="actionscript">        <span class="function"><span class="keyword">function</span> <span class="title">SubmitForm</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">var</span> flag = Detection();</span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">            <span class="keyword">try</span> &#123;</span></span><br><span class="line">                    if (Addd &amp;&amp; flag)&#123;</span><br><span class="line"><span class="javascript">                    $(<span class="string">"tbody"</span>).append($(<span class="string">"tr"</span>).last().clone());</span></span><br><span class="line"><span class="javascript">                    $(<span class="string">".modal"</span>).find(<span class="string">"input[type='text']"</span>).each(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                        <span class="keyword">var</span> value = $(<span class="keyword">this</span>).val();</span></span><br><span class="line"><span class="javascript">                        <span class="keyword">var</span> name = $(<span class="keyword">this</span>).attr(<span class="string">"name"</span>);</span></span><br><span class="line"><span class="javascript">                        ($(<span class="string">"tr"</span>).last().children()).each(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                            <span class="keyword">if</span> ($(<span class="keyword">this</span>).attr(<span class="string">"target"</span>) == name)&#123;</span></span><br><span class="line"><span class="javascript">                                $(<span class="keyword">this</span>).text(value);</span></span><br><span class="line"><span class="actionscript">                                <span class="keyword">return</span></span></span><br><span class="line">                            &#125;</span><br><span class="line">                                &#125;</span><br><span class="line">                        )&#125;);</span><br><span class="line"><span class="actionscript">                    Addd = <span class="literal">false</span>;</span></span><br><span class="line">                    HideModal();</span><br><span class="line"><span class="actionscript">                    <span class="keyword">return</span> <span class="literal">false</span>;</span></span><br><span class="line">                &#125;</span><br><span class="line"><span class="actionscript">            &#125;<span class="keyword">catch</span> (e)&#123;&#125;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            if (flag)&#123;</span><br><span class="line"><span class="javascript">                $(<span class="string">".modal"</span>).find(<span class="string">"input[type='text']"</span>).each(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> value = $(<span class="keyword">this</span>).val();</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> name = $(<span class="keyword">this</span>).attr(<span class="string">"name"</span>);</span></span><br><span class="line"><span class="javascript">                    $(prevList).each(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                        <span class="keyword">if</span> ($(<span class="keyword">this</span>).attr(<span class="string">"target"</span>) == name)&#123;</span></span><br><span class="line"><span class="javascript">                            $(<span class="keyword">this</span>).text(value);</span></span><br><span class="line"><span class="actionscript">                            <span class="keyword">return</span></span></span><br><span class="line">                        &#125;</span><br><span class="line">                            &#125;</span><br><span class="line">                    )&#125;);</span><br><span class="line"><span class="javascript">                    $(<span class="string">".modal,.shade"</span>).addClass(<span class="string">"hide"</span>);</span></span><br><span class="line">                    HideModal();</span><br><span class="line">                &#125;</span><br><span class="line"><span class="actionscript">            <span class="keyword">return</span> flag;</span></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        </span><br><span class="line"><span class="actionscript">        <span class="function"><span class="keyword">function</span> <span class="title">Detection</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">var</span> flag = <span class="literal">true</span>;</span></span><br><span class="line"><span class="javascript">            $(<span class="string">".modal"</span>).find(<span class="string">"input[type='text']"</span>).each(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> value = $(<span class="keyword">this</span>).val();</span></span><br><span class="line">                if (value.length == 0)&#123;</span><br><span class="line"><span class="javascript">                    $(<span class="keyword">this</span>).next().next().css(<span class="string">"visibility"</span>,<span class="string">"visible"</span>).text(<span class="string">"亲，不能为空"</span>);</span></span><br><span class="line"><span class="actionscript">                    flag = <span class="literal">false</span>;</span></span><br><span class="line"><span class="actionscript">                    <span class="keyword">return</span> <span class="literal">false</span>;</span></span><br><span class="line"><span class="actionscript">                &#125;<span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">                    $(<span class="keyword">this</span>).next().next().css(<span class="string">"visibility"</span>,<span class="string">"hidden"</span>).text(<span class="string">""</span>);</span></span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line"><span class="javascript">                <span class="keyword">if</span> ($(<span class="keyword">this</span>).attr(<span class="string">'name'</span>) == <span class="string">"host"</span>)&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> r = <span class="regexp">/(\.com)$/</span>;</span></span><br><span class="line"><span class="actionscript">                    <span class="keyword">if</span> (r.test(value) == <span class="literal">false</span>)&#123;</span></span><br><span class="line"><span class="javascript">                        $(<span class="keyword">this</span>).next().next().css(<span class="string">"visibility"</span>,<span class="string">"visible"</span>).text(<span class="string">"主机名必须以.com结尾"</span>);</span></span><br><span class="line"><span class="actionscript">                        flag = <span class="literal">false</span>;</span></span><br><span class="line"><span class="actionscript">                        <span class="keyword">return</span> <span class="literal">false</span>;</span></span><br><span class="line">                &#125;</span><br><span class="line"><span class="javascript">                &#125;<span class="keyword">else</span> <span class="keyword">if</span> ($(<span class="keyword">this</span>).attr(<span class="string">'name'</span>) == <span class="string">"ip"</span>)&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> r2 = <span class="regexp">/^(([0-2]?[0-9][0-9]?)\.)&#123;3&#125;([0-2]?[0-9][0-9]?)$/</span>;</span></span><br><span class="line"><span class="actionscript">                    <span class="keyword">if</span> (r2.test(value) == <span class="literal">false</span>)&#123;</span></span><br><span class="line"><span class="javascript">                        $(<span class="keyword">this</span>).next().next().css(<span class="string">"visibility"</span>,<span class="string">"visible"</span>).text(<span class="string">"ip 地址格式有误"</span>);</span></span><br><span class="line"><span class="actionscript">                        flag = <span class="literal">false</span>;</span></span><br><span class="line"><span class="actionscript">                        <span class="keyword">return</span> <span class="literal">false</span>;</span></span><br><span class="line">                    &#125;</span><br><span class="line"><span class="javascript">                &#125;<span class="keyword">else</span> <span class="keyword">if</span> ($(<span class="keyword">this</span>).attr(<span class="string">'name'</span>) == <span class="string">"port"</span>)&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> r3 = <span class="regexp">/^([0-9]&#123;1,5&#125;)$/</span>;</span></span><br><span class="line"><span class="actionscript">                    <span class="keyword">if</span> ((r3.test(value) == <span class="literal">false</span>) || (value &gt; <span class="number">65535</span>))&#123;</span></span><br><span class="line"><span class="javascript">                        $(<span class="keyword">this</span>).next().next().css(<span class="string">"visibility"</span>,<span class="string">"visible"</span>).text(<span class="string">"端口必须为0-65535"</span>);</span></span><br><span class="line"><span class="actionscript">                        flag = <span class="literal">false</span>;</span></span><br><span class="line"><span class="actionscript">                        <span class="keyword">return</span> <span class="literal">false</span>;</span></span><br><span class="line">                    &#125;</span><br><span class="line"><span class="actionscript">                &#125;<span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">                    $(<span class="keyword">this</span>).next().next().css(<span class="string">"visibility"</span>,<span class="string">"hidden"</span>).text(<span class="string">""</span>);</span></span><br><span class="line">                &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"><span class="actionscript">        <span class="keyword">return</span> flag;</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="actionscript">        <span class="function"><span class="keyword">function</span> <span class="title">Add</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">            Addd = <span class="literal">true</span>;</span></span><br><span class="line"><span class="javascript">            $(<span class="string">".shade,.modal"</span>).removeClass(<span class="string">"hide"</span>);</span></span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="13-轮播图"><a href="#13-轮播图" class="headerlink" title="13.轮播图"></a>13.轮播图</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">        *&#123;</span><br><span class="line">            margin: 0;</span><br><span class="line">            padding: 0;</span><br><span class="line">        &#125;</span><br><span class="line">        ul&#123;</span><br><span class="line">            list-style: none;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="selector-class">.out</span>&#123;</span></span><br><span class="line">            width: 730px;</span><br><span class="line">            height: 454px;</span><br><span class="line">            margin: 50px auto;</span><br><span class="line">            position: relative;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="selector-class">.out</span> <span class="selector-class">.img</span> <span class="selector-tag">li</span>&#123;</span></span><br><span class="line">            position: absolute;</span><br><span class="line">            left: 0;</span><br><span class="line">            top: 0;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="selector-class">.out</span> <span class="selector-class">.num</span>&#123;</span></span><br><span class="line">            position: absolute;</span><br><span class="line"><span class="css">            <span class="selector-tag">left</span><span class="selector-pseudo">:0</span>;</span></span><br><span class="line">            bottom: 20px;</span><br><span class="line">            text-align: center;</span><br><span class="line">            font-size: 0;</span><br><span class="line">            width: 100%;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="selector-class">.out</span> <span class="selector-class">.btn</span>&#123;</span></span><br><span class="line">            position: absolute;</span><br><span class="line"><span class="css">            <span class="selector-tag">top</span><span class="selector-pseudo">:50</span>%;</span></span><br><span class="line">            margin-top: -30px;</span><br><span class="line">            width: 30px;</span><br><span class="line">            height: 60px;</span><br><span class="line">            background-color: aliceblue;</span><br><span class="line">            color: black;</span><br><span class="line">            text-align: center;</span><br><span class="line">            line-height: 60px;</span><br><span class="line">            font-size: 40px;</span><br><span class="line">            display: none;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="selector-class">.out</span> <span class="selector-class">.num</span> <span class="selector-tag">li</span>&#123;</span></span><br><span class="line">            width: 20px;</span><br><span class="line">            height: 20px;</span><br><span class="line">            background-color: black;</span><br><span class="line"><span class="css">            <span class="selector-tag">color</span>: <span class="selector-id">#fff</span>;</span></span><br><span class="line">            text-align: center;</span><br><span class="line">            line-height: 20px;</span><br><span class="line">            border-radius: 60%;</span><br><span class="line">            display: inline;</span><br><span class="line">            font-size: 18px;</span><br><span class="line">            margin: 0 10px;</span><br><span class="line">            cursor: pointer;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="selector-class">.out</span> <span class="selector-class">.num</span> <span class="selector-tag">li</span><span class="selector-class">.active</span>&#123;</span></span><br><span class="line">            background-color: red;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="selector-class">.out</span> <span class="selector-class">.left</span>&#123;</span></span><br><span class="line">            left: 0;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="selector-class">.out</span> <span class="selector-class">.right</span>&#123;</span></span><br><span class="line">            right: 0;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="selector-class">.out</span><span class="selector-pseudo">:hover</span> <span class="selector-class">.btn</span>&#123;</span></span><br><span class="line">            display: block;</span><br><span class="line">            color: white;</span><br><span class="line">            font-weight: 900;</span><br><span class="line">            background-color: black;</span><br><span class="line"><span class="css">            <span class="selector-tag">opacity</span>: 0<span class="selector-class">.8</span>;</span></span><br><span class="line">            cursor: pointer;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="selector-class">.out</span> <span class="selector-tag">img</span> &#123;</span></span><br><span class="line">            height: 100%;</span><br><span class="line">            width: 100%;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"out"</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"img"</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"images/1.jpg"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"images/2.jpg"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"images/3.jpg"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"images/4.jpg"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"images/5.jpg"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"></span><br><span class="line">         <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"num"</span>&gt;</span></span><br><span class="line">             <span class="comment">&lt;!--&lt;li class="active"&gt;1&lt;/li&gt;--&gt;</span></span><br><span class="line">             <span class="comment">&lt;!--&lt;li&gt;2&lt;/li&gt;--&gt;</span></span><br><span class="line">             <span class="comment">&lt;!--&lt;li&gt;3&lt;/li&gt;--&gt;</span></span><br><span class="line">             <span class="comment">&lt;!--&lt;li&gt;4&lt;/li&gt;--&gt;</span></span><br><span class="line">             <span class="comment">&lt;!--&lt;li&gt;5&lt;/li&gt;--&gt;</span></span><br><span class="line">         <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"></span><br><span class="line">         &lt;div class="left btn"&gt;&lt;&lt;/div&gt;</span><br><span class="line">         <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"right btn"</span>&gt;</span>&gt;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">     <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"../../jquery-1.12.4.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        $(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> size=$(<span class="string">".img li"</span>).size();</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">for</span> (<span class="keyword">var</span> i= <span class="number">1</span>;i&lt;=size;i++)&#123;</span></span><br><span class="line"><span class="actionscript">                <span class="keyword">var</span> li=<span class="string">"&lt;li&gt;"</span>+i+<span class="string">"&lt;/li&gt;"</span>;</span></span><br><span class="line"><span class="javascript">                $(<span class="string">".num"</span>).append(li);</span></span><br><span class="line">            &#125;</span><br><span class="line"><span class="javascript">            $(<span class="string">".num li"</span>).eq(<span class="number">0</span>).addClass(<span class="string">"active"</span>);</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="javascript">            $(<span class="string">".num li"</span>).mouseover(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">               $(<span class="keyword">this</span>).addClass(<span class="string">"active"</span>).siblings().removeClass(<span class="string">"active"</span>);</span></span><br><span class="line"><span class="javascript">               <span class="keyword">var</span> index=$(<span class="keyword">this</span>).index();</span></span><br><span class="line">               i=index;</span><br><span class="line"><span class="javascript">               $(<span class="string">".img li"</span>).eq(index).fadeIn(<span class="number">1000</span>).siblings().fadeOut(<span class="number">1000</span>);</span></span><br><span class="line">            &#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        i=0;</span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> t=setInterval(move,<span class="number">1500</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">        <span class="function"><span class="keyword">function</span> <span class="title">move</span><span class="params">()</span></span>&#123;</span></span><br><span class="line">            i++;</span><br><span class="line">            if(i==size)&#123;</span><br><span class="line">                i=0;</span><br><span class="line">            &#125;</span><br><span class="line"><span class="javascript">            $(<span class="string">".num li"</span>).eq(i).addClass(<span class="string">"active"</span>).siblings().removeClass(<span class="string">"active"</span>);</span></span><br><span class="line"><span class="javascript">            $(<span class="string">".img li"</span>).eq(i).stop().fadeIn(<span class="number">1000</span>).siblings().stop().fadeOut(<span class="number">1000</span>);</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="actionscript">        <span class="function"><span class="keyword">function</span> <span class="title">moveL</span><span class="params">()</span></span>&#123;</span></span><br><span class="line">            i--;</span><br><span class="line">            if(i==-1)&#123;</span><br><span class="line">                i=size-1;</span><br><span class="line">            &#125;</span><br><span class="line"><span class="javascript">            $(<span class="string">".num li"</span>).eq(i).addClass(<span class="string">"active"</span>).siblings().removeClass(<span class="string">"active"</span>);</span></span><br><span class="line"><span class="javascript">            $(<span class="string">".img li"</span>).eq(i).stop().fadeIn(<span class="number">1000</span>).siblings().stop().fadeOut(<span class="number">1000</span>);</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="javascript">        $(<span class="string">".out"</span>).hover(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line">            clearInterval(t);</span><br><span class="line"><span class="actionscript">        &#125;,<span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</span></span><br><span class="line">            t=setInterval(move,1500);</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line"><span class="javascript">        $(<span class="string">".out .right"</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line">            move()</span><br><span class="line">        &#125;);</span><br><span class="line"><span class="javascript">        $(<span class="string">".out .left"</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line">           moveL()</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        &#125;);</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="14-编辑框"><a href="#14-编辑框" class="headerlink" title="14.编辑框"></a>14.编辑框</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">        <span class="selector-class">.edit-mode</span>&#123;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">background-color</span>: <span class="selector-id">#b3b3b3</span>;</span></span><br><span class="line">            padding: 8px;</span><br><span class="line">            text-decoration: none;</span><br><span class="line">            color: white;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="css">        <span class="selector-class">.editing</span>&#123;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">background-color</span>: <span class="selector-id">#f0ad4e</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"padding: 20px"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">onclick</span>=<span class="string">"CheckAll('#edit_mode', '#tb1');"</span> <span class="attr">value</span>=<span class="string">"全选"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">onclick</span>=<span class="string">"CheckReverse('#edit_mode', '#tb1');"</span> <span class="attr">value</span>=<span class="string">"反选"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">onclick</span>=<span class="string">"CheckCancel('#edit_mode', '#tb1');"</span> <span class="attr">value</span>=<span class="string">"取消"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">id</span>=<span class="string">"edit_mode"</span> <span class="attr">class</span>=<span class="string">"edit-mode"</span> <span class="attr">href</span>=<span class="string">"javascript:void(0);"</span>  <span class="attr">onclick</span>=<span class="string">"EditMode(this, '#tb1');"</span>&gt;</span>进入编辑模式<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">table</span> <span class="attr">border</span>=<span class="string">"1"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">thead</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">th</span>&gt;</span>选择<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">th</span>&gt;</span>主机名<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">th</span>&gt;</span>端口<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">th</span>&gt;</span>状态<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">thead</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tbody</span> <span class="attr">id</span>=<span class="string">"tb1"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> /&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span> <span class="attr">edit</span>=<span class="string">"true"</span>&gt;</span>v1<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>v11<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span> <span class="attr">edit</span>=<span class="string">"true"</span> <span class="attr">edit-type</span>=<span class="string">"select"</span> <span class="attr">sel-val</span>=<span class="string">"1"</span> <span class="attr">global-key</span>=<span class="string">"STATUS"</span>&gt;</span>在线<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> /&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span> <span class="attr">edit</span>=<span class="string">"true"</span>&gt;</span>v1<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>v11<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span> <span class="attr">edit</span>=<span class="string">"true"</span> <span class="attr">edit-type</span>=<span class="string">"select"</span> <span class="attr">sel-val</span>=<span class="string">"2"</span> <span class="attr">global-key</span>=<span class="string">"STATUS"</span>&gt;</span>下线<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> /&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span> <span class="attr">edit</span>=<span class="string">"true"</span>&gt;</span>v1<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>v11<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">td</span> <span class="attr">edit</span>=<span class="string">"true"</span> <span class="attr">edit-type</span>=<span class="string">"select"</span> <span class="attr">sel-val</span>=<span class="string">"1"</span> <span class="attr">global-key</span>=<span class="string">"STATUS"</span>&gt;</span>在线<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"../../jquery-1.12.4.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line">        /*</span><br><span class="line">         监听是否已经按下control键</span><br><span class="line">         */</span><br><span class="line"><span class="javascript">        <span class="built_in">window</span>.globalCtrlKeyPress = <span class="literal">false</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="built_in">window</span>.onkeydown = <span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</span></span><br><span class="line">            if(event &amp;&amp; event.keyCode == 17)&#123;</span><br><span class="line"><span class="javascript">                <span class="built_in">window</span>.globalCtrlKeyPress = <span class="literal">true</span>;</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line"><span class="javascript">        <span class="built_in">window</span>.onkeyup = <span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</span></span><br><span class="line">            if(event &amp;&amp; event.keyCode == 17)&#123;</span><br><span class="line"><span class="javascript">                <span class="built_in">window</span>.globalCtrlKeyPress = <span class="literal">false</span>;</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        /*</span><br><span class="line">         按下Control，联动表格中正在编辑的select</span><br><span class="line">         */</span><br><span class="line"><span class="actionscript">        <span class="function"><span class="keyword">function</span> <span class="title">MultiSelect</span><span class="params">(ths)</span></span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">if</span>(<span class="built_in">window</span>.globalCtrlKeyPress)&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> index = $(ths).parent().index();</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> value = $(ths).val();</span></span><br><span class="line"><span class="javascript">                $(ths).parent().parent().nextAll().find(<span class="string">"td input[type='checkbox']:checked"</span>).each(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    $(<span class="keyword">this</span>).parent().parent().children().eq(index).children().val(value);</span></span><br><span class="line">                &#125;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="actionscript">    BindSingleCheck(<span class="string">'#edit_mode'</span>, <span class="string">'#tb1'</span>);</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="actionscript"><span class="function"><span class="keyword">function</span> <span class="title">BindSingleCheck</span><span class="params">(mode, tb)</span></span>&#123;</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">    $(tb).find(<span class="string">':checkbox'</span>).bind(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> $tr = $(<span class="keyword">this</span>).parent().parent();</span></span><br><span class="line"><span class="javascript">        <span class="keyword">if</span>($(mode).hasClass(<span class="string">'editing'</span>))&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">if</span>($(<span class="keyword">this</span>).prop(<span class="string">'checked'</span>))&#123;</span></span><br><span class="line">                RowIntoEdit($tr);</span><br><span class="line"><span class="actionscript">            &#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line">                RowOutEdit($tr);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="actionscript"><span class="function"><span class="keyword">function</span> <span class="title">CreateSelect</span><span class="params">(attrs,csses,option_dict,item_key,item_value,current_val)</span></span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> sel= <span class="built_in">document</span>.createElement(<span class="string">'select'</span>);</span></span><br><span class="line"><span class="javascript">    $.each(attrs,<span class="function"><span class="keyword">function</span>(<span class="params">k,v</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">        $(sel).attr(k,v);</span></span><br><span class="line">    &#125;);</span><br><span class="line"><span class="javascript">    $.each(csses,<span class="function"><span class="keyword">function</span>(<span class="params">k,v</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">        $(sel).css(k,v);</span></span><br><span class="line">    &#125;);</span><br><span class="line"><span class="javascript">    $.each(option_dict,<span class="function"><span class="keyword">function</span>(<span class="params">k,v</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> opt1=<span class="built_in">document</span>.createElement(<span class="string">'option'</span>);</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> sel_text = v[item_value];</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">var</span> sel_value = v[item_key];</span></span><br><span class="line"></span><br><span class="line">        if(sel_value==current_val)&#123;</span><br><span class="line"><span class="javascript">            $(opt1).text(sel_text).attr(<span class="string">'value'</span>, sel_value).attr(<span class="string">'text'</span>, sel_text).attr(<span class="string">'selected'</span>,<span class="literal">true</span>).appendTo($(sel));</span></span><br><span class="line"><span class="actionscript">        &#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="javascript">            $(opt1).text(sel_text).attr(<span class="string">'value'</span>, sel_value).attr(<span class="string">'text'</span>, sel_text).appendTo($(sel));</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line"><span class="actionscript">    <span class="keyword">return</span> sel;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">STATUS = [</span><br><span class="line"><span class="actionscript">    &#123;<span class="string">'id'</span>: <span class="number">1</span>, <span class="string">'value'</span>: <span class="string">"在线"</span>&#125;,</span></span><br><span class="line"><span class="actionscript">    &#123;<span class="string">'id'</span>: <span class="number">2</span>, <span class="string">'value'</span>: <span class="string">"下线"</span>&#125;</span></span><br><span class="line">];</span><br><span class="line"></span><br><span class="line">BUSINESS = [</span><br><span class="line"><span class="actionscript">    &#123;<span class="string">'id'</span>: <span class="number">1</span>, <span class="string">'value'</span>: <span class="string">"车上会"</span>&#125;,</span></span><br><span class="line"><span class="actionscript">    &#123;<span class="string">'id'</span>: <span class="number">2</span>, <span class="string">'value'</span>: <span class="string">"二手车"</span>&#125;</span></span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="actionscript"><span class="function"><span class="keyword">function</span> <span class="title">RowIntoEdit</span><span class="params">($tr)</span></span>&#123;</span></span><br><span class="line"><span class="actionscript">    $tr.children().each(<span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">if</span>($(<span class="keyword">this</span>).attr(<span class="string">'edit'</span>) == <span class="string">"true"</span>)&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">if</span>($(<span class="keyword">this</span>).attr(<span class="string">'edit-type'</span>) == <span class="string">"select"</span>)&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> select_val = $(<span class="keyword">this</span>).attr(<span class="string">'sel-val'</span>);</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> global_key = $(<span class="keyword">this</span>).attr(<span class="string">'global-key'</span>);</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> selelct_tag = CreateSelect(&#123;<span class="string">"onchange"</span>: <span class="string">"MultiSelect(this);"</span>&#125;, &#123;&#125;, <span class="built_in">window</span>[global_key], <span class="string">'id'</span>, <span class="string">'value'</span>, select_val);</span></span><br><span class="line"><span class="javascript">                $(<span class="keyword">this</span>).html(selelct_tag);</span></span><br><span class="line"><span class="actionscript">            &#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> orgin_value = $(<span class="keyword">this</span>).text();</span></span><br><span class="line"><span class="actionscript">                <span class="keyword">var</span> temp = <span class="string">"&lt;input value='"</span>+ orgin_value+<span class="string">"' /&gt;"</span>;</span></span><br><span class="line"><span class="javascript">                $(<span class="keyword">this</span>).html(temp);</span></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="actionscript"><span class="function"><span class="keyword">function</span> <span class="title">RowOutEdit</span><span class="params">($tr)</span></span>&#123;</span></span><br><span class="line"><span class="actionscript">    $tr.children().each(<span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">if</span>($(<span class="keyword">this</span>).attr(<span class="string">'edit'</span>) == <span class="string">"true"</span>)&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">if</span>($(<span class="keyword">this</span>).attr(<span class="string">'edit-type'</span>) == <span class="string">"select"</span>)&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> new_val = $(<span class="keyword">this</span>).children(<span class="string">':first'</span>).val();</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> new_text = $(<span class="keyword">this</span>).children(<span class="string">':first'</span>).find(<span class="string">"option[value='"</span>+new_val+<span class="string">"']"</span>).text();</span></span><br><span class="line"><span class="javascript">                $(<span class="keyword">this</span>).attr(<span class="string">'sel-val'</span>, new_val);</span></span><br><span class="line"><span class="javascript">                $(<span class="keyword">this</span>).text(new_text);</span></span><br><span class="line"><span class="actionscript">            &#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> orgin_value = $(<span class="keyword">this</span>).children().first().val();</span></span><br><span class="line"><span class="javascript">                $(<span class="keyword">this</span>).text(orgin_value);</span></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="actionscript"><span class="function"><span class="keyword">function</span> <span class="title">CheckAll</span><span class="params">(mode, tb)</span></span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">if</span>($(mode).hasClass(<span class="string">'editing'</span>))&#123;</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        $(tb).children().each(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> tr = $(<span class="keyword">this</span>);</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">var</span> check_box = tr.children().first().find(<span class="string">':checkbox'</span>);</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">if</span>(check_box.prop(<span class="string">'checked'</span>))&#123;</span></span><br><span class="line"></span><br><span class="line"><span class="actionscript">            &#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="actionscript">                check_box.prop(<span class="string">'checked'</span>,<span class="literal">true</span>);</span></span><br><span class="line"></span><br><span class="line">                RowIntoEdit(tr);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line"><span class="actionscript">    &#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        $(tb).find(<span class="string">':checkbox'</span>).prop(<span class="string">'checked'</span>, <span class="literal">true</span>);</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="actionscript"><span class="function"><span class="keyword">function</span> <span class="title">CheckReverse</span><span class="params">(mode, tb)</span></span>&#123;</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">    <span class="keyword">if</span>($(mode).hasClass(<span class="string">'editing'</span>))&#123;</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        $(tb).children().each(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> tr = $(<span class="keyword">this</span>);</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">var</span> check_box = tr.children().first().find(<span class="string">':checkbox'</span>);</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">if</span>(check_box.prop(<span class="string">'checked'</span>))&#123;</span></span><br><span class="line"><span class="actionscript">                check_box.prop(<span class="string">'checked'</span>,<span class="literal">false</span>);</span></span><br><span class="line">                RowOutEdit(tr);</span><br><span class="line"><span class="actionscript">            &#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="actionscript">                check_box.prop(<span class="string">'checked'</span>,<span class="literal">true</span>);</span></span><br><span class="line">                RowIntoEdit(tr);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="actionscript">    &#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line">        </span><br><span class="line"><span class="javascript">        $(tb).children().each(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> tr = $(<span class="keyword">this</span>);</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">var</span> check_box = tr.children().first().find(<span class="string">':checkbox'</span>);</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">if</span>(check_box.prop(<span class="string">'checked'</span>))&#123;</span></span><br><span class="line"><span class="actionscript">                check_box.prop(<span class="string">'checked'</span>,<span class="literal">false</span>);</span></span><br><span class="line"><span class="actionscript">            &#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="actionscript">                check_box.prop(<span class="string">'checked'</span>,<span class="literal">true</span>);</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="actionscript"><span class="function"><span class="keyword">function</span> <span class="title">CheckCancel</span><span class="params">(mode, tb)</span></span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">if</span>($(mode).hasClass(<span class="string">'editing'</span>))&#123;</span></span><br><span class="line"><span class="javascript">        $(tb).children().each(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> tr = $(<span class="keyword">this</span>);</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">var</span> check_box = tr.children().first().find(<span class="string">':checkbox'</span>);</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">if</span>(check_box.prop(<span class="string">'checked'</span>))&#123;</span></span><br><span class="line"><span class="actionscript">                check_box.prop(<span class="string">'checked'</span>,<span class="literal">false</span>);</span></span><br><span class="line">                RowOutEdit(tr);</span><br><span class="line"></span><br><span class="line"><span class="actionscript">            &#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line"><span class="actionscript">    &#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="javascript">        $(tb).find(<span class="string">':checkbox'</span>).prop(<span class="string">'checked'</span>, <span class="literal">false</span>);</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="actionscript"><span class="function"><span class="keyword">function</span> <span class="title">EditMode</span><span class="params">(ths, tb)</span></span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">if</span>($(ths).hasClass(<span class="string">'editing'</span>))&#123;</span></span><br><span class="line"><span class="javascript">        $(ths).removeClass(<span class="string">'editing'</span>);</span></span><br><span class="line"><span class="javascript">        $(tb).children().each(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> tr = $(<span class="keyword">this</span>);</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">var</span> check_box = tr.children().first().find(<span class="string">':checkbox'</span>);</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">if</span>(check_box.prop(<span class="string">'checked'</span>))&#123;</span></span><br><span class="line">                RowOutEdit(tr);</span><br><span class="line"><span class="actionscript">            &#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line"><span class="actionscript">    &#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        $(ths).addClass(<span class="string">'editing'</span>);</span></span><br><span class="line"><span class="javascript">        $(tb).children().each(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> tr = $(<span class="keyword">this</span>);</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">var</span> check_box = tr.children().first().find(<span class="string">':checkbox'</span>);</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">if</span>(check_box.prop(<span class="string">'checked'</span>))&#123;</span></span><br><span class="line">                RowIntoEdit(tr);</span><br><span class="line"><span class="actionscript">            &#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> jQuery </category>
          
      </categories>
      
      
        <tags>
            
            <tag> jQuery </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JavaScript中的DOM和BOM操作总结</title>
      <link href="/JavaScript%E4%B8%AD%E7%9A%84DOM%E5%92%8CBOM%E6%93%8D%E4%BD%9C%E6%80%BB%E7%BB%93/"/>
      <url>/JavaScript%E4%B8%AD%E7%9A%84DOM%E5%92%8CBOM%E6%93%8D%E4%BD%9C%E6%80%BB%E7%BB%93/</url>
      
        <content type="html"><![CDATA[<p>javascript总结：<br>javascript 主要包括三个部分：1.DOM; 2.BOM; 3.ECMAscript(ES5,ES6,ES7,ES8)</p><a id="more"></a><h2 id="一-DOM（对象文档模型）"><a href="#一-DOM（对象文档模型）" class="headerlink" title="一.DOM（对象文档模型）"></a>一.DOM（对象文档模型）</h2><h3 id="1-几个重要概念："><a href="#1-几个重要概念：" class="headerlink" title="1.几个重要概念："></a>1.几个重要概念：</h3><p>1）dom节点：元素，属性，文本，注释<br>2）dom节点树；document —&gt; html(root) —&gt; head —&gt; title…</p><h3 id="2-获取dom节点方法"><a href="#2-获取dom节点方法" class="headerlink" title="2.获取dom节点方法"></a>2.获取dom节点方法</h3><p>1） 获取dom元素节点方法<br>a. document.getElementById(‘id名称’);<br>b. document.getElementsByTagName(‘元素名称’);    //返回对象集合<br>c. document.getElementsByClassName(‘class名称’); //返回对象集合<br>d. document.getElementsByName(‘name名称’);    //返回对象集合<br>e. document.querySelector(‘#id 或 .类名 或 元素名’) //返回文档中匹配指定的CSS选择器的第一元素 ie8+支持<br>f. document.querySelectorAll()    //返回匹配指定 CSS 选择器元素的所有子元素节点列表<br>2） 获取dom属性节点方法<br>a. element.getAttributeNode(‘属性名’)    //返回指定属性 节点<br>b. element.getAttribute(‘属性名’)    //返回指定属性 值<br>c. element.setAttribute(‘属性名’,’值’)    //设置或者改变指定属性并指定值<br>d. element.setAttributeNode(‘属性节点’)    //设置或者改变指定属性节点<br>e. element.attributes    //返回一个元素的属性数组</p><p>3） 获取dom文本节点<br>a. element.textContent    //设置或返回一个节点和它的文本内容<br>b. element.innerHTML = ‘设置的内容’    //设置或者返回元素的内容</p><h3 id="3-dom的遍历"><a href="#3-dom的遍历" class="headerlink" title="3.dom的遍历"></a>3.dom的遍历</h3><p>1） dom的元素遍历<br>a. element.childNodes    //返回某个元素的一个子节点的数组<br>b. element.parentNode    //返回某个元素的父节点<br>c. element.firstChild    //返回某个元素的第一个子节点<br>d. element.lastChild    //返回某个元素的最后一个子节点<br>e. element.previousSibling    //返回某个元素的上一个元素节点<br>f. element.nextSibling    //返回某个元素的下一个元素节点<br>g. element.ownerDocument    //返回元素的根元素（文档对象）</p><h3 id="4-dom的-增-删-改-查-复制-替换"><a href="#4-dom的-增-删-改-查-复制-替换" class="headerlink" title="4.dom的 增 删 改 查 复制 替换"></a>4.dom的 增 删 改 查 复制 替换</h3><p>1） dom元素的操作<br>a. document.createElement(‘div(元素名)’)    //创建一个元素节点<br>b. element.appendChild(‘div(元素节点)’)    //为元素添加一个新的子元素<br>c. element.insertBefore(‘新节点’,’子节点’)    //现有的子元素之前插入一个新的子元素<br>d. element.removeChild(‘元素节点’)    //删除一个子元素 element删除节点的父节点 元素节点.parendNode;<br>e. element.replaceChild(‘新节点’,’替换的节点’)    //替换一个子元素 element替换节点的父节点 新节点.parendNode;<br>f. element.cloneNode(true)    //克隆某个元素 element 是克隆的元素 true递归克隆</p><p>2） dom属性的操作<br>a. document.createAttribute(‘属性名’)    //创建一个属性节点<br>b. element.removeAttributeNode(‘属性节点’)    //删除指定属性节点并 返回移除后的节点<br>c. element.removeAttribute(‘属性名’)    //从元素中删除指定的属性<br>d. element.getAttributeNode(‘属性名’)    //返回指定属性 节点<br>e. element.getAttribute(‘属性名’)    //返回指定元素的属性 值<br>f. element.setAttributeNode(‘属性节点’)    //设置或者改变指定属性节点。<br>g. element.setAttribute(‘属性名’,’值’)    //设置或者改变指定属性并指定值<br>h. element.attributes    //返回一个元素的属性数组<br>3） dom文本的操作<br>a. document.createTextNode()    //创建一个文本节点<br>b. element.innerHTML=’文本内容’    //设置或者返回元素的内容</p><h3 id="5-dom-样式操作"><a href="#5-dom-样式操作" class="headerlink" title="5.dom 样式操作"></a>5.dom 样式操作</h3><p>1) element.style.height(backgroundColor…) = ‘css值’ //设置或返回某个元素的css属性<br>2) element.style.cssText = ‘’<br>3) element.style.setProperty(“width”,”200px”,””) //设置属性，第三个值为important优先值，可不写<br>4) element.style.removeProperty(“width”)    //删除并返回css样式<br>5) element.style.length    //返回css长度</p><p>6) element.classList.add(‘class1 class2 class3’) //添加样式<br>7) element.classList.remove(‘class1 class2 …’)    //删除样式</p><h3 id="6-其它dom操作"><a href="#6-其它dom操作" class="headerlink" title="6.其它dom操作"></a>6.其它dom操作</h3><p>1) dom的判断<br>element.addEventListener(‘click’,function(){},true)    //向指定元素添加事件句柄<br>true表示指定事件是否在捕获或冒泡阶段执行。<br>removeEventListener()<br>element.hasAttribute(‘属性名’)    //如果元素中存在指定的属性返回 true，否则返回false<br>element.hasAttributes()    //如果元素有任何属性返回true，否则返回false。<br>element.hasChildNodes()    //返回一个元素是否具有任何子元素<br>element.hasfocus()    //返回布尔值，检测文档或元素是否获取焦点<br>element.id=’值’    //设置或者返回元素的 id<br>element1.isEqualNode(element2)    //检查两个元素是否相等 e1 ?= e2;<br>element.isSupported()    //如果在元素中支持指定特征返回 true<br>element.toString()    //一个元素转换成字符串</p><p>2）获取节点类型<br>element.nodeName    //返回元素的标记名（大写）<br>element.nodeType    //返回节点类型 1：元素，2：属性，3：文本,8：注释，9：整个文档<br>element.nodeValue    //返回元素的节点值</p><p>document.forms    //返回对文档中所有 Form 对象引用<br>document.body    //返回文档的body元素<br>document.documentElement    //返回文档的根节点<br>document.images    //返回对文档中所有 Image 对象引用<br>document.open()<br>document.close()<br>document.cookie()    //设置或返回与当前文档有关的所有 cookie</p><p>4） 获取dom中的高和宽<br>element.clientHeight //返回内容的可视高度（不包括边框，边距或滚动条）<br>element.clientWidth    //返回内容的可视宽度（不包括边框，边距或滚动条）</p><p>element.offsetHeight //返回，任何一个元素的高度包括边框和填充，但不是边距<br>element.offsetWidth //返回元素的宽度，包括边框和填充，但不是边距<br>element.offsetLeft    //返回当前元素的相对水平偏移位置的偏移容器<br>element.offsetTop    //返回当前元素的相对垂直偏移位置的偏移容器<br>element.offsetParent    //返回元素的偏移容器</p><p>element.scrollHeight    //返回整个元素的高度（包括带滚动条的隐蔽的地方）<br>element.scrollLeft    //返回当前视图中的实际元素的左边缘和左边缘之间的距离<br>element.scrollTop    //返回当前视图中的实际元素的顶部边缘和顶部边缘之间的距离<br>element.scrollWidth    //返回元素的整个宽度（包括带滚动条的隐蔽的地方）</p><p>nodelist.item(0) == nodelist[0] //返回某个元素基于文档树的索引<br>nodelist.length    //返回节点列表的节点数目</p><h3 id="7-常用dom事件："><a href="#7-常用dom事件：" class="headerlink" title="7.常用dom事件："></a>7.常用dom事件：</h3><p>1) 鼠标事件<br>onlick // 点击<br>ondbclick // 双击<br>onmousedown // 按下<br>onmouseup    // 松开<br>onmouseenter // 移动到元素上时触发<br>onmouseleave // 移出元素时触发<br>onmousemove // 鼠标被移动<br>onmouseover // 鼠标移到某元素之上<br>onmouseout // 鼠标从某元素移开<br>2) 常用 键盘事件<br>onkeydown // 按下<br>onkeyup    // 松开<br>onkeypress // 按下并松开<br>3) 框架/对象事件<br>onload,onresize,onscroll,<br>4) 表单事件<br>onchange // 表单元素的内容改变时触发( <code>&lt;input&gt;, &lt;keygen&gt;, &lt;select&gt;, 和 &lt;textarea&gt;</code>)<br>onfocus // 元素获取焦点时触发<br>onblur // 元素失去焦点时触发<br>oninput //元素获取用户输入时触发<br>onselect // 用户选取文本时触发 ( <code>&lt;input&gt; 和 &lt;textarea&gt;</code>)<br>onsearch //用户向搜索域输入文本时触发 ( <code>&lt;input=&quot;search&quot;&gt;</code>)<br>onreset // 表单重置时触发<br>onsubmit // 表单提交时触发</p><p>5) 剪贴板事件<br>oncopy // 用户拷贝元素内容时触发<br>oncut // 用户剪切元素内容时触发<br>onpaste // 该事件在用户粘贴元素内容时触发<br>6) 拖动事件<br>ondrag    //该事件在元素正在拖动时触发<br>ondragend    //该事件在用户完成元素的拖动时触发<br>ondragenter    //该事件在拖动的元素进入放置目标时触发<br>ondragleave    //该事件在拖动元素离开放置目标时触发<br>ondragover    //该事件在拖动元素在放置目标上时触发<br>ondragstart    //该事件在用户开始拖动元素时触发<br>ondrop    //该事件在拖动元素放置在目标区域时触发</p><p>7) 鼠标/键盘事件对象<br>clientX    //返回当事件被触发时，鼠标指针的水平坐标。<br>clientY    //返回当事件被触发时，鼠标指针的垂直坐标。<br>keyCode    //返回onkeypress事件触发的键的值的字符代码</p><p>8) 动画事件<br>animationend    // 该事件在 CSS 动画结束播放时触发<br>animationiteration    // 该事件在 CSS 动画重复播放时触发<br>animationstart    // 该事件在 CSS 动画开始播放时触发<br>transitionend    // 该事件在 CSS 完成过渡后触发。</p><p>9) 事件对象</p><p>属性：<br>bubbles    // 返回布尔值，指示事件是否是起泡事件类型。    2<br>cancelable    // 返回布尔值，指示事件是否可拥可取消的默认动作。    2<br>currentTarget    // 返回其事件监听器触发该事件的元素。    2<br>eventPhase    // 返回事件传播的当前阶段。    2<br>target    // 返回触发此事件的元素（事件的目标节点）。    2<br>timeStamp    // 返回事件生成的日期和时间。    2<br>type    // 返回当前 Event 对象表示的事件的名称。</p><p>方法：<br>initEvent()    // 初始化新创建的 Event 对象的属性。    2<br>preventDefault()    // 通知浏览器不要执行与事件关联的默认动作。    2<br>stopPropagation()    // 不再派发事件。</p><p>目标事件方法：<br>addEventListener()    // 允许在目标事件中注册监听事件(IE8 = attachEvent())    2<br>dispatchEvent()    // 允许发送事件到监听器上 (IE8 = fireEvent())    2<br>removeEventListener()    // 运行一次注册在事件目标上的监听事件(IE8 = detachEvent())</p><h2 id="二-BOM（浏览器对象模型）"><a href="#二-BOM（浏览器对象模型）" class="headerlink" title="二.BOM（浏览器对象模型）"></a>二.BOM（浏览器对象模型）</h2><h3 id="1-window-对象"><a href="#1-window-对象" class="headerlink" title="1.window 对象"></a>1.window 对象</h3><p>1) window 对象属性</p><p>2) window 对象方法<br>alert()    //显示带有一段消息和一个确认按钮的警告框<br>prompt()    //显示可提示用户输入的对话框<br>setInterval()    //按照指定的周期（以毫秒计）来调用函数或计算表达式<br>setTimeout()    //在指定的毫秒数后调用函数或计算表达式<br>clearInterval() //取消由 setInterval() 设置的 timeout<br>clearTimeout()    //取消由 setTimeout() 方法设置的 timeout<br>moveBy()    //可相对窗口的当前坐标把它移动指定的像素<br>moveTo()    //把窗口的左上角移动到一个指定的坐标<br>resizeBy()    //按照指定的像素调整窗口的大小<br>resizeTo()    //把窗口的大小调整到指定的宽度和高度<br>scrollBy()    //按照指定的像素值来滚动内容<br>scrollTo()    //把内容滚动到指定的坐标<br>close()    //关闭浏览器窗口<br>open()    //打开一个新的浏览器窗口或查找一个已命名的窗口<br>print()    //打印当前窗口的内容</p><h3 id="2-Navigator-对象-有关浏览器的信息。"><a href="#2-Navigator-对象-有关浏览器的信息。" class="headerlink" title="2.Navigator 对象 有关浏览器的信息。"></a>2.Navigator 对象 有关浏览器的信息。</h3><h3 id="3-Screen-对象-有关客户端显示屏幕的信息"><a href="#3-Screen-对象-有关客户端显示屏幕的信息" class="headerlink" title="3.Screen 对象 有关客户端显示屏幕的信息"></a>3.Screen 对象 有关客户端显示屏幕的信息</h3><p>screen.width    //返回屏幕的总宽度<br>screen.height    //返回屏幕的总高度<br>screen.availHeight    //返回屏幕的高度（不包括Windows任务栏）<br>screen.availWidth    //返回屏幕的宽度（不包括Windows任务栏）<br>screen.pixelDepth    //返回屏幕的颜色分辨率（每象素的位数）<br>screen.colorDepth    //返回目标设备或缓冲器上的调色板的比特深度</p><h3 id="4-History-对象"><a href="#4-History-对象" class="headerlink" title="4.History 对象"></a>4.History 对象</h3><p>history.length    //返回在历史列表中的网址数量<br>window.history.back()    //加载 history 列表中的前一个 URL<br>window.history.forward()//加载 history 列表中的下一个 URL<br>window.history.go(-2)    //加载 history 列表中的某个具体页面</p><h3 id="5-Location-对象"><a href="#5-Location-对象" class="headerlink" title="5.Location 对象"></a>5.Location 对象</h3><p>location.href=’<a href="http://www.baidu.com&#39;" target="_blank" rel="noopener">http://www.baidu.com&#39;</a> //返回完整的URL或设置url</p><h3 id="浏览器对象模型BOM小结"><a href="#浏览器对象模型BOM小结" class="headerlink" title="浏览器对象模型BOM小结"></a>浏览器对象模型BOM小结</h3><ol><li><p>概念<br>BOM (Browser Object Model) 浏览器对象模型<br>BOM提供了独立于内容而与浏览器窗口进行交互的对象<br>BOM主要用于管理窗口与窗口之间的通讯，因此其核心对象是window<br>BOM缺乏标准，JavaScript语法的标准化组织是ECMA，DOM的标准化组织是W3C,<br>BOM最初是Netscape浏览器标准的一部分；<br>window对象 是浏览器中的Global对象<br>窗口设置 (打开、大小、位置)<br>间歇调用与超时调用<br>对话框 (提示框、确认框、输入框)<br>location对象 (位置对象包含各种属性和方法)<br>navigator对象 用于提供用户浏览器的相关信息<br>screen对象 包含有关用户屏幕的信息<br>history对象 包含有关用户的访问历史记录打开新窗口<br>window.open(URL,name,specs);<br>URL：打开页面的URL，没有指定URL将打开新的空白窗口<br>name：</p><p>  _blank 新窗口打开，默认<br>  _self 当前页面打开<br>  name 窗口名称 </p></li></ol><p>2.window.close()  </p><p>specs：一个逗号分隔的项目列表。支持以下值：<br>height=pixels 窗口的高度，最小值为100<br>width=pixels 窗口的宽度，最小值为100<br>left=pixels top=pixels ……<br>示例 window.open(‘’,’’,’width=200,height=200’);</p><p>3.关闭窗口  </p><p>window.close() 方法用于关闭浏览器窗口(DOM window对象的方法)<br>close() 方法将关闭有 window 指定的顶层浏览器窗口。<br>某个窗口可以通过调用 self.close() 或只调用 close() 来关闭其自身。<br>只有通过 JavaScript 代码打开的窗口才能够由 JavaScript 代码关闭。<br>这阻止了恶意的脚本终止用户的浏览器。<br>窗口大小<br>调整窗口大小 window.resizeTo(width,height);<br>调整窗口大小 window.resizeBy(width,height);</p><p>4.窗口位置  </p><p>window.screenLeft属性返回窗口相对于屏幕的X坐标<br>window.screenTop属性返回窗口相对于屏幕的Y坐标<br>window.screenX属性返回窗口相对于屏幕的X坐标<br>window.screenY属性返回窗口相对于屏幕的Y坐标</p><p>5.窗口可视区尺寸  </p><p>document.documentElement.clientWidth //offset 获取的是整个文档的高度<br>document.body.clientWidth<br>document.documentElement.clientHeight<br>document.body.clientHeight</p><p>6.窗口垂直滚动条  </p><p>document.body.scrollTop<br>document.documentElement.scrollTop</p><p>7.间歇调用  </p><p>setInterval ( 函数/名称 , 毫秒数 )<br>表示每经过一定的毫秒后，执行一次相应的函数(重复)</p><p>8.超时调用  </p><p>setTimeout ( 函数/名称 , 毫秒数 )<br>表示经过一定的毫秒后，只执行一次相应的函数(不重复)<br>清除计时器：clearInterval( ); clearTimeout( );</p><p>9.提示框   </p><p>alert (“ ”);<br>用户必须先关闭该消息框然后才能继续进行操作<br>确认框 confirm(“ ”);<br>confirm(“需要确认的内容”);<br>选择“确定”返回true 选择“取消”返回false<br>输入框 prompt(“ ”,“ ”);<br>prompt(“对话框中显示的文本”,”默认的输入文本”);<br>单击取消按钮，则返回 null 单击确认按钮，则返回输入的文本<br>location对象 包含有关当前页面的URL信息</p><p>属性：</p><pre><code>host 设置或返回主机名和当前 URL 的端口号。port 设置或返回当前 URL 的端口号。href 设置或返回完整的 URL。 ……</code></pre><p>方法：</p><pre><code>assign() 加载新的文档。reload() 重新加载当前文档。replace() 用新的文档替换当前文档。</code></pre><p>navigator对象部分属性<br>appCodeName 返回浏览器的代码名。<br>appName 返回浏览器的名称。<br>cookieEnabled 返回指明浏览器中是否启用cookie的布尔值。<br>platform 返回运行浏览器的操作系统平台。<br>appVersion 返回浏览器的平台和版本信息。<br>userAgent 返回由客户机发送服务器的user-agent头部的值。<br>用户浏览器识别码<br>var str=window.navigator.userAgent;<br>var str=window.navigator.appVersion;<br>大小写转换<br>str.toLowerLocalCase( ); 转换成小写<br>str.toUpperLocalCase( ); 转换成大写<br>indexOf( )方法<br>可返回某个指定的字符串值在字符串中首次出现的位置<br>语法：string.indexOf(str,index);<br>参数：str——-规定需检索的字符串值<br>index—-规定在字符串中开始检索的位置<br>注意：indexOf( ) 方法对大小写敏感 如果要检索的字符串值没有出现，则该方法返回 -1<br>screen 对象包含有关客户端显示屏幕的信息<br>width 返回显示器屏幕的宽度。<br>height 返回显示器屏幕的高度。<br>availHeight 返回显示屏幕的高度 (除 Windows 任务栏之外)。<br>availWidth 返回显示屏幕的宽度 (除 Windows 任务栏之外)。<br>history 对象包含用户在浏览器中访问过的URL<br>length 返回浏览器历史列表中的 URL 数量。<br>back() 加载 history 列表中的前一个 URL。<br>forward() 加载 history 列表中的下一个 URL。<br>go() 加载 history 列表中的某个具体页面。<br>history.go(-1) 后退一页<br>history.go(1) 前进一页<br><a href="http://www.cnblogs.com/paulirish/" target="_blank" rel="noopener">http://www.cnblogs.com/paulirish/</a> 大家可以去这个博客看一下，里面有操作代码</p><h2 id="三-ECMAscript（javascript核心）"><a href="#三-ECMAscript（javascript核心）" class="headerlink" title="三.ECMAscript（javascript核心）"></a>三.ECMAscript（javascript核心）</h2><h3 id="1-基本概念"><a href="#1-基本概念" class="headerlink" title="1.基本概念"></a>1.基本概念</h3><pre><code>1) 6种数据类型：    a.原始类型:number,string,boolean,null,undefined    b.引用类型:object,function,array 2) 运算符    a.算术运算符: +, -, *, /, %, ++, --    b.赋值运算符: =, +=, -=, *=, /=, %=    c.比较运算符: ==, ===, !=, !==, &gt;, &lt;, &gt;=, &lt;=    d.逻辑运算符: &amp;&amp;, ||, !//&apos;||&apos;如果左边为真，右边不执行，&apos;&amp;&amp;&apos;如果左边为假，右边不执行    e.条件运算符: 三元运算variablename=(condition)?value1:value2 3) 条件语句    a.if...else语句    b.if...else if...else语句    c.switch...case语句    d.try..catch(e){}4) 循环语句    a.for(){}语句    b.while(){}语句    c.do...while()语句    d.array.forEach(callback[, thisObject]) //callback中三个参数1:当前项,2:当前索引，3:数组本身    f.for(x in array) //x代表索引，array代表数组5) break和continue语句</code></pre><h3 id="2-javascript类型转换"><a href="#2-javascript类型转换" class="headerlink" title="2.javascript类型转换"></a>2.javascript类型转换</h3><pre><code>1) 转换函数(显示转换)    a.parseInt(&apos;字符串&apos;,基模式),parseFloat(&apos;字符串&apos;)    //从位置0开始查看每个字符，直到找到第一个非有效的字符为止                                                        //只有对String类型调用这些方法，这两个函数才能正确运行；                                                        //对其他类型返回的都是NaN,parseFloat()必须以十进制形式表示浮点数，无基模式    b.toString(基模式)            //在默认模式中，无论最初采用什么表示法声明数字，                                //Number 类型的 toString() 方法返回的都是数字的十进制表示                                //采用 Number 类型的 toString() 方法的基模式，可以用不同的基输出数字2) 强制转换(显示转换)    a.Number(value)                //把给定的值转换成数字（可以是整数或浮点数） 转换的是整个值，而不是部分值    b.String(value)                //把给定的值转换成字符串                                //对 null 和 undefined 值强制类型转换可以生成字符串而不引发错误：    c.Boolean(value)            //把给定的值转换成Boolean型                                //当要转换的值是至少有一个字符的字符串、非 0 数字或对象时，Boolean() 函数将返回                                 //true。如果该值是空字符串、数字 0、undefined 或 null，它将返回 false。    注意:    Number,String,Boolean,强制类型转换    Number() 当转换一个 对象 时，先调用 valueOf()方法，如果返回对象，则调用 toString()方法    String() 当转换一个 对象 时，先调用 toString()方法，如果返回对象，则调用 valueOf()方法3) 隐式转换    a.转换数值：var a = &apos;123&apos;; a=a++    b.转换成布尔值:var a;if(a){};    c.转换成字符串：var o = function(){}; var s = &apos; &apos;+o;//把函数o转换成字符串</code></pre><h3 id="3-JavaScript-对象中的方法和属性"><a href="#3-JavaScript-对象中的方法和属性" class="headerlink" title="3.JavaScript 对象中的方法和属性"></a>3.JavaScript 对象中的方法和属性</h3><pre><code>1) JavaScript Array对象    a.push(arr)            //向数组的末尾添加一个或更多元素，并返回新的长度    b.pop()                //删除并返回数组的最后一个元素    c.unshift(arr)        //向数组的开头添加一个或更多元素，并返回新的长度    d.shift()            //删除并返回数组的第一个元素    e.indexOf(&apos;数组元素&apos;,&apos;开始位置&apos;)    //搜索数组中的元素，并返回它所在的位置    f.lastindexOf(&apos;数组元素&apos;,&apos;开始位置&apos;)        //返回一个指定的字符串值最后出现的位置，                                                //在一个字符串中的指定位置从后向前搜索    g.slice(star,end)    //选取数组的的一部分，并返回一个新数组    h.splice(开始位置,删除的个数,添加数组元素)     //从数组中添加或删除元素 返回删除组成的数组    i.reverse()            //反转数组的元素顺序    j.sort(function(){})//对数组的元素进行排序    k.toString()        //把数组转换为字符串，并返回结果    l.valueOf()            //返回数组对象的原始值    m.join()            //把数组的所有元素 按指定分隔符 放入一个字符串    n.Array.length=&apos;num&apos;//设置 或 返回数组的长度        2) JavaScript String对象    a.charAt(num)         //返回在指定位置的字符    b.slice(star,end)    //提取字符串的片断，并在新的字符串中返回被提取的部分    c.substr(star,num)  //从起始索引号提取字符串中指定数目的字符    d.substring(star,end)//提取字符串中两个指定的索引号之间的字符 star,end必须是非负数    e.indexOf(&apos;字符串&apos;,&apos;开始位置&apos;)        //返回某个指定的字符串值在字符串中首次出现的位置    f.lastindexOf(&apos;字符串&apos;,&apos;开始位置&apos;)    //从后向前搜索字符串。    g.trim()            //去除字符串两端空格    h.toLowerCase()        //把字符串转换为小写    i.toUpperCase()        //把字符传转换为大写3) JavaScript Math对象    方法    描述    Math.abs(x)                //返回 x 的绝对值    Math.acos(x)            //返回 x 的反余弦值    Math.asin(x)            //返回 x 的反正弦值    Math.atan(x)            //以介于 -PI/2 与 PI/2 弧度之间的数值来返回 x 的反正切值    Math.atan2(y,x)            //返回从 x 轴到点 (x,y) 的角度（介于 -PI/2 与 PI/2 弧度之间）    Math.ceil(x)            //对数进行上舍入    Math.cos(x)                //返回数的余弦    Math.exp(x)                //返回 Ex 的指数    Math.floor(x)            //对 x 进行下舍入    Math.log(x)                //返回数的自然对数（底为e）    Math.max(x,y,z,...,n)    //返回 x,y,z,...,n 中的最高值    Math.min(x,y,z,...,n)    //返回 x,y,z,...,n中的最低值    Math.pow(x,y)            //返回 x 的 y 次幂    Math.random()            //返回 0 ~ 1 之间的随机数    Math.round(x)            //把数四舍五入为最接近的整数    Math.sin(x)                //返回数的正弦    Math.sqrt(x)            //返回数的平方根    Math.tan(x)                //返回角的正切    Math.PI                 //返回圆周率4) JavaScript Date对象    getDate()            //从 Date 对象返回一个月中的某一天 (1 ~ 31)。    getDay()            //从 Date 对象返回一周中的某一天 (0 ~ 6)。    getFullYear()        //从 Date 对象以四位数字返回年份。    getHours()            //返回 Date 对象的小时 (0 ~ 23)。    getMilliseconds()    //返回 Date 对象的毫秒(0 ~ 999)。    getMinutes()        //返回 Date 对象的分钟 (0 ~ 59)。    getMonth()            //从 Date 对象返回月份 (0 ~ 11)。    getSeconds()        //返回 Date 对象的秒数 (0 ~ 59)。    getTime()            //返回 1970 年 1 月 1 日至今的毫秒数。    getTimezoneOffset()    //返回本地时间与格林威治标准时间 (GMT) 的分钟差。    getUTCDate()        //根据世界时从 Date 对象返回月中的一天 (1 ~ 31)。    getUTCDay()            //根据世界时从 Date 对象返回周中的一天 (0 ~ 6)。    getUTCFullYear()    //根据世界时从 Date 对象返回四位数的年份。    getUTCHours()        //根据世界时返回 Date 对象的小时 (0 ~ 23)。    getUTCMilliseconds()//根据世界时返回 Date 对象的毫秒(0 ~ 999)。    getUTCMinutes()        //根据世界时返回 Date 对象的分钟 (0 ~ 59)。    getUTCMonth()        //根据世界时从 Date 对象返回月份 (0 ~ 11)。    getUTCSeconds()        //根据世界时返回 Date 对象的秒钟 (0 ~ 59)。    getYear()            //已废弃。 请使用 getFullYear() 方法代替。    parse()                //返回1970年1月1日午夜到指定日期（字符串）的毫秒数。    setDate()            //设置 Date 对象中月的某一天 (1 ~ 31)。    setFullYear()        //设置 Date 对象中的年份（四位数字）。    setHours()            //设置 Date 对象中的小时 (0 ~ 23)。    setMilliseconds()    //设置 Date 对象中的毫秒 (0 ~ 999)。    setMinutes()        //设置 Date 对象中的分钟 (0 ~ 59)。    setMonth()            //设置 Date 对象中月份 (0 ~ 11)。    setSeconds()        //设置 Date 对象中的秒钟 (0 ~ 59)。    setTime()            //方法以毫秒设置 Date 对象。    setUTCDate()        //根据世界时设置 Date 对象中月份的一天 (1 ~ 31)。    setUTCFullYear()    //根据世界时设置 Date 对象中的年份（四位数字）。    setUTCHours()        //根据世界时设置 Date 对象中的小时 (0 ~ 23)。    setUTCMilliseconds()//根据世界时设置 Date 对象中的毫秒 (0 ~ 999)。    setUTCMinutes()        //根据世界时设置 Date 对象中的分钟 (0 ~ 59)。    setUTCMonth()        //根据世界时设置 Date 对象中的月份 (0 ~ 11)。    setUTCSeconds()        //方法用于根据世界时 (UTC) 设置指定时间的秒字段。    setYear()            //已废弃。请使用 setFullYear() 方法代替。    toDateString()        //把 Date 对象的日期部分转换为字符串。    toGMTString()        //已废弃。请使用 toUTCString() 方法代替。    toISOString()        //使用 ISO 标准返回字符串的日期格式。    toJSON()            //以 JSON 数据格式返回日期字符串。    toLocaleDateString()    //根据本地时间格式，把 Date 对象的日期部分转换为字符串。    toLocaleTimeString()    //根据本地时间格式，把 Date 对象的时间部分转换为字符串。    toLocaleString()    //据本地时间格式，把 Date 对象转换为字符串。    toString()    把 Date //对象转换为字符串。    toTimeString()        //把 Date 对象的时间部分转换为字符串。    toUTCString()        //根据世界时，把 Date 对象转换为字符串。    UTC()                //根据世界时返回 1970 年 1 月 1 日 到指定日期的毫秒数。    valueOf()            //返回 Date 对象的原始值。5) JavaScript Number对象    toFixed(x)             //把数字转换为字符串，结果的小数点后有指定位数的数字    toString(10)        //把数值转换成字符串，使用指定基数    isNaN()6) JavaScript Boolean对象    toString()            //把布尔值转换为字符串，并返回结果7) JavaScript RegExt对象    compile()            //编译正则表达式        exec()                //检索字符串中指定的值。返回找到的值，并确定其位置    test()                //检索字符串中指定的值。返回 true 或 false    search()            //检索与正则表达式相匹配的值    match()                //找到一个或多个正则表达式的匹配    replace()            //替换与正则表达式匹配的子串    split()                //把字符串分割为字符串数组8) JavaScript 全局属性/函数    Infinity            //代表正的无穷大的数值    NaN                    //指示某个值是不是数字值    undefined            //指示未定义的值    decodeURI()            //解码某个编码的 URI    decodeURIComponent()    //解码一个编码的 URI 组件    encodeURI()            //把字符串编码为 URI    encodeURIComponent()    //把字符串编码为 URI 组件    escape()            //对字符串进行编码    eval()                //计算 JavaScript 字符串，并把它作为脚本代码来执行    unescape()            //对由 escape() 编码的字符串进行解码    isFinite()            //检查某个值是否为有穷大的数    isNaN()                //检查某个值是否是数字    Number()            //把对象的值转换为数字    parseFloat()        //解析一个字符串并返回一个浮点数    parseInt()            //解析一个字符串并返回一个整数    String()            //把对象的值转换为字符串4.JavaScript 5个迭代方法       //回调函数接受3个参数 ： 组项的值、该项在数组的位置、数组对象本身    1) every(callback)         //对数组中每一项运行给定的函数,如果该函数对每一项都返回true则返回true    5) some(callback)        //对数组中每一项运行给定的函数,如果该函数对任意一项返回true则返回true    2) filter(callback)        //对数组中每一项运行给定的函数,返回该函数会返回true的项组成的数组    3) forEach(callback)    //对数组中每一项运行给定的函数,这个方法没有返回值    4) map(callback)        //对数组中每一项运行给定的函数,返回每次函数调用的结果组成的数组callback(currentValue, index, array)函数有3个参数:- currentValue当前数组每一项的值- index当前数组的索引- array 当前数组对象- jQuery 中的 each(index, currentValue, array)和$.each()中参数位置不同</code></pre><h2 id="推荐文章"><a href="#推荐文章" class="headerlink" title="推荐文章"></a>推荐文章</h2><ul><li><a href="http://www.cnblogs.com/paulirish/p/dom.html" target="_blank" rel="noopener">JavaScript学习笔记7 之DOM文档对象模型</a> </li><li><a href="http://www.cnblogs.com/paulirish/p/BOM1.html" target="_blank" rel="noopener">笔记8之 BOM-浏览器对象模型</a></li><li><a href="http://www.cnblogs.com/paulirish/p/event1.html" target="_blank" rel="noopener">笔记9之event事件及其他事件</a></li><li><a href="http://www.cnblogs.com/paulirish/p/Math1.html" target="_blank" rel="noopener">笔记10之Math对象</a></li><li><a href="http://www.cnblogs.com/paulirish/p/zhengze.html" target="_blank" rel="noopener">笔记11之正则表达式</a></li><li><a href="http://www.cnblogs.com/paulirish/p/bubbleandpropagation.html" target="_blank" rel="noopener">笔记12事件冒泡和捕获–事件监听–阻止事件传播</a></li><li><a href="http://www.cnblogs.com/paulirish/p/date.html" target="_blank" rel="noopener">笔记13之Date对象</a></li><li><a href="http://www.cnblogs.com/paulirish/default.html?page=1" target="_blank" rel="noopener">笔记14之事件委托</a></li><li><a href="http://www.cnblogs.com/paulirish/p/cookie.html" target="_blank" rel="noopener">笔记15之客户端存储cookie</a></li><li><a href="http://www.runoob.com/jsref/jsref-tutorial.html" target="_blank" rel="noopener">JavaScript 参考手册</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>git 常用笔记</title>
      <link href="/git%E4%BD%BF%E7%94%A8%E7%AC%94%E8%AE%B0/"/>
      <url>/git%E4%BD%BF%E7%94%A8%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<h3 id="git-设置"><a href="#git-设置" class="headerlink" title="git 设置"></a>git 设置</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git config --global user.name <span class="string">"用户名"</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git config --global user.email <span class="string">"用户邮箱"</span></span></span><br></pre></td></tr></table></figure><h3 id="git-ssh创建"><a href="#git-ssh创建" class="headerlink" title="git ssh创建"></a>git ssh创建</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> ssh-keygen -T rsa -C <span class="string">'邮箱地址'</span></span></span><br></pre></td></tr></table></figure><h3 id="git-初始化"><a href="#git-初始化" class="headerlink" title="git 初始化"></a>git 初始化</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git init</span></span><br></pre></td></tr></table></figure><a id="more"></a><h3 id="git-克隆"><a href="#git-克隆" class="headerlink" title="git 克隆"></a>git 克隆</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git <span class="built_in">clone</span></span></span><br></pre></td></tr></table></figure><h3 id="git-添加"><a href="#git-添加" class="headerlink" title="git 添加"></a>git 添加</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git add *</span></span><br></pre></td></tr></table></figure><h3 id="git-删除操作"><a href="#git-删除操作" class="headerlink" title="git 删除操作"></a>git 删除操作</h3><h4 id="1-删除"><a href="#1-删除" class="headerlink" title="1. 删除"></a>1. 删除</h4><blockquote></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git rm file</span></span><br></pre></td></tr></table></figure><h4 id="2-恢复"><a href="#2-恢复" class="headerlink" title="2. 恢复"></a>2. 恢复</h4><blockquote></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git checkout -- file</span></span><br></pre></td></tr></table></figure><h3 id="git-提交"><a href="#git-提交" class="headerlink" title="git 提交"></a>git 提交</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git commit -m <span class="string">"提交的内容"</span></span></span><br></pre></td></tr></table></figure><h3 id="git-远程操作"><a href="#git-远程操作" class="headerlink" title="git 远程操作"></a>git 远程操作</h3><h4 id="1-添加远程仓库"><a href="#1-添加远程仓库" class="headerlink" title="1. 添加远程仓库"></a>1. 添加远程仓库</h4><blockquote></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git remote add origin 远程地址</span></span><br></pre></td></tr></table></figure><h4 id="2-查看远程仓库"><a href="#2-查看远程仓库" class="headerlink" title="2. 查看远程仓库"></a>2. 查看远程仓库</h4><blockquote></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git remote -v</span></span><br></pre></td></tr></table></figure><h4 id="3-删除远程仓库"><a href="#3-删除远程仓库" class="headerlink" title="3. 删除远程仓库"></a>3. 删除远程仓库</h4><blockquote></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git remote rm origin</span></span><br></pre></td></tr></table></figure><h3 id="git-拉取"><a href="#git-拉取" class="headerlink" title="git 拉取"></a>git 拉取</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git pull origin master</span></span><br></pre></td></tr></table></figure><h3 id="git-远程推送"><a href="#git-远程推送" class="headerlink" title="git 远程推送"></a>git 远程推送</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git push -u origin master</span></span><br></pre></td></tr></table></figure><h3 id="git-删除远程"><a href="#git-删除远程" class="headerlink" title="git 删除远程"></a>git 删除远程</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git remote rm origin</span></span><br></pre></td></tr></table></figure><h3 id="git-分支操作"><a href="#git-分支操作" class="headerlink" title="git 分支操作"></a>git 分支操作</h3><h4 id="1-创建分支"><a href="#1-创建分支" class="headerlink" title="1. 创建分支"></a>1. 创建分支</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git checkout -b 分支名字</span></span><br></pre></td></tr></table></figure><h4 id="2-切换回主分支"><a href="#2-切换回主分支" class="headerlink" title="2. 切换回主分支"></a>2. 切换回主分支</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git checkout master</span></span><br></pre></td></tr></table></figure><h4 id="3-删除新建的分支"><a href="#3-删除新建的分支" class="headerlink" title="3. 删除新建的分支"></a>3. 删除新建的分支</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git branch -d 分支名字</span></span><br></pre></td></tr></table></figure><h4 id="4-推送分支到远程仓库"><a href="#4-推送分支到远程仓库" class="headerlink" title="4. 推送分支到远程仓库"></a>4. 推送分支到远程仓库</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git push origin 分支名字</span></span><br></pre></td></tr></table></figure><h3 id="git-分支更新与合并"><a href="#git-分支更新与合并" class="headerlink" title="git 分支更新与合并"></a>git 分支更新与合并</h3><h4 id="1-更新并合并"><a href="#1-更新并合并" class="headerlink" title="1. 更新并合并"></a>1. 更新并合并</h4><blockquote></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git pull origin 分支名称</span></span><br></pre></td></tr></table></figure><h4 id="2-合并其它分支到当前分支"><a href="#2-合并其它分支到当前分支" class="headerlink" title="2. 合并其它分支到当前分支"></a>2. 合并其它分支到当前分支</h4><blockquote></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git merge 其它分支名称</span></span><br></pre></td></tr></table></figure><h4 id="3-在合并改动之前查看差异"><a href="#3-在合并改动之前查看差异" class="headerlink" title="3. 在合并改动之前查看差异"></a>3. 在合并改动之前查看差异</h4><blockquote></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git diff 分支1 分支2</span></span><br></pre></td></tr></table></figure><h3 id="git-log查看仓库历史"><a href="#git-log查看仓库历史" class="headerlink" title="git log查看仓库历史"></a>git log查看仓库历史</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git <span class="built_in">log</span></span></span><br></pre></td></tr></table></figure><blockquote><p><code>&lt;span style=&quot;color:red&quot;&gt;*推荐：*&lt;/span&gt;</code> </p></blockquote><ul><li>【廖雪峰Git教程】: <a href="https://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000" target="_blank" rel="noopener">https://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000</a></li><li>【Git教程】:<a href="http://iissnan.com/progit/" target="_blank" rel="noopener">http://iissnan.com/progit/</a></li><li>【Git简明指南】:<a href="http://rogerdudler.github.io/git-guide/index.zh.html" target="_blank" rel="noopener">http://rogerdudler.github.io/git-guide/index.zh.html</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> git </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/hello-world/"/>
      <url>/hello-world/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p><a id="more"></a><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p><h3 id="Deploy-to-remote-sites-1"><a href="#Deploy-to-remote-sites-1" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git pull &amp;&amp; git add * &amp;&amp; git commit -m <span class="string">"hexo"</span> &amp;&amp; git push &amp;&amp; hexo clean &amp;&amp; hexo d -g</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
